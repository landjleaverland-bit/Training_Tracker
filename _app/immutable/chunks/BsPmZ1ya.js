import{f as S,a as n,c as Kt,t as yt}from"./Daoe3kko.js";import{C as as,X as ss,a$ as rs,a5 as is,a8 as ls,k as pt,b0 as os,az as Ja,b1 as ns,aj as cs,n as wa,aa as us,p as Bt,c as s,r as a,s as r,g as e,t as W,a as It,f as Ft,aM as bt,b2 as Ga,e as u,A as He,o as ma,d as t,j as ra,as as Na,b3 as fa,q as ht,b4 as vs,b5 as ds,b6 as gs,b7 as ps,b8 as ms,aL as fs}from"./BD2jSOmL.js";import{a as _s,d as Zt,s as j,e as Dt}from"./Clw8EWiG.js";import{i as V}from"./CKIECWdo.js";import{e as ue,k as ve,r as le,j as st,v as hs}from"./cSC8pg5z.js";import{s as Ct}from"./DU6y904K.js";import{a as de,n as Fa,o as Ba,b as lt,p as Ia,u as bs,q as ys,r as ws,t as Ss,s as Oa,v as ks,w as Ts,h as xs,x as Cs,y as Ls,z as Rs,A as Ps,B as Ns,C as Ms}from"./xPE-J_WT.js";import{p as we}from"./9VQmhtgh.js";import{i as Wa}from"./Dp_ruqZb.js";import{b as Ds}from"./BvYzGTTG.js";import{_ as qs}from"./PPVm8Dsz.js";const Os=()=>performance.now(),Xt={tick:R=>requestAnimationFrame(R),now:()=>Os(),tasks:new Set};function Ya(){const R=Xt.now();Xt.tasks.forEach(i=>{i.c(R)||(Xt.tasks.delete(i),i.f())}),Xt.tasks.size!==0&&Xt.tick(Ya)}function Es(R){let i;return Xt.tasks.size===0&&Xt.tick(Ya),{promise:new Promise(l=>{Xt.tasks.add(i={c:R,f:l})}),abort(){Xt.tasks.delete(i)}}}function La(R,i){Ja(()=>{R.dispatchEvent(new CustomEvent(i))})}function As(R){if(R==="float")return"cssFloat";if(R==="offset")return"cssOffset";if(R.startsWith("--"))return R;const i=R.split("-");return i.length===1?i[0]:i[0]+i.slice(1).map(l=>l[0].toUpperCase()+l.slice(1)).join("")}function Ua(R){const i={},l=R.split(";");for(const y of l){const[O,M]=y.split(":");if(!O||M===void 0)break;const D=As(O.trim());i[D]=M.trim()}return i}const Gs=R=>R;function na(R,i,l,y){var O=(R&os)!==0,M="both",D,E=i.inert,N=i.style.overflow,P,d;function v(){return Ja(()=>D??=l()(i,y?.()??{},{direction:M}))}var w={is_global:O,in(){i.inert=E,La(i,"introstart"),P=Ea(i,v(),d,1,()=>{La(i,"introend"),P?.abort(),P=D=void 0,i.style.overflow=N})},out(h){i.inert=!0,La(i,"outrostart"),d=Ea(i,v(),P,0,()=>{La(i,"outroend"),h?.()})},stop:()=>{P?.abort(),d?.abort()}},L=as;if((L.nodes.t??=[]).push(w),_s){var C=O;if(!C){for(var T=L.parent;T&&(T.f&ss)!==0;)for(;(T=T.parent)&&(T.f&rs)===0;);C=!T||(T.f&is)!==0}C&&ls(()=>{pt(()=>w.in())})}}function Ea(R,i,l,y,O){var M=y===1;if(ns(i)){var D,E=!1;return cs(()=>{if(!E){var h=i({direction:M?"in":"out"});D=Ea(R,h,l,y,O)}}),{abort:()=>{E=!0,D?.abort()},deactivate:()=>D.deactivate(),reset:()=>D.reset(),t:()=>D.t()}}if(l?.deactivate(),!i?.duration)return O(),{abort:wa,deactivate:wa,reset:wa,t:()=>y};const{delay:N=0,css:P,tick:d,easing:v=Gs}=i;var w=[];if(M&&l===void 0&&(d&&d(0,1),P)){var L=Ua(P(0,1));w.push(L,L)}var C=()=>1-y,T=R.animate(w,{duration:N,fill:"forwards"});return T.onfinish=()=>{T.cancel();var h=l?.t()??1-y;l?.abort();var p=y-h,B=i.duration*Math.abs(p),A=[];if(B>0){var Q=!1;if(P)for(var Z=Math.ceil(B/16.666666666666668),I=0;I<=Z;I+=1){var H=h+p*v(I/Z),U=Ua(P(H,1-H));A.push(U),Q||=U.overflow==="hidden"}Q&&(R.style.overflow="hidden"),C=()=>{var se=T.currentTime;return h+p*v(se/B)},d&&Es(()=>{if(T.playState!=="running")return!1;var se=C();return d(se,1-se),!0})}T=R.animate(A,{duration:B,fill:"forwards"}),T.onfinish=()=>{C=()=>y,d?.(y,1-y),O()}},{abort:()=>{T&&(T.cancel(),T.effect=null,T.onfinish=wa)},deactivate:()=>{O=wa},reset:()=>{y===0&&d?.(1,0)},t:()=>C()}}function Va(R){return function(...i){var l=i[0];return l.stopPropagation(),R?.apply(this,i)}}function Pa(R,i){var l=R.$$events?.[i.type],y=us(l)?l.slice():l==null?[]:[l];for(var O of y)O.call(this,i)}var Fs=S('<span class="placeholder svelte-1g8x5ph"> </span>'),Bs=S('<span class="chip-display"> </span>'),Is=S('<button type="button"> </button>'),Ws=S('<div class="multi-select-container svelte-1g8x5ph"><div class="chips svelte-1g8x5ph"><!></div> <div class="options-grid svelte-1g8x5ph"></div></div>');function oa(R,i){Bt(i,!0);let l=we(i,"selected",19,()=>[]),y=we(i,"placeholder",3,"Select options...");function O(v){let w=[...l()];v==="None"?w.includes("None")?w=[]:w=["None"]:(w=w.filter(L=>L!=="None"),w.includes(v)?w=w.filter(L=>L!==v):w.push(v)),i.onChange(w)}var M=Ws(),D=s(M),E=s(D);{var N=v=>{var w=Fs(),L=s(w,!0);a(w),W(()=>j(L,y())),n(v,w)},P=v=>{var w=Kt(),L=Ft(w);ue(L,17,l,ve,(C,T)=>{var h=Bs(),p=s(h,!0);a(h),W(()=>j(p,e(T))),n(C,h)}),n(v,w)};V(E,v=>{l().length===0?v(N):v(P,!1)})}a(D);var d=r(D,2);ue(d,21,()=>i.options,ve,(v,w)=>{var L=Is();L.__click=()=>O(e(w));var C=s(L,!0);a(L),W(T=>{Ct(L,1,`option-chip ${T??""}`,"svelte-1g8x5ph"),j(C,e(w))},[()=>l().includes(e(w))?"selected":""]),n(v,L)}),a(d),a(M),n(R,M),It()}Zt(["click"]);const Hs=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","6A+","V4","6B","6B+","V5","6C","6C+","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"],Ha=Hs.map(R=>R.toLowerCase());var zs=S('<span class="grade-error svelte-1km774a">Invalid</span>'),js=S('<div class="grade-input-container svelte-1km774a"><input type="text"/> <!></div>');function Xa(R,i){Bt(i,!0);let l=we(i,"value",15),y=we(i,"placeholder",3,"V3");function O(v){return v.trim()?Ha.includes(v.trim().toLowerCase()):!0}let M=bt(()=>O(l()));var D=js(),E=s(D);le(E);let N;var P=r(E,2);{var d=v=>{var w=zs();n(v,w)};V(P,v=>{e(M)||v(d)})}a(D),W(()=>{st(E,"placeholder",y()),N=Ct(E,1,"grade-input svelte-1km774a",null,N,{invalid:!e(M)})}),de(E,l),n(R,D),It()}var Us=S('<button type="button"> </button>'),Vs=S('<div class="load-row svelte-oe84ev"><label class="load-label svelte-oe84ev"> </label> <div class="button-group svelte-oe84ev" role="group"></div></div>');function Re(R,i){Bt(i,!0);let l=we(i,"value",15);we(i,"min",3,1);let y=we(i,"max",3,5);function O(P){l(P)}var M=Vs(),D=s(M),E=s(D,!0);a(D);var N=r(D,2);ue(N,21,()=>Array.from({length:y()},(P,d)=>d+1),ve,(P,d)=>{var v=Us();let w;v.__click=()=>O(e(d));var L=s(v,!0);a(v),W(()=>{w=Ct(v,1,"scale-btn svelte-oe84ev",null,w,{active:l()===e(d)}),st(v,"aria-pressed",l()===e(d)),j(L,e(d))}),n(P,v)}),a(N),a(M),W(()=>{st(D,"for",i.id),j(E,i.label),st(N,"aria-label",`${i.label??""} scale selector`)}),n(R,M),It()}Zt(["click"]);var Ks=S('<div class="notes-group svelte-1kz8zai"><label for="session-notes" class="svelte-1kz8zai"> </label> <textarea id="session-notes" class="session-notes-area svelte-1kz8zai"></textarea></div>');function Sa(R,i){Bt(i,!0);let l=we(i,"value",15),y=we(i,"label",3,"Session Notes"),O=we(i,"placeholder",3,"How did the session feel? Key takeaways..."),M=we(i,"rows",3,3);var D=Ks(),E=s(D),N=s(E,!0);a(E);var P=r(E,2);Ga(P),a(D),W(()=>{j(N,y()),st(P,"placeholder",O()),st(P,"rows",M())}),de(P,l),n(R,D),It()}var Qs=S('<div class="input-with-action svelte-1lf3qka"><input type="text" id="location-manual" placeholder="Enter custom location..." class="flat-left svelte-1lf3qka"/> <button type="button" class="action-btn flat-right svelte-1lf3qka" title="Back to list">✕</button></div>'),Js=S("<option> </option>"),Ys=S('<select id="location" class="svelte-1lf3qka"><option disabled>Select location...</option><!></select>'),Xs=S("<option> </option>"),Zs=S("<option> </option>"),$s=S('<th class="svelte-1lf3qka">Sport?</th>'),er=S('<td class="center svelte-1lf3qka"><input type="checkbox" class="svelte-1lf3qka"/></td>'),tr=S("<option> </option>"),ar=S("<option> </option>"),sr=S("<option> </option>"),rr=S('<button type="button" class="remove-btn svelte-1lf3qka">✕</button>'),ir=S('<tr class="svelte-1lf3qka"><!><td class="svelte-1lf3qka"><input type="text" placeholder="Route name..." class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><!></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><input type="number" min="1" class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td><textarea placeholder="Notes..." class="svelte-1lf3qka"></textarea></td><td class="center svelte-1lf3qka"><!></td></tr>'),lr=S("<div> </div>"),or=S('<button type="button" class="cancel-btn-large svelte-1lf3qka">Cancel</button>'),nr=S('<div class="form-content svelte-1lf3qka"><div class="form-row svelte-1lf3qka"><div class="form-group svelte-1lf3qka"><label for="date" class="svelte-1lf3qka">Date</label> <div class="date-time-row svelte-1lf3qka"><input type="date" id="date" class="svelte-1lf3qka"/> <input type="time" id="time" class="svelte-1lf3qka"/></div></div> <div class="form-group svelte-1lf3qka"><label for="location" class="svelte-1lf3qka">Location</label> <!></div></div> <div class="form-group svelte-1lf3qka"><label for="climbing-type" class="svelte-1lf3qka">Climbing Type</label> <select id="climbing-type" class="svelte-1lf3qka"><option disabled>Select type...</option><!></select></div> <div class="training-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Training Details</h4> <div class="training-grid svelte-1lf3qka"><div class="training-item svelte-1lf3qka"><label for="training-type" class="svelte-1lf3qka">Training Type</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="difficulty" class="svelte-1lf3qka">Difficulty</label> <select id="difficulty"></select></div> <div class="training-item svelte-1lf3qka"><label for="category" class="svelte-1lf3qka">Category</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="energy-system" class="svelte-1lf3qka">Energy System</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="wall-angle" class="svelte-1lf3qka">Wall</label> <!></div></div></div> <div class="climbs-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Climbs</h4> <div class="table-container svelte-1lf3qka"><table class="climbs-table svelte-1lf3qka"><thead><tr><!><th class="svelte-1lf3qka">Name</th><th class="svelte-1lf3qka">Grade</th><th class="svelte-1lf3qka">Attempt</th><th class="svelte-1lf3qka">#</th><th class="svelte-1lf3qka">Wall Angle</th><th class="svelte-1lf3qka">Technique Focus</th><th class="svelte-1lf3qka">Notes</th><th class="svelte-1lf3qka"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-1lf3qka">+ Add Climb</button></div> <div class="load-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Load Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div></div> <h4 class="mt-4 svelte-1lf3qka">Grip Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div></div></div> <div class="notes-section"><!></div> <div class="submit-section svelte-1lf3qka"><!> <div class="action-buttons svelte-1lf3qka"><!> <button type="button" class="submit-btn svelte-1lf3qka"><!></button></div></div></div>');function Ii(R,i){Bt(i,!0);const l=["Rockstar Unit 3","Rockstar Unit 5","Rockstar Techno","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","TCA Mothership","TCA Church","TCA Arc","Bloc","270 Climbing","Other"],y=["Bouldering","Sport","Mixed"],O=["Onsight","Flash","Redpoint","Repeat","Dogged","DNF"],M=["None","Projecting","Onsighting","Campusing","Repeaters","Comp Sim"],D=["None","Easy","Medium","Hard","Max","Limit+"],E=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Endurance","Coordination","Slab Technique","Overhang Technique"],N=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],P=["None","Trusting feet","Double-clutch","Standing on volumes","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Pogo","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"],d=["None","Overhang","Vertical","Slab","Roof"],v=["None","Moon Board","Kilter Board","Tension Board","Beast","Circuit Board","Boulder wall","Lead wall","Comp wall","Auto belays"];let w=u(null),L=bt(()=>!!i.initialData),C=u(He(new Date().toISOString().split("T")[0])),T=u(He(new Date().toTimeString().split(" ")[0].slice(0,5))),h=u(""),p=u(""),B=u(He(["None"])),A=u("None"),Q=u(He(["None"])),Z=u(He(["None"])),I=u(He(["None"])),H=u(3),U=u(3),se=u(3),re=u(3),oe=u(3),ee=u(3),ie=u(3),z=u(3),$=u(He([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}])),te=u(""),ge=u(!1);const ze="indoor_climb_draft";let Te=u(!1);ma(()=>{if(i.initialData)t(C,i.initialData.date,!0),t(T,i.initialData.time||"12:00",!0),l.includes(i.initialData.location)?(t(h,i.initialData.location,!0),t(ge,!1)):i.initialData.customLocation?(t(h,i.initialData.customLocation,!0),t(ge,!0)):(t(h,i.initialData.location,!0),t(ge,!0)),t(p,i.initialData.climbingType,!0),t(B,i.initialData.trainingTypes||["None"],!0),t(A,i.initialData.difficulty||"None",!0),t(Q,i.initialData.categories||["None"],!0),t(Z,i.initialData.energySystems||["None"],!0),t(I,i.initialData.wallAngles||["None"],!0),t(H,i.initialData.fingerLoad||3,!0),t(U,i.initialData.shoulderLoad||3,!0),t(se,i.initialData.forearmLoad||3,!0),t(re,i.initialData.openGrip||3,!0),t(oe,i.initialData.crimpGrip||3,!0),t(ee,i.initialData.pinchGrip||3,!0),t(ie,i.initialData.sloperGrip||3,!0),t(z,i.initialData.jugGrip||3,!0),i.initialData.climbs&&i.initialData.climbs.length>0?t($,JSON.parse(JSON.stringify(i.initialData.climbs)),!0):t($,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0),t(te,i.initialData.notes||"",!0);else{const k=localStorage.getItem(ze);if(k)try{const g=JSON.parse(k);g.location&&t(h,g.location,!0),g.time&&t(T,g.time,!0),g.isOtherLocation&&t(ge,g.isOtherLocation,!0),g.climbingType&&t(p,g.climbingType,!0),g.trainingTypes&&t(B,g.trainingTypes,!0),g.difficulty&&t(A,g.difficulty,!0),g.categories&&t(Q,g.categories,!0),g.energySystems&&t(Z,g.energySystems,!0),g.wallAngles&&t(I,g.wallAngles,!0),g.fingerLoad&&t(H,g.fingerLoad,!0),g.shoulderLoad&&t(U,g.shoulderLoad,!0),g.forearmLoad&&t(se,g.forearmLoad,!0),g.openGrip&&t(re,g.openGrip,!0),g.crimpGrip&&t(oe,g.crimpGrip,!0),g.pinchGrip&&t(ee,g.pinchGrip,!0),g.sloperGrip&&t(ie,g.sloperGrip,!0),g.jugGrip&&t(z,g.jugGrip,!0),g.climbs&&t($,g.climbs,!0),g.notes&&t(te,g.notes,!0)}catch(g){console.error("Failed to restore draft",g)}}t(Te,!0)}),ra(()=>{if(!e(Te)||e(L))return;const k={date:e(C),time:e(T),location:e(h),isOtherLocation:e(ge),climbingType:e(p),trainingTypes:e(B),difficulty:e(A),categories:e(Q),energySystems:e(Z),fingerLoad:e(H),shoulderLoad:e(U),forearmLoad:e(se),openGrip:e(re),crimpGrip:e(oe),pinchGrip:e(ee),sloperGrip:e(ie),jugGrip:e(z),climbs:e($),notes:e(te)};localStorage.setItem(ze,JSON.stringify(k))});function $e(){e(h)==="Other"&&(t(ge,!0),t(h,""))}function Lt(){t(ge,!1),t(h,"")}function wt(){t($,[...e($),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0)}function mt(k){t($,e($).filter((g,ae)=>ae!==k),!0)}function St(k,g){e($)[k].attemptType=g,(g==="Flash"||g==="Onsight")&&(e($)[k].attemptsNum=1)}function ft(k){t(w,k,!0)}function kt(){t(w,null)}let _t=bt(()=>e(p)==="Mixed");function Qe(k){return e(p)==="Sport"?!0:e(p)==="Bouldering"?!1:k.isSport}function et(k){return k.trim()?Ha.includes(k.trim().toLowerCase()):!0}let Ee=u("idle"),tt=u("");function Be(){return e(h)?e(p)?e($).filter(g=>g.grade.trim()&&!et(g.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a location"}async function F(){const k=Be();if(k){t(Ee,"error"),t(tt,k,!0);return}t(Ee,"saving");try{const g=e($).map(Xe=>({...Xe,isSport:Qe(Xe)})),ae={date:e(C),time:e(T),location:e(h),customLocation:e(ge)?e(h):void 0,climbingType:e(p),trainingTypes:e(B),difficulty:e(A),categories:e(Q),energySystems:e(Z),wallAngles:e(I),fingerLoad:e(H),shoulderLoad:e(U),forearmLoad:e(se),openGrip:e(re),crimpGrip:e(oe),pinchGrip:e(ee),sloperGrip:e(ie),jugGrip:e(z),climbs:g,notes:e(te)};let Ke;e(L)?Ke=await bs(i.initialData.id,ae):Ke=await ys(ae),Ke.ok?(t(Ee,"success"),t(tt,e(L)?"Session updated!":"Session saved!",!0),e(L)||localStorage.removeItem(ze),i.onSaved&&setTimeout(()=>{i.onSaved()},500)):(t(Ee,"error"),t(tt,"Failed to save: "+(Ke.error||"Unknown error"))),e(L)||(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{J()},2e3))}catch(g){t(Ee,"error"),t(tt,"Failed to save session"),console.error("Save error:",g)}}function J(){t(C,new Date().toISOString().split("T")[0],!0),t(T,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(h,""),t(ge,!1),t(p,""),t(B,["None"],!0),t(A,"None"),t(Q,["None"],!0),t(Z,["None"],!0),t(I,["None"],!0),t(H,3),t(U,3),t(se,3),t(re,3),t(oe,3),t(ee,3),t(ie,3),t(z,3),t($,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0),t(te,""),t(Ee,"idle"),t(tt,"")}var xe=nr(),Je=s(xe),Pe=s(Je),Ae=r(s(Pe),2),ot=s(Ae);le(ot);var Tt=r(ot,2);le(Tt),a(Ae),a(Pe);var Rt=r(Pe,2),qt=r(s(Rt),2);{var Pt=k=>{var g=Qs(),ae=s(g);le(ae);var Ke=r(ae,2);Ke.__click=Lt,a(g),de(ae,()=>e(h),Xe=>t(h,Xe)),n(k,g)},Wt=k=>{var g=Ys();g.__change=$e;var ae=s(g);ae.value=ae.__value="";var Ke=r(ae);ue(Ke,17,()=>l,ve,(Xe,Et)=>{var f=Js(),c=s(f,!0);a(f);var X={};W(()=>{j(c,e(Et)),X!==(X=e(Et))&&(f.value=(f.__value=e(Et))??"")}),n(Xe,f)}),a(g),lt(g,()=>e(h),Xe=>t(h,Xe)),n(k,g)};V(qt,k=>{e(ge)?k(Pt):k(Wt,!1)})}a(Rt),a(Je);var xt=r(Je,2),nt=r(s(xt),2),me=s(nt);me.value=me.__value="";var Ne=r(me);ue(Ne,17,()=>y,ve,(k,g)=>{var ae=Xs(),Ke=s(ae,!0);a(ae);var Xe={};W(()=>{j(Ke,e(g)),Xe!==(Xe=e(g))&&(ae.value=(ae.__value=e(g))??"")}),n(k,ae)}),a(nt),a(xt);var je=r(xt,2),x=r(s(je),2),G=s(x),o=r(s(G),2);oa(o,{get options(){return M},get selected(){return e(B)},placeholder:"Select types...",onChange:k=>t(B,k,!0)}),a(G);var m=r(G,2),q=r(s(m),2);ue(q,21,()=>D,ve,(k,g)=>{var ae=Zs(),Ke=s(ae,!0);a(ae);var Xe={};W(()=>{j(Ke,e(g)),Xe!==(Xe=e(g))&&(ae.value=(ae.__value=e(g))??"")}),n(k,ae)}),a(q),a(m);var K=r(m,2),_=r(s(K),2);oa(_,{get options(){return E},get selected(){return e(Q)},placeholder:"Select categories...",onChange:k=>t(Q,k,!0)}),a(K);var b=r(K,2),Y=r(s(b),2);oa(Y,{get options(){return N},get selected(){return e(Z)},placeholder:"Select systems...",onChange:k=>t(Z,k,!0)}),a(b);var Ie=r(b,2),Ge=r(s(Ie),2);oa(Ge,{get options(){return v},get selected(){return e(I)},placeholder:"Select walls...",onChange:k=>t(I,k,!0)}),a(Ie),a(x),a(je);var Se=r(je,2),Ce=r(s(Se),2),ne=s(Ce),be=s(ne),ce=s(be),ye=s(ce);{var rt=k=>{var g=$s();n(k,g)};V(ye,k=>{e(_t)&&k(rt)})}Na(8),a(ce),a(be);var We=r(be);ue(We,21,()=>e($),ve,(k,g,ae)=>{var Ke=ir(),Xe=s(Ke);{var Et=pe=>{var Ze=er(),Oe=s(Ze);le(Oe),a(Ze),Ia(Oe,()=>e(g).isSport,Qt=>e(g).isSport=Qt),n(pe,Ze)};V(Xe,pe=>{e(_t)&&pe(Et)})}var f=r(Xe),c=s(f);le(c),a(f);var X=r(f),Fe=s(X);Xa(Fe,{get value(){return e(g).grade},set value(pe){e(g).grade=pe}}),a(X);var qe=r(X),dt=s(qe);dt.__change=pe=>St(ae,pe.target.value),ue(dt,21,()=>O,ve,(pe,Ze)=>{var Oe=tr(),Qt=s(Oe,!0);a(Oe);var Jt={};W(()=>{j(Qt,e(Ze)),Jt!==(Jt=e(Ze))&&(Oe.value=(Oe.__value=e(Ze))??"")}),n(pe,Oe)}),a(dt);var Ut;Fa(dt),a(qe);var At=r(qe),Mt=s(At);le(Mt),a(At);var Vt=r(At),Yt=s(Vt);ue(Yt,21,()=>d.filter(pe=>pe!=="None"),ve,(pe,Ze)=>{var Oe=ar(),Qt=s(Oe,!0);a(Oe);var Jt={};W(()=>{j(Qt,e(Ze)),Jt!==(Jt=e(Ze))&&(Oe.value=(Oe.__value=e(Ze))??"")}),n(pe,Oe)}),a(Yt),a(Vt);var Gt=r(Vt),da=s(Gt);ue(da,21,()=>P,ve,(pe,Ze)=>{var Oe=sr(),Qt=s(Oe,!0);a(Oe);var Jt={};W(()=>{j(Qt,e(Ze)),Jt!==(Jt=e(Ze))&&(Oe.value=(Oe.__value=e(Ze))??"")}),n(pe,Oe)}),a(da),a(Gt);var ta=r(Gt);let ga;var aa=s(ta);Ga(aa),a(ta);var pa=r(ta),ba=s(pa);{var ya=pe=>{var Ze=rr();Ze.__click=()=>mt(ae),n(pe,Ze)};V(ba,pe=>{e($).length>1&&pe(ya)})}a(pa),a(Ke),W(()=>{Ut!==(Ut=e(g).attemptType)&&(dt.value=(dt.__value=e(g).attemptType)??"",Ba(dt,e(g).attemptType)),Mt.disabled=e(g).attemptType==="Flash"||e(g).attemptType==="Onsight",ga=Ct(ta,1,"notes-cell svelte-1lf3qka",null,ga,{expanded:e(w)===ae})}),de(c,()=>e(g).name,pe=>e(g).name=pe),de(Mt,()=>e(g).attemptsNum,pe=>e(g).attemptsNum=pe),lt(Yt,()=>e(g).wall,pe=>e(g).wall=pe),lt(da,()=>e(g).techniqueFocus,pe=>e(g).techniqueFocus=pe),Dt("focus",aa,()=>ft(ae)),Dt("blur",aa,kt),de(aa,()=>e(g).notes,pe=>e(g).notes=pe),n(k,Ke)}),a(We),a(ne),a(Ce);var Ue=r(Ce,2);Ue.__click=wt,a(Se);var Le=r(Se,2),fe=r(s(Le),2),_e=s(fe),he=s(_e);Re(he,{id:"finger-load",label:"Finger",get value(){return e(H)},set value(k){t(H,k,!0)}}),a(_e);var De=r(_e,2),Nt=s(De);Re(Nt,{id:"shoulder-load",label:"Shoulder",get value(){return e(U)},set value(k){t(U,k,!0)}}),a(De);var ct=r(De,2),it=s(ct);Re(it,{id:"forearm-load",label:"Forearm",get value(){return e(se)},set value(k){t(se,k,!0)}}),a(ct),a(fe);var Me=r(fe,4),ut=s(Me),vt=s(ut);Re(vt,{id:"open-grip",label:"Open",get value(){return e(re)},set value(k){t(re,k,!0)}}),a(ut);var zt=r(ut,2),Ve=s(zt);Re(Ve,{id:"crimp-grip",label:"Crimp",get value(){return e(oe)},set value(k){t(oe,k,!0)}}),a(zt);var Ye=r(zt,2),Ot=s(Ye);Re(Ot,{id:"pinch-grip",label:"Pinch",get value(){return e(ee)},set value(k){t(ee,k,!0)}}),a(Ye);var jt=r(Ye,2),$t=s(jt);Re($t,{id:"sloper-grip",label:"Sloper",get value(){return e(ie)},set value(k){t(ie,k,!0)}}),a(jt);var ia=r(jt,2),Ht=s(ia);Re(Ht,{id:"jug-grip",label:"Jug",get value(){return e(z)},set value(k){t(z,k,!0)}}),a(ia),a(Me),a(Le);var ea=r(Le,2),_a=s(ea);Sa(_a,{get value(){return e(te)},set value(k){t(te,k,!0)}}),a(ea);var ka=r(ea,2),ca=s(ka);{var Ma=k=>{var g=lr();let ae;var Ke=s(g,!0);a(g),W(()=>{ae=Ct(g,1,"save-message svelte-1lf3qka",null,ae,{success:e(Ee)==="success",error:e(Ee)==="error"}),j(Ke,e(tt))}),n(k,g)};V(ca,k=>{e(tt)&&k(Ma)})}var ua=r(ca,2),Ta=s(ua);{var xa=k=>{var g=or();g.__click=function(...ae){i.onCancel?.apply(this,ae)},W(()=>g.disabled=e(Ee)==="saving"),n(k,g)};V(Ta,k=>{e(L)&&k(xa)})}var va=r(Ta,2);va.__click=F;var ha=s(va);{var Da=k=>{var g=yt();W(()=>j(g,e(L)?"Updating...":"Saving...")),n(k,g)},Ca=k=>{var g=Kt(),ae=Ft(g);{var Ke=Et=>{var f=yt();W(()=>j(f,`✓ ${e(L)?"Updated!":"Saved!"}`)),n(Et,f)},Xe=Et=>{var f=yt();W(()=>j(f,e(L)?"Update Session":"Save Session")),n(Et,f)};V(ae,Et=>{e(Ee)==="success"?Et(Ke):Et(Xe,!1)},!0)}n(k,g)};V(ha,k=>{e(Ee)==="saving"?k(Da):k(Ca,!1)})}a(va),a(ua),a(ka),a(xe),W(()=>va.disabled=e(Ee)==="saving"),de(ot,()=>e(C),k=>t(C,k)),de(Tt,()=>e(T),k=>t(T,k)),lt(nt,()=>e(p),k=>t(p,k)),lt(q,()=>e(A),k=>t(A,k)),n(R,xe),It()}Zt(["click","change"]);const Aa={Portland:{"Blacknor Far North":["Far North (Pit Prop Crag - North Wing)","Far North (Pit Prop Crag - South Wing)","Sunstone Wall","Sandcastle Wall","Hidden Wall"],"Blacknor North":["Diamond Slab","The Ledge","Sharpy's Wall","Reptile Smile Area","Wolfgang Forever Area","Captain Klutz Area","Death of Cool Area","Seattle Be The Day Area","Blacknor Heights (Blacknor Quarry Bouldering)","Blacknor Fort Quarry (Sport)","Cliff Top Way Down"],"Blacknor Central":["The Veranda","Medusa Wall","The Battlement","Wave Wall","Mirror Wall"],"Blacknor South":["Fallen Slab","Infidel Slab","Englands Dreaming Area","Sacred Angel Area","The Reach","Shit Happens Wall"],"Blacknor Far South":["Deadman's Bay","The White Hole","Wall of Lament"],"Battleship Edge":["Northern Sector","Main Edge","Battleship Block"],"Battleship Back Cliff":["Zinc Oxide Mountain","The Main Cliff","Sleepy Hollow"],"Wallsend North":["Sweet Smell of Success Wall","The Coastguard Wall (Northern section)"],"Wallsend South":["The Upper Tier","The Lower Tier","Stalker's Zone"],"Coastguard North":["Top Tier","Main Cliff (Beeston Bump)","The Grooves"],"Coastguard South":["The White Wall","Tennessee Wall","The Veranda (South)"],Godnor:["Godnor North","Godnor Far South","The Godnor Gate Area"],Neddyfields:["Neddyfields Main Wall","The Flowstone Wall","Neddyfields Bouldering"],"Cheyne Cliff":["Red Wall","Inception Wall","Road Rage Wall","The Nook","The Block"],"The Cuttings":["The Cuttings (Main Cliff)","The Pulpit","The Bower","Sun Lover's Slab"],"The New Cuttings":["The Gallery","The Annex","The Arches","The Grotto"],"The Cuttings Boulderfield":["The Tractor","The Coffin","The Octagon","Lightning Wall"]},Swanage:{"Dancing Ledge":["The Amphitheatre","The Upper Tier","The Skull","Promenade","The Quarry"],Hedbury:["Hedbury Quarry (Main)","Hedbury Sea Cliff (The Big Wall)"],Winspit:["The West Quarry","The East Quarry (The Playground)","The Sea Walls"]},"Wye Valley":{"Ban-y-Gor":["The Main Wall","The River Wall","The Far Left","The Upper Tier"],"Biblins Cave":["The Main Cave","The Right Wall","The Entrance Area"],"Woodcroft Quarry":["Fly Wall","The Main Quarry","The Retaining Wall"],"Wyndcliff Quarry":["The Main Wall (Left & Right)","The Upper Tier","The Shady Wall"]},"Costa Del Severn":{Brean:["Boulder Cove","The River Face (Main Cliff)","The Fort","The Slab"],Clevedon:["Ladye Bay","Marine Lake (Bouldering)","The Sea Walls"],"Portishead Quarry":["The Main Wall","The Slab","The Upper Tier"]},Bristol:{"Avon Gorge":["Sea Walls","Suspension Bridge Buttress","Morning Slab","Main Wall","New Quarry","The Amphitheatre","Unknown Wall"],"Leigh Woods":["Quarry 1","Quarry 2","The Main Buttress"],"Bickley Wood":["The Main Wall","The Stream Wall"],Hambrook:["The Roadside Wall"]},Cotswolds:{"Sally-in-the-Wood":["The Main Edge","The Boulders"],"Browns Folly":["The Tower","The Main Wall","The Upper Wall","The Far Right"]},Mendips:{"Cheddar Gorge":["High Rock","Sunset Buttress","Lion Rock","The Pinnacles","Acid Rock","Coronation Street","Long Rock"]},Gower:{Rhossili:["Shipwreck Cove","Rhossili Upper Cliff","The Tears Point"],"Trial Wall Area":["Trial Wall","The Terraces"],Foxhole:["The Main Cave","The Slab","The Overhangs"]},"South Wales":{"Dinas Rock":["Kennelgarth Wall","Main Overhang","Roadside Crag","The Inland Slabs"],Ogmore:["The Deep Zawn","Hardy's Bay","The Diamond","Daytona Wall"]},"North Wales":{"Cromlech (Dinas Cromlech)":["The Corner (Cenotaph)","Left Wall","Right Wall"],"Australia (Slate Quarries)":["The Sidings","Looning the Tube Area","Dali's Hole","The Salt Pans"]},"Peak District":{"Burbage South Valley":["The Boulders","The Edge (The Alliance Area)","The Tank"],"Gardoms Edge":["Apple Buttress","The Eye of Faith","Moomin Buttress"],"Raven Tor":["The Main Wall","The Weedkiller Wall"],Stanage:["Popular End","Plantation","High Neb","Stanage North","The End","Stanage Far North"],"Curbar Edge":["The Main Edge","Elder Crack Area"]},Devon:{Dartmoor:["Haytor (Low Man)","Hound Tor","The Dewerstone (Main Cliff)","Bonehill Rocks"],Hartland:["Screda Point","Smoothlands","Blackchurch Rock"],Tintagel:["The Great Cliff","Gull Rock","Ila's Ledge"]}};function cr(){return Object.keys(Aa)}function Ka(R){return Aa[R]?Object.keys(Aa[R]):[]}var ur=S('<div class="form-header-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;"><h3 style="margin: 0;" class="svelte-15o2ys1">⛰️ Outdoor Climb</h3></div>'),vr=S("<option> </option>"),dr=S('<div class="input-with-action svelte-15o2ys1"><input type="text" id="crag-manual" placeholder="Enter custom crag name..." class="flat-left svelte-15o2ys1"/> <button type="button" class="action-btn flat-right svelte-15o2ys1" title="Back to list">✕</button></div>'),gr=S("<option> </option>"),pr=S("<option>Other (Manual Entry)</option>"),mr=S('<select id="crag" class="svelte-15o2ys1"><option disabled> </option><!><!></select>'),fr=S("<option> </option>"),_r=S("<option> </option>"),hr=S('<th class="svelte-15o2ys1">Sport?</th>'),br=S('<td class="center svelte-15o2ys1"><input type="checkbox" class="svelte-15o2ys1"/></td>'),yr=S("<option> </option>"),wr=S("<option> </option>"),Sr=S("<option> </option>"),kr=S('<button type="button" class="remove-btn svelte-15o2ys1">✕</button>'),Tr=S('<tr><!><td class="svelte-15o2ys1"><input type="text" placeholder="Route name..." class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><!></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><input type="number" min="1" class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td><textarea placeholder="Notes..." class="svelte-15o2ys1"></textarea></td><td class="center svelte-15o2ys1"><!></td></tr>'),xr=S("<div> </div>"),Cr=S('<div class="form-content svelte-15o2ys1"><!> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="date" class="svelte-15o2ys1">Date</label> <div class="date-time-row svelte-15o2ys1"><input type="date" id="date" class="svelte-15o2ys1"/> <input type="time" id="time" class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="area" class="svelte-15o2ys1">Area</label> <select id="area" class="svelte-15o2ys1"><option disabled>Select area...</option><!></select></div></div> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="crag" class="svelte-15o2ys1">Crag</label> <!></div> <div class="form-group svelte-15o2ys1"><label for="sector" class="svelte-15o2ys1">Wall / Sector</label> <input type="text" id="sector" placeholder="Enter sector or wall name..." class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="climbing-type" class="svelte-15o2ys1">Climbing Type</label> <select id="climbing-type" class="svelte-15o2ys1"><option disabled>Select type...</option><!></select></div> <div class="training-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Training Details</h4> <div class="training-grid svelte-15o2ys1"><div class="training-item svelte-15o2ys1"><label for="training-type" class="svelte-15o2ys1">Training Type</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="difficulty" class="svelte-15o2ys1">Difficulty</label> <select id="difficulty" class="svelte-15o2ys1"></select></div> <div class="training-item svelte-15o2ys1"><label for="category" class="svelte-15o2ys1">Category</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="energy-system" class="svelte-15o2ys1">Energy System</label> <!></div></div></div> <div class="climbs-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Climbs</h4> <div class="table-container svelte-15o2ys1"><table class="climbs-table svelte-15o2ys1"><thead><tr><!><th class="svelte-15o2ys1">Name</th><th class="svelte-15o2ys1">Grade</th><th class="svelte-15o2ys1">Attempt</th><th class="svelte-15o2ys1">#</th><th class="svelte-15o2ys1">Wall Angle</th><th class="svelte-15o2ys1">Technique Focus</th><th class="svelte-15o2ys1">Notes</th><th class="svelte-15o2ys1"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-15o2ys1">+ Add Climb</button></div> <div class="load-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Load Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div></div> <h4 class="mt-4 svelte-15o2ys1">Grip Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div></div></div>  <div class="notes-section"><!></div> <div class="submit-section svelte-15o2ys1"><!> <button type="button" class="submit-btn svelte-15o2ys1"><!></button></div></div>');function Wi(R,i){Bt(i,!0);const l=cr(),y=["Boulder","Sport","Trad"],O=["Onsight","Flash","Redpoint","Repeat","Dogged","DNF"],M=["None","Overhang","Vertical","Slab","Roof"],D=["None","Projecting","Onsighting","Campusing","Repeaters","Comp Sim"],E=["None","Easy","Medium","Hard","Max","Limit+"],N=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Endurance","Coordination","Slab Technique","Overhang Technique"],P=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],d=["None","Trusting feet","Double-clutch","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"];let v=we(i,"initialData",3,null),w=bt(()=>!!v()),L=u(null),C=u(He(new Date().toISOString().split("T")[0])),T=u(He(new Date().toTimeString().split(" ")[0].slice(0,5))),h=u(""),p=u(""),B=u(""),A=u(""),Q=u(He(["None"])),Z=u("None"),I=u(He(["None"])),H=u(He(["None"])),U=u(3),se=u(3),re=u(3),oe=u(3),ee=u(3),ie=u(3),z=u(3),$=u(3),te=u(He([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}])),ge=u(""),ze=bt(()=>e(h)?Ka(e(h)):[]),Te=u(!1);const $e="outdoor_climb_draft";let Lt=u(!1);ma(()=>{if(v()){t(C,v().date,!0),t(T,v().time||"12:00",!0),t(h,v().area,!0),t(p,v().crag,!0);const f=Ka(e(h));e(p)&&!f.includes(e(p))&&t(Te,!0),t(B,v().sector||"",!0),t(A,v().climbingType,!0),t(Q,v().trainingTypes||["None"],!0),t(Z,v().difficulty||"Moderate",!0),t(I,v().categories||["None"],!0),t(H,v().energySystems||["None"],!0),t(U,v().fingerLoad,!0),t(se,v().shoulderLoad,!0),t(re,v().forearmLoad,!0),t(oe,v().openGrip||3,!0),t(ee,v().crimpGrip||3,!0),t(ie,v().pinchGrip||3,!0),t(z,v().sloperGrip||3,!0),t($,v().jugGrip||3,!0),t(te,v().climbs||[],!0),t(ge,v().notes||"",!0),t(Lt,!0)}else{const f=localStorage.getItem($e);if(f)try{const c=JSON.parse(f);c.date&&t(C,c.date,!0),c.time&&t(T,c.time,!0),c.area&&t(h,c.area,!0),c.crag&&t(p,c.crag,!0),c.sector&&t(B,c.sector,!0),c.isOtherCrag&&t(Te,c.isOtherCrag,!0),c.climbingType&&t(A,c.climbingType,!0),c.trainingTypes&&t(Q,c.trainingTypes,!0),c.difficulty&&t(Z,c.difficulty,!0),c.categories&&t(I,c.categories,!0),c.energySystems&&t(H,c.energySystems,!0),c.fingerLoad&&t(U,c.fingerLoad,!0),c.shoulderLoad&&t(se,c.shoulderLoad,!0),c.forearmLoad&&t(re,c.forearmLoad,!0),c.openGrip&&t(oe,c.openGrip,!0),c.crimpGrip&&t(ee,c.crimpGrip,!0),c.pinchGrip&&t(ie,c.pinchGrip,!0),c.sloperGrip&&t(z,c.sloperGrip,!0),c.jugGrip&&t($,c.jugGrip,!0),c.climbs&&t(te,c.climbs,!0),c.notes&&t(ge,c.notes,!0)}catch(c){console.error("Failed to restore draft",c)}t(Lt,!0)}}),ra(()=>{if(!e(Lt)||e(w))return;const f={date:e(C),time:e(T),area:e(h),crag:e(p),sector:e(B),isOtherCrag:e(Te),climbingType:e(A),trainingTypes:e(Q),difficulty:e(Z),categories:e(I),energySystems:e(H),fingerLoad:e(U),shoulderLoad:e(se),forearmLoad:e(re),openGrip:e(oe),crimpGrip:e(ee),pinchGrip:e(ie),sloperGrip:e(z),jugGrip:e($),climbs:e(te),notes:e(ge)};localStorage.setItem($e,JSON.stringify(f))}),ra(()=>{e(h)&&(t(p,""),t(Te,!1))});function wt(){e(p)==="Other"&&(t(Te,!0),t(p,""))}function mt(){t(Te,!1),t(p,"")}function St(){t(te,[...e(te),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0)}function ft(f){t(te,e(te).filter((c,X)=>X!==f),!0)}function kt(f,c){e(te)[f].attemptType=c,(c==="Flash"||c==="Onsight")&&(e(te)[f].attemptsNum=1)}function _t(f){t(L,f,!0)}function Qe(){t(L,null)}let et=bt(()=>e(A)==="Trad");function Ee(f){return e(A)==="Sport"?!0:e(A)==="Boulder"?!1:f.isSport}function tt(f){return f.trim()?Ha.includes(f.trim().toLowerCase()):!0}let Be=u("idle"),F=u("");function J(){return e(h)?e(p)?e(A)?e(te).filter(c=>c.grade.trim()&&!tt(c.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a crag":"Please select an area"}async function xe(){const f=J();if(f){t(Be,"error"),t(F,f,!0);return}t(Be,"saving");try{const c=e(te).map(qe=>({...qe,isSport:Ee(qe)})),X={date:e(C),time:e(T),area:e(h),crag:e(p),sector:e(B)||void 0,climbingType:e(A),trainingTypes:e(Q),difficulty:e(Z),categories:e(I),energySystems:e(H),fingerLoad:e(U),shoulderLoad:e(se),forearmLoad:e(re),openGrip:e(oe),crimpGrip:e(ee),pinchGrip:e(ie),sloperGrip:e(z),jugGrip:e($),climbs:c,notes:e(ge)};let Fe;e(w)&&v()?Fe=await ws(v().id,X):Fe=await Ss(X),Fe.ok?(t(Be,"success"),t(F,"Session saved!"),e(w)||localStorage.removeItem($e),i.onSaved?i.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),e(w)||setTimeout(()=>{Je()},2e3))):(t(Be,"error"),t(F,"Failed to save: "+(Fe.error||"Unknown error")))}catch(c){t(Be,"error"),t(F,"Failed to save session"),console.error("Save error:",c)}}function Je(){t(C,new Date().toISOString().split("T")[0],!0),t(T,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(h,""),t(p,""),t(B,""),t(A,""),t(Q,["None"],!0),t(Z,"None"),t(I,["None"],!0),t(H,["None"],!0),t(U,3),t(se,3),t(re,3),t(oe,3),t(ee,3),t(ie,3),t(z,3),t($,3),t(te,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0),t(ge,""),t(Be,"idle"),t(F,"")}var Pe=Cr(),Ae=s(Pe);{var ot=f=>{var c=ur();n(f,c)};V(Ae,f=>{e(w)||f(ot)})}var Tt=r(Ae,2),Rt=s(Tt),qt=r(s(Rt),2),Pt=s(qt);le(Pt);var Wt=r(Pt,2);le(Wt),a(qt),a(Rt);var xt=r(Rt,2),nt=r(s(xt),2),me=s(nt);me.value=me.__value="";var Ne=r(me);ue(Ne,17,()=>l,ve,(f,c)=>{var X=vr(),Fe=s(X,!0);a(X);var qe={};W(()=>{j(Fe,e(c)),qe!==(qe=e(c))&&(X.value=(X.__value=e(c))??"")}),n(f,X)}),a(nt),a(xt),a(Tt);var je=r(Tt,2),x=s(je),G=r(s(x),2);{var o=f=>{var c=dr(),X=s(c);le(X);var Fe=r(X,2);Fe.__click=mt,a(c),de(X,()=>e(p),qe=>t(p,qe)),n(f,c)},m=f=>{var c=mr();c.__change=wt;var X=s(c),Fe=s(X,!0);a(X),X.value=X.__value="";var qe=r(X);ue(qe,17,()=>e(ze),ve,(At,Mt)=>{var Vt=gr(),Yt=s(Vt,!0);a(Vt);var Gt={};W(()=>{j(Yt,e(Mt)),Gt!==(Gt=e(Mt))&&(Vt.value=(Vt.__value=e(Mt))??"")}),n(At,Vt)});var dt=r(qe);{var Ut=At=>{var Mt=pr();Mt.value=Mt.__value="Other",n(At,Mt)};V(dt,At=>{e(h)&&At(Ut)})}a(c),W(()=>{c.disabled=!e(h),j(Fe,e(h)?"Select crag...":"Select area first...")}),lt(c,()=>e(p),At=>t(p,At)),n(f,c)};V(G,f=>{e(Te)?f(o):f(m,!1)})}a(x);var q=r(x,2),K=r(s(q),2);le(K),a(q),a(je);var _=r(je,2),b=r(s(_),2),Y=s(b);Y.value=Y.__value="";var Ie=r(Y);ue(Ie,17,()=>y,ve,(f,c)=>{var X=fr(),Fe=s(X,!0);a(X);var qe={};W(()=>{j(Fe,e(c)),qe!==(qe=e(c))&&(X.value=(X.__value=e(c))??"")}),n(f,X)}),a(b),a(_);var Ge=r(_,2),Se=r(s(Ge),2),Ce=s(Se),ne=r(s(Ce),2);oa(ne,{get options(){return D},get selected(){return e(Q)},placeholder:"Select types...",onChange:f=>t(Q,f,!0)}),a(Ce);var be=r(Ce,2),ce=r(s(be),2);ue(ce,21,()=>E,ve,(f,c)=>{var X=_r(),Fe=s(X,!0);a(X);var qe={};W(()=>{j(Fe,e(c)),qe!==(qe=e(c))&&(X.value=(X.__value=e(c))??"")}),n(f,X)}),a(ce),a(be);var ye=r(be,2),rt=r(s(ye),2);oa(rt,{get options(){return N},get selected(){return e(I)},placeholder:"Select categories...",onChange:f=>t(I,f,!0)}),a(ye);var We=r(ye,2),Ue=r(s(We),2);oa(Ue,{get options(){return P},get selected(){return e(H)},placeholder:"Select systems...",onChange:f=>t(H,f,!0)}),a(We),a(Se),a(Ge);var Le=r(Ge,2),fe=r(s(Le),2),_e=s(fe),he=s(_e),De=s(he),Nt=s(De);{var ct=f=>{var c=hr();n(f,c)};V(Nt,f=>{e(et)&&f(ct)})}Na(8),a(De),a(he);var it=r(he);ue(it,21,()=>e(te),ve,(f,c,X)=>{var Fe=Tr(),qe=s(Fe);{var dt=ke=>{var gt=br(),at=s(gt);le(at),a(gt),Ia(at,()=>e(c).isSport,la=>e(c).isSport=la),n(ke,gt)};V(qe,ke=>{e(et)&&ke(dt)})}var Ut=r(qe),At=s(Ut);le(At),a(Ut);var Mt=r(Ut),Vt=s(Mt);Xa(Vt,{get value(){return e(c).grade},set value(ke){e(c).grade=ke}}),a(Mt);var Yt=r(Mt),Gt=s(Yt);Gt.__change=ke=>kt(X,ke.target.value),ue(Gt,21,()=>O,ve,(ke,gt)=>{var at=yr(),la=s(at,!0);a(at);var sa={};W(()=>{j(la,e(gt)),sa!==(sa=e(gt))&&(at.value=(at.__value=e(gt))??"")}),n(ke,at)}),a(Gt);var da;Fa(Gt),a(Yt);var ta=r(Yt),ga=s(ta);le(ga),a(ta);var aa=r(ta),pa=s(aa);ue(pa,21,()=>M.filter(ke=>ke!=="None"),ve,(ke,gt)=>{var at=wr(),la=s(at,!0);a(at);var sa={};W(()=>{j(la,e(gt)),sa!==(sa=e(gt))&&(at.value=(at.__value=e(gt))??"")}),n(ke,at)}),a(pa),a(aa);var ba=r(aa),ya=s(ba);ue(ya,21,()=>d,ve,(ke,gt)=>{var at=Sr(),la=s(at,!0);a(at);var sa={};W(()=>{j(la,e(gt)),sa!==(sa=e(gt))&&(at.value=(at.__value=e(gt))??"")}),n(ke,at)}),a(ya),a(ba);var pe=r(ba);let Ze;var Oe=s(pe);Ga(Oe),a(pe);var Qt=r(pe),Jt=s(Qt);{var ts=ke=>{var gt=kr();gt.__click=()=>ft(X),n(ke,gt)};V(Jt,ke=>{e(te).length>1&&ke(ts)})}a(Qt),a(Fe),W(()=>{da!==(da=e(c).attemptType)&&(Gt.value=(Gt.__value=e(c).attemptType)??"",Ba(Gt,e(c).attemptType)),ga.disabled=e(c).attemptType==="Flash"||e(c).attemptType==="Onsight",Ze=Ct(pe,1,"notes-cell svelte-15o2ys1",null,Ze,{expanded:e(L)===X})}),de(At,()=>e(c).name,ke=>e(c).name=ke),de(ga,()=>e(c).attemptsNum,ke=>e(c).attemptsNum=ke),lt(pa,()=>e(c).wall,ke=>e(c).wall=ke),lt(ya,()=>e(c).techniqueFocus,ke=>e(c).techniqueFocus=ke),Dt("focus",Oe,()=>_t(X)),Dt("blur",Oe,Qe),de(Oe,()=>e(c).notes,ke=>e(c).notes=ke),n(f,Fe)}),a(it),a(_e),a(fe);var Me=r(fe,2);Me.__click=St,a(Le);var ut=r(Le,2),vt=r(s(ut),2),zt=s(vt),Ve=s(zt);Re(Ve,{id:"finger-load",label:"Finger",get value(){return e(U)},set value(f){t(U,f,!0)}}),a(zt);var Ye=r(zt,2),Ot=s(Ye);Re(Ot,{id:"shoulder-load",label:"Shoulder",get value(){return e(se)},set value(f){t(se,f,!0)}}),a(Ye);var jt=r(Ye,2),$t=s(jt);Re($t,{id:"forearm-load",label:"Forearm",get value(){return e(re)},set value(f){t(re,f,!0)}}),a(jt),a(vt);var ia=r(vt,4),Ht=s(ia),ea=s(Ht);Re(ea,{id:"open-grip",label:"Open",get value(){return e(oe)},set value(f){t(oe,f,!0)}}),a(Ht);var _a=r(Ht,2),ka=s(_a);Re(ka,{id:"crimp-grip",label:"Crimp",get value(){return e(ee)},set value(f){t(ee,f,!0)}}),a(_a);var ca=r(_a,2),Ma=s(ca);Re(Ma,{id:"pinch-grip",label:"Pinch",get value(){return e(ie)},set value(f){t(ie,f,!0)}}),a(ca);var ua=r(ca,2),Ta=s(ua);Re(Ta,{id:"sloper-grip",label:"Sloper",get value(){return e(z)},set value(f){t(z,f,!0)}}),a(ua);var xa=r(ua,2),va=s(xa);Re(va,{id:"jug-grip",label:"Jug",get value(){return e($)},set value(f){t($,f,!0)}}),a(xa),a(ia),a(ut);var ha=r(ut,2),Da=s(ha);Sa(Da,{placeholder:"How did the session feel? Weather, conditions, mood...",get value(){return e(ge)},set value(f){t(ge,f,!0)}}),a(ha);var Ca=r(ha,2),k=s(Ca);{var g=f=>{var c=xr();let X;var Fe=s(c,!0);a(c),W(()=>{X=Ct(c,1,"save-message svelte-15o2ys1",null,X,{success:e(Be)==="success",error:e(Be)==="error"}),j(Fe,e(F))}),n(f,c)};V(k,f=>{e(F)&&f(g)})}var ae=r(k,2);ae.__click=xe;var Ke=s(ae);{var Xe=f=>{var c=yt("Saving...");n(f,c)},Et=f=>{var c=Kt(),X=Ft(c);{var Fe=dt=>{var Ut=yt("✓ Saved!");n(dt,Ut)},qe=dt=>{var Ut=yt("Save Session");n(dt,Ut)};V(X,dt=>{e(Be)==="success"?dt(Fe):dt(qe,!1)},!0)}n(f,c)};V(Ke,f=>{e(Be)==="saving"?f(Xe):f(Et,!1)})}a(ae),a(Ca),a(Pe),W(()=>ae.disabled=e(Be)==="saving"),de(Pt,()=>e(C),f=>t(C,f)),de(Wt,()=>e(T),f=>t(T,f)),lt(nt,()=>e(h),f=>t(h,f)),de(K,()=>e(B),f=>t(B,f)),lt(b,()=>e(A),f=>t(A,f)),lt(ce,()=>e(Z),f=>t(Z,f)),n(R,Pe),It()}Zt(["click","change"]);const Ra=[{id:"pull_ups",name:"Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Grip bar wider than shoulders.","Pull chest up toward the bar."],images:["/exercises/pull-ups.webp"]},{id:"weighted_pull_ups",name:"Weighted Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Grip bar wider than shoulders.","Pull chest up toward the bar."],images:["/exercises/weighted_pull_ups.webp"]},{id:"lat_pulldown",name:"Lat Pulldown",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats"],instructions:["Sit in machine.","Pull bar down to upper chest."],images:["/exercises/lat_pulldown.webp"]},{id:"one_arm_assisted_pull_up",name:"1 Arm Assisted Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Use a pulley or band to assist one arm.","Perform a one-arm pull-up."],images:["/exercises/1_Arm_Assisted_Pull-Up.webp"]},{id:"bent_over_row",name:"Barbell Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Hinge at hips.","Pull weight to hip pocket."],images:["/exercises/bent_over_row.webp"]},{id:"single_arm_db_row",name:"Dumbbell Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Support on bench.","Pull dumbbell to hip."],images:["/exercises/single_arm_db_row.webp"]},{id:"one_arm_negatives",name:"One Arm Negatives",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps","Forearms"],instructions:["Jump or assist up to the top position.","Lower yourself as slowly as possible with one arm."],images:["/exercises/one_arm_negatives.webp"]},{id:"full_lock_offs",name:"Full Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold the top position of a pull-up.","Maintain chin above the bar for time."],images:["/exercises/full_lock_offs.webp"]},{id:"90_degree_lock_offs",name:"90 Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold a pull-up position with elbows at 90 degrees.","Keep core tight and hold for time."],images:["/exercises/90_degree_lock_offs.webp"]},{id:"120_degree_lock_offs",name:"120 Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold a pull-up position with elbows at 120 degrees (slightly bent).","Maintain tension for time."],images:["/exercises/120_degree_lock_offs.webp"]},{id:"bicep_curls",name:"Bicep Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps"],instructions:["Hold dumbbells at sides.","Curl weights toward shoulders.","Lower with control."],images:["/exercises/bicep_curls.webp"]},{id:"hammer_curls",name:"Hammer Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps","Forearms"],instructions:["Hold dumbbells with neutral grip (palms facing in).","Curl weights toward shoulders.","Lower with control."],images:["/exercises/hammer_curls.webp"]},{id:"barbell_curls",name:"Barbell Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps"],instructions:["Hold barbell with underhand grip.","Curl bar toward chest.","Lower with control."],images:["/exercises/barbell_curls.webp"]},{id:"front_raises",name:"Front Raises",category:"Pull",subcategory:"Shoulders",targetMuscles:["Front Delts"],instructions:["Hold weights in front of thighs.","Raise arms straight in front to shoulder height."],images:["/exercises/front_raises.webp"]},{id:"kettlebell_swings",name:"Kettlebell Swings",category:"Pull",subcategory:"Shoulders",targetMuscles:["Glutes","Hamstrings","Lower Back"],instructions:["Hinge at hips holding kettlebell.","Snap hips forward to swing weight up."],images:["/exercises/kettlebell_swings.webp"]},{id:"muscle_ups",name:"Muscle Ups",category:"Pull",subcategory:"Shoulders",targetMuscles:["Lats","Triceps","Chest"],instructions:["Explosive pull-up.","Transition wrists over bar.","Press out at top."],images:["/exercises/muscle_ups.webp"]},{id:"seated_row",name:"Seated Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Sit at machine.","Pull handle to torso."],images:["/exercises/Seated_Row.webp"]},{id:"supine_trx_row",name:"Supine TRX Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Feet in TRX straps.","Pull handle to torso."],images:["/exercises/supine_trx_row.webp"]},{id:"barbell_bench_press",name:"Barbell Bench Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Triceps"],instructions:["Lower bar to chest.","Press back up."],images:["/exercises/barbell_bench_press.webp"]},{id:"dumbbell_bench_press",name:"Dumbbell Chest Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Upper Chest"],instructions:["Press dumbbells whilst lying on bench."],images:["/exercises/dumbbell_bench_press.webp"]},{id:"chest_press",name:"Chest Press Machine",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Triceps"],instructions:["From seated position, push handles overhead."],images:["/exercises/chest_press.webp"]},{id:"push_up",name:"Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Triceps","Chest"],instructions:["Hands wide, lower to floor.","Press back up."],images:["/exercises/push_up.webp"]},{id:"narrow_push_up",name:"Narrow Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Triceps","Chest"],instructions:["Hands close together.","Keep elbows tucked."],images:["/exercises/narrow_push_up.webp"]},{id:"trx_push_up",name:"TRX Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Global Stabilisers"],instructions:["Feet or hands in TRX straps.","Perform push-up."],images:["/exercises/trx_push_up.webp"]},{id:"overhead_press",name:"Barbell Overhead Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Press bar vertically overhead."],images:["/exercises/overhead_press.webp"]},{id:"dumbbell_overhead_press",name:"Dumbbell Overhead Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Press dumbbells vertically overhead."],images:["/exercises/dumbbell_overhead_press.webp"]},{id:"arnold_press",name:"Arnold Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Rotate palms while pressing overhead."],images:["/exercises/arnold_press.webp"]},{id:"shoulder_press_machine",name:"Shoulder Press Machine",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Sit in machine.","Press handles overhead."],images:["/exercises/Shoulder_Press_Machine.webp"]},{id:"dumbbell_flies",name:"Dumbbell Flies",category:"Push",subcategory:"Shoulders",targetMuscles:["Chest"],instructions:["Lie on bench.","Open arms wide, then bring together."],images:["/exercises/Dumbbell_Flies.webp"]},{id:"lateral_raises",name:"Lateral Raises",category:"Push",subcategory:"Shoulders",targetMuscles:["Side Delts"],instructions:["Raise arms to sides."],images:["/exercises/dumbbell_lateral_raise.webp"]},{id:"dumbbell_kickbacks",name:"Dumbbell Kickbacks",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Hinge forward.","Extend arm back."],images:["/exercises/dumbbell_kickbacks.webp"]},{id:"cable_pushdown",name:"Cable Pushdown",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Push bar down using triceps."],images:["/exercises/tricep_pulldown.webp"]},{id:"tricep_dips",name:"Tricep Dips",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Support body on parallel bars.","Lower until elbows at 90 degrees."],images:["/exercises/Tricep_Dips.webp"]},{id:"barbell_squat",name:"Barbell Squat",category:"Legs",subcategory:"Squats",targetMuscles:["Quads","Glutes"],instructions:["Squat with barbell on back."],images:["/exercises/barbell_squat.webp"]},{id:"leg_press",name:"Leg Press",category:"Legs",subcategory:"Squats",targetMuscles:["Quads"],instructions:["Press weight on machine."],images:["/exercises/leg_press.webp"]},{id:"pistol_squats",name:"Pistol Squats",category:"Legs",subcategory:"Squats",targetMuscles:["Quads","Balance"],instructions:["One-legged squat."],images:["/exercises/Pistol_Squats.webp"]},{id:"goblet_squat",name:"Goblet Squat",category:"Legs",subcategory:"Squats",targetMuscles:["Quads"],instructions:["Hold weight at chest.","Squat."],images:["/exercises/goblet_squat.webp"]},{id:"deadlift",name:"Deadlift",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Posterior Chain"],instructions:["Lift bar from floor."],images:["/exercises/deadlift.webp"]},{id:"rack_pulls",name:"Rack Pulls",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Back","Glutes"],instructions:["Deadlift from rack height."],images:["/exercises/Rack_Pulls.webp"]},{id:"barbell_good_mornings",name:"BarbellGood Mornings",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Back","Hamstrings"],instructions:["Deadlift from rack height."],images:["/exercises/barbell_good_mornings.webp"]},{id:"leg_extension",name:"Leg Extension",category:"Legs",subcategory:"Isolation",targetMuscles:["Quads"],instructions:["Extend legs against machine resistance."],images:["/exercises/Leg_Extension.webp"]},{id:"leg_curl",name:"Leg Curl",category:"Legs",subcategory:"Isolation",targetMuscles:["Hamstrings"],instructions:["Curl legs against machine resistance."],images:["/exercises/Leg_Curl.webp"]},{id:"walking_lunge",name:"Walking Lunge",category:"Legs",subcategory:"Isolation",targetMuscles:["Quads","Glutes"],instructions:["Step forward and lower hips."],images:["/exercises/walking_lunge.webp"]},{id:"calf_raises",name:"Calf Raises",category:"Legs",subcategory:"Calves",targetMuscles:["Calves"],instructions:["Raise heels."],images:["/exercises/calf_raise.webp"]},{id:"glute_bridges",name:"Glute Bridges",category:"Legs",subcategory:"Glutes",targetMuscles:["Glutes"],instructions:["Lie on back.","Lift hips."],images:["/exercises/Glute_Bridges.webp"]},{id:"reverse_wrist_curl",name:"Reverse Wrist Curl",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearm Extensors"],instructions:["Curl wrist up with palm down."],images:["/exercises/reverse_wrist_curl.webp"]},{id:"radial_wrist_tilts",name:"Radial Wrist Tilts",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearms"],instructions:["Tilt wrist thumb-side up."],images:["/exercises/Radial_Wrist_Tilts.webp"]},{id:"wrist_rotations",name:"Wrist Rotations",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearms"],instructions:["Rotate wrists with weight."],images:["/exercises/Wrist_Rotations.webp"]},{id:"wrist_curls",name:"Wrist Curls",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearm Flexors"],instructions:["Curl wrist up with palm up."],images:["/exercises/Wrist_Curls.webp"]},{id:"dumbbell_rear_delt_flies",name:"Dumbbell Rear Delt Flies",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Rear Delts"],instructions:["Hinge forward.","Raise arms to sides."],images:["/exercises/dumbbell_rear_delt_flies.webp"]},{id:"cable_face_pulls",name:"Cable Face Pulls",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Rear Delts"],instructions:["Pull rope to face."],images:["/exercises/face_pull.webp"]},{id:"archer_rows",name:"Archer Rows",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Back","Rear Delts"],instructions:["Row with one arm while other stays straight."],images:["/exercises/Archer_Rows.webp"]},{id:"one_arm_dumbbell_shrugs",name:"One Arm Dumbbell Shrugs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Traps"],instructions:["Shrug shoulder up."],images:["/exercises/One_Arm_Dumbbell_Shrugs.webp"]},{id:"prone_overhead_db_press",name:"Prone Overhead Dumbbell Press",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Lower Traps"],instructions:["Lie prone.","Press light weights overhead."],images:["/exercises/Prone_Overhead_Dumbbell_Press.webp"]},{id:"incline_bench_db_iyts",name:"Incline Bench Dumbbell IYTs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Lower Traps","Rear Delts"],instructions:["Form I, Y, T shapes with arms."],images:["/exercises/i-y-t_raises.webp"]},{id:"scapular_holds",name:"Scapular Holds",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hold scapular retraction."],images:["/exercises/Scapular_Holds.webp"]},{id:"scapular_pull_ups",name:"Scapular Pull-Ups",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hang from bar.","Depress and retract scapula without bending elbows."],images:["/exercises/Scapular_Pull-ups.webp"]},{id:"one_arm_scapular_holds",name:"1 Arm Scapular Holds",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hang from one arm.","Engage scapula."],images:["/exercises/one_arm_scapular_holds.webp"]},{id:"one_arm_scapular_pull_ups",name:"1 Arm Scapular Pull-Ups",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["One arm hang.","Depress scapula."],images:["/exercises/one_arm_scapular_pull_ups.webp"]},{id:"trx_iyts",name:"TRX IYTs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Back"],instructions:["Use TRX to perform I, Y, T raises."],images:["/exercises/trx_iyts.webp"]},{id:"dumbbell_overhead_rotations",name:"Dumbbell Overhead Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Press overhead.","Rotate shoulders."],images:["/exercises/Dumbbell_Overhead_Rotations.webp"]},{id:"external_side_lying_rotations",name:"External Side Lying Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Lie on side.","Rotate arm up."],images:["/exercises/External_Side_Lying_Rotations.webp"]},{id:"prone_bench_rotations",name:"Prone Bench Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Lie prone.","Rotate arms."],images:["/exercises/Prone_Bench_Rotations.webp"]},{id:"cable_external_rotations",name:"Cable External Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Use cable.","Rotate arm away from body."],images:["/exercises/Cable_External_Rotations.webp"]},{id:"cable_internal_rotation",name:"Cable Internal Rotation",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Use cable.","Rotate arm across body."],images:["/exercises/Cable_Internal_Rotation.webp"]},{id:"internal_side_lying_rotations",name:"Internal Side Lying Rotations",category:"Stabilisers",subcategory:"Internal Rotation/Flexors",targetMuscles:["Rotator Cuff"],instructions:["Lie on side.","Rotate arm inward."],images:["/exercises/Internal_Side_Lying_Rotations.webp"]},{id:"hanging_l_hold",name:"Hanging L Hold",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Hang from bar.","Hold legs horizontal."],images:["/exercises/Hanging_L_Hold.webp"]},{id:"supine_leg_raises",name:"Supine Leg Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Lie on back.","Raise legs."],images:["/exercises/Supine_Leg_Raises.webp"]},{id:"hanging_leg_raises",name:"Hanging Leg Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Hang from bar.","Raise legs to bar."],images:["/exercises/hanging_leg_raise.webp"]},{id:"lever_raises_tucked",name:"Lever Raises (tucked)",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Front lever progression tucked."],images:["/exercises/Lever_Raises_tucked.webp"]},{id:"lever_raises_90",name:"Lever Raises (90)",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Front lever progression to 90 degrees."]},{id:"lever_raises",name:"Lever Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Full front lever raises."]},{id:"crunches",name:"Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Upper Abs"],instructions:["Crunch up off floor."],images:["/exercises/crunch.webp"]},{id:"lower_ab_crunches",name:"Lower Ab Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Lower Abs"],instructions:["Reverse crunch movement."],images:["/exercises/Lower_Ab_Crunches.webp"]},{id:"weighted_crunches",name:"Weighted Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Abs"],instructions:["Crunch with weight."],images:["/exercises/Weighted_Crunches.webp"]},{id:"dead_bug",name:"Dead Bug",category:"Core",subcategory:"Crunches",targetMuscles:["Core"],instructions:["Opposite arm and leg extension lying on back."],images:["/exercises/Dead_Bug.webp"]},{id:"boat_pose",name:"Boat Pose",category:"Core",subcategory:"Crunches",targetMuscles:["Core"],instructions:["Static V hold on floor."],images:["/exercises/Boat_Pose.webp"]},{id:"v_sits",name:"V Sits",category:"Core",subcategory:"Crunches",targetMuscles:["Abs"],instructions:["Explosive sit up to V position."],images:["/exercises/V_Sits.webp"]},{id:"kettle_bell_twists",name:"Kettle Bell Twists",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Russian twist with KB."],images:["/exercises/russian_twists.webp"]},{id:"twisting_crunches",name:"Twisting Crunches",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Crunch with rotation."],images:["/exercises/Twisting_Crunches.webp"]},{id:"supine_windscreen_wipers",name:"Supine Windscreen Wipers",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Lie on back.","Rotate legs side to side."],images:["/exercises/Supine_Windscreen_Wipers.webp"]},{id:"hanging_windscreen_wipers",name:"Hanging Windscreen Wipers",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Hang from bar.","Rotate legs side to side."],images:["/exercises/Hanging_Windscreen_Wipers.webp"]},{id:"thread_the_needle",name:"Thread the Needle",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques","Mobility"],instructions:["Plank position.","Reach under body."],images:["/exercises/Thread_the_Needle.webp"]}];var Lr=S('<div><div class="col set-num svelte-ow8x7m"> </div> <div class="col weight svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col reps svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col check svelte-ow8x7m"><button><!></button></div></div>');function Rr(R,i){Bt(i,!1);let l=we(i,"setNumber",8),y=we(i,"set",12);const O=fa();function M(){y(y().completed=!y().completed,!0),O("change",y()),y().completed&&O("complete")}Wa();var D=Lr();let E;var N=s(D),P=s(N,!0);a(N);var d=r(N,2),v=s(d);le(v),a(d);var w=r(d,2),L=s(w);le(L),a(w);var C=r(w,2),T=s(C);let h;var p=s(T);{var B=A=>{var Q=yt("✓");n(A,Q)};V(p,A=>{ht(y()),pt(()=>y().completed)&&A(B)})}a(T),a(C),a(D),W(()=>{E=Ct(D,1,"set-row svelte-ow8x7m",null,E,{completed:y().completed}),j(P,l()),h=Ct(T,1,"check-btn svelte-ow8x7m",null,h,{checked:y().completed})}),de(v,()=>y().weight,A=>y(y().weight=A,!0)),de(L,()=>y().reps,A=>y(y().reps=A,!0)),Dt("click",T,M),n(R,D),It()}var Pr=S('<div><span class="dot svelte-1ni79z8"></span> <span class="text"> </span></div>'),Nr=S("<button></button>"),Mr=S('<div class="exercise-card svelte-1ni79z8"><div class="header svelte-1ni79z8"><div class="title-group svelte-1ni79z8"><button class="icon-btn info-btn svelte-1ni79z8" aria-label="Exercise Info"><div class="info-icon svelte-1ni79z8">?</div></button> <div><h4 class="svelte-1ni79z8"> </h4> <button class="icon-btn timer-btn svelte-1ni79z8" aria-label="Open Timer" title="Interval Timer">⏱</button> <div class="benchmarks svelte-1ni79z8"></div></div></div> <button class="icon-btn delete-btn svelte-1ni79z8" aria-label="Delete Exercise">🗑️</button></div> <div class="table-header svelte-1ni79z8"><div class="col">Set</div> <div class="col">kg</div> <div class="col">Reps</div> <div class="col">✓</div></div> <div class="sets"></div> <button class="add-set-btn svelte-1ni79z8">+ Add Set</button> <div class="difficulty-footer svelte-1ni79z8"><span class="diff-label svelte-1ni79z8">How did it feel?</span> <div class="diff-circles svelte-1ni79z8"></div></div></div>');function Dr(R,i){Bt(i,!1);let l=we(i,"exercise",12),y=we(i,"benchmarks",24,()=>({}));const O=fa();function M(){const Z=l().sets[l().sets.length-1],I={weight:Z?Z.weight:0,reps:Z?Z.reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1};l(l().sets=[...l().sets,I],!0)}const D=["Green","Yellow","Orange","Red"];Wa();var E=Mr(),N=s(E),P=s(N),d=s(P),v=r(d,2),w=s(v),L=s(w,!0);a(w);var C=r(w,2),T=r(C,2);ue(T,5,()=>D,ve,(Z,I)=>{var H=Kt(),U=Ft(H);{var se=re=>{var oe=Pr();Ct(oe,1,"benchmark-pill svelte-1ni79z8",null,{},{"has-data":!0});var ee=r(s(oe),2),ie=s(ee);a(ee),a(oe),W(z=>{Oa(oe,`--pill-color: var(--color-${z??""})`),j(ie,`${ht(y()),e(I),pt(()=>y()[e(I)]?.weight)??""}kg x ${ht(y()),e(I),pt(()=>y()[e(I)]?.reps)??""}`)},[()=>(e(I),pt(()=>e(I).toLowerCase()))]),n(re,oe)};V(U,re=>{ht(y()),e(I),pt(()=>y()[e(I)])&&re(se)})}n(Z,H)}),a(T),a(v),a(P);var h=r(P,2);a(N);var p=r(N,4);ue(p,5,()=>(ht(l()),pt(()=>l().sets)),ve,(Z,I,H)=>{Rr(Z,{setNumber:H+1,get set(){return(ht(l()),pt(()=>l().sets))[H]},set set(U){(ht(l()),pt(()=>l().sets))[H]=U,vs(()=>l())},$$events:{complete(U){Pa.call(this,i,U)},change(U){Pa.call(this,i,U)}},$$legacy:!0})}),a(p);var B=r(p,2),A=r(B,2),Q=r(s(A),2);ue(Q,5,()=>D,ve,(Z,I)=>{var H=Nr();let U;W(se=>{U=Ct(H,1,"diff-circle svelte-1ni79z8",null,U,{selected:l().difficulty===e(I)}),Oa(H,`--circle-color: var(--color-${se??""})`),st(H,"aria-label",`Mark as ${e(I)??""}`)},[()=>(e(I),pt(()=>e(I).toLowerCase()))]),Dt("click",H,()=>l(l().difficulty=e(I),!0)),n(Z,H)}),a(Q),a(A),a(E),W(()=>j(L,(ht(l()),pt(()=>l().name)))),Dt("click",d,()=>O("info",l())),Dt("click",C,()=>O("timer",l())),Dt("click",h,()=>O("delete",l())),Dt("click",B,M),n(R,E),It()}const qr=R=>R;function za(R){const i=R-1;return i*i*i+1}function Qa(R){const i=typeof R=="string"&&R.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return i?[parseFloat(i[1]),i[2]||"px"]:[R,"px"]}function ja(R,{delay:i=0,duration:l=400,easing:y=qr}={}){const O=+getComputedStyle(R).opacity;return{delay:i,duration:l,easing:y,css:M=>`opacity: ${M*O}`}}function Za(R,{delay:i=0,duration:l=400,easing:y=za,x:O=0,y:M=0,opacity:D=0}={}){const E=getComputedStyle(R),N=+E.opacity,P=E.transform==="none"?"":E.transform,d=N*(1-D),[v,w]=Qa(O),[L,C]=Qa(M);return{delay:i,duration:l,easing:y,css:(T,h)=>`
			transform: ${P} translate(${(1-T)*v}${w}, ${(1-T)*L}${C});
			opacity: ${N-d*h}`}}function Hi(R,{delay:i=0,duration:l=400,easing:y=za,axis:O="y"}={}){const M=getComputedStyle(R),D=+M.opacity,E=O==="y"?"height":"width",N=parseFloat(M[E]),P=O==="y"?["top","bottom"]:["left","right"],d=P.map(p=>`${p[0].toUpperCase()}${p.slice(1)}`),v=parseFloat(M[`padding${d[0]}`]),w=parseFloat(M[`padding${d[1]}`]),L=parseFloat(M[`margin${d[0]}`]),C=parseFloat(M[`margin${d[1]}`]),T=parseFloat(M[`border${d[0]}Width`]),h=parseFloat(M[`border${d[1]}Width`]);return{delay:i,duration:l,easing:y,css:p=>`overflow: hidden;opacity: ${Math.min(p*20,1)*D};${E}: ${p*N}px;padding-${P[0]}: ${p*v}px;padding-${P[1]}: ${p*w}px;margin-${P[0]}: ${p*L}px;margin-${P[1]}: ${p*C}px;border-${P[0]}-width: ${p*T}px;border-${P[1]}-width: ${p*h}px;min-${E}: 0`}}function $a(R,{delay:i=0,duration:l=400,easing:y=za,start:O=0,opacity:M=0}={}){const D=getComputedStyle(R),E=+D.opacity,N=D.transform==="none"?"":D.transform,P=1-O,d=E*(1-M);return{delay:i,duration:l,easing:y,css:(v,w)=>`
			transform: ${N} scale(${1-P*w});
			opacity: ${E-d*w}
		`}}function Or(R){const i=R-1;return i*i*i+1}class qa{static audioContext=null;static gainNode=null;static isInitialized=!1;static init(){if(!this.isInitialized)try{(window.AudioContext||window.webkitAudioContext)&&(this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this.isInitialized=!0)}catch(i){console.warn("AudioContext not supported",i)}}static async playChime(){if(this.isInitialized||this.init(),!this.audioContext||!this.gainNode)return;this.audioContext.state==="suspended"&&await this.audioContext.resume();const i=this.audioContext.currentTime,l=this.audioContext.createOscillator();l.type="sine",l.frequency.setValueAtTime(880,i),l.frequency.exponentialRampToValueAtTime(.01,i+1.5);const y=this.audioContext.createGain();y.gain.setValueAtTime(.3,i),y.gain.exponentialRampToValueAtTime(.001,i+1.5),l.connect(y),y.connect(this.gainNode),l.start(i),l.stop(i+1.5);const O=this.audioContext.createOscillator();O.type="triangle",O.frequency.setValueAtTime(1760,i),O.frequency.exponentialRampToValueAtTime(.01,i+1);const M=this.audioContext.createGain();M.gain.setValueAtTime(.1,i),M.gain.exponentialRampToValueAtTime(.001,i+1),O.connect(M),M.connect(this.gainNode),O.start(i),O.stop(i+1)}static vibrate(i=200){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(i)}static async playCompletionAlert(){this.vibrate([500,100,500]),await this.playChime()}static async playTick(){if(this.isInitialized||this.init(),!this.audioContext||!this.gainNode)return;this.audioContext.state==="suspended"&&await this.audioContext.resume();const i=this.audioContext.currentTime,l=this.audioContext.createOscillator();l.type="sine",l.frequency.setValueAtTime(600,i);const y=this.audioContext.createGain();y.gain.setValueAtTime(.05,i),y.gain.exponentialRampToValueAtTime(.001,i+.1),l.connect(y),y.connect(this.gainNode),l.start(i),l.stop(i+.1),this.vibrate(50)}}var Er=S('<div class="setup-form svelte-18i4gcv"><div class="input-group svelte-18i4gcv"><label for="work-duration" class="svelte-18i4gcv">Work</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv"><label for="rest-duration" class="svelte-18i4gcv">Rest</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv"><label for="num-sets" class="svelte-18i4gcv">Sets</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv" style="flex-direction: row; align-items: center; justify-content: space-between;"><label for="allow-overtime" style="margin: 0;" class="svelte-18i4gcv">Overtime</label> <label class="toggle-switch svelte-18i4gcv"><input type="checkbox" id="allow-overtime" class="svelte-18i4gcv"/> <span class="slider svelte-18i4gcv"></span></label></div> <button class="start-btn svelte-18i4gcv">▶ Start Interval</button></div>'),Ar=S('<div class="finished-state svelte-18i4gcv"><div class="check-icon svelte-18i4gcv">✓</div> <h3>Nicely Done!</h3> <button class="reset-btn svelte-18i4gcv">Back to Setup</button></div>'),Gr=S('<button class="ctl-btn primary svelte-18i4gcv">⏸</button>'),Fr=S('<button class="ctl-btn primary svelte-18i4gcv">▶</button>'),Br=S('<div class="timer-circle svelte-18i4gcv"><svg viewBox="0 0 100 100" class="ring svelte-18i4gcv"><circle class="track svelte-18i4gcv" cx="50" cy="50" r="45"></circle><circle class="progress svelte-18i4gcv" cx="50" cy="50" r="45"></circle></svg> <div class="timer-val svelte-18i4gcv"><div class="phase-label svelte-18i4gcv"> </div> <div class="digits svelte-18i4gcv"> </div></div></div> <div class="controls-row svelte-18i4gcv"><button class="ctl-btn secondary svelte-18i4gcv">+10</button> <!> <button class="ctl-btn secondary finish svelte-18i4gcv">🏁</button></div> <div class="controls-sub svelte-18i4gcv"><button class="text-btn svelte-18i4gcv"> </button> <button class="text-btn stop svelte-18i4gcv">✕ Abort</button></div>',1),Ir=S('<div class="overlay svelte-18i4gcv" role="button" tabindex="0"><div><div class="header svelte-18i4gcv"><span class="title svelte-18i4gcv"><!></span> <button class="close-btn svelte-18i4gcv">✕</button></div> <div class="content svelte-18i4gcv"><!></div></div></div>');function es(R,i){Bt(i,!0);const l=3600*1e3,y=283,O=100;let M=we(i,"visible",15,!1),D=we(i,"defaultSets",3,3),E=we(i,"associatedExerciseId",7,null),N=we(i,"onComplete",3,()=>{}),P=we(i,"onClose",3,()=>{}),d=u("SETUP"),v=u("PAUSED"),w=u(30),L=u(60),C=u(3),T=u(!1),h=u(1),p=u(30),B=u(null),A=u(null),Q=u(!1),Z=u(null),I=null,H=null,U=null;ra(()=>{M()&&(qa.init(),e(d)==="SETUP"&&(z(),D()>0&&t(C,D())))}),ma(()=>(ge(),(async()=>{const F=(await qs(async()=>{const{default:J}=await import("./BI6U78rI.js");return{default:J}},[],import.meta.url)).default;U=new F,U.onmessage=J=>{J.data.type==="TICK"&&_t()},e(v)==="RUNNING"&&M()&&e(d)!=="SETUP"&&e(d)!=="FINISHED"&&U.postMessage({action:"START",interval:O})})(),"serviceWorker"in navigator&&(navigator.serviceWorker.ready.then(F=>{I=F}),H=F=>{F.data&&F.data.type==="TIMER_ACTION"&&ie(F.data.action)},navigator.serviceWorker.addEventListener("message",H)),document.addEventListener("visibilitychange",se),()=>{U&&U.terminate(),document.removeEventListener("visibilitychange",se),"serviceWorker"in navigator&&H&&navigator.serviceWorker.removeEventListener("message",H)}));function se(){document.hidden&&e(v)==="RUNNING"&&re()}function re(F=!1){const J=e(d)==="WORK"?"Work":"Rest",xe=`[Set ${e(h)}/${e(C)}]`,Pe=`${e(p)<0?"Overtime":"Remaining"}: ${Qe(Math.abs(e(p)))}`,Ae=[{action:"pause",title:"⏸ Pause"},{action:"finish-session",title:"🏁 Finish"}];e(p)>=0?ee(`${J} Timer ${xe}`,Pe,Ae,F):e(T)&&e(Q)&&ee("Interval Finished",`Overtime: ${Qe(Math.abs(e(p)))}`,[{action:"finish-session",title:"🏁 Finish"},{action:"extend-10",title:"⏱ +10s"}],!1)}async function oe(){"Notification"in window&&Notification.permission!=="granted"&&await Notification.requestPermission()}function ee(F,J,xe=[],Je=!0){if("serviceWorker"in navigator&&Notification.permission==="granted"){const Pe=Ae=>{Ae.showNotification(F,{body:J,icon:"/favicon.png",vibrate:Je?[200,100,200]:[],actions:xe,tag:"rest-timer",renotify:Je})};I?Pe(I):navigator.serviceWorker.ready.then(Pe)}}function ie(F){F==="extend-10"?(t(p,e(p)+10),e(B)&&t(B,e(B)+1e4),e(p)>0&&t(Q,!1),te(),document.hidden&&re()):F==="next-set"?mt():F==="finish-session"?ft():F==="pause"?Lt():F==="resume"&&wt()}async function z(){if(E())try{const F=await ks(E());F.ok&&F.data&&(t(w,F.data.workDuration,!0),t(L,F.data.restDuration,!0),t(T,F.data.allowOvertime,!0))}catch(F){console.warn(F)}}async function $(){if(E())try{await Ts(E(),{workDuration:e(w),restDuration:e(L),allowOvertime:e(T)})}catch(F){console.error(F)}}function te(){if(e(d)==="SETUP")return;const F={phase:e(d),runningState:e(v),remaining:e(p),endTimestamp:e(B),configWork:e(w),configRest:e(L),configSets:e(C),configSetsOverridden:e(C),allowOvertime:e(T),currentSet:e(h),associatedExerciseId:E(),pausedTimeRemaining:e(A),timestamp:Date.now()};localStorage.setItem("active_interval_timer",JSON.stringify(F))}function ge(){try{const F=localStorage.getItem("active_interval_timer");if(F){const J=JSON.parse(F);Date.now()-J.timestamp<l&&(t(d,J.phase,!0),t(v,J.runningState,!0),t(p,J.remaining,!0),t(B,J.endTimestamp,!0),t(w,J.configWork,!0),t(L,J.configRest,!0),J.configSets&&t(C,J.configSets,!0),J.allowOvertime!==void 0&&t(T,J.allowOvertime,!0),t(h,J.currentSet,!0),E(J.associatedExerciseId),t(A,J.pausedTimeRemaining,!0),e(d)!=="SETUP"&&e(d)!=="FINISHED"&&M(!0))}}catch{}}function ze(){localStorage.removeItem("active_interval_timer")}function Te(){oe(),$(),t(d,"WORK"),t(h,1),$e(e(w)),U?.postMessage({action:"START",interval:O})}function $e(F,J=!1){t(v,"RUNNING"),t(p,F,!0),t(B,Date.now()+F*1e3),t(Q,!1),te(),qa.playChime(),document.hidden&&(re(J),t(Z,e(p),!0))}function Lt(){t(v,"PAUSED"),t(A,e(p),!0),t(B,null),U?.postMessage({action:"STOP"}),te(),document.hidden&&ee("Timer Paused","Tap to resume",[{action:"resume",title:"▶ Resume"},{action:"finish-session",title:"🏁 Finish"}],!1)}function wt(){e(A)!==null&&(t(v,"RUNNING"),t(B,Date.now()+e(A)*1e3),U?.postMessage({action:"START",interval:O}),te(),document.hidden&&re())}function mt(){kt()}function St(){t(d,"SETUP"),t(v,"PAUSED"),U?.postMessage({action:"STOP"}),ze()}function ft(){t(d,"FINISHED"),t(v,"PAUSED"),t(B,null),U?.postMessage({action:"STOP"}),N()(),ze(),document.hidden&&ee("Session Complete","Nicely Done!",[],!1)}function kt(){e(d)==="WORK"?e(h)>=e(C)?(t(d,"FINISHED"),t(v,"PAUSED"),t(B,null),N()(),ze()):(t(d,"REST"),$e(e(L),!0)):e(d)==="REST"&&(ds(h),t(d,"WORK"),$e(e(w),!0))}function _t(){if(!(!M()||e(d)==="SETUP"||e(d)==="FINISHED"||e(v)==="PAUSED")&&e(B)){const F=Date.now(),J=e(B)-F;t(p,Math.ceil(J/1e3),!0),document.hidden&&e(Z)!==e(p)&&(re(),t(Z,e(p),!0)),e(p)<=0&&(e(Q)||(t(Q,!0),qa.playCompletionAlert(),e(T)?ee("Interval Finished","Overtime started",[{action:"finish-session",title:"🏁 Finish"},{action:"extend-10",title:"⏱ +10s"}],!0):(t(p,0),kt())))}}function Qe(F){const J=Math.floor(F/60),xe=F%60;return`${J}:${xe.toString().padStart(2,"0")}`}function et(){(e(d)==="SETUP"||e(d)==="FINISHED")&&St(),M(!1),P()&&P()()}var Ee=Kt(),tt=Ft(Ee);{var Be=F=>{var J=Ir();J.__click=me=>{me.target===me.currentTarget&&et()},J.__keydown=me=>{me.key==="Escape"&&et()};var xe=s(J);let Je;var Pe=s(xe),Ae=s(Pe),ot=s(Ae);{var Tt=me=>{var Ne=yt("Timer Setup");n(me,Ne)},Rt=me=>{var Ne=Kt(),je=Ft(Ne);{var x=o=>{var m=yt("Complete");n(o,m)},G=o=>{var m=yt();W(()=>j(m,`Set ${e(h)??""} / ${e(C)??""}`)),n(o,m)};V(je,o=>{e(d)==="FINISHED"?o(x):o(G,!1)},!0)}n(me,Ne)};V(ot,me=>{e(d)==="SETUP"?me(Tt):me(Rt,!1)})}a(Ae);var qt=r(Ae,2);qt.__click=et,a(Pe);var Pt=r(Pe,2),Wt=s(Pt);{var xt=me=>{var Ne=Er(),je=s(Ne),x=r(s(je),2),G=s(x);G.__click=()=>t(w,Math.max(5,e(w)-5),!0);var o=r(G,2),m=s(o,!0);a(o);var q=r(o,2);q.__click=()=>t(w,e(w)+5),a(x),a(je);var K=r(je,2),_=r(s(K),2),b=s(_);b.__click=()=>t(L,Math.max(5,e(L)-5),!0);var Y=r(b,2),Ie=s(Y,!0);a(Y);var Ge=r(Y,2);Ge.__click=()=>t(L,e(L)+5),a(_),a(K);var Se=r(K,2),Ce=r(s(Se),2),ne=s(Ce);ne.__click=()=>t(C,Math.max(1,e(C)-1),!0);var be=r(ne,2),ce=s(be,!0);a(be);var ye=r(be,2);ye.__click=()=>t(C,e(C)+1),a(Ce),a(Se);var rt=r(Se,2),We=r(s(rt),2),Ue=s(We);le(Ue),Na(2),a(We),a(rt);var Le=r(rt,2);Le.__click=Te,a(Ne),W((fe,_e)=>{j(m,fe),j(Ie,_e),j(ce,e(C))},[()=>Qe(e(w)),()=>Qe(e(L))]),Ia(Ue,()=>e(T),fe=>t(T,fe)),n(me,Ne)},nt=me=>{var Ne=Kt(),je=Ft(Ne);{var x=o=>{var m=Ar(),q=r(s(m),4);q.__click=()=>t(d,"SETUP"),a(m),n(o,m)},G=o=>{var m=Br(),q=Ft(m),K=s(q),_=r(s(K));st(_,"stroke-dasharray",y),a(K);var b=r(K,2),Y=s(b),Ie=s(Y,!0);a(Y);var Ge=r(Y,2);let Se;var Ce=s(Ge,!0);a(Ge),a(b),a(q);var ne=r(q,2),be=s(ne);be.__click=()=>ie("extend-10");var ce=r(be,2);{var ye=he=>{var De=Gr();De.__click=Lt,n(he,De)},rt=he=>{var De=Fr();De.__click=wt,n(he,De)};V(ce,he=>{e(v)==="RUNNING"?he(ye):he(rt,!1)})}var We=r(ce,2);We.__click=ft,a(ne);var Ue=r(ne,2),Le=s(Ue);Le.__click=mt;var fe=s(Le,!0);a(Le);var _e=r(Le,2);_e.__click=St,a(Ue),W((he,De)=>{st(_,"stroke-dashoffset",he),j(Ie,e(p)<0?"OVERTIME":e(d)),Se=Oa(Ge,"",Se,{color:e(p)<0?"#ef4444":"inherit"}),j(Ce,De),j(fe,e(p)<0?"Next Set":"⏭ Skip")},[()=>y*(1-Math.max(0,Math.min(1,e(p)/(e(d)==="WORK"?e(w):e(L))))),()=>Qe(Math.abs(e(p)))]),n(o,m)};V(je,o=>{e(d)==="FINISHED"?o(x):o(G,!1)},!0)}n(me,Ne)};V(Wt,me=>{e(d)==="SETUP"?me(xt):me(nt,!1)})}a(Pt),a(xe),a(J),W(()=>Je=Ct(xe,1,"timer-card svelte-18i4gcv",null,Je,{work:e(d)==="WORK",rest:e(d)==="REST"})),na(3,xe,()=>$a,()=>({start:.96,duration:300,easing:Or})),na(3,J,()=>ja,()=>({duration:250})),n(F,J)};V(tt,F=>{M()&&F(Be)})}n(R,Ee),It()}Zt(["click","keydown"]);var Wr=S("<img/>"),Hr=S('<div class="animation-frame svelte-zbmy0k"></div>'),zr=S('<div class="visual-placeholder svelte-zbmy0k"><span>No animation available</span></div>'),jr=S("<li> </li>"),Ur=S('<div class="modal-overlay svelte-zbmy0k" role="button" tabindex="0" aria-label="Close modal"><div class="modal-content svelte-zbmy0k" role="dialog" aria-modal="true" tabindex="-1"><div class="header svelte-zbmy0k"><h3 class="svelte-zbmy0k"> </h3> <span class="category svelte-zbmy0k"> </span> <button class="close-btn svelte-zbmy0k" aria-label="Close">×</button></div> <div class="visual-container svelte-zbmy0k"><!> <div class="muscles svelte-zbmy0k"> </div></div> <div class="instructions svelte-zbmy0k"><h4>Instructions</h4> <ol class="svelte-zbmy0k"></ol></div></div></div>');function Vr(R,i){Bt(i,!1);let l=we(i,"exercise",8),y=we(i,"visible",8,!1);const O=fa();let M=fs(0),D;function E(){l().images&&l().images.length>0&&(t(M,0),D=setInterval(()=>{t(M,(e(M)+1)%l().images.length)},800))}function N(){D&&clearInterval(D)}gs(()=>{N()});function P(){O("close")}ps(()=>(ht(y()),ht(l())),()=>{y()&&l().images?.length?E():N()}),ms(),Wa();var d=Kt(),v=Ft(d);{var w=L=>{var C=Ur(),T=s(C),h=s(T),p=s(h),B=s(p,!0);a(p);var A=r(p,2),Q=s(A,!0);a(A);var Z=r(A,2);a(h);var I=r(h,2),H=s(I);{var U=z=>{var $=Hr();ue($,5,()=>(ht(l()),pt(()=>l().images)),ve,(te,ge,ze)=>{var Te=Wr();let $e;W(()=>{st(Te,"src",`${Ds??""}${e(ge)??""}`),st(Te,"alt",`${ht(l()),pt(()=>l().name)??""} frame ${ze+1}`),$e=Ct(Te,1,"svelte-zbmy0k",null,$e,{active:ze===e(M)})}),n(te,Te)}),a($),n(z,$)},se=z=>{var $=zr();n(z,$)};V(H,z=>{ht(l()),pt(()=>l().images&&l().images.length>0)?z(U):z(se,!1)})}var re=r(H,2),oe=s(re);a(re),a(I);var ee=r(I,2),ie=r(s(ee),2);ue(ie,5,()=>(ht(l()),pt(()=>l().instructions)),ve,(z,$)=>{var te=jr(),ge=s(te,!0);a(te),W(()=>j(ge,e($))),n(z,te)}),a(ie),a(ee),a(T),a(C),W(z=>{j(B,(ht(l()),pt(()=>l().name))),j(Q,(ht(l()),pt(()=>l().category))),j(oe,`Targets: ${z??""}`)},[()=>(ht(l()),pt(()=>l().targetMuscles.join(", ")))]),Dt("click",Z,P),na(3,T,()=>Za,()=>({y:50,duration:300})),Dt("click",T,Va(function(z){Pa.call(this,i,z)})),Dt("keydown",T,Va(function(z){Pa.call(this,i,z)})),Dt("click",C,P),Dt("keydown",C,z=>z.key==="Escape"&&P()),n(L,C)};V(v,L=>{y()&&L(w)})}n(R,d),It()}var Kr=S('<div class="input-group svelte-12q9g58"><label for="delete-confirm" class="svelte-12q9g58">Type <strong> </strong> to confirm:</label> <input type="text" id="delete-confirm" autocomplete="off" class="svelte-12q9g58"/></div>'),Qr=S('<button class="backdrop svelte-12q9g58" aria-label="Close modal"></button> <div class="modal svelte-12q9g58" role="dialog" aria-modal="true"><h3 class="svelte-12q9g58"> </h3> <p class="svelte-12q9g58"> </p> <!> <div class="actions svelte-12q9g58"><button class="btn-cancel svelte-12q9g58">Cancel</button> <button class="btn-delete svelte-12q9g58">Delete</button></div></div>',1);function Jr(R,i){Bt(i,!0);let l=we(i,"isOpen",3,!1),y=we(i,"title",3,"Confirm Delete"),O=we(i,"message",3,"Are you sure you want to delete this item? This action cannot be undone."),M=we(i,"confirmKeyword",3,"delete"),D=we(i,"requireInput",3,!0),E=u(""),N=bt(()=>!D()||e(E).toLowerCase()===M().toLowerCase());function P(){e(N)&&(i.onConfirm(),t(E,""))}function d(){i.onCancel(),t(E,"")}var v=Kt(),w=Ft(v);{var L=C=>{var T=Qr(),h=Ft(T);h.__click=d;var p=r(h,2),B=s(p),A=s(B,!0);a(B);var Q=r(B,2),Z=s(Q,!0);a(Q);var I=r(Q,2);{var H=oe=>{var ee=Kr(),ie=s(ee),z=r(s(ie)),$=s(z,!0);a(z),Na(),a(ie);var te=r(ie,2);le(te),a(ee),W(()=>{j($,M()),st(te,"placeholder",M())}),de(te,()=>e(E),ge=>t(E,ge)),n(oe,ee)};V(I,oe=>{D()&&oe(H)})}var U=r(I,2),se=s(U);se.__click=d;var re=r(se,2);re.__click=P,a(U),a(p),W(()=>{j(A,y()),j(Z,O()),re.disabled=!e(N)}),na(3,h,()=>ja,()=>({duration:200})),na(3,p,()=>$a,()=>({duration:200,start:.9})),n(C,T)};V(w,C=>{l()&&C(L)})}n(R,v),It()}Zt(["click"]);var Yr=S('<div class="form-header-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;"><h2 style="margin: 0; font-size: 1.25rem; color: var(--teal-primary);">New Gym Session</h2></div>'),Xr=S("<span>Saved! ✓</span>"),Zr=S("<button><!></button>"),$r=S("<option> </option>"),ei=S("<option> </option>"),ti=S('<div class="filter-row svelte-1w0zsmt"><select class="category-select svelte-1w0zsmt"><option>Select Category...</option><!></select> <select class="subcategory-select svelte-1w0zsmt"><option>Select Subcategory...</option><!></select></div>'),ai=S('<span class="details svelte-1w0zsmt"> </span>'),si=S('<button class="exercise-item-simple svelte-1w0zsmt"><span class="name svelte-1w0zsmt"> </span> <!></button>'),ri=S('<div class="no-results svelte-1w0zsmt"> </div>'),ii=S('<div class="modal-overlay svelte-1w0zsmt" role="button" tabindex="0" aria-label="Close modal"><div class="picker-modal svelte-1w0zsmt" role="dialog" aria-modal="true" tabindex="-1"><div class="picker-header svelte-1w0zsmt"><h3>Add Exercise</h3> <div class="search-row svelte-1w0zsmt"><input type="text" placeholder="Search exercises..." class="svelte-1w0zsmt"/></div> <!></div> <div class="picker-content svelte-1w0zsmt"><div class="exercise-list-simple svelte-1w0zsmt"><!> <!></div></div></div></div>'),li=S('<div class="gym-session-form svelte-1w0zsmt"><div class="session-meta svelte-1w0zsmt"><!> <input type="text" class="session-name svelte-1w0zsmt" placeholder="Workout Name (e.g. Pull Day)"/> <div class="meta-row svelte-1w0zsmt"><label class="svelte-1w0zsmt">Date <div class="date-time-row svelte-1w0zsmt"><input type="date" class="svelte-1w0zsmt"/> <input type="time" class="svelte-1w0zsmt"/></div></label> <label class="svelte-1w0zsmt">Bodyweight (kg) <input type="number" placeholder="Optional" class="svelte-1w0zsmt"/></label> <label class="svelte-1w0zsmt">Block <select class="svelte-1w0zsmt"><option>Strength</option><option>Power</option><option>Power Endurance</option><option>Muscular Endurance</option></select></label></div></div> <div class="exercises-list"></div> <button class="add-exercise-btn svelte-1w0zsmt">+ Add Exercise</button> <div class="session-notes-container svelte-1w0zsmt"><!></div> <!> <!> <!> <!> <!></div>');function zi(R,i){Bt(i,!0);const l=fa(),y="gym_session_draft";let O=we(i,"initialData",3,null),M=bt(()=>!!O()),D=u(""),E=u(void 0),N=u(He([])),P=u(He(new Date().toISOString().split("T")[0])),d=u(He(new Date().toTimeString().split(" ")[0].slice(0,5))),v=u("Strength"),w=u(null),L=u(He([])),C=u("");ma(async()=>{if(O())t(D,O().name,!0),t(E,O().bodyweight,!0),t(N,O().exercises,!0),t(P,O().date,!0),t(d,O().time||"12:00",!0),t(v,O().trainingBlock||"Strength",!0),t(C,O().notes||"",!0),t(re,!0);else{const G=localStorage.getItem(y);if(G)try{const o=JSON.parse(G);o.sessionName&&t(D,o.sessionName,!0),o.bodyweight&&t(E,o.bodyweight,!0),o.startTime&&t(P,o.startTime,!0),o.time&&t(d,o.time,!0),o.trainingBlock&&t(v,o.trainingBlock,!0),o.exercises&&t(N,o.exercises,!0),o.notes&&t(C,o.notes,!0)}catch(o){console.error("Failed to restore draft",o)}t(re,!0)}const x=await xs();x.ok&&x.data&&t(L,x.data.map(G=>({...G,activityType:"gym_session",syncStatus:"synced"})),!0)}),ra(()=>{const x=e(L).filter(G=>(G.trainingBlock||"Strength")===e(v)&&G.date<e(P));x.sort((G,o)=>new Date(o.date).getTime()-new Date(G.date).getTime()),t(w,x.length>0?x[0]:null,!0)});function T(x){const G={Green:null,Yellow:null,Orange:null,Red:null},o=[...e(L)].sort((m,q)=>new Date(q.date).getTime()-new Date(m.date).getTime());for(const m of o){if(G.Green&&G.Yellow&&G.Orange&&G.Red)break;const q=m.exercises.find(K=>K.name===x);if(q&&q.difficulty&&!G[q.difficulty]){let K=null;for(const _ of q.sets)(!K||_.weight>K.weight||_.weight===K.weight&&_.reps>K.reps)&&(K=_);K&&(G[q.difficulty]={weight:K.weight,reps:K.reps})}}return G}let h=u(!1),p=u(""),B=u(""),A=u(""),Q=u(!1),Z=u(null),I=u(null),H=u(!1),U=u(null),se=u(3),re=u(!1);ra(()=>{if(e(re)&&!e(M)&&typeof localStorage<"u"){const x={sessionName:e(D),bodyweight:e(E),startTime:e(P),time:e(d),trainingBlock:e(v),exercises:e(N),notes:e(C)};localStorage.setItem(y,JSON.stringify(x))}});let oe=bt(()=>Ra.filter(x=>{if(e(p))return x.name.toLowerCase().includes(e(p).toLowerCase())||x.targetMuscles.some(m=>m.toLowerCase().includes(e(p).toLowerCase()));const G=e(B)?x.category===e(B):!0,o=e(A)?x.subcategory===e(A):!0;return G&&o}));const ee=Array.from(new Set(Ra.map(x=>x.category))).sort();let ie=bt(()=>e(B)?Array.from(new Set(Ra.filter(x=>x.category===e(B)).map(x=>x.subcategory))).sort():[]);function z(){t(A,"")}function $(x){const G={id:crypto.randomUUID(),name:x.name,sets:[{weight:0,reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1}]};t(N,[...e(N),G],!0),t(h,!1),t(p,""),t(B,""),t(A,"")}function te(x){const G=x.detail;t(U,G.id,!0),t(se,G.sets.length,!0),t(Q,!0)}function ge(){}async function ze(){if(e(N).length===0)return;const x={date:e(P),time:e(d),name:e(D)||"Gym Workout",bodyweight:e(E),trainingBlock:e(v),exercises:e(N),notes:e(C)},G=e(M)&&O()?await Cs(O().id,x):await Ls(x);G.ok?(t(H,!0),e(M)||localStorage.removeItem(y),i.onSaved?i.onSaved():setTimeout(()=>{t(H,!1),l("save")},1500)):console.error("Failed to save gym session",G.error)}var Te=li(),$e=s(Te),Lt=s($e);{var wt=x=>{var G=Yr();n(x,G)};V(Lt,x=>{e(M)||x(wt)})}var mt=r(Lt,2);le(mt);var St=r(mt,2),ft=s(St),kt=r(s(ft)),_t=s(kt);le(_t);var Qe=r(_t,2);le(Qe),a(kt),a(ft);var et=r(ft,2),Ee=r(s(et));le(Ee),a(et);var tt=r(et,2),Be=r(s(tt)),F=s(Be);F.value=F.__value="Strength";var J=r(F);J.value=J.__value="Power";var xe=r(J);xe.value=xe.__value="Power Endurance";var Je=r(xe);Je.value=Je.__value="Muscular Endurance",a(Be),a(tt),a(St),a($e);var Pe=r($e,2);ue(Pe,21,()=>e(N),ve,(x,G,o)=>{{let m=bt(()=>T(e(G).name));Dr(x,{get exercise(){return e(G)},get benchmarks(){return e(m)},$$events:{complete:ge,timer:te,delete:()=>{t(I,o,!0)},info:()=>{const q=Ra.find(K=>K.name===e(G).name);q&&t(Z,q,!0)}}})}}),a(Pe);var Ae=r(Pe,2);Ae.__click=()=>t(h,!0);var ot=r(Ae,2),Tt=s(ot);Sa(Tt,{placeholder:"How did the workout feel? Energy, sleep, stress...",get value(){return e(C)},set value(x){t(C,x,!0)}}),a(ot);var Rt=r(ot,2);{var qt=x=>{var G=Zr();let o;G.__click=ze;var m=s(G);{var q=_=>{var b=Xr();n(_,b)},K=_=>{var b=yt("Finish Workout");n(_,b)};V(m,_=>{e(H)?_(q):_(K,!1)})}a(G),W(()=>{o=Ct(G,1,"save-btn svelte-1w0zsmt",null,o,{success:e(H)}),G.disabled=e(H)}),n(x,G)};V(Rt,x=>{e(N).length>0&&x(qt)})}var Pt=r(Rt,2);{var Wt=x=>{var G=ii();G.__click=()=>t(h,!1),G.__keydown=ne=>ne.key==="Escape"&&t(h,!1);var o=s(G);o.__click=ne=>ne.stopPropagation(),o.__keydown=ne=>ne.stopPropagation();var m=s(o),q=r(s(m),2),K=s(q);le(K),a(q);var _=r(q,2);{var b=ne=>{var be=ti(),ce=s(be);ce.__change=z;var ye=s(ce);ye.value=ye.__value="";var rt=r(ye);ue(rt,17,()=>ee,ve,(fe,_e)=>{var he=$r(),De=s(he,!0);a(he);var Nt={};W(()=>{j(De,e(_e)),Nt!==(Nt=e(_e))&&(he.value=(he.__value=e(_e))??"")}),n(fe,he)}),a(ce);var We=r(ce,2),Ue=s(We);Ue.value=Ue.__value="";var Le=r(Ue);ue(Le,17,()=>e(ie),ve,(fe,_e)=>{var he=ei(),De=s(he,!0);a(he);var Nt={};W(()=>{j(De,e(_e)),Nt!==(Nt=e(_e))&&(he.value=(he.__value=e(_e))??"")}),n(fe,he)}),a(We),a(be),W(()=>We.disabled=!e(B)),lt(ce,()=>e(B),fe=>t(B,fe)),lt(We,()=>e(A),fe=>t(A,fe)),n(ne,be)};V(_,ne=>{e(p)||ne(b)})}a(m);var Y=r(m,2),Ie=s(Y),Ge=s(Ie);ue(Ge,17,()=>e(oe),ve,(ne,be)=>{var ce=si();ce.__click=()=>$(e(be));var ye=s(ce),rt=s(ye,!0);a(ye);var We=r(ye,2);{var Ue=Le=>{var fe=ai(),_e=s(fe);a(fe),W(()=>j(_e,`${e(be).category??""} - ${e(be).subcategory??""}`)),n(Le,fe)};V(We,Le=>{e(p)&&Le(Ue)})}a(ce),W(()=>j(rt,e(be).name)),n(ne,ce)});var Se=r(Ge,2);{var Ce=ne=>{var be=ri(),ce=s(be,!0);a(be),W(()=>j(ce,e(p)?"No exercises found":"Select a category and subcategory to view exercises.")),n(ne,be)};V(Se,ne=>{e(oe).length===0&&ne(Ce)})}a(Ie),a(Y),a(o),a(G),de(K,()=>e(p),ne=>t(p,ne)),na(3,o,()=>Za,()=>({y:100,duration:300})),na(3,G,()=>ja),n(x,G)};V(Pt,x=>{e(h)&&x(Wt)})}var xt=r(Pt,2);{var nt=x=>{Vr(x,{get exercise(){return e(Z)},visible:!0,$$events:{close:()=>t(Z,null)}})};V(xt,x=>{e(Z)&&x(nt)})}var me=r(xt,2);es(me,{get defaultSets(){return e(se)},get associatedExerciseId(){return e(U)},get visible(){return e(Q)},set visible(x){t(Q,x,!0)}});var Ne=r(me,2);{var je=x=>{Jr(x,{isOpen:!0,title:"Delete Exercise",get message(){return`Are you sure you want to delete ${e(N)[e(I)].name??""}?`},requireInput:!1,onConfirm:()=>{e(I)!==null&&(t(N,e(N).filter((G,o)=>o!==e(I)),!0),t(I,null))},onCancel:()=>t(I,null)})};V(Ne,x=>{e(I)!==null&&x(je)})}a(Te),de(mt,()=>e(D),x=>t(D,x)),de(_t,()=>e(P),x=>t(P,x)),de(Qe,()=>e(d),x=>t(d,x)),de(Ee,()=>e(E),x=>t(E,x)),lt(Be,()=>e(v),x=>t(v,x)),n(R,Te),It()}Zt(["click","keydown","change"]);var oi=S('<h3 class="svelte-1m63nqt">🤏 Fingerboarding</h3>'),ni=S("<option> </option>"),ci=S("<option> </option>"),ui=S('<button class="remove-set-btn svelte-1m63nqt">✕</button>'),vi=S('<div class="set-row svelte-1m63nqt"><div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Weight</label> <input type="number" placeholder="0" class="svelte-1m63nqt"/></div> <div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Reps/Secs</label> <input type="number" placeholder="1" class="svelte-1m63nqt"/></div> <!></div>'),di=S('<div class="exercise-card svelte-1m63nqt"><div class="card-header svelte-1m63nqt"><div class="header-inputs svelte-1m63nqt"><select class="svelte-1m63nqt"></select> <select class="svelte-1m63nqt"></select></div> <button class="remove-card-btn svelte-1m63nqt" title="Remove Exercise">✕</button></div> <div class="sets-list svelte-1m63nqt"><!> <button class="add-set-btn svelte-1m63nqt">+ Add Set</button> <button class="rest-btn svelte-1m63nqt" title="Interval Timer">⏱ Timer</button></div> <div class="card-footer svelte-1m63nqt"><div class="meta-input svelte-1m63nqt"><label class="svelte-1m63nqt">Total Sets</label> <input type="number" readonly="" disabled class="svelte-1m63nqt"/></div> <div class="notes-input svelte-1m63nqt"><label class="svelte-1m63nqt">Notes</label> <input type="text" placeholder="Notes..." class="svelte-1m63nqt"/></div></div></div>'),gi=S("<div> </div>"),pi=S('<div class="form-content svelte-1m63nqt"><div class="header-row svelte-1m63nqt"><div style="flex: 1; display: flex; justify-content: space-between; align-items: center;"><!></div> <button class="add-row-btn svelte-1m63nqt">+ Add Exercise</button></div> <div class="form-group date-group svelte-1m63nqt"><label for="date">Date</label> <div class="date-time-row svelte-1m63nqt"><input type="date" id="date" class="svelte-1m63nqt"/> <input type="time" id="time" class="svelte-1m63nqt"/></div></div> <div class="cards-container svelte-1m63nqt"></div> <div class="load-section svelte-1m63nqt"><h4 class="svelte-1m63nqt">Load Metrics</h4> <div class="load-metrics svelte-1m63nqt"><div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div></div> <h4 class="mt-4 svelte-1m63nqt">Grip Metrics</h4> <div class="load-metrics svelte-1m63nqt"><div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div></div></div> <div class="notes-section"><!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1m63nqt"><!></button></div> <!></div>');function ji(R,i){Bt(i,!0),fa();let l=we(i,"initialData",3,null),y=bt(()=>!!l());const O=["Max hangs","Recruitment pulls","Max pick-ups"],M=["Full-crimp","Half-crimp","Three finger drag","Pinch","Open hand","Sloper"];let D=u(He(new Date().toISOString().split("T")[0])),E=u(He(new Date().toTimeString().split(" ")[0].slice(0,5))),N=u(He([])),P=u(3),d=u(3),v=u(3),w=u(3),L=u(3),C=u(3),T=u(3),h=u(3),p=u(""),B=u(!1),A=u(null),Q=u(3);function Z(_){t(A,_.id,!0),t(Q,_.sets,!0),t(B,!0)}function I(){t(N,[...e(N),{id:crypto.randomUUID(),name:O[0],gripType:M[1],sets:1,details:[{weight:0,reps:5}],notes:""}],!0)}const H="fingerboard_session_draft";let U=u(!1);ma(()=>{if(l())t(D,l().date,!0),t(E,l().time||"12:00",!0),t(N,l().exercises,!0),t(P,l().fingerLoad||3,!0),t(d,l().shoulderLoad||3,!0),t(v,l().forearmLoad||3,!0),t(w,l().openGrip||3,!0),t(L,l().crimpGrip||3,!0),t(C,l().pinchGrip||3,!0),t(T,l().sloperGrip||3,!0),t(h,l().jugGrip||3,!0),t(p,l().notes||"",!0),t(U,!0);else{const _=localStorage.getItem(H);if(_)try{const b=JSON.parse(_);b.time&&t(E,b.time,!0),b.exercises&&Array.isArray(b.exercises)&&t(N,b.exercises,!0),b.fingerLoad&&t(P,b.fingerLoad,!0),b.shoulderLoad&&t(d,b.shoulderLoad,!0),b.forearmLoad&&t(v,b.forearmLoad,!0),b.openGrip&&t(w,b.openGrip,!0),b.crimpGrip&&t(L,b.crimpGrip,!0),b.pinchGrip&&t(C,b.pinchGrip,!0),b.sloperGrip&&t(T,b.sloperGrip,!0),b.jugGrip&&t(h,b.jugGrip,!0),b.notes&&t(p,b.notes,!0)}catch(b){console.error("Failed to restore draft",b)}e(N).length===0&&I(),t(U,!0)}}),ra(()=>{if(!e(U)||e(y))return;const _={date:e(D),time:e(E),exercises:e(N),fingerLoad:e(P),shoulderLoad:e(d),forearmLoad:e(v),openGrip:e(w),crimpGrip:e(L),pinchGrip:e(C),sloperGrip:e(T),jugGrip:e(h),notes:e(p)};localStorage.setItem(H,JSON.stringify(_))});function se(_){t(N,e(N).filter((b,Y)=>Y!==_),!0)}function re(_){const b=e(N)[_],Y=b.details[b.details.length-1];b.details=[...b.details,{...Y}],b.sets=b.details.length}function oe(_,b){const Y=e(N)[_];Y.details.length>1&&(Y.details=Y.details.filter((Ie,Ge)=>Ge!==b),Y.sets=Y.details.length)}let ee=u("idle"),ie=u("");async function z(){t(ee,"saving");try{const _={date:e(D),time:e(E),location:"N/A",exercises:JSON.parse(JSON.stringify(e(N))),fingerLoad:e(P),shoulderLoad:e(d),forearmLoad:e(v),openGrip:e(w),crimpGrip:e(L),pinchGrip:e(C),sloperGrip:e(T),jugGrip:e(h),notes:e(p)};let b;e(y)&&l()?b=await Rs(l().id,_):b=await Ps(_),b.ok?(t(ee,"success"),t(ie,"Session saved!"),e(y)||localStorage.removeItem(H),i.onSaved?i.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{$()},2e3))):(t(ee,"error"),t(ie,"Failed to save: "+(b.error||"Unknown error")))}catch(_){t(ee,"error"),t(ie,"Failed to save session"),console.error("Save error:",_)}}function $(){t(D,new Date().toISOString().split("T")[0],!0),t(E,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(N,[],!0),I(),t(P,3),t(d,3),t(v,3),t(w,3),t(L,3),t(C,3),t(T,3),t(h,3),t(p,""),t(ee,"idle"),t(ie,"")}var te=pi(),ge=s(te),ze=s(ge),Te=s(ze);{var $e=_=>{var b=oi();n(_,b)};V(Te,_=>{e(y)||_($e)})}a(ze);var Lt=r(ze,2);Lt.__click=I,a(ge);var wt=r(ge,2),mt=r(s(wt),2),St=s(mt);le(St);var ft=r(St,2);le(ft),a(mt),a(wt);var kt=r(wt,2);ue(kt,21,()=>e(N),ve,(_,b,Y)=>{var Ie=di(),Ge=s(Ie),Se=s(Ge),Ce=s(Se);ue(Ce,21,()=>O,ve,(ct,it)=>{var Me=ni(),ut=s(Me,!0);a(Me);var vt={};W(()=>{j(ut,e(it)),vt!==(vt=e(it))&&(Me.value=(Me.__value=e(it))??"")}),n(ct,Me)}),a(Ce);var ne=r(Ce,2);ue(ne,21,()=>M,ve,(ct,it)=>{var Me=ci(),ut=s(Me,!0);a(Me);var vt={};W(()=>{j(ut,e(it)),vt!==(vt=e(it))&&(Me.value=(Me.__value=e(it))??"")}),n(ct,Me)}),a(ne),a(Se);var be=r(Se,2);be.__click=()=>se(Y),a(Ge);var ce=r(Ge,2),ye=s(ce);ue(ye,17,()=>e(b).details,ve,(ct,it,Me)=>{var ut=vi(),vt=s(ut),zt=s(vt);st(zt,"for",`weight-${Y}-${Me}`);var Ve=r(zt,2);le(Ve),st(Ve,"id",`weight-${Y}-${Me}`),a(vt);var Ye=r(vt,2),Ot=s(Ye);st(Ot,"for",`reps-${Y}-${Me}`);var jt=r(Ot,2);le(jt),st(jt,"id",`reps-${Y}-${Me}`),a(Ye);var $t=r(Ye,2);{var ia=Ht=>{var ea=ui();ea.__click=()=>oe(Y,Me),n(Ht,ea)};V($t,Ht=>{e(b).details.length>1&&Ht(ia)})}a(ut),de(Ve,()=>e(it).weight,Ht=>e(it).weight=Ht),de(jt,()=>e(it).reps,Ht=>e(it).reps=Ht),n(ct,ut)});var rt=r(ye,2);rt.__click=()=>re(Y);var We=r(rt,2);We.__click=()=>Z(e(b)),a(ce);var Ue=r(ce,2),Le=s(Ue),fe=s(Le);st(fe,"for",`total-sets-${Y}`);var _e=r(fe,2);le(_e),st(_e,"id",`total-sets-${Y}`),a(Le);var he=r(Le,2),De=s(he);st(De,"for",`notes-${Y}`);var Nt=r(De,2);le(Nt),st(Nt,"id",`notes-${Y}`),a(he),a(Ue),a(Ie),W(()=>hs(_e,e(b).sets)),lt(Ce,()=>e(b).name,ct=>e(b).name=ct),lt(ne,()=>e(b).gripType,ct=>e(b).gripType=ct),de(Nt,()=>e(b).notes,ct=>e(b).notes=ct),n(_,Ie)}),a(kt);var _t=r(kt,2),Qe=r(s(_t),2),et=s(Qe),Ee=s(et);Re(Ee,{id:"finger-load",label:"Finger",get value(){return e(P)},set value(_){t(P,_,!0)}}),a(et);var tt=r(et,2),Be=s(tt);Re(Be,{id:"shoulder-load",label:"Shoulder",get value(){return e(d)},set value(_){t(d,_,!0)}}),a(tt);var F=r(tt,2),J=s(F);Re(J,{id:"forearm-load",label:"Forearm",get value(){return e(v)},set value(_){t(v,_,!0)}}),a(F),a(Qe);var xe=r(Qe,4),Je=s(xe),Pe=s(Je);Re(Pe,{id:"open-grip",label:"Open",get value(){return e(w)},set value(_){t(w,_,!0)}}),a(Je);var Ae=r(Je,2),ot=s(Ae);Re(ot,{id:"crimp-grip",label:"Crimp",get value(){return e(L)},set value(_){t(L,_,!0)}}),a(Ae);var Tt=r(Ae,2),Rt=s(Tt);Re(Rt,{id:"pinch-grip",label:"Pinch",get value(){return e(C)},set value(_){t(C,_,!0)}}),a(Tt);var qt=r(Tt,2),Pt=s(qt);Re(Pt,{id:"sloper-grip",label:"Sloper",get value(){return e(T)},set value(_){t(T,_,!0)}}),a(qt);var Wt=r(qt,2),xt=s(Wt);Re(xt,{id:"jug-grip",label:"Jug",get value(){return e(h)},set value(_){t(h,_,!0)}}),a(Wt),a(xe),a(_t);var nt=r(_t,2),me=s(nt);Sa(me,{placeholder:"How did the session feel? Energy levels, mood, etc.",get value(){return e(p)},set value(_){t(p,_,!0)}}),a(nt);var Ne=r(nt,2),je=s(Ne);{var x=_=>{var b=gi();let Y;var Ie=s(b,!0);a(b),W(()=>{Y=Ct(b,1,"save-message svelte-1m63nqt",null,Y,{success:e(ee)==="success",error:e(ee)==="error"}),j(Ie,e(ie))}),n(_,b)};V(je,_=>{e(ie)&&_(x)})}var G=r(je,2);G.__click=z;var o=s(G);{var m=_=>{var b=yt("Saving...");n(_,b)},q=_=>{var b=Kt(),Y=Ft(b);{var Ie=Se=>{var Ce=yt("✓ Saved!");n(Se,Ce)},Ge=Se=>{var Ce=yt("Save Session");n(Se,Ce)};V(Y,Se=>{e(ee)==="success"?Se(Ie):Se(Ge,!1)},!0)}n(_,b)};V(o,_=>{e(ee)==="saving"?_(m):_(q,!1)})}a(G),a(Ne);var K=r(Ne,2);es(K,{get defaultSets(){return e(Q)},get associatedExerciseId(){return e(A)},get visible(){return e(B)},set visible(_){t(B,_,!0)}}),a(te),W(()=>G.disabled=e(ee)==="saving"),de(St,()=>e(D),_=>t(D,_)),de(ft,()=>e(E),_=>t(E,_)),n(R,te),It()}Zt(["click"]);var mi=S('<h3 style="margin: 0; color: var(--teal-secondary);" class="svelte-1fje4dh">🏆 Competition</h3>'),fi=S("<option> </option>"),_i=S('<input type="text" placeholder="Enter venue name" class="mt-2 svelte-1fje4dh"/>'),hi=S("<option> </option>"),bi=S("<option> </option>"),yi=S('<input type="text" placeholder="Round name" class="mt-2 svelte-1fje4dh"/>'),wi=S('<div class="result-mode-content svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="position" class="svelte-1fje4dh">Final Position</label> <input type="number" id="position" placeholder="#" class="large-input svelte-1fje4dh"/></div></div>'),Si=S("<option> </option>"),ki=S('<input type="number" min="1" class="svelte-1fje4dh"/>'),Ti=S('<span class="flash-dash">-</span>'),xi=S('<tr><td class="col-name svelte-1fje4dh"><input type="text" class="svelte-1fje4dh"/></td><td class="col-status svelte-1fje4dh"><select class="svelte-1fje4dh"></select></td><td class="col-attempt svelte-1fje4dh"><!></td><td class="col-notes svelte-1fje4dh"><input type="text" placeholder="..." class="svelte-1fje4dh"/></td><td class="col-action svelte-1fje4dh"><button class="svelte-1fje4dh">✕</button></td></tr>'),Ci=S('<div class="section-header centered svelte-1fje4dh"><h4 class="svelte-1fje4dh">Load Metrics</h4></div> <div class="load-metrics-column svelte-1fje4dh"><div class="metric-row svelte-1fje4dh"><!></div> <div class="metric-row svelte-1fje4dh"><!></div> <div class="metric-row svelte-1fje4dh"><!></div></div> <div class="climbs-table-container svelte-1fje4dh"><div class="section-header svelte-1fje4dh"><h4 class="svelte-1fje4dh">Boulders / Routes</h4></div> <table class="climbs-table svelte-1fje4dh"><thead><tr><th class="svelte-1fje4dh">#</th><th class="svelte-1fje4dh">Result</th><th class="svelte-1fje4dh">Att.</th><th class="svelte-1fje4dh">Notes</th><th class="svelte-1fje4dh"></th></tr></thead><tbody></tbody></table> <button class="add-row-btn svelte-1fje4dh">+ Add Row</button></div>',1),Li=S("<div> </div>"),Ri=S('<div class="form-content svelte-1fje4dh"><div style="flex: 1; display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;"><!></div> <div class="form-grid svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="date" class="svelte-1fje4dh">Date</label> <div class="date-time-row svelte-1fje4dh"><input type="date" id="date" class="svelte-1fje4dh"/> <input type="time" id="time" class="svelte-1fje4dh"/></div></div> <div class="form-group svelte-1fje4dh"><label for="venue" class="svelte-1fje4dh">Venue</label> <select id="venue" class="svelte-1fje4dh"><option disabled>Select venue...</option><!></select> <!></div></div> <div class="form-group mb-4 svelte-1fje4dh"><label for="type" class="svelte-1fje4dh">Type</label> <select id="type" class="svelte-1fje4dh"></select></div> <div class="form-group mb-4 svelte-1fje4dh"><!></div> <div class="round-section svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="round" class="svelte-1fje4dh">Round</label> <select id="round" class="svelte-1fje4dh"></select> <!></div> <!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1fje4dh"><!></button></div></div>');function Ui(R,i){Bt(i,!0),fa();let l=we(i,"initialData",3,null),y=bt(()=>!!l());const O=["Flashpoint Bristol","Rockstar Techno","Rockstar Unit 3","Rockstar Unit 5","Bloc","TCA","Other"],M=["Bouldering","Lead","Speed"],D=["Qualifiers","Semi-Finals","Finals","Result","Other"],E=["Flash","Top","Zone","Attempt"];let N=u(He(new Date().toISOString().split("T")[0])),P=u(He(new Date().toTimeString().split(" ")[0].slice(0,5))),d=u(""),v=u(""),w=u("Bouldering"),L=u(4),C=u(4),T=u(4),h=u("Qualifiers"),p=u(""),B=u(null),A=u(He([{name:"#1",status:"Flash",attemptCount:1,notes:""}])),Q=u("");const Z="competition_session_draft";let I=u(!1);ma(()=>{if(l()){if(t(N,l().date,!0),t(P,l().time||"12:00",!0),t(w,l().type||"Bouldering",!0),t(Q,l().notes||"",!0),O.includes(l().venue)?t(d,l().venue,!0):(t(d,"Other"),t(v,l().venue,!0)),t(L,l().fingerLoad??4,!0),t(C,l().shoulderLoad??4,!0),t(T,l().forearmLoad??4,!0),l().rounds&&l().rounds.length>0){const o=l().rounds[0];D.includes(o.name)?t(h,o.name,!0):(t(h,"Other"),t(p,o.name,!0)),t(B,o.position??null,!0),o.climbs&&o.climbs.length>0&&t(A,o.climbs,!0)}t(I,!0)}else{const o=localStorage.getItem(Z);if(o)try{const m=JSON.parse(o);m.venue&&t(d,m.venue,!0),m.time&&t(P,m.time,!0),m.customVenue&&t(v,m.customVenue,!0),m.type&&t(w,m.type,!0),m.fingerLoad&&t(L,m.fingerLoad,!0),m.shoulderLoad&&t(C,m.shoulderLoad,!0),m.forearmLoad&&t(T,m.forearmLoad,!0),m.roundName&&t(h,m.roundName,!0),m.customRoundName&&t(p,m.customRoundName,!0),m.finalPosition&&t(B,m.finalPosition,!0),m.climbs&&t(A,m.climbs,!0),m.notes&&t(Q,m.notes,!0)}catch(m){console.error("Failed to restore draft",m)}t(I,!0)}}),ra(()=>{if(!e(I)||e(y))return;const o={date:e(N),time:e(P),venue:e(d),customVenue:e(v),type:e(w),fingerLoad:e(L),shoulderLoad:e(C),forearmLoad:e(T),roundName:e(h),customRoundName:e(p),finalPosition:e(B),climbs:e(A),notes:e(Q)};localStorage.setItem(Z,JSON.stringify(o))});let H=bt(()=>e(h)==="Result"),U=bt(()=>e(d)==="Other"),se=bt(()=>e(h)==="Other"),re=bt(()=>e(h)==="Other"?e(p):e(h));function oe(){const o=e(A).length+1;t(A,[...e(A),{name:`#${o}`,status:"Flash",attemptCount:1,notes:""}],!0)}function ee(o){e(A).length>1?t(A,e(A).filter((m,q)=>q!==o),!0):e(A)[0]={name:"#1",status:"Flash",attemptCount:1,notes:""}}function ie(o,m){e(A)[o].status=m,m==="Flash"&&(e(A)[o].attemptCount=1)}let z=u("idle"),$=u("");async function te(){if(!e(d)||e(d)==="Other"&&!e(v)){t(z,"error"),t($,"Please specify a venue");return}t(z,"saving");try{const o={name:e(re),position:e(H)?e(B):void 0,climbs:e(H)?void 0:JSON.parse(JSON.stringify(e(A)))},m={date:e(N),time:e(P),venue:e(d)==="Other"?e(v):e(d),customVenue:e(d)==="Other"?e(v):void 0,type:e(w),fingerLoad:e(H)?void 0:e(L),shoulderLoad:e(H)?void 0:e(C),forearmLoad:e(H)?void 0:e(T),rounds:[o],notes:e(Q)};let q;e(y)&&l()?q=await Ns(l().id,m):q=await Ms(m),q.ok?(t(z,"success"),t($,"Competition saved!"),e(y)||localStorage.removeItem(Z),i.onSaved?i.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{ge()},2e3))):(t(z,"error"),t($,"Failed to save: "+(q.error||"Unknown error")))}catch(o){t(z,"error"),t($,"Failed to save session"),console.error("Save error:",o)}}function ge(){t(N,new Date().toISOString().split("T")[0],!0),t(P,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(d,""),t(v,""),t(B,null),t(A,[{name:"#1",status:"Flash",attemptCount:1,notes:""}],!0),t(Q,""),t(z,"idle"),t($,"")}var ze=Ri(),Te=s(ze),$e=s(Te);{var Lt=o=>{var m=mi();n(o,m)};V($e,o=>{e(y)||o(Lt)})}a(Te);var wt=r(Te,2),mt=s(wt),St=r(s(mt),2),ft=s(St);le(ft);var kt=r(ft,2);le(kt),a(St),a(mt);var _t=r(mt,2),Qe=r(s(_t),2),et=s(Qe);et.value=et.__value="";var Ee=r(et);ue(Ee,17,()=>O,ve,(o,m)=>{var q=fi(),K=s(q,!0);a(q);var _={};W(()=>{j(K,e(m)),_!==(_=e(m))&&(q.value=(q.__value=e(m))??"")}),n(o,q)}),a(Qe);var tt=r(Qe,2);{var Be=o=>{var m=_i();le(m),de(m,()=>e(v),q=>t(v,q)),n(o,m)};V(tt,o=>{e(U)&&o(Be)})}a(_t),a(wt);var F=r(wt,2),J=r(s(F),2);ue(J,21,()=>M,ve,(o,m)=>{var q=hi(),K=s(q,!0);a(q);var _={};W(()=>{j(K,e(m)),_!==(_=e(m))&&(q.value=(q.__value=e(m))??"")}),n(o,q)}),a(J),a(F);var xe=r(F,2),Je=s(xe);Sa(Je,{placeholder:"How did the comp go? Strategy, mindset, etc.",get value(){return e(Q)},set value(o){t(Q,o,!0)}}),a(xe);var Pe=r(xe,2),Ae=s(Pe),ot=r(s(Ae),2);ue(ot,21,()=>D,ve,(o,m)=>{var q=bi(),K=s(q,!0);a(q);var _={};W(()=>{j(K,e(m)),_!==(_=e(m))&&(q.value=(q.__value=e(m))??"")}),n(o,q)}),a(ot);var Tt=r(ot,2);{var Rt=o=>{var m=yi();le(m),de(m,()=>e(p),q=>t(p,q)),n(o,m)};V(Tt,o=>{e(se)&&o(Rt)})}a(Ae);var qt=r(Ae,2);{var Pt=o=>{var m=wi(),q=s(m),K=r(s(q),2);le(K),a(q),a(m),de(K,()=>e(B),_=>t(B,_)),n(o,m)},Wt=o=>{var m=Ci(),q=r(Ft(m),2),K=s(q),_=s(K);Re(_,{id:"finger",label:"Finger Load",max:5,get value(){return e(L)},set value(ce){t(L,ce,!0)}}),a(K);var b=r(K,2),Y=s(b);Re(Y,{id:"shoulder",label:"Shoulder Load",max:5,get value(){return e(C)},set value(ce){t(C,ce,!0)}}),a(b);var Ie=r(b,2),Ge=s(Ie);Re(Ge,{id:"forearm",label:"Forearm Load",max:5,get value(){return e(T)},set value(ce){t(T,ce,!0)}}),a(Ie),a(q);var Se=r(q,2),Ce=r(s(Se),2),ne=r(s(Ce));ue(ne,21,()=>e(A),ve,(ce,ye,rt)=>{var We=xi(),Ue=s(We),Le=s(Ue);le(Le),a(Ue);var fe=r(Ue),_e=s(fe);_e.__change=Ve=>ie(rt,Ve.target.value),ue(_e,21,()=>E,ve,(Ve,Ye)=>{var Ot=Si(),jt=s(Ot,!0);a(Ot);var $t={};W(()=>{j(jt,e(Ye)),$t!==($t=e(Ye))&&(Ot.value=(Ot.__value=e(Ye))??"")}),n(Ve,Ot)}),a(_e);var he;Fa(_e),a(fe);var De=r(fe),Nt=s(De);{var ct=Ve=>{var Ye=ki();le(Ye),de(Ye,()=>e(ye).attemptCount,Ot=>e(ye).attemptCount=Ot),n(Ve,Ye)},it=Ve=>{var Ye=Ti();n(Ve,Ye)};V(Nt,Ve=>{e(ye).status!=="Flash"?Ve(ct):Ve(it,!1)})}a(De);var Me=r(De),ut=s(Me);le(ut),a(Me);var vt=r(Me),zt=s(vt);zt.__click=()=>ee(rt),a(vt),a(We),W(()=>{he!==(he=e(ye).status)&&(_e.value=(_e.__value=e(ye).status)??"",Ba(_e,e(ye).status))}),de(Le,()=>e(ye).name,Ve=>e(ye).name=Ve),de(ut,()=>e(ye).notes,Ve=>e(ye).notes=Ve),n(ce,We)}),a(ne),a(Ce);var be=r(Ce,2);be.__click=oe,a(Se),n(o,m)};V(qt,o=>{e(H)?o(Pt):o(Wt,!1)})}a(Pe);var xt=r(Pe,2),nt=s(xt);{var me=o=>{var m=Li();let q;var K=s(m,!0);a(m),W(()=>{q=Ct(m,1,"save-message svelte-1fje4dh",null,q,{success:e(z)==="success",error:e(z)==="error"}),j(K,e($))}),n(o,m)};V(nt,o=>{e($)&&o(me)})}var Ne=r(nt,2);Ne.__click=te;var je=s(Ne);{var x=o=>{var m=yt("Saving...");n(o,m)},G=o=>{var m=Kt(),q=Ft(m);{var K=b=>{var Y=yt("✓ Saved!");n(b,Y)},_=b=>{var Y=yt("Save Session");n(b,Y)};V(q,b=>{e(z)==="success"?b(K):b(_,!1)},!0)}n(o,m)};V(je,o=>{e(z)==="saving"?o(x):o(G,!1)})}a(Ne),a(xt),a(ze),W(()=>Ne.disabled=e(z)==="saving"),de(ft,()=>e(N),o=>t(N,o)),de(kt,()=>e(P),o=>t(P,o)),lt(Qe,()=>e(d),o=>t(d,o)),lt(J,()=>e(w),o=>t(w,o)),lt(ot,()=>e(h),o=>t(h,o)),n(R,ze),It()}Zt(["change","click"]);export{Ui as C,Jr as D,Ra as E,ji as F,zi as G,Ii as I,Wi as O,Ka as a,Za as f,cr as g,Hi as s,na as t};
