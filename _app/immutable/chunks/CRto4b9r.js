import{f as k,a as n,c as Kt,t as kt}from"./Daoe3kko.js";import{C as as,X as ss,a$ as rs,a5 as is,a8 as ls,k as mt,b0 as os,az as Ja,b1 as ns,aj as cs,n as wa,aa as us,p as Wt,c as s,r as a,s as r,g as e,t as B,a as It,f as Bt,aM as St,b2 as Ea,e as u,A as Ie,o as ma,d as t,j as ra,as as Na,b3 as fa,q as wt,b4 as vs,b5 as ds,b6 as gs,b7 as ps,b8 as ms,aL as fs}from"./BD2jSOmL.js";import{a as _s,d as Zt,s as j,e as Dt}from"./Clw8EWiG.js";import{i as U}from"./CKIECWdo.js";import{e as ue,k as ve,r as ie,j as rt,v as hs}from"./cSC8pg5z.js";import{s as Ct}from"./DU6y904K.js";import{a as de,n as Fa,o as Ba,b as it,p as Wa,u as bs,q as ys,r as ws,t as Ss,s as Oa,v as ks,w as xs,h as Ts,x as Cs,y as Ls,z as Rs,A as Ps,B as Ns,C as qs}from"./xPE-J_WT.js";import{p as be}from"./9VQmhtgh.js";import{i as Ia}from"./Dp_ruqZb.js";import{b as Ds}from"./NN7rwFwo.js";const Ms=()=>performance.now(),Xt={tick:N=>requestAnimationFrame(N),now:()=>Ms(),tasks:new Set};function Ya(){const N=Xt.now();Xt.tasks.forEach(i=>{i.c(N)||(Xt.tasks.delete(i),i.f())}),Xt.tasks.size!==0&&Xt.tick(Ya)}function Os(N){let i;return Xt.tasks.size===0&&Xt.tick(Ya),{promise:new Promise(l=>{Xt.tasks.add(i={c:N,f:l})}),abort(){Xt.tasks.delete(i)}}}function La(N,i){Ja(()=>{N.dispatchEvent(new CustomEvent(i))})}function Gs(N){if(N==="float")return"cssFloat";if(N==="offset")return"cssOffset";if(N.startsWith("--"))return N;const i=N.split("-");return i.length===1?i[0]:i[0]+i.slice(1).map(l=>l[0].toUpperCase()+l.slice(1)).join("")}function Ua(N){const i={},l=N.split(";");for(const h of l){const[D,G]=h.split(":");if(!D||G===void 0)break;const M=Gs(D.trim());i[M]=G.trim()}return i}const As=N=>N;function na(N,i,l,h){var D=(N&os)!==0,G="both",M,f=i.inert,P=i.style.overflow,C,w;function v(){return Ja(()=>M??=l()(i,h?.()??{},{direction:G}))}var R={is_global:D,in(){i.inert=f,La(i,"introstart"),C=Ga(i,v(),w,1,()=>{La(i,"introend"),C?.abort(),C=M=void 0,i.style.overflow=P})},out(y){i.inert=!0,La(i,"outrostart"),w=Ga(i,v(),C,0,()=>{La(i,"outroend"),y?.()})},stop:()=>{C?.abort(),w?.abort()}},q=as;if((q.nodes.t??=[]).push(R),_s){var b=D;if(!b){for(var x=q.parent;x&&(x.f&ss)!==0;)for(;(x=x.parent)&&(x.f&rs)===0;);b=!x||(x.f&is)!==0}b&&ls(()=>{mt(()=>R.in())})}}function Ga(N,i,l,h,D){var G=h===1;if(ns(i)){var M,f=!1;return cs(()=>{if(!f){var y=i({direction:G?"in":"out"});M=Ga(N,y,l,h,D)}}),{abort:()=>{f=!0,M?.abort()},deactivate:()=>M.deactivate(),reset:()=>M.reset(),t:()=>M.t()}}if(l?.deactivate(),!i?.duration)return D(),{abort:wa,deactivate:wa,reset:wa,t:()=>h};const{delay:P=0,css:C,tick:w,easing:v=As}=i;var R=[];if(G&&l===void 0&&(w&&w(0,1),C)){var q=Ua(C(0,1));R.push(q,q)}var b=()=>1-h,x=N.animate(R,{duration:P,fill:"forwards"});return x.onfinish=()=>{x.cancel();var y=l?.t()??1-h;l?.abort();var S=h-y,z=i.duration*Math.abs(S),A=[];if(z>0){var Q=!1;if(C)for(var Z=Math.ceil(z/16.666666666666668),W=0;W<=Z;W+=1){var I=y+S*v(W/Z),$=Ua(C(I,1-I));A.push($),Q||=$.overflow==="hidden"}Q&&(N.style.overflow="hidden"),b=()=>{var ee=x.currentTime;return y+S*v(ee/z)},w&&Os(()=>{if(x.playState!=="running")return!1;var ee=b();return w(ee,1-ee),!0})}x=N.animate(A,{duration:z,fill:"forwards"}),x.onfinish=()=>{b=()=>h,w?.(h,1-h),D()}},{abort:()=>{x&&(x.cancel(),x.effect=null,x.onfinish=wa)},deactivate:()=>{D=wa},reset:()=>{h===0&&w?.(1,0)},t:()=>b()}}function Va(N){return function(...i){var l=i[0];return l.stopPropagation(),N?.apply(this,i)}}function Pa(N,i){var l=N.$$events?.[i.type],h=us(l)?l.slice():l==null?[]:[l];for(var D of h)D.call(this,i)}var Es=k('<span class="placeholder svelte-1g8x5ph"> </span>'),Fs=k('<span class="chip-display"> </span>'),Bs=k('<button type="button"> </button>'),Ws=k('<div class="multi-select-container svelte-1g8x5ph"><div class="chips svelte-1g8x5ph"><!></div> <div class="options-grid svelte-1g8x5ph"></div></div>');function oa(N,i){Wt(i,!0);let l=be(i,"selected",19,()=>[]),h=be(i,"placeholder",3,"Select options...");function D(v){let R=[...l()];v==="None"?R.includes("None")?R=[]:R=["None"]:(R=R.filter(q=>q!=="None"),R.includes(v)?R=R.filter(q=>q!==v):R.push(v)),i.onChange(R)}var G=Ws(),M=s(G),f=s(M);{var P=v=>{var R=Es(),q=s(R,!0);a(R),B(()=>j(q,h())),n(v,R)},C=v=>{var R=Kt(),q=Bt(R);ue(q,17,l,ve,(b,x)=>{var y=Fs(),S=s(y,!0);a(y),B(()=>j(S,e(x))),n(b,y)}),n(v,R)};U(f,v=>{l().length===0?v(P):v(C,!1)})}a(M);var w=r(M,2);ue(w,21,()=>i.options,ve,(v,R)=>{var q=Bs();q.__click=()=>D(e(R));var b=s(q,!0);a(q),B(x=>{Ct(q,1,`option-chip ${x??""}`,"svelte-1g8x5ph"),j(b,e(R))},[()=>l().includes(e(R))?"selected":""]),n(v,q)}),a(w),a(G),n(N,G),It()}Zt(["click"]);const Is=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","6A+","V4","6B","6B+","V5","6C","6C+","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"],za=Is.map(N=>N.toLowerCase());var zs=k('<span class="grade-error svelte-1km774a">Invalid</span>'),Hs=k('<div class="grade-input-container svelte-1km774a"><input type="text"/> <!></div>');function Xa(N,i){Wt(i,!0);let l=be(i,"value",15),h=be(i,"placeholder",3,"V3");function D(v){return v.trim()?za.includes(v.trim().toLowerCase()):!0}let G=St(()=>D(l()));var M=Hs(),f=s(M);ie(f);let P;var C=r(f,2);{var w=v=>{var R=zs();n(v,R)};U(C,v=>{e(G)||v(w)})}a(M),B(()=>{rt(f,"placeholder",h()),P=Ct(f,1,"grade-input svelte-1km774a",null,P,{invalid:!e(G)})}),de(f,l),n(N,M),It()}var js=k('<button type="button"> </button>'),Us=k('<div class="load-row svelte-oe84ev"><label class="load-label svelte-oe84ev"> </label> <div class="button-group svelte-oe84ev" role="group"></div></div>');function Pe(N,i){Wt(i,!0);let l=be(i,"value",15);be(i,"min",3,1);let h=be(i,"max",3,5);function D(C){l(C)}var G=Us(),M=s(G),f=s(M,!0);a(M);var P=r(M,2);ue(P,21,()=>Array.from({length:h()},(C,w)=>w+1),ve,(C,w)=>{var v=js();let R;v.__click=()=>D(e(w));var q=s(v,!0);a(v),B(()=>{R=Ct(v,1,"scale-btn svelte-oe84ev",null,R,{active:l()===e(w)}),rt(v,"aria-pressed",l()===e(w)),j(q,e(w))}),n(C,v)}),a(P),a(G),B(()=>{rt(M,"for",i.id),j(f,i.label),rt(P,"aria-label",`${i.label??""} scale selector`)}),n(N,G),It()}Zt(["click"]);var Vs=k('<div class="notes-group svelte-1kz8zai"><label for="session-notes" class="svelte-1kz8zai"> </label> <textarea id="session-notes" class="session-notes-area svelte-1kz8zai"></textarea></div>');function Sa(N,i){Wt(i,!0);let l=be(i,"value",15),h=be(i,"label",3,"Session Notes"),D=be(i,"placeholder",3,"How did the session feel? Key takeaways..."),G=be(i,"rows",3,3);var M=Vs(),f=s(M),P=s(f,!0);a(f);var C=r(f,2);Ea(C),a(M),B(()=>{j(P,h()),rt(C,"placeholder",D()),rt(C,"rows",G())}),de(C,l),n(N,M),It()}var Ks=k('<div class="input-with-action svelte-1lf3qka"><input type="text" id="location-manual" placeholder="Enter custom location..." class="flat-left svelte-1lf3qka"/> <button type="button" class="action-btn flat-right svelte-1lf3qka" title="Back to list">✕</button></div>'),Qs=k("<option> </option>"),Js=k('<select id="location" class="svelte-1lf3qka"><option disabled>Select location...</option><!></select>'),Ys=k("<option> </option>"),Xs=k("<option> </option>"),Zs=k('<th class="svelte-1lf3qka">Sport?</th>'),$s=k('<td class="center svelte-1lf3qka"><input type="checkbox" class="svelte-1lf3qka"/></td>'),er=k("<option> </option>"),tr=k("<option> </option>"),ar=k("<option> </option>"),sr=k('<button type="button" class="remove-btn svelte-1lf3qka">✕</button>'),rr=k('<tr class="svelte-1lf3qka"><!><td class="svelte-1lf3qka"><input type="text" placeholder="Route name..." class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><!></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><input type="number" min="1" class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td><textarea placeholder="Notes..." class="svelte-1lf3qka"></textarea></td><td class="center svelte-1lf3qka"><!></td></tr>'),ir=k("<div> </div>"),lr=k('<button type="button" class="cancel-btn-large svelte-1lf3qka">Cancel</button>'),or=k('<div class="form-content svelte-1lf3qka"><div class="form-row svelte-1lf3qka"><div class="form-group svelte-1lf3qka"><label for="date" class="svelte-1lf3qka">Date</label> <div class="date-time-row svelte-1lf3qka"><input type="date" id="date" class="svelte-1lf3qka"/> <input type="time" id="time" class="svelte-1lf3qka"/></div></div> <div class="form-group svelte-1lf3qka"><label for="location" class="svelte-1lf3qka">Location</label> <!></div></div> <div class="form-group svelte-1lf3qka"><label for="climbing-type" class="svelte-1lf3qka">Climbing Type</label> <select id="climbing-type" class="svelte-1lf3qka"><option disabled>Select type...</option><!></select></div> <div class="training-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Training Details</h4> <div class="training-grid svelte-1lf3qka"><div class="training-item svelte-1lf3qka"><label for="training-type" class="svelte-1lf3qka">Training Type</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="difficulty" class="svelte-1lf3qka">Difficulty</label> <select id="difficulty"></select></div> <div class="training-item svelte-1lf3qka"><label for="category" class="svelte-1lf3qka">Category</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="energy-system" class="svelte-1lf3qka">Energy System</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="wall-angle" class="svelte-1lf3qka">Wall</label> <!></div></div></div> <div class="climbs-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Climbs</h4> <div class="table-container svelte-1lf3qka"><table class="climbs-table svelte-1lf3qka"><thead><tr><!><th class="svelte-1lf3qka">Name</th><th class="svelte-1lf3qka">Grade</th><th class="svelte-1lf3qka">Attempt</th><th class="svelte-1lf3qka">#</th><th class="svelte-1lf3qka">Wall Angle</th><th class="svelte-1lf3qka">Technique Focus</th><th class="svelte-1lf3qka">Notes</th><th class="svelte-1lf3qka"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-1lf3qka">+ Add Climb</button></div> <div class="load-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Load Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div></div> <h4 class="mt-4 svelte-1lf3qka">Grip Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div></div></div> <div class="notes-section"><!></div> <div class="submit-section svelte-1lf3qka"><!> <div class="action-buttons svelte-1lf3qka"><!> <button type="button" class="submit-btn svelte-1lf3qka"><!></button></div></div></div>');function Fi(N,i){Wt(i,!0);const l=["Rockstar Unit 3","Rockstar Unit 5","Rockstar Techno","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","TCA Mothership","TCA Church","TCA Arc","Bloc","270 Climbing","Other"],h=["Bouldering","Sport","Mixed"],D=["Onsight","Flash","Redpoint","Repeat","Dogged","DNF"],G=["None","Projecting","Onsighting","Campusing","Repeaters","Comp Sim"],M=["None","Easy","Medium","Hard","Max","Limit+"],f=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Endurance","Coordination","Slab Technique","Overhang Technique"],P=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],C=["None","Trusting feet","Double-clutch","Standing on volumes","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Pogo","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"],w=["None","Overhang","Vertical","Slab","Roof"],v=["None","Moon Board","Kilter Board","Tension Board","Beast","Circuit Board","Boulder wall","Lead wall","Comp wall","Auto belays"];let R=u(null),q=St(()=>!!i.initialData),b=u(Ie(new Date().toISOString().split("T")[0])),x=u(Ie(new Date().toTimeString().split(" ")[0].slice(0,5))),y=u(""),S=u(""),z=u(Ie(["None"])),A=u("None"),Q=u(Ie(["None"])),Z=u(Ie(["None"])),W=u(Ie(["None"])),I=u(3),$=u(3),ee=u(3),le=u(3),oe=u(3),te=u(3),re=u(3),H=u(3),J=u(Ie([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}])),ae=u(""),ne=u(!1);const Ue="indoor_climb_draft";let Te=u(!1);ma(()=>{if(i.initialData)t(b,i.initialData.date,!0),t(x,i.initialData.time||"12:00",!0),l.includes(i.initialData.location)?(t(y,i.initialData.location,!0),t(ne,!1)):i.initialData.customLocation?(t(y,i.initialData.customLocation,!0),t(ne,!0)):(t(y,i.initialData.location,!0),t(ne,!0)),t(S,i.initialData.climbingType,!0),t(z,i.initialData.trainingTypes||["None"],!0),t(A,i.initialData.difficulty||"None",!0),t(Q,i.initialData.categories||["None"],!0),t(Z,i.initialData.energySystems||["None"],!0),t(W,i.initialData.wallAngles||["None"],!0),t(I,i.initialData.fingerLoad||3,!0),t($,i.initialData.shoulderLoad||3,!0),t(ee,i.initialData.forearmLoad||3,!0),t(le,i.initialData.openGrip||3,!0),t(oe,i.initialData.crimpGrip||3,!0),t(te,i.initialData.pinchGrip||3,!0),t(re,i.initialData.sloperGrip||3,!0),t(H,i.initialData.jugGrip||3,!0),i.initialData.climbs&&i.initialData.climbs.length>0?t(J,JSON.parse(JSON.stringify(i.initialData.climbs)),!0):t(J,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0),t(ae,i.initialData.notes||"",!0);else{const L=localStorage.getItem(Ue);if(L)try{const d=JSON.parse(L);d.location&&t(y,d.location,!0),d.time&&t(x,d.time,!0),d.isOtherLocation&&t(ne,d.isOtherLocation,!0),d.climbingType&&t(S,d.climbingType,!0),d.trainingTypes&&t(z,d.trainingTypes,!0),d.difficulty&&t(A,d.difficulty,!0),d.categories&&t(Q,d.categories,!0),d.energySystems&&t(Z,d.energySystems,!0),d.wallAngles&&t(W,d.wallAngles,!0),d.fingerLoad&&t(I,d.fingerLoad,!0),d.shoulderLoad&&t($,d.shoulderLoad,!0),d.forearmLoad&&t(ee,d.forearmLoad,!0),d.openGrip&&t(le,d.openGrip,!0),d.crimpGrip&&t(oe,d.crimpGrip,!0),d.pinchGrip&&t(te,d.pinchGrip,!0),d.sloperGrip&&t(re,d.sloperGrip,!0),d.jugGrip&&t(H,d.jugGrip,!0),d.climbs&&t(J,d.climbs,!0),d.notes&&t(ae,d.notes,!0)}catch(d){console.error("Failed to restore draft",d)}}t(Te,!0)}),ra(()=>{if(!e(Te)||e(q))return;const L={date:e(b),time:e(x),location:e(y),isOtherLocation:e(ne),climbingType:e(S),trainingTypes:e(z),difficulty:e(A),categories:e(Q),energySystems:e(Z),fingerLoad:e(I),shoulderLoad:e($),forearmLoad:e(ee),openGrip:e(le),crimpGrip:e(oe),pinchGrip:e(te),sloperGrip:e(re),jugGrip:e(H),climbs:e(J),notes:e(ae)};localStorage.setItem(Ue,JSON.stringify(L))});function tt(){e(y)==="Other"&&(t(ne,!0),t(y,""))}function Lt(){t(ne,!1),t(y,"")}function xt(){t(J,[...e(J),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0)}function ft(L){t(J,e(J).filter((d,se)=>se!==L),!0)}function Rt(L,d){e(J)[L].attemptType=d,(d==="Flash"||d==="Onsight")&&(e(J)[L].attemptsNum=1)}function Xe(L){t(R,L,!0)}function _t(){t(R,null)}let lt=St(()=>e(S)==="Mixed");function ht(L){return e(S)==="Sport"?!0:e(S)==="Bouldering"?!1:L.isSport}function ot(L){return L.trim()?za.includes(L.trim().toLowerCase()):!0}let F=u("idle"),K=u("");function fe(){return e(y)?e(S)?e(J).filter(d=>d.grade.trim()&&!ot(d.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a location"}async function Le(){const L=fe();if(L){t(F,"error"),t(K,L,!0);return}t(F,"saving");try{const d=e(J).map(Je=>({...Je,isSport:ht(Je)})),se={date:e(b),time:e(x),location:e(y),customLocation:e(ne)?e(y):void 0,climbingType:e(S),trainingTypes:e(z),difficulty:e(A),categories:e(Q),energySystems:e(Z),wallAngles:e(W),fingerLoad:e(I),shoulderLoad:e($),forearmLoad:e(ee),openGrip:e(le),crimpGrip:e(oe),pinchGrip:e(te),sloperGrip:e(re),jugGrip:e(H),climbs:d,notes:e(ae)};let je;e(q)?je=await bs(i.initialData.id,se):je=await ys(se),je.ok?(t(F,"success"),t(K,e(q)?"Session updated!":"Session saved!",!0),e(q)||localStorage.removeItem(Ue),i.onSaved&&setTimeout(()=>{i.onSaved()},500)):(t(F,"error"),t(K,"Failed to save: "+(je.error||"Unknown error"))),e(q)||(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{ze()},2e3))}catch(d){t(F,"error"),t(K,"Failed to save session"),console.error("Save error:",d)}}function ze(){t(b,new Date().toISOString().split("T")[0],!0),t(x,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(y,""),t(ne,!1),t(S,""),t(z,["None"],!0),t(A,"None"),t(Q,["None"],!0),t(Z,["None"],!0),t(W,["None"],!0),t(I,3),t($,3),t(ee,3),t(le,3),t(oe,3),t(te,3),t(re,3),t(H,3),t(J,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0),t(ae,""),t(F,"idle"),t(K,"")}var Ge=or(),Tt=s(Ge),at=s(Tt),nt=r(s(at),2),ct=s(nt);ie(ct);var bt=r(ct,2);ie(bt),a(nt),a(at);var Pt=r(at,2),Mt=r(s(Pt),2);{var Ot=L=>{var d=Ks(),se=s(d);ie(se);var je=r(se,2);je.__click=Lt,a(d),de(se,()=>e(y),Je=>t(y,Je)),n(L,d)},ye=L=>{var d=Js();d.__change=tt;var se=s(d);se.value=se.__value="";var je=r(se);ue(je,17,()=>l,ve,(Je,At)=>{var g=Qs(),c=s(g,!0);a(g);var Y={};B(()=>{j(c,e(At)),Y!==(Y=e(At))&&(g.value=(g.__value=e(At))??"")}),n(Je,g)}),a(d),it(d,()=>e(y),Je=>t(y,Je)),n(L,d)};U(Mt,L=>{e(ne)?L(Ot):L(ye,!1)})}a(Pt),a(Tt);var Ne=r(Tt,2),Ae=r(s(Ne),2),Ve=s(Ae);Ve.value=Ve.__value="";var Ke=r(Ve);ue(Ke,17,()=>h,ve,(L,d)=>{var se=Ys(),je=s(se,!0);a(se);var Je={};B(()=>{j(je,e(d)),Je!==(Je=e(d))&&(se.value=(se.__value=e(d))??"")}),n(L,se)}),a(Ae),a(Ne);var _e=r(Ne,2),T=r(s(_e),2),E=s(T),o=r(s(E),2);oa(o,{get options(){return G},get selected(){return e(z)},placeholder:"Select types...",onChange:L=>t(z,L,!0)}),a(E);var p=r(E,2),O=r(s(p),2);ue(O,21,()=>M,ve,(L,d)=>{var se=Xs(),je=s(se,!0);a(se);var Je={};B(()=>{j(je,e(d)),Je!==(Je=e(d))&&(se.value=(se.__value=e(d))??"")}),n(L,se)}),a(O),a(p);var V=r(p,2),m=r(s(V),2);oa(m,{get options(){return f},get selected(){return e(Q)},placeholder:"Select categories...",onChange:L=>t(Q,L,!0)}),a(V);var _=r(V,2),X=r(s(_),2);oa(X,{get options(){return P},get selected(){return e(Z)},placeholder:"Select systems...",onChange:L=>t(Z,L,!0)}),a(_);var Ee=r(_,2),De=r(s(Ee),2);oa(De,{get options(){return v},get selected(){return e(W)},placeholder:"Select walls...",onChange:L=>t(W,L,!0)}),a(Ee),a(T),a(_e);var Se=r(_e,2),Re=r(s(Se),2),pe=s(Re),we=s(pe),ce=s(we),me=s(ce);{var Ze=L=>{var d=Zs();n(L,d)};U(me,L=>{e(lt)&&L(Ze)})}Na(8),a(ce),a(we);var Fe=r(we);ue(Fe,21,()=>e(J),ve,(L,d,se)=>{var je=rr(),Je=s(je);{var At=ge=>{var Ye=$s(),Oe=s(Ye);ie(Oe),a(Ye),Wa(Oe,()=>e(d).isSport,Qt=>e(d).isSport=Qt),n(ge,Ye)};U(Je,ge=>{e(lt)&&ge(At)})}var g=r(Je),c=s(g);ie(c),a(g);var Y=r(g),Be=s(Y);Xa(Be,{get value(){return e(d).grade},set value(ge){e(d).grade=ge}}),a(Y);var Me=r(Y),gt=s(Me);gt.__change=ge=>Rt(se,ge.target.value),ue(gt,21,()=>D,ve,(ge,Ye)=>{var Oe=er(),Qt=s(Oe,!0);a(Oe);var Jt={};B(()=>{j(Qt,e(Ye)),Jt!==(Jt=e(Ye))&&(Oe.value=(Oe.__value=e(Ye))??"")}),n(ge,Oe)}),a(gt);var Ut;Fa(gt),a(Me);var Et=r(Me),qt=s(Et);ie(qt),a(Et);var Vt=r(Et),Yt=s(Vt);ue(Yt,21,()=>w.filter(ge=>ge!=="None"),ve,(ge,Ye)=>{var Oe=tr(),Qt=s(Oe,!0);a(Oe);var Jt={};B(()=>{j(Qt,e(Ye)),Jt!==(Jt=e(Ye))&&(Oe.value=(Oe.__value=e(Ye))??"")}),n(ge,Oe)}),a(Yt),a(Vt);var Ft=r(Vt),da=s(Ft);ue(da,21,()=>C,ve,(ge,Ye)=>{var Oe=ar(),Qt=s(Oe,!0);a(Oe);var Jt={};B(()=>{j(Qt,e(Ye)),Jt!==(Jt=e(Ye))&&(Oe.value=(Oe.__value=e(Ye))??"")}),n(ge,Oe)}),a(da),a(Ft);var ta=r(Ft);let ga;var aa=s(ta);Ea(aa),a(ta);var pa=r(ta),ba=s(pa);{var ya=ge=>{var Ye=sr();Ye.__click=()=>ft(se),n(ge,Ye)};U(ba,ge=>{e(J).length>1&&ge(ya)})}a(pa),a(je),B(()=>{Ut!==(Ut=e(d).attemptType)&&(gt.value=(gt.__value=e(d).attemptType)??"",Ba(gt,e(d).attemptType)),qt.disabled=e(d).attemptType==="Flash"||e(d).attemptType==="Onsight",ga=Ct(ta,1,"notes-cell svelte-1lf3qka",null,ga,{expanded:e(R)===se})}),de(c,()=>e(d).name,ge=>e(d).name=ge),de(qt,()=>e(d).attemptsNum,ge=>e(d).attemptsNum=ge),it(Yt,()=>e(d).wall,ge=>e(d).wall=ge),it(da,()=>e(d).techniqueFocus,ge=>e(d).techniqueFocus=ge),Dt("focus",aa,()=>Xe(se)),Dt("blur",aa,_t),de(aa,()=>e(d).notes,ge=>e(d).notes=ge),n(L,je)}),a(Fe),a(pe),a(Re);var $e=r(Re,2);$e.__click=xt,a(Se);var ke=r(Se,2),he=r(s(ke),2),Ce=s(he),We=s(Ce);Pe(We,{id:"finger-load",label:"Finger",get value(){return e(I)},set value(L){t(I,L,!0)}}),a(Ce);var yt=r(Ce,2),Nt=s(yt);Pe(Nt,{id:"shoulder-load",label:"Shoulder",get value(){return e($)},set value(L){t($,L,!0)}}),a(yt);var ut=r(yt,2),st=s(ut);Pe(st,{id:"forearm-load",label:"Forearm",get value(){return e(ee)},set value(L){t(ee,L,!0)}}),a(ut),a(he);var qe=r(he,4),vt=s(qe),dt=s(vt);Pe(dt,{id:"open-grip",label:"Open",get value(){return e(le)},set value(L){t(le,L,!0)}}),a(vt);var Ht=r(vt,2),He=s(Ht);Pe(He,{id:"crimp-grip",label:"Crimp",get value(){return e(oe)},set value(L){t(oe,L,!0)}}),a(Ht);var Qe=r(Ht,2),Gt=s(Qe);Pe(Gt,{id:"pinch-grip",label:"Pinch",get value(){return e(te)},set value(L){t(te,L,!0)}}),a(Qe);var jt=r(Qe,2),$t=s(jt);Pe($t,{id:"sloper-grip",label:"Sloper",get value(){return e(re)},set value(L){t(re,L,!0)}}),a(jt);var ia=r(jt,2),zt=s(ia);Pe(zt,{id:"jug-grip",label:"Jug",get value(){return e(H)},set value(L){t(H,L,!0)}}),a(ia),a(qe),a(ke);var ea=r(ke,2),_a=s(ea);Sa(_a,{get value(){return e(ae)},set value(L){t(ae,L,!0)}}),a(ea);var ka=r(ea,2),ca=s(ka);{var qa=L=>{var d=ir();let se;var je=s(d,!0);a(d),B(()=>{se=Ct(d,1,"save-message svelte-1lf3qka",null,se,{success:e(F)==="success",error:e(F)==="error"}),j(je,e(K))}),n(L,d)};U(ca,L=>{e(K)&&L(qa)})}var ua=r(ca,2),xa=s(ua);{var Ta=L=>{var d=lr();d.__click=function(...se){i.onCancel?.apply(this,se)},B(()=>d.disabled=e(F)==="saving"),n(L,d)};U(xa,L=>{e(q)&&L(Ta)})}var va=r(xa,2);va.__click=Le;var ha=s(va);{var Da=L=>{var d=kt();B(()=>j(d,e(q)?"Updating...":"Saving...")),n(L,d)},Ca=L=>{var d=Kt(),se=Bt(d);{var je=At=>{var g=kt();B(()=>j(g,`✓ ${e(q)?"Updated!":"Saved!"}`)),n(At,g)},Je=At=>{var g=kt();B(()=>j(g,e(q)?"Update Session":"Save Session")),n(At,g)};U(se,At=>{e(F)==="success"?At(je):At(Je,!1)},!0)}n(L,d)};U(ha,L=>{e(F)==="saving"?L(Da):L(Ca,!1)})}a(va),a(ua),a(ka),a(Ge),B(()=>va.disabled=e(F)==="saving"),de(ct,()=>e(b),L=>t(b,L)),de(bt,()=>e(x),L=>t(x,L)),it(Ae,()=>e(S),L=>t(S,L)),it(O,()=>e(A),L=>t(A,L)),n(N,Ge),It()}Zt(["click","change"]);const Aa={Portland:{"Blacknor Far North":["Far North (Pit Prop Crag - North Wing)","Far North (Pit Prop Crag - South Wing)","Sunstone Wall","Sandcastle Wall","Hidden Wall"],"Blacknor North":["Diamond Slab","The Ledge","Sharpy's Wall","Reptile Smile Area","Wolfgang Forever Area","Captain Klutz Area","Death of Cool Area","Seattle Be The Day Area","Blacknor Heights (Blacknor Quarry Bouldering)","Blacknor Fort Quarry (Sport)","Cliff Top Way Down"],"Blacknor Central":["The Veranda","Medusa Wall","The Battlement","Wave Wall","Mirror Wall"],"Blacknor South":["Fallen Slab","Infidel Slab","Englands Dreaming Area","Sacred Angel Area","The Reach","Shit Happens Wall"],"Blacknor Far South":["Deadman's Bay","The White Hole","Wall of Lament"],"Battleship Edge":["Northern Sector","Main Edge","Battleship Block"],"Battleship Back Cliff":["Zinc Oxide Mountain","The Main Cliff","Sleepy Hollow"],"Wallsend North":["Sweet Smell of Success Wall","The Coastguard Wall (Northern section)"],"Wallsend South":["The Upper Tier","The Lower Tier","Stalker's Zone"],"Coastguard North":["Top Tier","Main Cliff (Beeston Bump)","The Grooves"],"Coastguard South":["The White Wall","Tennessee Wall","The Veranda (South)"],Godnor:["Godnor North","Godnor Far South","The Godnor Gate Area"],Neddyfields:["Neddyfields Main Wall","The Flowstone Wall","Neddyfields Bouldering"],"Cheyne Cliff":["Red Wall","Inception Wall","Road Rage Wall","The Nook","The Block"],"The Cuttings":["The Cuttings (Main Cliff)","The Pulpit","The Bower","Sun Lover's Slab"],"The New Cuttings":["The Gallery","The Annex","The Arches","The Grotto"],"The Cuttings Boulderfield":["The Tractor","The Coffin","The Octagon","Lightning Wall"]},Swanage:{"Dancing Ledge":["The Amphitheatre","The Upper Tier","The Skull","Promenade","The Quarry"],Hedbury:["Hedbury Quarry (Main)","Hedbury Sea Cliff (The Big Wall)"],Winspit:["The West Quarry","The East Quarry (The Playground)","The Sea Walls"]},"Wye Valley":{"Ban-y-Gor":["The Main Wall","The River Wall","The Far Left","The Upper Tier"],"Biblins Cave":["The Main Cave","The Right Wall","The Entrance Area"],"Woodcroft Quarry":["Fly Wall","The Main Quarry","The Retaining Wall"],"Wyndcliff Quarry":["The Main Wall (Left & Right)","The Upper Tier","The Shady Wall"]},"Costa Del Severn":{Brean:["Boulder Cove","The River Face (Main Cliff)","The Fort","The Slab"],Clevedon:["Ladye Bay","Marine Lake (Bouldering)","The Sea Walls"],"Portishead Quarry":["The Main Wall","The Slab","The Upper Tier"]},Bristol:{"Avon Gorge":["Sea Walls","Suspension Bridge Buttress","Morning Slab","Main Wall","New Quarry","The Amphitheatre","Unknown Wall"],"Leigh Woods":["Quarry 1","Quarry 2","The Main Buttress"],"Bickley Wood":["The Main Wall","The Stream Wall"],Hambrook:["The Roadside Wall"]},Cotswolds:{"Sally-in-the-Wood":["The Main Edge","The Boulders"],"Browns Folly":["The Tower","The Main Wall","The Upper Wall","The Far Right"]},Mendips:{"Cheddar Gorge":["High Rock","Sunset Buttress","Lion Rock","The Pinnacles","Acid Rock","Coronation Street","Long Rock"]},Gower:{Rhossili:["Shipwreck Cove","Rhossili Upper Cliff","The Tears Point"],"Trial Wall Area":["Trial Wall","The Terraces"],Foxhole:["The Main Cave","The Slab","The Overhangs"]},"South Wales":{"Dinas Rock":["Kennelgarth Wall","Main Overhang","Roadside Crag","The Inland Slabs"],Ogmore:["The Deep Zawn","Hardy's Bay","The Diamond","Daytona Wall"]},"North Wales":{"Cromlech (Dinas Cromlech)":["The Corner (Cenotaph)","Left Wall","Right Wall"],"Australia (Slate Quarries)":["The Sidings","Looning the Tube Area","Dali's Hole","The Salt Pans"]},"Peak District":{"Burbage South Valley":["The Boulders","The Edge (The Alliance Area)","The Tank"],"Gardoms Edge":["Apple Buttress","The Eye of Faith","Moomin Buttress"],"Raven Tor":["The Main Wall","The Weedkiller Wall"],Stanage:["Popular End","Plantation","High Neb","Stanage North","The End","Stanage Far North"],"Curbar Edge":["The Main Edge","Elder Crack Area"]},Devon:{Dartmoor:["Haytor (Low Man)","Hound Tor","The Dewerstone (Main Cliff)","Bonehill Rocks"],Hartland:["Screda Point","Smoothlands","Blackchurch Rock"],Tintagel:["The Great Cliff","Gull Rock","Ila's Ledge"]}};function nr(){return Object.keys(Aa)}function Ka(N){return Aa[N]?Object.keys(Aa[N]):[]}var cr=k('<div class="form-header-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;"><h3 style="margin: 0;" class="svelte-15o2ys1">⛰️ Outdoor Climb</h3></div>'),ur=k("<option> </option>"),vr=k('<div class="input-with-action svelte-15o2ys1"><input type="text" id="crag-manual" placeholder="Enter custom crag name..." class="flat-left svelte-15o2ys1"/> <button type="button" class="action-btn flat-right svelte-15o2ys1" title="Back to list">✕</button></div>'),dr=k("<option> </option>"),gr=k("<option>Other (Manual Entry)</option>"),pr=k('<select id="crag" class="svelte-15o2ys1"><option disabled> </option><!><!></select>'),mr=k("<option> </option>"),fr=k("<option> </option>"),_r=k('<th class="svelte-15o2ys1">Sport?</th>'),hr=k('<td class="center svelte-15o2ys1"><input type="checkbox" class="svelte-15o2ys1"/></td>'),br=k("<option> </option>"),yr=k("<option> </option>"),wr=k("<option> </option>"),Sr=k('<button type="button" class="remove-btn svelte-15o2ys1">✕</button>'),kr=k('<tr><!><td class="svelte-15o2ys1"><input type="text" placeholder="Route name..." class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><!></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><input type="number" min="1" class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td><textarea placeholder="Notes..." class="svelte-15o2ys1"></textarea></td><td class="center svelte-15o2ys1"><!></td></tr>'),xr=k("<div> </div>"),Tr=k('<div class="form-content svelte-15o2ys1"><!> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="date" class="svelte-15o2ys1">Date</label> <div class="date-time-row svelte-15o2ys1"><input type="date" id="date" class="svelte-15o2ys1"/> <input type="time" id="time" class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="area" class="svelte-15o2ys1">Area</label> <select id="area" class="svelte-15o2ys1"><option disabled>Select area...</option><!></select></div></div> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="crag" class="svelte-15o2ys1">Crag</label> <!></div> <div class="form-group svelte-15o2ys1"><label for="sector" class="svelte-15o2ys1">Wall / Sector</label> <input type="text" id="sector" placeholder="Enter sector or wall name..." class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="climbing-type" class="svelte-15o2ys1">Climbing Type</label> <select id="climbing-type" class="svelte-15o2ys1"><option disabled>Select type...</option><!></select></div> <div class="training-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Training Details</h4> <div class="training-grid svelte-15o2ys1"><div class="training-item svelte-15o2ys1"><label for="training-type" class="svelte-15o2ys1">Training Type</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="difficulty" class="svelte-15o2ys1">Difficulty</label> <select id="difficulty" class="svelte-15o2ys1"></select></div> <div class="training-item svelte-15o2ys1"><label for="category" class="svelte-15o2ys1">Category</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="energy-system" class="svelte-15o2ys1">Energy System</label> <!></div></div></div> <div class="climbs-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Climbs</h4> <div class="table-container svelte-15o2ys1"><table class="climbs-table svelte-15o2ys1"><thead><tr><!><th class="svelte-15o2ys1">Name</th><th class="svelte-15o2ys1">Grade</th><th class="svelte-15o2ys1">Attempt</th><th class="svelte-15o2ys1">#</th><th class="svelte-15o2ys1">Wall Angle</th><th class="svelte-15o2ys1">Technique Focus</th><th class="svelte-15o2ys1">Notes</th><th class="svelte-15o2ys1"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-15o2ys1">+ Add Climb</button></div> <div class="load-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Load Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div></div> <h4 class="mt-4 svelte-15o2ys1">Grip Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div></div></div>  <div class="notes-section"><!></div> <div class="submit-section svelte-15o2ys1"><!> <button type="button" class="submit-btn svelte-15o2ys1"><!></button></div></div>');function Bi(N,i){Wt(i,!0);const l=nr(),h=["Boulder","Sport","Trad"],D=["Onsight","Flash","Redpoint","Repeat","Dogged","DNF"],G=["None","Overhang","Vertical","Slab","Roof"],M=["None","Projecting","Onsighting","Campusing","Repeaters","Comp Sim"],f=["None","Easy","Medium","Hard","Max","Limit+"],P=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Endurance","Coordination","Slab Technique","Overhang Technique"],C=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],w=["None","Trusting feet","Double-clutch","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"];let v=be(i,"initialData",3,null),R=St(()=>!!v()),q=u(null),b=u(Ie(new Date().toISOString().split("T")[0])),x=u(Ie(new Date().toTimeString().split(" ")[0].slice(0,5))),y=u(""),S=u(""),z=u(""),A=u(""),Q=u(Ie(["None"])),Z=u("None"),W=u(Ie(["None"])),I=u(Ie(["None"])),$=u(3),ee=u(3),le=u(3),oe=u(3),te=u(3),re=u(3),H=u(3),J=u(3),ae=u(Ie([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}])),ne=u(""),Ue=St(()=>e(y)?Ka(e(y)):[]),Te=u(!1);const tt="outdoor_climb_draft";let Lt=u(!1);ma(()=>{if(v()){t(b,v().date,!0),t(x,v().time||"12:00",!0),t(y,v().area,!0),t(S,v().crag,!0);const g=Ka(e(y));e(S)&&!g.includes(e(S))&&t(Te,!0),t(z,v().sector||"",!0),t(A,v().climbingType,!0),t(Q,v().trainingTypes||["None"],!0),t(Z,v().difficulty||"Moderate",!0),t(W,v().categories||["None"],!0),t(I,v().energySystems||["None"],!0),t($,v().fingerLoad,!0),t(ee,v().shoulderLoad,!0),t(le,v().forearmLoad,!0),t(oe,v().openGrip||3,!0),t(te,v().crimpGrip||3,!0),t(re,v().pinchGrip||3,!0),t(H,v().sloperGrip||3,!0),t(J,v().jugGrip||3,!0),t(ae,v().climbs||[],!0),t(ne,v().notes||"",!0),t(Lt,!0)}else{const g=localStorage.getItem(tt);if(g)try{const c=JSON.parse(g);c.date&&t(b,c.date,!0),c.time&&t(x,c.time,!0),c.area&&t(y,c.area,!0),c.crag&&t(S,c.crag,!0),c.sector&&t(z,c.sector,!0),c.isOtherCrag&&t(Te,c.isOtherCrag,!0),c.climbingType&&t(A,c.climbingType,!0),c.trainingTypes&&t(Q,c.trainingTypes,!0),c.difficulty&&t(Z,c.difficulty,!0),c.categories&&t(W,c.categories,!0),c.energySystems&&t(I,c.energySystems,!0),c.fingerLoad&&t($,c.fingerLoad,!0),c.shoulderLoad&&t(ee,c.shoulderLoad,!0),c.forearmLoad&&t(le,c.forearmLoad,!0),c.openGrip&&t(oe,c.openGrip,!0),c.crimpGrip&&t(te,c.crimpGrip,!0),c.pinchGrip&&t(re,c.pinchGrip,!0),c.sloperGrip&&t(H,c.sloperGrip,!0),c.jugGrip&&t(J,c.jugGrip,!0),c.climbs&&t(ae,c.climbs,!0),c.notes&&t(ne,c.notes,!0)}catch(c){console.error("Failed to restore draft",c)}t(Lt,!0)}}),ra(()=>{if(!e(Lt)||e(R))return;const g={date:e(b),time:e(x),area:e(y),crag:e(S),sector:e(z),isOtherCrag:e(Te),climbingType:e(A),trainingTypes:e(Q),difficulty:e(Z),categories:e(W),energySystems:e(I),fingerLoad:e($),shoulderLoad:e(ee),forearmLoad:e(le),openGrip:e(oe),crimpGrip:e(te),pinchGrip:e(re),sloperGrip:e(H),jugGrip:e(J),climbs:e(ae),notes:e(ne)};localStorage.setItem(tt,JSON.stringify(g))}),ra(()=>{e(y)&&(t(S,""),t(Te,!1))});function xt(){e(S)==="Other"&&(t(Te,!0),t(S,""))}function ft(){t(Te,!1),t(S,"")}function Rt(){t(ae,[...e(ae),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0)}function Xe(g){t(ae,e(ae).filter((c,Y)=>Y!==g),!0)}function _t(g,c){e(ae)[g].attemptType=c,(c==="Flash"||c==="Onsight")&&(e(ae)[g].attemptsNum=1)}function lt(g){t(q,g,!0)}function ht(){t(q,null)}let ot=St(()=>e(A)==="Trad");function F(g){return e(A)==="Sport"?!0:e(A)==="Boulder"?!1:g.isSport}function K(g){return g.trim()?za.includes(g.trim().toLowerCase()):!0}let fe=u("idle"),Le=u("");function ze(){return e(y)?e(S)?e(A)?e(ae).filter(c=>c.grade.trim()&&!K(c.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a crag":"Please select an area"}async function Ge(){const g=ze();if(g){t(fe,"error"),t(Le,g,!0);return}t(fe,"saving");try{const c=e(ae).map(Me=>({...Me,isSport:F(Me)})),Y={date:e(b),time:e(x),area:e(y),crag:e(S),sector:e(z)||void 0,climbingType:e(A),trainingTypes:e(Q),difficulty:e(Z),categories:e(W),energySystems:e(I),fingerLoad:e($),shoulderLoad:e(ee),forearmLoad:e(le),openGrip:e(oe),crimpGrip:e(te),pinchGrip:e(re),sloperGrip:e(H),jugGrip:e(J),climbs:c,notes:e(ne)};let Be;e(R)&&v()?Be=await ws(v().id,Y):Be=await Ss(Y),Be.ok?(t(fe,"success"),t(Le,"Session saved!"),e(R)||localStorage.removeItem(tt),i.onSaved?i.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),e(R)||setTimeout(()=>{Tt()},2e3))):(t(fe,"error"),t(Le,"Failed to save: "+(Be.error||"Unknown error")))}catch(c){t(fe,"error"),t(Le,"Failed to save session"),console.error("Save error:",c)}}function Tt(){t(b,new Date().toISOString().split("T")[0],!0),t(x,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(y,""),t(S,""),t(z,""),t(A,""),t(Q,["None"],!0),t(Z,"None"),t(W,["None"],!0),t(I,["None"],!0),t($,3),t(ee,3),t(le,3),t(oe,3),t(te,3),t(re,3),t(H,3),t(J,3),t(ae,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0),t(ne,""),t(fe,"idle"),t(Le,"")}var at=Tr(),nt=s(at);{var ct=g=>{var c=cr();n(g,c)};U(nt,g=>{e(R)||g(ct)})}var bt=r(nt,2),Pt=s(bt),Mt=r(s(Pt),2),Ot=s(Mt);ie(Ot);var ye=r(Ot,2);ie(ye),a(Mt),a(Pt);var Ne=r(Pt,2),Ae=r(s(Ne),2),Ve=s(Ae);Ve.value=Ve.__value="";var Ke=r(Ve);ue(Ke,17,()=>l,ve,(g,c)=>{var Y=ur(),Be=s(Y,!0);a(Y);var Me={};B(()=>{j(Be,e(c)),Me!==(Me=e(c))&&(Y.value=(Y.__value=e(c))??"")}),n(g,Y)}),a(Ae),a(Ne),a(bt);var _e=r(bt,2),T=s(_e),E=r(s(T),2);{var o=g=>{var c=vr(),Y=s(c);ie(Y);var Be=r(Y,2);Be.__click=ft,a(c),de(Y,()=>e(S),Me=>t(S,Me)),n(g,c)},p=g=>{var c=pr();c.__change=xt;var Y=s(c),Be=s(Y,!0);a(Y),Y.value=Y.__value="";var Me=r(Y);ue(Me,17,()=>e(Ue),ve,(Et,qt)=>{var Vt=dr(),Yt=s(Vt,!0);a(Vt);var Ft={};B(()=>{j(Yt,e(qt)),Ft!==(Ft=e(qt))&&(Vt.value=(Vt.__value=e(qt))??"")}),n(Et,Vt)});var gt=r(Me);{var Ut=Et=>{var qt=gr();qt.value=qt.__value="Other",n(Et,qt)};U(gt,Et=>{e(y)&&Et(Ut)})}a(c),B(()=>{c.disabled=!e(y),j(Be,e(y)?"Select crag...":"Select area first...")}),it(c,()=>e(S),Et=>t(S,Et)),n(g,c)};U(E,g=>{e(Te)?g(o):g(p,!1)})}a(T);var O=r(T,2),V=r(s(O),2);ie(V),a(O),a(_e);var m=r(_e,2),_=r(s(m),2),X=s(_);X.value=X.__value="";var Ee=r(X);ue(Ee,17,()=>h,ve,(g,c)=>{var Y=mr(),Be=s(Y,!0);a(Y);var Me={};B(()=>{j(Be,e(c)),Me!==(Me=e(c))&&(Y.value=(Y.__value=e(c))??"")}),n(g,Y)}),a(_),a(m);var De=r(m,2),Se=r(s(De),2),Re=s(Se),pe=r(s(Re),2);oa(pe,{get options(){return M},get selected(){return e(Q)},placeholder:"Select types...",onChange:g=>t(Q,g,!0)}),a(Re);var we=r(Re,2),ce=r(s(we),2);ue(ce,21,()=>f,ve,(g,c)=>{var Y=fr(),Be=s(Y,!0);a(Y);var Me={};B(()=>{j(Be,e(c)),Me!==(Me=e(c))&&(Y.value=(Y.__value=e(c))??"")}),n(g,Y)}),a(ce),a(we);var me=r(we,2),Ze=r(s(me),2);oa(Ze,{get options(){return P},get selected(){return e(W)},placeholder:"Select categories...",onChange:g=>t(W,g,!0)}),a(me);var Fe=r(me,2),$e=r(s(Fe),2);oa($e,{get options(){return C},get selected(){return e(I)},placeholder:"Select systems...",onChange:g=>t(I,g,!0)}),a(Fe),a(Se),a(De);var ke=r(De,2),he=r(s(ke),2),Ce=s(he),We=s(Ce),yt=s(We),Nt=s(yt);{var ut=g=>{var c=_r();n(g,c)};U(Nt,g=>{e(ot)&&g(ut)})}Na(8),a(yt),a(We);var st=r(We);ue(st,21,()=>e(ae),ve,(g,c,Y)=>{var Be=kr(),Me=s(Be);{var gt=xe=>{var pt=hr(),et=s(pt);ie(et),a(pt),Wa(et,()=>e(c).isSport,la=>e(c).isSport=la),n(xe,pt)};U(Me,xe=>{e(ot)&&xe(gt)})}var Ut=r(Me),Et=s(Ut);ie(Et),a(Ut);var qt=r(Ut),Vt=s(qt);Xa(Vt,{get value(){return e(c).grade},set value(xe){e(c).grade=xe}}),a(qt);var Yt=r(qt),Ft=s(Yt);Ft.__change=xe=>_t(Y,xe.target.value),ue(Ft,21,()=>D,ve,(xe,pt)=>{var et=br(),la=s(et,!0);a(et);var sa={};B(()=>{j(la,e(pt)),sa!==(sa=e(pt))&&(et.value=(et.__value=e(pt))??"")}),n(xe,et)}),a(Ft);var da;Fa(Ft),a(Yt);var ta=r(Yt),ga=s(ta);ie(ga),a(ta);var aa=r(ta),pa=s(aa);ue(pa,21,()=>G.filter(xe=>xe!=="None"),ve,(xe,pt)=>{var et=yr(),la=s(et,!0);a(et);var sa={};B(()=>{j(la,e(pt)),sa!==(sa=e(pt))&&(et.value=(et.__value=e(pt))??"")}),n(xe,et)}),a(pa),a(aa);var ba=r(aa),ya=s(ba);ue(ya,21,()=>w,ve,(xe,pt)=>{var et=wr(),la=s(et,!0);a(et);var sa={};B(()=>{j(la,e(pt)),sa!==(sa=e(pt))&&(et.value=(et.__value=e(pt))??"")}),n(xe,et)}),a(ya),a(ba);var ge=r(ba);let Ye;var Oe=s(ge);Ea(Oe),a(ge);var Qt=r(ge),Jt=s(Qt);{var ts=xe=>{var pt=Sr();pt.__click=()=>Xe(Y),n(xe,pt)};U(Jt,xe=>{e(ae).length>1&&xe(ts)})}a(Qt),a(Be),B(()=>{da!==(da=e(c).attemptType)&&(Ft.value=(Ft.__value=e(c).attemptType)??"",Ba(Ft,e(c).attemptType)),ga.disabled=e(c).attemptType==="Flash"||e(c).attemptType==="Onsight",Ye=Ct(ge,1,"notes-cell svelte-15o2ys1",null,Ye,{expanded:e(q)===Y})}),de(Et,()=>e(c).name,xe=>e(c).name=xe),de(ga,()=>e(c).attemptsNum,xe=>e(c).attemptsNum=xe),it(pa,()=>e(c).wall,xe=>e(c).wall=xe),it(ya,()=>e(c).techniqueFocus,xe=>e(c).techniqueFocus=xe),Dt("focus",Oe,()=>lt(Y)),Dt("blur",Oe,ht),de(Oe,()=>e(c).notes,xe=>e(c).notes=xe),n(g,Be)}),a(st),a(Ce),a(he);var qe=r(he,2);qe.__click=Rt,a(ke);var vt=r(ke,2),dt=r(s(vt),2),Ht=s(dt),He=s(Ht);Pe(He,{id:"finger-load",label:"Finger",get value(){return e($)},set value(g){t($,g,!0)}}),a(Ht);var Qe=r(Ht,2),Gt=s(Qe);Pe(Gt,{id:"shoulder-load",label:"Shoulder",get value(){return e(ee)},set value(g){t(ee,g,!0)}}),a(Qe);var jt=r(Qe,2),$t=s(jt);Pe($t,{id:"forearm-load",label:"Forearm",get value(){return e(le)},set value(g){t(le,g,!0)}}),a(jt),a(dt);var ia=r(dt,4),zt=s(ia),ea=s(zt);Pe(ea,{id:"open-grip",label:"Open",get value(){return e(oe)},set value(g){t(oe,g,!0)}}),a(zt);var _a=r(zt,2),ka=s(_a);Pe(ka,{id:"crimp-grip",label:"Crimp",get value(){return e(te)},set value(g){t(te,g,!0)}}),a(_a);var ca=r(_a,2),qa=s(ca);Pe(qa,{id:"pinch-grip",label:"Pinch",get value(){return e(re)},set value(g){t(re,g,!0)}}),a(ca);var ua=r(ca,2),xa=s(ua);Pe(xa,{id:"sloper-grip",label:"Sloper",get value(){return e(H)},set value(g){t(H,g,!0)}}),a(ua);var Ta=r(ua,2),va=s(Ta);Pe(va,{id:"jug-grip",label:"Jug",get value(){return e(J)},set value(g){t(J,g,!0)}}),a(Ta),a(ia),a(vt);var ha=r(vt,2),Da=s(ha);Sa(Da,{placeholder:"How did the session feel? Weather, conditions, mood...",get value(){return e(ne)},set value(g){t(ne,g,!0)}}),a(ha);var Ca=r(ha,2),L=s(Ca);{var d=g=>{var c=xr();let Y;var Be=s(c,!0);a(c),B(()=>{Y=Ct(c,1,"save-message svelte-15o2ys1",null,Y,{success:e(fe)==="success",error:e(fe)==="error"}),j(Be,e(Le))}),n(g,c)};U(L,g=>{e(Le)&&g(d)})}var se=r(L,2);se.__click=Ge;var je=s(se);{var Je=g=>{var c=kt("Saving...");n(g,c)},At=g=>{var c=Kt(),Y=Bt(c);{var Be=gt=>{var Ut=kt("✓ Saved!");n(gt,Ut)},Me=gt=>{var Ut=kt("Save Session");n(gt,Ut)};U(Y,gt=>{e(fe)==="success"?gt(Be):gt(Me,!1)},!0)}n(g,c)};U(je,g=>{e(fe)==="saving"?g(Je):g(At,!1)})}a(se),a(Ca),a(at),B(()=>se.disabled=e(fe)==="saving"),de(Ot,()=>e(b),g=>t(b,g)),de(ye,()=>e(x),g=>t(x,g)),it(Ae,()=>e(y),g=>t(y,g)),de(V,()=>e(z),g=>t(z,g)),it(_,()=>e(A),g=>t(A,g)),it(ce,()=>e(Z),g=>t(Z,g)),n(N,at),It()}Zt(["click","change"]);const Ra=[{id:"pull_ups",name:"Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Grip bar wider than shoulders.","Pull chest up toward the bar."],images:["/exercises/pull-ups.webp"]},{id:"weighted_pull_ups",name:"Weighted Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Grip bar wider than shoulders.","Pull chest up toward the bar."],images:["/exercises/weighted_pull_ups.webp"]},{id:"lat_pulldown",name:"Lat Pulldown",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats"],instructions:["Sit in machine.","Pull bar down to upper chest."],images:["/exercises/lat_pulldown.webp"]},{id:"one_arm_assisted_pull_up",name:"1 Arm Assisted Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Use a pulley or band to assist one arm.","Perform a one-arm pull-up."],images:["/exercises/1_Arm_Assisted_Pull-Up.webp"]},{id:"bent_over_row",name:"Barbell Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Hinge at hips.","Pull weight to hip pocket."],images:["/exercises/bent_over_row.webp"]},{id:"single_arm_db_row",name:"Dumbbell Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Support on bench.","Pull dumbbell to hip."],images:["/exercises/single_arm_db_row.webp"]},{id:"one_arm_negatives",name:"One Arm Negatives",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps","Forearms"],instructions:["Jump or assist up to the top position.","Lower yourself as slowly as possible with one arm."],images:["/exercises/one_arm_negatives.webp"]},{id:"full_lock_offs",name:"Full Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold the top position of a pull-up.","Maintain chin above the bar for time."],images:["/exercises/full_lock_offs.webp"]},{id:"90_degree_lock_offs",name:"90 Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold a pull-up position with elbows at 90 degrees.","Keep core tight and hold for time."],images:["/exercises/90_degree_lock_offs.webp"]},{id:"120_degree_lock_offs",name:"120 Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold a pull-up position with elbows at 120 degrees (slightly bent).","Maintain tension for time."],images:["/exercises/120_degree_lock_offs.webp"]},{id:"bicep_curls",name:"Bicep Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps"],instructions:["Hold dumbbells at sides.","Curl weights toward shoulders.","Lower with control."],images:["/exercises/bicep_curls.webp"]},{id:"hammer_curls",name:"Hammer Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps","Forearms"],instructions:["Hold dumbbells with neutral grip (palms facing in).","Curl weights toward shoulders.","Lower with control."],images:["/exercises/hammer_curls.webp"]},{id:"barbell_curls",name:"Barbell Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps"],instructions:["Hold barbell with underhand grip.","Curl bar toward chest.","Lower with control."],images:["/exercises/barbell_curls.webp"]},{id:"front_raises",name:"Front Raises",category:"Pull",subcategory:"Shoulders",targetMuscles:["Front Delts"],instructions:["Hold weights in front of thighs.","Raise arms straight in front to shoulder height."],images:["/exercises/front_raises.webp"]},{id:"kettlebell_swings",name:"Kettlebell Swings",category:"Pull",subcategory:"Shoulders",targetMuscles:["Glutes","Hamstrings","Lower Back"],instructions:["Hinge at hips holding kettlebell.","Snap hips forward to swing weight up."],images:["/exercises/kettlebell_swings.webp"]},{id:"muscle_ups",name:"Muscle Ups",category:"Pull",subcategory:"Shoulders",targetMuscles:["Lats","Triceps","Chest"],instructions:["Explosive pull-up.","Transition wrists over bar.","Press out at top."],images:["/exercises/muscle_ups.webp"]},{id:"seated_row",name:"Seated Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Sit at machine.","Pull handle to torso."],images:["/exercises/Seated_Row.webp"]},{id:"supine_trx_row",name:"Supine TRX Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Feet in TRX straps.","Pull handle to torso."],images:["/exercises/supine_trx_row.webp"]},{id:"barbell_bench_press",name:"Barbell Bench Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Triceps"],instructions:["Lower bar to chest.","Press back up."],images:["/exercises/barbell_bench_press.webp"]},{id:"dumbbell_bench_press",name:"Dumbbell Chest Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Upper Chest"],instructions:["Press dumbbells whilst lying on bench."],images:["/exercises/dumbbell_bench_press.webp"]},{id:"chest_press",name:"Chest Press Machine",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Triceps"],instructions:["From seated position, push handles overhead."],images:["/exercises/chest_press.webp"]},{id:"push_up",name:"Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Triceps","Chest"],instructions:["Hands wide, lower to floor.","Press back up."],images:["/exercises/push_up.webp"]},{id:"narrow_push_up",name:"Narrow Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Triceps","Chest"],instructions:["Hands close together.","Keep elbows tucked."],images:["/exercises/narrow_push_up.webp"]},{id:"trx_push_up",name:"TRX Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Global Stabilisers"],instructions:["Feet or hands in TRX straps.","Perform push-up."],images:["/exercises/trx_push_up.webp"]},{id:"overhead_press",name:"Barbell Overhead Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Press bar vertically overhead."],images:["/exercises/overhead_press.webp"]},{id:"dumbbell_overhead_press",name:"Dumbbell Overhead Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Press dumbbells vertically overhead."],images:["/exercises/dumbbell_overhead_press.webp"]},{id:"arnold_press",name:"Arnold Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Rotate palms while pressing overhead."],images:["/exercises/arnold_press.webp"]},{id:"shoulder_press_machine",name:"Shoulder Press Machine",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Sit in machine.","Press handles overhead."],images:["/exercises/Shoulder_Press_Machine.webp"]},{id:"dumbbell_flies",name:"Dumbbell Flies",category:"Push",subcategory:"Shoulders",targetMuscles:["Chest"],instructions:["Lie on bench.","Open arms wide, then bring together."],images:["/exercises/Dumbbell_Flies.webp"]},{id:"lateral_raises",name:"Lateral Raises",category:"Push",subcategory:"Shoulders",targetMuscles:["Side Delts"],instructions:["Raise arms to sides."],images:["/exercises/dumbbell_lateral_raise.webp"]},{id:"dumbbell_kickbacks",name:"Dumbbell Kickbacks",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Hinge forward.","Extend arm back."],images:["/exercises/dumbbell_kickbacks.webp"]},{id:"cable_pushdown",name:"Cable Pushdown",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Push bar down using triceps."],images:["/exercises/tricep_pulldown.webp"]},{id:"tricep_dips",name:"Tricep Dips",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Support body on parallel bars.","Lower until elbows at 90 degrees."],images:["/exercises/Tricep_Dips.webp"]},{id:"barbell_squat",name:"Barbell Squat",category:"Legs",subcategory:"Squats",targetMuscles:["Quads","Glutes"],instructions:["Squat with barbell on back."],images:["/exercises/barbell_squat.webp"]},{id:"leg_press",name:"Leg Press",category:"Legs",subcategory:"Squats",targetMuscles:["Quads"],instructions:["Press weight on machine."],images:["/exercises/leg_press.webp"]},{id:"pistol_squats",name:"Pistol Squats",category:"Legs",subcategory:"Squats",targetMuscles:["Quads","Balance"],instructions:["One-legged squat."],images:["/exercises/Pistol_Squats.webp"]},{id:"goblet_squat",name:"Goblet Squat",category:"Legs",subcategory:"Squats",targetMuscles:["Quads"],instructions:["Hold weight at chest.","Squat."],images:["/exercises/goblet_squat.webp"]},{id:"deadlift",name:"Deadlift",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Posterior Chain"],instructions:["Lift bar from floor."],images:["/exercises/deadlift.webp"]},{id:"rack_pulls",name:"Rack Pulls",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Back","Glutes"],instructions:["Deadlift from rack height."],images:["/exercises/Rack_Pulls.webp"]},{id:"barbell_good_mornings",name:"BarbellGood Mornings",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Back","Hamstrings"],instructions:["Deadlift from rack height."],images:["/exercises/barbell_good_mornings.webp"]},{id:"leg_extension",name:"Leg Extension",category:"Legs",subcategory:"Isolation",targetMuscles:["Quads"],instructions:["Extend legs against machine resistance."],images:["/exercises/Leg_Extension.webp"]},{id:"leg_curl",name:"Leg Curl",category:"Legs",subcategory:"Isolation",targetMuscles:["Hamstrings"],instructions:["Curl legs against machine resistance."],images:["/exercises/Leg_Curl.webp"]},{id:"walking_lunge",name:"Walking Lunge",category:"Legs",subcategory:"Isolation",targetMuscles:["Quads","Glutes"],instructions:["Step forward and lower hips."],images:["/exercises/walking_lunge.webp"]},{id:"calf_raises",name:"Calf Raises",category:"Legs",subcategory:"Calves",targetMuscles:["Calves"],instructions:["Raise heels."],images:["/exercises/calf_raise.webp"]},{id:"glute_bridges",name:"Glute Bridges",category:"Legs",subcategory:"Glutes",targetMuscles:["Glutes"],instructions:["Lie on back.","Lift hips."],images:["/exercises/Glute_Bridges.webp"]},{id:"reverse_wrist_curl",name:"Reverse Wrist Curl",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearm Extensors"],instructions:["Curl wrist up with palm down."],images:["/exercises/reverse_wrist_curl.webp"]},{id:"radial_wrist_tilts",name:"Radial Wrist Tilts",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearms"],instructions:["Tilt wrist thumb-side up."],images:["/exercises/Radial_Wrist_Tilts.webp"]},{id:"wrist_rotations",name:"Wrist Rotations",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearms"],instructions:["Rotate wrists with weight."],images:["/exercises/Wrist_Rotations.webp"]},{id:"wrist_curls",name:"Wrist Curls",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearm Flexors"],instructions:["Curl wrist up with palm up."],images:["/exercises/Wrist_Curls.webp"]},{id:"dumbbell_rear_delt_flies",name:"Dumbbell Rear Delt Flies",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Rear Delts"],instructions:["Hinge forward.","Raise arms to sides."],images:["/exercises/dumbbell_rear_delt_flies.webp"]},{id:"cable_face_pulls",name:"Cable Face Pulls",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Rear Delts"],instructions:["Pull rope to face."],images:["/exercises/face_pull.webp"]},{id:"archer_rows",name:"Archer Rows",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Back","Rear Delts"],instructions:["Row with one arm while other stays straight."],images:["/exercises/Archer_Rows.webp"]},{id:"one_arm_dumbbell_shrugs",name:"One Arm Dumbbell Shrugs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Traps"],instructions:["Shrug shoulder up."],images:["/exercises/One_Arm_Dumbbell_Shrugs.webp"]},{id:"prone_overhead_db_press",name:"Prone Overhead Dumbbell Press",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Lower Traps"],instructions:["Lie prone.","Press light weights overhead."],images:["/exercises/Prone_Overhead_Dumbbell_Press.webp"]},{id:"incline_bench_db_iyts",name:"Incline Bench Dumbbell IYTs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Lower Traps","Rear Delts"],instructions:["Form I, Y, T shapes with arms."],images:["/exercises/i-y-t_raises.webp"]},{id:"scapular_holds",name:"Scapular Holds",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hold scapular retraction."],images:["/exercises/Scapular_Holds.webp"]},{id:"scapular_pull_ups",name:"Scapular Pull-Ups",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hang from bar.","Depress and retract scapula without bending elbows."],images:["/exercises/Scapular_Pull-ups.webp"]},{id:"one_arm_scapular_holds",name:"1 Arm Scapular Holds",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hang from one arm.","Engage scapula."],images:["/exercises/one_arm_scapular_holds.webp"]},{id:"one_arm_scapular_pull_ups",name:"1 Arm Scapular Pull-Ups",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["One arm hang.","Depress scapula."],images:["/exercises/one_arm_scapular_pull_ups.webp"]},{id:"trx_iyts",name:"TRX IYTs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Back"],instructions:["Use TRX to perform I, Y, T raises."],images:["/exercises/trx_iyts.webp"]},{id:"dumbbell_overhead_rotations",name:"Dumbbell Overhead Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Press overhead.","Rotate shoulders."],images:["/exercises/Dumbbell_Overhead_Rotations.webp"]},{id:"external_side_lying_rotations",name:"External Side Lying Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Lie on side.","Rotate arm up."],images:["/exercises/External_Side_Lying_Rotations.webp"]},{id:"prone_bench_rotations",name:"Prone Bench Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Lie prone.","Rotate arms."],images:["/exercises/Prone_Bench_Rotations.webp"]},{id:"cable_external_rotations",name:"Cable External Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Use cable.","Rotate arm away from body."],images:["/exercises/Cable_External_Rotations.webp"]},{id:"cable_internal_rotation",name:"Cable Internal Rotation",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Use cable.","Rotate arm across body."],images:["/exercises/Cable_Internal_Rotation.webp"]},{id:"internal_side_lying_rotations",name:"Internal Side Lying Rotations",category:"Stabilisers",subcategory:"Internal Rotation/Flexors",targetMuscles:["Rotator Cuff"],instructions:["Lie on side.","Rotate arm inward."],images:["/exercises/Internal_Side_Lying_Rotations.webp"]},{id:"hanging_l_hold",name:"Hanging L Hold",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Hang from bar.","Hold legs horizontal."],images:["/exercises/Hanging_L_Hold.webp"]},{id:"supine_leg_raises",name:"Supine Leg Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Lie on back.","Raise legs."],images:["/exercises/Supine_Leg_Raises.webp"]},{id:"hanging_leg_raises",name:"Hanging Leg Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Hang from bar.","Raise legs to bar."],images:["/exercises/hanging_leg_raise.webp"]},{id:"lever_raises_tucked",name:"Lever Raises (tucked)",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Front lever progression tucked."],images:["/exercises/Lever_Raises_tucked.webp"]},{id:"lever_raises_90",name:"Lever Raises (90)",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Front lever progression to 90 degrees."]},{id:"lever_raises",name:"Lever Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Full front lever raises."]},{id:"crunches",name:"Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Upper Abs"],instructions:["Crunch up off floor."],images:["/exercises/crunch.webp"]},{id:"lower_ab_crunches",name:"Lower Ab Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Lower Abs"],instructions:["Reverse crunch movement."],images:["/exercises/Lower_Ab_Crunches.webp"]},{id:"weighted_crunches",name:"Weighted Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Abs"],instructions:["Crunch with weight."],images:["/exercises/Weighted_Crunches.webp"]},{id:"dead_bug",name:"Dead Bug",category:"Core",subcategory:"Crunches",targetMuscles:["Core"],instructions:["Opposite arm and leg extension lying on back."],images:["/exercises/Dead_Bug.webp"]},{id:"boat_pose",name:"Boat Pose",category:"Core",subcategory:"Crunches",targetMuscles:["Core"],instructions:["Static V hold on floor."],images:["/exercises/Boat_Pose.webp"]},{id:"v_sits",name:"V Sits",category:"Core",subcategory:"Crunches",targetMuscles:["Abs"],instructions:["Explosive sit up to V position."],images:["/exercises/V_Sits.webp"]},{id:"kettle_bell_twists",name:"Kettle Bell Twists",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Russian twist with KB."],images:["/exercises/russian_twists.webp"]},{id:"twisting_crunches",name:"Twisting Crunches",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Crunch with rotation."],images:["/exercises/Twisting_Crunches.webp"]},{id:"supine_windscreen_wipers",name:"Supine Windscreen Wipers",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Lie on back.","Rotate legs side to side."],images:["/exercises/Supine_Windscreen_Wipers.webp"]},{id:"hanging_windscreen_wipers",name:"Hanging Windscreen Wipers",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Hang from bar.","Rotate legs side to side."],images:["/exercises/Hanging_Windscreen_Wipers.webp"]},{id:"thread_the_needle",name:"Thread the Needle",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques","Mobility"],instructions:["Plank position.","Reach under body."],images:["/exercises/Thread_the_Needle.webp"]}];var Cr=k('<div><div class="col set-num svelte-ow8x7m"> </div> <div class="col weight svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col reps svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col check svelte-ow8x7m"><button><!></button></div></div>');function Lr(N,i){Wt(i,!1);let l=be(i,"setNumber",8),h=be(i,"set",12);const D=fa();function G(){h(h().completed=!h().completed,!0),D("change",h()),h().completed&&D("complete")}Ia();var M=Cr();let f;var P=s(M),C=s(P,!0);a(P);var w=r(P,2),v=s(w);ie(v),a(w);var R=r(w,2),q=s(R);ie(q),a(R);var b=r(R,2),x=s(b);let y;var S=s(x);{var z=A=>{var Q=kt("✓");n(A,Q)};U(S,A=>{wt(h()),mt(()=>h().completed)&&A(z)})}a(x),a(b),a(M),B(()=>{f=Ct(M,1,"set-row svelte-ow8x7m",null,f,{completed:h().completed}),j(C,l()),y=Ct(x,1,"check-btn svelte-ow8x7m",null,y,{checked:h().completed})}),de(v,()=>h().weight,A=>h(h().weight=A,!0)),de(q,()=>h().reps,A=>h(h().reps=A,!0)),Dt("click",x,G),n(N,M),It()}var Rr=k('<div><span class="dot svelte-1ni79z8"></span> <span class="text"> </span></div>'),Pr=k("<button></button>"),Nr=k('<div class="exercise-card svelte-1ni79z8"><div class="header svelte-1ni79z8"><div class="title-group svelte-1ni79z8"><button class="icon-btn info-btn svelte-1ni79z8" aria-label="Exercise Info"><div class="info-icon svelte-1ni79z8">?</div></button> <div><h4 class="svelte-1ni79z8"> </h4> <button class="icon-btn timer-btn svelte-1ni79z8" aria-label="Open Timer" title="Interval Timer">⏱</button> <div class="benchmarks svelte-1ni79z8"></div></div></div> <button class="icon-btn delete-btn svelte-1ni79z8" aria-label="Delete Exercise">🗑️</button></div> <div class="table-header svelte-1ni79z8"><div class="col">Set</div> <div class="col">kg</div> <div class="col">Reps</div> <div class="col">✓</div></div> <div class="sets"></div> <button class="add-set-btn svelte-1ni79z8">+ Add Set</button> <div class="difficulty-footer svelte-1ni79z8"><span class="diff-label svelte-1ni79z8">How did it feel?</span> <div class="diff-circles svelte-1ni79z8"></div></div></div>');function qr(N,i){Wt(i,!1);let l=be(i,"exercise",12),h=be(i,"benchmarks",24,()=>({}));const D=fa();function G(){const Z=l().sets[l().sets.length-1],W={weight:Z?Z.weight:0,reps:Z?Z.reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1};l(l().sets=[...l().sets,W],!0)}const M=["Green","Yellow","Orange","Red"];Ia();var f=Nr(),P=s(f),C=s(P),w=s(C),v=r(w,2),R=s(v),q=s(R,!0);a(R);var b=r(R,2),x=r(b,2);ue(x,5,()=>M,ve,(Z,W)=>{var I=Kt(),$=Bt(I);{var ee=le=>{var oe=Rr();Ct(oe,1,"benchmark-pill svelte-1ni79z8",null,{},{"has-data":!0});var te=r(s(oe),2),re=s(te);a(te),a(oe),B(H=>{Oa(oe,`--pill-color: var(--color-${H??""})`),j(re,`${wt(h()),e(W),mt(()=>h()[e(W)]?.weight)??""}kg x ${wt(h()),e(W),mt(()=>h()[e(W)]?.reps)??""}`)},[()=>(e(W),mt(()=>e(W).toLowerCase()))]),n(le,oe)};U($,le=>{wt(h()),e(W),mt(()=>h()[e(W)])&&le(ee)})}n(Z,I)}),a(x),a(v),a(C);var y=r(C,2);a(P);var S=r(P,4);ue(S,5,()=>(wt(l()),mt(()=>l().sets)),ve,(Z,W,I)=>{Lr(Z,{setNumber:I+1,get set(){return(wt(l()),mt(()=>l().sets))[I]},set set($){(wt(l()),mt(()=>l().sets))[I]=$,vs(()=>l())},$$events:{complete($){Pa.call(this,i,$)},change($){Pa.call(this,i,$)}},$$legacy:!0})}),a(S);var z=r(S,2),A=r(z,2),Q=r(s(A),2);ue(Q,5,()=>M,ve,(Z,W)=>{var I=Pr();let $;B(ee=>{$=Ct(I,1,"diff-circle svelte-1ni79z8",null,$,{selected:l().difficulty===e(W)}),Oa(I,`--circle-color: var(--color-${ee??""})`),rt(I,"aria-label",`Mark as ${e(W)??""}`)},[()=>(e(W),mt(()=>e(W).toLowerCase()))]),Dt("click",I,()=>l(l().difficulty=e(W),!0)),n(Z,I)}),a(Q),a(A),a(f),B(()=>j(q,(wt(l()),mt(()=>l().name)))),Dt("click",w,()=>D("info",l())),Dt("click",b,()=>D("timer",l())),Dt("click",y,()=>D("delete",l())),Dt("click",z,G),n(N,f),It()}const Dr=N=>N;function Ha(N){const i=N-1;return i*i*i+1}function Qa(N){const i=typeof N=="string"&&N.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return i?[parseFloat(i[1]),i[2]||"px"]:[N,"px"]}function ja(N,{delay:i=0,duration:l=400,easing:h=Dr}={}){const D=+getComputedStyle(N).opacity;return{delay:i,duration:l,easing:h,css:G=>`opacity: ${G*D}`}}function Za(N,{delay:i=0,duration:l=400,easing:h=Ha,x:D=0,y:G=0,opacity:M=0}={}){const f=getComputedStyle(N),P=+f.opacity,C=f.transform==="none"?"":f.transform,w=P*(1-M),[v,R]=Qa(D),[q,b]=Qa(G);return{delay:i,duration:l,easing:h,css:(x,y)=>`
			transform: ${C} translate(${(1-x)*v}${R}, ${(1-x)*q}${b});
			opacity: ${P-w*y}`}}function Wi(N,{delay:i=0,duration:l=400,easing:h=Ha,axis:D="y"}={}){const G=getComputedStyle(N),M=+G.opacity,f=D==="y"?"height":"width",P=parseFloat(G[f]),C=D==="y"?["top","bottom"]:["left","right"],w=C.map(S=>`${S[0].toUpperCase()}${S.slice(1)}`),v=parseFloat(G[`padding${w[0]}`]),R=parseFloat(G[`padding${w[1]}`]),q=parseFloat(G[`margin${w[0]}`]),b=parseFloat(G[`margin${w[1]}`]),x=parseFloat(G[`border${w[0]}Width`]),y=parseFloat(G[`border${w[1]}Width`]);return{delay:i,duration:l,easing:h,css:S=>`overflow: hidden;opacity: ${Math.min(S*20,1)*M};${f}: ${S*P}px;padding-${C[0]}: ${S*v}px;padding-${C[1]}: ${S*R}px;margin-${C[0]}: ${S*q}px;margin-${C[1]}: ${S*b}px;border-${C[0]}-width: ${S*x}px;border-${C[1]}-width: ${S*y}px;min-${f}: 0`}}function $a(N,{delay:i=0,duration:l=400,easing:h=Ha,start:D=0,opacity:G=0}={}){const M=getComputedStyle(N),f=+M.opacity,P=M.transform==="none"?"":M.transform,C=1-D,w=f*(1-G);return{delay:i,duration:l,easing:h,css:(v,R)=>`
			transform: ${P} scale(${1-C*R});
			opacity: ${f-w*R}
		`}}function Mr(N){const i=N-1;return i*i*i+1}class Ma{static audioContext=null;static gainNode=null;static isInitialized=!1;static init(){if(!this.isInitialized)try{(window.AudioContext||window.webkitAudioContext)&&(this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this.isInitialized=!0)}catch(i){console.warn("AudioContext not supported",i)}}static async playChime(){if(this.isInitialized||this.init(),!this.audioContext||!this.gainNode)return;this.audioContext.state==="suspended"&&await this.audioContext.resume();const i=this.audioContext.currentTime,l=this.audioContext.createOscillator();l.type="sine",l.frequency.setValueAtTime(880,i),l.frequency.exponentialRampToValueAtTime(.01,i+1.5);const h=this.audioContext.createGain();h.gain.setValueAtTime(.3,i),h.gain.exponentialRampToValueAtTime(.001,i+1.5),l.connect(h),h.connect(this.gainNode),l.start(i),l.stop(i+1.5);const D=this.audioContext.createOscillator();D.type="triangle",D.frequency.setValueAtTime(1760,i),D.frequency.exponentialRampToValueAtTime(.01,i+1);const G=this.audioContext.createGain();G.gain.setValueAtTime(.1,i),G.gain.exponentialRampToValueAtTime(.001,i+1),D.connect(G),G.connect(this.gainNode),D.start(i),D.stop(i+1)}static vibrate(i=200){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(i)}static async playCompletionAlert(){this.vibrate([500,100,500]),await this.playChime()}static async playTick(){if(this.isInitialized||this.init(),!this.audioContext||!this.gainNode)return;this.audioContext.state==="suspended"&&await this.audioContext.resume();const i=this.audioContext.currentTime,l=this.audioContext.createOscillator();l.type="sine",l.frequency.setValueAtTime(600,i);const h=this.audioContext.createGain();h.gain.setValueAtTime(.05,i),h.gain.exponentialRampToValueAtTime(.001,i+.1),l.connect(h),h.connect(this.gainNode),l.start(i),l.stop(i+.1),this.vibrate(50)}}var Or=k('<div class="setup-form svelte-18i4gcv"><div class="input-group svelte-18i4gcv"><label for="work-duration" class="svelte-18i4gcv">Work</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv"><label for="rest-duration" class="svelte-18i4gcv">Rest</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv"><label for="num-sets" class="svelte-18i4gcv">Sets</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv" style="flex-direction: row; align-items: center; justify-content: space-between;"><label for="allow-overtime" style="margin: 0;" class="svelte-18i4gcv">Overtime</label> <label class="toggle-switch svelte-18i4gcv"><input type="checkbox" id="allow-overtime" class="svelte-18i4gcv"/> <span class="slider svelte-18i4gcv"></span></label></div> <button class="start-btn svelte-18i4gcv">▶ Start Interval</button></div>'),Gr=k('<div class="finished-state svelte-18i4gcv"><div class="check-icon svelte-18i4gcv">✓</div> <h3>Nicely Done!</h3> <button class="reset-btn svelte-18i4gcv">Back to Setup</button></div>'),Ar=k('<button class="ctl-btn primary svelte-18i4gcv">⏸</button>'),Er=k('<button class="ctl-btn primary svelte-18i4gcv">▶</button>'),Fr=k('<div class="timer-circle svelte-18i4gcv"><svg viewBox="0 0 100 100" class="ring svelte-18i4gcv"><circle class="track svelte-18i4gcv" cx="50" cy="50" r="45"></circle><circle class="progress svelte-18i4gcv" cx="50" cy="50" r="45" stroke-dasharray="283"></circle></svg> <div class="timer-val svelte-18i4gcv"><div class="phase-label svelte-18i4gcv"> </div> <div class="digits svelte-18i4gcv"> </div></div></div> <div class="controls-row svelte-18i4gcv"><button class="ctl-btn secondary svelte-18i4gcv">+10</button> <!> <button class="ctl-btn secondary finish svelte-18i4gcv">🏁</button></div> <div class="controls-sub svelte-18i4gcv"><button class="text-btn svelte-18i4gcv"> </button> <button class="text-btn stop svelte-18i4gcv">✕ Abort</button></div>',1),Br=k('<div class="overlay svelte-18i4gcv" role="button" tabindex="0"><div><div class="header svelte-18i4gcv"><span class="title svelte-18i4gcv"><!></span> <button class="close-btn svelte-18i4gcv">✕</button></div> <div class="content svelte-18i4gcv"><!></div></div></div>');function es(N,i){Wt(i,!0);let l=be(i,"visible",15,!1),h=be(i,"defaultSets",3,3),D=be(i,"associatedExerciseId",7,null),G=be(i,"onComplete",3,()=>{}),M=be(i,"onClose",3,()=>{}),f=u("SETUP"),P=u("PAUSED"),C=u(30),w=u(60),v=u(3),R=u(!1),q=u(1),b=u(30),x=u(null),y=u(null),S=u(!1),z=u(null),A=null,Q=null,Z=null;ra(()=>{l()&&(Ma.init(),e(f)==="SETUP"&&(oe(),h()>0&&t(v,h())))}),ma(()=>(H(),Z=setInterval(Rt,100),"serviceWorker"in navigator&&(navigator.serviceWorker.ready.then(F=>{A=F}),Q=F=>{F.data&&F.data.type==="TIMER_ACTION"&&le(F.data.action)},navigator.serviceWorker.addEventListener("message",Q)),document.addEventListener("visibilitychange",W),()=>{clearInterval(Z),document.removeEventListener("visibilitychange",W),"serviceWorker"in navigator&&Q&&navigator.serviceWorker.removeEventListener("message",Q)}));function W(){document.hidden&&e(P)==="RUNNING"&&I()}function I(F=!1){const K=e(f)==="WORK"?"Work":"Rest",fe=`[Set ${e(q)}/${e(v)}]`,ze=`${e(b)<0?"Overtime":"Remaining"}: ${Xe(Math.abs(e(b)))}`,Ge=[{action:"pause",title:"⏸ Pause"},{action:"finish-session",title:"🏁 Finish"}];e(b)>=0?ee(`${K} Timer ${fe}`,ze,Ge,F):e(R)&&e(S)&&ee("Interval Finished",`Overtime: ${Xe(Math.abs(e(b)))}`,[{action:"finish-session",title:"🏁 Finish"},{action:"extend-10",title:"⏱ +10s"}],!1)}async function $(){"Notification"in window&&Notification.permission!=="granted"&&await Notification.requestPermission()}function ee(F,K,fe=[],Le=!0){if("serviceWorker"in navigator&&Notification.permission==="granted"){const ze=Ge=>{Ge.showNotification(F,{body:K,icon:"/favicon.png",vibrate:Le?[200,100,200]:[],actions:fe,tag:"rest-timer",renotify:Le})};A?ze(A):navigator.serviceWorker.ready.then(ze)}}function le(F){F==="extend-10"?(t(b,e(b)+10),e(x)&&t(x,e(x)+1e4),e(b)>0&&t(S,!1),re(),document.hidden&&I()):F==="next-set"?tt():F==="finish-session"?xt():F==="pause"?Ue():F==="resume"&&Te()}async function oe(){if(D())try{const F=await ks(D());F.ok&&F.data&&(t(C,F.data.workDuration,!0),t(w,F.data.restDuration,!0),t(R,F.data.allowOvertime,!0))}catch(F){console.warn(F)}}async function te(){if(D())try{await xs(D(),{workDuration:e(C),restDuration:e(w),allowOvertime:e(R)})}catch(F){console.error(F)}}function re(){if(e(f)==="SETUP")return;const F={phase:e(f),runningState:e(P),remaining:e(b),endTimestamp:e(x),configWork:e(C),configRest:e(w),configSets:e(v),configSetsOverridden:e(v),allowOvertime:e(R),currentSet:e(q),associatedExerciseId:D(),pausedTimeRemaining:e(y),timestamp:Date.now()};localStorage.setItem("active_interval_timer",JSON.stringify(F))}function H(){try{const F=localStorage.getItem("active_interval_timer");if(F){const K=JSON.parse(F);Date.now()-K.timestamp<36e5&&(t(f,K.phase,!0),t(P,K.runningState,!0),t(b,K.remaining,!0),t(x,K.endTimestamp,!0),t(C,K.configWork,!0),t(w,K.configRest,!0),K.configSets&&t(v,K.configSets,!0),K.allowOvertime!==void 0&&t(R,K.allowOvertime,!0),t(q,K.currentSet,!0),D(K.associatedExerciseId),t(y,K.pausedTimeRemaining,!0),e(f)!=="SETUP"&&e(f)!=="FINISHED"&&l(!0))}}catch{}}function J(){localStorage.removeItem("active_interval_timer")}function ae(){$(),te(),t(f,"WORK"),t(q,1),ne(e(C))}function ne(F,K=!1){t(P,"RUNNING"),t(b,F,!0),t(x,Date.now()+F*1e3),t(S,!1),re(),Ma.playChime(),document.hidden&&(I(K),t(z,e(b),!0))}function Ue(){t(P,"PAUSED"),t(y,e(b),!0),t(x,null),re(),document.hidden&&ee("Timer Paused","Tap to resume",[{action:"resume",title:"▶ Resume"},{action:"finish-session",title:"🏁 Finish"}],!1)}function Te(){e(y)&&(t(P,"RUNNING"),t(x,Date.now()+e(y)*1e3),re(),document.hidden&&I())}function tt(){ft()}function Lt(){t(f,"SETUP"),t(P,"PAUSED"),J()}function xt(){t(f,"FINISHED"),t(P,"PAUSED"),t(x,null),G()(),J(),document.hidden&&ee("Session Complete","Nicely Done!",[],!1)}function ft(){e(f)==="WORK"?e(q)>=e(v)?(t(f,"FINISHED"),t(P,"PAUSED"),t(x,null),G()(),J()):(t(f,"REST"),ne(e(w),!0)):e(f)==="REST"&&(ds(q),t(f,"WORK"),ne(e(C),!0))}function Rt(){if(!(!l()||e(f)==="SETUP"||e(f)==="FINISHED"||e(P)==="PAUSED")&&e(x)){const F=Date.now(),K=e(x)-F;t(b,Math.ceil(K/1e3),!0),document.hidden&&e(z)!==e(b)&&(I(),t(z,e(b),!0)),e(b)<=0&&(e(S)||(t(S,!0),Ma.playCompletionAlert(),e(R)?ee("Interval Finished","Overtime started",[{action:"finish-session",title:"🏁 Finish"},{action:"extend-10",title:"⏱ +10s"}],!0):(t(b,0),ft())))}}function Xe(F){const K=Math.floor(F/60),fe=F%60;return`${K}:${fe.toString().padStart(2,"0")}`}function _t(){(e(f)==="SETUP"||e(f)==="FINISHED")&&Lt(),l(!1),M()&&M()()}var lt=Kt(),ht=Bt(lt);{var ot=F=>{var K=Br();K.__click=ye=>{ye.target===ye.currentTarget&&_t()},K.__keydown=ye=>{ye.key==="Escape"&&_t()};var fe=s(K);let Le;var ze=s(fe),Ge=s(ze),Tt=s(Ge);{var at=ye=>{var Ne=kt("Timer Setup");n(ye,Ne)},nt=ye=>{var Ne=Kt(),Ae=Bt(Ne);{var Ve=_e=>{var T=kt("Complete");n(_e,T)},Ke=_e=>{var T=kt();B(()=>j(T,`Set ${e(q)??""} / ${e(v)??""}`)),n(_e,T)};U(Ae,_e=>{e(f)==="FINISHED"?_e(Ve):_e(Ke,!1)},!0)}n(ye,Ne)};U(Tt,ye=>{e(f)==="SETUP"?ye(at):ye(nt,!1)})}a(Ge);var ct=r(Ge,2);ct.__click=_t,a(ze);var bt=r(ze,2),Pt=s(bt);{var Mt=ye=>{var Ne=Or(),Ae=s(Ne),Ve=r(s(Ae),2),Ke=s(Ve);Ke.__click=()=>t(C,Math.max(5,e(C)-5),!0);var _e=r(Ke,2),T=s(_e,!0);a(_e);var E=r(_e,2);E.__click=()=>t(C,e(C)+5),a(Ve),a(Ae);var o=r(Ae,2),p=r(s(o),2),O=s(p);O.__click=()=>t(w,Math.max(5,e(w)-5),!0);var V=r(O,2),m=s(V,!0);a(V);var _=r(V,2);_.__click=()=>t(w,e(w)+5),a(p),a(o);var X=r(o,2),Ee=r(s(X),2),De=s(Ee);De.__click=()=>t(v,Math.max(1,e(v)-1),!0);var Se=r(De,2),Re=s(Se,!0);a(Se);var pe=r(Se,2);pe.__click=()=>t(v,e(v)+1),a(Ee),a(X);var we=r(X,2),ce=r(s(we),2),me=s(ce);ie(me),Na(2),a(ce),a(we);var Ze=r(we,2);Ze.__click=ae,a(Ne),B((Fe,$e)=>{j(T,Fe),j(m,$e),j(Re,e(v))},[()=>Xe(e(C)),()=>Xe(e(w))]),Wa(me,()=>e(R),Fe=>t(R,Fe)),n(ye,Ne)},Ot=ye=>{var Ne=Kt(),Ae=Bt(Ne);{var Ve=_e=>{var T=Gr(),E=r(s(T),4);E.__click=()=>t(f,"SETUP"),a(T),n(_e,T)},Ke=_e=>{var T=Fr(),E=Bt(T),o=s(E),p=r(s(o));a(o);var O=r(o,2),V=s(O),m=s(V,!0);a(V);var _=r(V,2);let X;var Ee=s(_,!0);a(_),a(O),a(E);var De=r(E,2),Se=s(De);Se.__click=()=>le("extend-10");var Re=r(Se,2);{var pe=ke=>{var he=Ar();he.__click=Ue,n(ke,he)},we=ke=>{var he=Er();he.__click=Te,n(ke,he)};U(Re,ke=>{e(P)==="RUNNING"?ke(pe):ke(we,!1)})}var ce=r(Re,2);ce.__click=xt,a(De);var me=r(De,2),Ze=s(me);Ze.__click=tt;var Fe=s(Ze,!0);a(Ze);var $e=r(Ze,2);$e.__click=Lt,a(me),B(ke=>{rt(p,"stroke-dashoffset",283*(1-e(b)/(e(f)==="WORK"?e(C):e(w)))),j(m,e(b)<0?"OVERTIME":e(f)),X=Oa(_,"",X,{color:e(b)<0?"#ef4444":"inherit"}),j(Ee,ke),j(Fe,e(b)<0?"Next Set":"⏭ Skip")},[()=>Xe(Math.abs(e(b)))]),n(_e,T)};U(Ae,_e=>{e(f)==="FINISHED"?_e(Ve):_e(Ke,!1)},!0)}n(ye,Ne)};U(Pt,ye=>{e(f)==="SETUP"?ye(Mt):ye(Ot,!1)})}a(bt),a(fe),a(K),B(()=>Le=Ct(fe,1,"timer-card svelte-18i4gcv",null,Le,{work:e(f)==="WORK",rest:e(f)==="REST"})),na(3,fe,()=>$a,()=>({start:.96,duration:300,easing:Mr})),na(3,K,()=>ja,()=>({duration:250})),n(F,K)};U(ht,F=>{l()&&F(ot)})}n(N,lt),It()}Zt(["click","keydown"]);var Wr=k("<img/>"),Ir=k('<div class="animation-frame svelte-zbmy0k"></div>'),zr=k('<div class="visual-placeholder svelte-zbmy0k"><span>No animation available</span></div>'),Hr=k("<li> </li>"),jr=k('<div class="modal-overlay svelte-zbmy0k" role="button" tabindex="0" aria-label="Close modal"><div class="modal-content svelte-zbmy0k" role="dialog" aria-modal="true" tabindex="-1"><div class="header svelte-zbmy0k"><h3 class="svelte-zbmy0k"> </h3> <span class="category svelte-zbmy0k"> </span> <button class="close-btn svelte-zbmy0k" aria-label="Close">×</button></div> <div class="visual-container svelte-zbmy0k"><!> <div class="muscles svelte-zbmy0k"> </div></div> <div class="instructions svelte-zbmy0k"><h4>Instructions</h4> <ol class="svelte-zbmy0k"></ol></div></div></div>');function Ur(N,i){Wt(i,!1);let l=be(i,"exercise",8),h=be(i,"visible",8,!1);const D=fa();let G=fs(0),M;function f(){l().images&&l().images.length>0&&(t(G,0),M=setInterval(()=>{t(G,(e(G)+1)%l().images.length)},800))}function P(){M&&clearInterval(M)}gs(()=>{P()});function C(){D("close")}ps(()=>(wt(h()),wt(l())),()=>{h()&&l().images?.length?f():P()}),ms(),Ia();var w=Kt(),v=Bt(w);{var R=q=>{var b=jr(),x=s(b),y=s(x),S=s(y),z=s(S,!0);a(S);var A=r(S,2),Q=s(A,!0);a(A);var Z=r(A,2);a(y);var W=r(y,2),I=s(W);{var $=H=>{var J=Ir();ue(J,5,()=>(wt(l()),mt(()=>l().images)),ve,(ae,ne,Ue)=>{var Te=Wr();let tt;B(()=>{rt(Te,"src",`${Ds??""}${e(ne)??""}`),rt(Te,"alt",`${wt(l()),mt(()=>l().name)??""} frame ${Ue+1}`),tt=Ct(Te,1,"svelte-zbmy0k",null,tt,{active:Ue===e(G)})}),n(ae,Te)}),a(J),n(H,J)},ee=H=>{var J=zr();n(H,J)};U(I,H=>{wt(l()),mt(()=>l().images&&l().images.length>0)?H($):H(ee,!1)})}var le=r(I,2),oe=s(le);a(le),a(W);var te=r(W,2),re=r(s(te),2);ue(re,5,()=>(wt(l()),mt(()=>l().instructions)),ve,(H,J)=>{var ae=Hr(),ne=s(ae,!0);a(ae),B(()=>j(ne,e(J))),n(H,ae)}),a(re),a(te),a(x),a(b),B(H=>{j(z,(wt(l()),mt(()=>l().name))),j(Q,(wt(l()),mt(()=>l().category))),j(oe,`Targets: ${H??""}`)},[()=>(wt(l()),mt(()=>l().targetMuscles.join(", ")))]),Dt("click",Z,C),na(3,x,()=>Za,()=>({y:50,duration:300})),Dt("click",x,Va(function(H){Pa.call(this,i,H)})),Dt("keydown",x,Va(function(H){Pa.call(this,i,H)})),Dt("click",b,C),Dt("keydown",b,H=>H.key==="Escape"&&C()),n(q,b)};U(v,q=>{h()&&q(R)})}n(N,w),It()}var Vr=k('<div class="input-group svelte-12q9g58"><label for="delete-confirm" class="svelte-12q9g58">Type <strong> </strong> to confirm:</label> <input type="text" id="delete-confirm" autocomplete="off" class="svelte-12q9g58"/></div>'),Kr=k('<button class="backdrop svelte-12q9g58" aria-label="Close modal"></button> <div class="modal svelte-12q9g58" role="dialog" aria-modal="true"><h3 class="svelte-12q9g58"> </h3> <p class="svelte-12q9g58"> </p> <!> <div class="actions svelte-12q9g58"><button class="btn-cancel svelte-12q9g58">Cancel</button> <button class="btn-delete svelte-12q9g58">Delete</button></div></div>',1);function Qr(N,i){Wt(i,!0);let l=be(i,"isOpen",3,!1),h=be(i,"title",3,"Confirm Delete"),D=be(i,"message",3,"Are you sure you want to delete this item? This action cannot be undone."),G=be(i,"confirmKeyword",3,"delete"),M=be(i,"requireInput",3,!0),f=u(""),P=St(()=>!M()||e(f).toLowerCase()===G().toLowerCase());function C(){e(P)&&(i.onConfirm(),t(f,""))}function w(){i.onCancel(),t(f,"")}var v=Kt(),R=Bt(v);{var q=b=>{var x=Kr(),y=Bt(x);y.__click=w;var S=r(y,2),z=s(S),A=s(z,!0);a(z);var Q=r(z,2),Z=s(Q,!0);a(Q);var W=r(Q,2);{var I=oe=>{var te=Vr(),re=s(te),H=r(s(re)),J=s(H,!0);a(H),Na(),a(re);var ae=r(re,2);ie(ae),a(te),B(()=>{j(J,G()),rt(ae,"placeholder",G())}),de(ae,()=>e(f),ne=>t(f,ne)),n(oe,te)};U(W,oe=>{M()&&oe(I)})}var $=r(W,2),ee=s($);ee.__click=w;var le=r(ee,2);le.__click=C,a($),a(S),B(()=>{j(A,h()),j(Z,D()),le.disabled=!e(P)}),na(3,y,()=>ja,()=>({duration:200})),na(3,S,()=>$a,()=>({duration:200,start:.9})),n(b,x)};U(R,b=>{l()&&b(q)})}n(N,v),It()}Zt(["click"]);var Jr=k('<div class="form-header-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;"><h2 style="margin: 0; font-size: 1.25rem; color: var(--teal-primary);">New Gym Session</h2></div>'),Yr=k("<span>Saved! ✓</span>"),Xr=k("<button><!></button>"),Zr=k("<option> </option>"),$r=k("<option> </option>"),ei=k('<div class="filter-row svelte-1w0zsmt"><select class="category-select svelte-1w0zsmt"><option>Select Category...</option><!></select> <select class="subcategory-select svelte-1w0zsmt"><option>Select Subcategory...</option><!></select></div>'),ti=k('<span class="details svelte-1w0zsmt"> </span>'),ai=k('<button class="exercise-item-simple svelte-1w0zsmt"><span class="name svelte-1w0zsmt"> </span> <!></button>'),si=k('<div class="no-results svelte-1w0zsmt"> </div>'),ri=k('<div class="modal-overlay svelte-1w0zsmt" role="button" tabindex="0" aria-label="Close modal"><div class="picker-modal svelte-1w0zsmt" role="dialog" aria-modal="true" tabindex="-1"><div class="picker-header svelte-1w0zsmt"><h3>Add Exercise</h3> <div class="search-row svelte-1w0zsmt"><input type="text" placeholder="Search exercises..." class="svelte-1w0zsmt"/></div> <!></div> <div class="picker-content svelte-1w0zsmt"><div class="exercise-list-simple svelte-1w0zsmt"><!> <!></div></div></div></div>'),ii=k('<div class="gym-session-form svelte-1w0zsmt"><div class="session-meta svelte-1w0zsmt"><!> <input type="text" class="session-name svelte-1w0zsmt" placeholder="Workout Name (e.g. Pull Day)"/> <div class="meta-row svelte-1w0zsmt"><label class="svelte-1w0zsmt">Date <div class="date-time-row svelte-1w0zsmt"><input type="date" class="svelte-1w0zsmt"/> <input type="time" class="svelte-1w0zsmt"/></div></label> <label class="svelte-1w0zsmt">Bodyweight (kg) <input type="number" placeholder="Optional" class="svelte-1w0zsmt"/></label> <label class="svelte-1w0zsmt">Block <select class="svelte-1w0zsmt"><option>Strength</option><option>Power</option><option>Power Endurance</option><option>Muscular Endurance</option></select></label></div></div> <div class="exercises-list"></div> <button class="add-exercise-btn svelte-1w0zsmt">+ Add Exercise</button> <div class="session-notes-container svelte-1w0zsmt"><!></div> <!> <!> <!> <!> <!></div>');function Ii(N,i){Wt(i,!0);const l=fa(),h="gym_session_draft";let D=be(i,"initialData",3,null),G=St(()=>!!D()),M=u(""),f=u(void 0),P=u(Ie([])),C=u(Ie(new Date().toISOString().split("T")[0])),w=u(Ie(new Date().toTimeString().split(" ")[0].slice(0,5))),v=u("Strength"),R=u(null),q=u(Ie([])),b=u("");ma(async()=>{if(D())t(M,D().name,!0),t(f,D().bodyweight,!0),t(P,D().exercises,!0),t(C,D().date,!0),t(w,D().time||"12:00",!0),t(v,D().trainingBlock||"Strength",!0),t(b,D().notes||"",!0),t(le,!0);else{const E=localStorage.getItem(h);if(E)try{const o=JSON.parse(E);o.sessionName&&t(M,o.sessionName,!0),o.bodyweight&&t(f,o.bodyweight,!0),o.startTime&&t(C,o.startTime,!0),o.time&&t(w,o.time,!0),o.trainingBlock&&t(v,o.trainingBlock,!0),o.exercises&&t(P,o.exercises,!0),o.notes&&t(b,o.notes,!0)}catch(o){console.error("Failed to restore draft",o)}t(le,!0)}const T=await Ts();T.ok&&T.data&&t(q,T.data.map(E=>({...E,activityType:"gym_session",syncStatus:"synced"})),!0)}),ra(()=>{const T=e(q).filter(E=>(E.trainingBlock||"Strength")===e(v)&&E.date<e(C));T.sort((E,o)=>new Date(o.date).getTime()-new Date(E.date).getTime()),t(R,T.length>0?T[0]:null,!0)});function x(T){const E={Green:null,Yellow:null,Orange:null,Red:null},o=[...e(q)].sort((p,O)=>new Date(O.date).getTime()-new Date(p.date).getTime());for(const p of o){if(E.Green&&E.Yellow&&E.Orange&&E.Red)break;const O=p.exercises.find(V=>V.name===T);if(O&&O.difficulty&&!E[O.difficulty]){let V=null;for(const m of O.sets)(!V||m.weight>V.weight||m.weight===V.weight&&m.reps>V.reps)&&(V=m);V&&(E[O.difficulty]={weight:V.weight,reps:V.reps})}}return E}let y=u(!1),S=u(""),z=u(""),A=u(""),Q=u(!1),Z=u(null),W=u(null),I=u(!1),$=u(null),ee=u(3),le=u(!1);ra(()=>{if(e(le)&&!e(G)&&typeof localStorage<"u"){const T={sessionName:e(M),bodyweight:e(f),startTime:e(C),time:e(w),trainingBlock:e(v),exercises:e(P),notes:e(b)};localStorage.setItem(h,JSON.stringify(T))}});let oe=St(()=>Ra.filter(T=>{if(e(S))return T.name.toLowerCase().includes(e(S).toLowerCase())||T.targetMuscles.some(p=>p.toLowerCase().includes(e(S).toLowerCase()));const E=e(z)?T.category===e(z):!0,o=e(A)?T.subcategory===e(A):!0;return E&&o}));const te=Array.from(new Set(Ra.map(T=>T.category))).sort();let re=St(()=>e(z)?Array.from(new Set(Ra.filter(T=>T.category===e(z)).map(T=>T.subcategory))).sort():[]);function H(){t(A,"")}function J(T){const E={id:crypto.randomUUID(),name:T.name,sets:[{weight:0,reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1}]};t(P,[...e(P),E],!0),t(y,!1),t(S,""),t(z,""),t(A,"")}function ae(T){const E=T.detail;t($,E.id,!0),t(ee,E.sets.length,!0),t(Q,!0)}function ne(){}async function Ue(){if(e(P).length===0)return;const T={date:e(C),time:e(w),name:e(M)||"Gym Workout",bodyweight:e(f),trainingBlock:e(v),exercises:e(P),notes:e(b)},E=e(G)&&D()?await Cs(D().id,T):await Ls(T);E.ok?(t(I,!0),e(G)||localStorage.removeItem(h),i.onSaved?i.onSaved():setTimeout(()=>{t(I,!1),l("save")},1500)):console.error("Failed to save gym session",E.error)}var Te=ii(),tt=s(Te),Lt=s(tt);{var xt=T=>{var E=Jr();n(T,E)};U(Lt,T=>{e(G)||T(xt)})}var ft=r(Lt,2);ie(ft);var Rt=r(ft,2),Xe=s(Rt),_t=r(s(Xe)),lt=s(_t);ie(lt);var ht=r(lt,2);ie(ht),a(_t),a(Xe);var ot=r(Xe,2),F=r(s(ot));ie(F),a(ot);var K=r(ot,2),fe=r(s(K)),Le=s(fe);Le.value=Le.__value="Strength";var ze=r(Le);ze.value=ze.__value="Power";var Ge=r(ze);Ge.value=Ge.__value="Power Endurance";var Tt=r(Ge);Tt.value=Tt.__value="Muscular Endurance",a(fe),a(K),a(Rt),a(tt);var at=r(tt,2);ue(at,21,()=>e(P),ve,(T,E,o)=>{{let p=St(()=>x(e(E).name));qr(T,{get exercise(){return e(E)},get benchmarks(){return e(p)},$$events:{complete:ne,timer:ae,delete:()=>{t(W,o,!0)},info:()=>{const O=Ra.find(V=>V.name===e(E).name);O&&t(Z,O,!0)}}})}}),a(at);var nt=r(at,2);nt.__click=()=>t(y,!0);var ct=r(nt,2),bt=s(ct);Sa(bt,{placeholder:"How did the workout feel? Energy, sleep, stress...",get value(){return e(b)},set value(T){t(b,T,!0)}}),a(ct);var Pt=r(ct,2);{var Mt=T=>{var E=Xr();let o;E.__click=Ue;var p=s(E);{var O=m=>{var _=Yr();n(m,_)},V=m=>{var _=kt("Finish Workout");n(m,_)};U(p,m=>{e(I)?m(O):m(V,!1)})}a(E),B(()=>{o=Ct(E,1,"save-btn svelte-1w0zsmt",null,o,{success:e(I)}),E.disabled=e(I)}),n(T,E)};U(Pt,T=>{e(P).length>0&&T(Mt)})}var Ot=r(Pt,2);{var ye=T=>{var E=ri();E.__click=()=>t(y,!1),E.__keydown=pe=>pe.key==="Escape"&&t(y,!1);var o=s(E);o.__click=pe=>pe.stopPropagation(),o.__keydown=pe=>pe.stopPropagation();var p=s(o),O=r(s(p),2),V=s(O);ie(V),a(O);var m=r(O,2);{var _=pe=>{var we=ei(),ce=s(we);ce.__change=H;var me=s(ce);me.value=me.__value="";var Ze=r(me);ue(Ze,17,()=>te,ve,(he,Ce)=>{var We=Zr(),yt=s(We,!0);a(We);var Nt={};B(()=>{j(yt,e(Ce)),Nt!==(Nt=e(Ce))&&(We.value=(We.__value=e(Ce))??"")}),n(he,We)}),a(ce);var Fe=r(ce,2),$e=s(Fe);$e.value=$e.__value="";var ke=r($e);ue(ke,17,()=>e(re),ve,(he,Ce)=>{var We=$r(),yt=s(We,!0);a(We);var Nt={};B(()=>{j(yt,e(Ce)),Nt!==(Nt=e(Ce))&&(We.value=(We.__value=e(Ce))??"")}),n(he,We)}),a(Fe),a(we),B(()=>Fe.disabled=!e(z)),it(ce,()=>e(z),he=>t(z,he)),it(Fe,()=>e(A),he=>t(A,he)),n(pe,we)};U(m,pe=>{e(S)||pe(_)})}a(p);var X=r(p,2),Ee=s(X),De=s(Ee);ue(De,17,()=>e(oe),ve,(pe,we)=>{var ce=ai();ce.__click=()=>J(e(we));var me=s(ce),Ze=s(me,!0);a(me);var Fe=r(me,2);{var $e=ke=>{var he=ti(),Ce=s(he);a(he),B(()=>j(Ce,`${e(we).category??""} - ${e(we).subcategory??""}`)),n(ke,he)};U(Fe,ke=>{e(S)&&ke($e)})}a(ce),B(()=>j(Ze,e(we).name)),n(pe,ce)});var Se=r(De,2);{var Re=pe=>{var we=si(),ce=s(we,!0);a(we),B(()=>j(ce,e(S)?"No exercises found":"Select a category and subcategory to view exercises.")),n(pe,we)};U(Se,pe=>{e(oe).length===0&&pe(Re)})}a(Ee),a(X),a(o),a(E),de(V,()=>e(S),pe=>t(S,pe)),na(3,o,()=>Za,()=>({y:100,duration:300})),na(3,E,()=>ja),n(T,E)};U(Ot,T=>{e(y)&&T(ye)})}var Ne=r(Ot,2);{var Ae=T=>{Ur(T,{get exercise(){return e(Z)},visible:!0,$$events:{close:()=>t(Z,null)}})};U(Ne,T=>{e(Z)&&T(Ae)})}var Ve=r(Ne,2);es(Ve,{get defaultSets(){return e(ee)},get associatedExerciseId(){return e($)},get visible(){return e(Q)},set visible(T){t(Q,T,!0)}});var Ke=r(Ve,2);{var _e=T=>{Qr(T,{isOpen:!0,title:"Delete Exercise",get message(){return`Are you sure you want to delete ${e(P)[e(W)].name??""}?`},requireInput:!1,onConfirm:()=>{e(W)!==null&&(t(P,e(P).filter((E,o)=>o!==e(W)),!0),t(W,null))},onCancel:()=>t(W,null)})};U(Ke,T=>{e(W)!==null&&T(_e)})}a(Te),de(ft,()=>e(M),T=>t(M,T)),de(lt,()=>e(C),T=>t(C,T)),de(ht,()=>e(w),T=>t(w,T)),de(F,()=>e(f),T=>t(f,T)),it(fe,()=>e(v),T=>t(v,T)),n(N,Te),It()}Zt(["click","keydown","change"]);var li=k('<h3 class="svelte-1m63nqt">🤏 Fingerboarding</h3>'),oi=k("<option> </option>"),ni=k("<option> </option>"),ci=k('<button class="remove-set-btn svelte-1m63nqt">✕</button>'),ui=k('<div class="set-row svelte-1m63nqt"><div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Weight</label> <input type="number" placeholder="0" class="svelte-1m63nqt"/></div> <div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Reps/Secs</label> <input type="number" placeholder="1" class="svelte-1m63nqt"/></div> <!></div>'),vi=k('<div class="exercise-card svelte-1m63nqt"><div class="card-header svelte-1m63nqt"><div class="header-inputs svelte-1m63nqt"><select class="svelte-1m63nqt"></select> <select class="svelte-1m63nqt"></select></div> <button class="remove-card-btn svelte-1m63nqt" title="Remove Exercise">✕</button></div> <div class="sets-list svelte-1m63nqt"><!> <button class="add-set-btn svelte-1m63nqt">+ Add Set</button> <button class="rest-btn svelte-1m63nqt" title="Interval Timer">⏱ Timer</button></div> <div class="card-footer svelte-1m63nqt"><div class="meta-input svelte-1m63nqt"><label class="svelte-1m63nqt">Total Sets</label> <input type="number" readonly="" disabled class="svelte-1m63nqt"/></div> <div class="notes-input svelte-1m63nqt"><label class="svelte-1m63nqt">Notes</label> <input type="text" placeholder="Notes..." class="svelte-1m63nqt"/></div></div></div>'),di=k("<div> </div>"),gi=k('<div class="form-content svelte-1m63nqt"><div class="header-row svelte-1m63nqt"><div style="flex: 1; display: flex; justify-content: space-between; align-items: center;"><!></div> <button class="add-row-btn svelte-1m63nqt">+ Add Exercise</button></div> <div class="form-group date-group svelte-1m63nqt"><label for="date">Date</label> <div class="date-time-row svelte-1m63nqt"><input type="date" id="date" class="svelte-1m63nqt"/> <input type="time" id="time" class="svelte-1m63nqt"/></div></div> <div class="cards-container svelte-1m63nqt"></div> <div class="load-section svelte-1m63nqt"><h4 class="svelte-1m63nqt">Load Metrics</h4> <div class="load-metrics svelte-1m63nqt"><div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div></div> <h4 class="mt-4 svelte-1m63nqt">Grip Metrics</h4> <div class="load-metrics svelte-1m63nqt"><div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div></div></div> <div class="notes-section"><!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1m63nqt"><!></button></div> <!></div>');function zi(N,i){Wt(i,!0),fa();let l=be(i,"initialData",3,null),h=St(()=>!!l());const D=["Max hangs","Recruitment pulls","Max pick-ups"],G=["Full-crimp","Half-crimp","Three finger drag","Pinch","Open hand","Sloper"];let M=u(Ie(new Date().toISOString().split("T")[0])),f=u(Ie(new Date().toTimeString().split(" ")[0].slice(0,5))),P=u(Ie([])),C=u(3),w=u(3),v=u(3),R=u(3),q=u(3),b=u(3),x=u(3),y=u(3),S=u(""),z=u(!1),A=u(null),Q=u(3);function Z(m){t(A,m.id,!0),t(Q,m.sets,!0),t(z,!0)}function W(){t(P,[...e(P),{id:crypto.randomUUID(),name:D[0],gripType:G[1],sets:1,details:[{weight:0,reps:5}],notes:""}],!0)}const I="fingerboard_session_draft";let $=u(!1);ma(()=>{if(l())t(M,l().date,!0),t(f,l().time||"12:00",!0),t(P,l().exercises,!0),t(C,l().fingerLoad||3,!0),t(w,l().shoulderLoad||3,!0),t(v,l().forearmLoad||3,!0),t(R,l().openGrip||3,!0),t(q,l().crimpGrip||3,!0),t(b,l().pinchGrip||3,!0),t(x,l().sloperGrip||3,!0),t(y,l().jugGrip||3,!0),t(S,l().notes||"",!0),t($,!0);else{const m=localStorage.getItem(I);if(m)try{const _=JSON.parse(m);_.time&&t(f,_.time,!0),_.exercises&&Array.isArray(_.exercises)&&t(P,_.exercises,!0),_.fingerLoad&&t(C,_.fingerLoad,!0),_.shoulderLoad&&t(w,_.shoulderLoad,!0),_.forearmLoad&&t(v,_.forearmLoad,!0),_.openGrip&&t(R,_.openGrip,!0),_.crimpGrip&&t(q,_.crimpGrip,!0),_.pinchGrip&&t(b,_.pinchGrip,!0),_.sloperGrip&&t(x,_.sloperGrip,!0),_.jugGrip&&t(y,_.jugGrip,!0),_.notes&&t(S,_.notes,!0)}catch(_){console.error("Failed to restore draft",_)}e(P).length===0&&W(),t($,!0)}}),ra(()=>{if(!e($)||e(h))return;const m={date:e(M),time:e(f),exercises:e(P),fingerLoad:e(C),shoulderLoad:e(w),forearmLoad:e(v),openGrip:e(R),crimpGrip:e(q),pinchGrip:e(b),sloperGrip:e(x),jugGrip:e(y),notes:e(S)};localStorage.setItem(I,JSON.stringify(m))});function ee(m){t(P,e(P).filter((_,X)=>X!==m),!0)}function le(m){const _=e(P)[m],X=_.details[_.details.length-1];_.details=[..._.details,{...X}],_.sets=_.details.length}function oe(m,_){const X=e(P)[m];X.details.length>1&&(X.details=X.details.filter((Ee,De)=>De!==_),X.sets=X.details.length)}let te=u("idle"),re=u("");async function H(){t(te,"saving");try{const m={date:e(M),time:e(f),location:"N/A",exercises:JSON.parse(JSON.stringify(e(P))),fingerLoad:e(C),shoulderLoad:e(w),forearmLoad:e(v),openGrip:e(R),crimpGrip:e(q),pinchGrip:e(b),sloperGrip:e(x),jugGrip:e(y),notes:e(S)};let _;e(h)&&l()?_=await Rs(l().id,m):_=await Ps(m),_.ok?(t(te,"success"),t(re,"Session saved!"),e(h)||localStorage.removeItem(I),i.onSaved?i.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{J()},2e3))):(t(te,"error"),t(re,"Failed to save: "+(_.error||"Unknown error")))}catch(m){t(te,"error"),t(re,"Failed to save session"),console.error("Save error:",m)}}function J(){t(M,new Date().toISOString().split("T")[0],!0),t(f,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(P,[],!0),W(),t(C,3),t(w,3),t(v,3),t(R,3),t(q,3),t(b,3),t(x,3),t(y,3),t(S,""),t(te,"idle"),t(re,"")}var ae=gi(),ne=s(ae),Ue=s(ne),Te=s(Ue);{var tt=m=>{var _=li();n(m,_)};U(Te,m=>{e(h)||m(tt)})}a(Ue);var Lt=r(Ue,2);Lt.__click=W,a(ne);var xt=r(ne,2),ft=r(s(xt),2),Rt=s(ft);ie(Rt);var Xe=r(Rt,2);ie(Xe),a(ft),a(xt);var _t=r(xt,2);ue(_t,21,()=>e(P),ve,(m,_,X)=>{var Ee=vi(),De=s(Ee),Se=s(De),Re=s(Se);ue(Re,21,()=>D,ve,(ut,st)=>{var qe=oi(),vt=s(qe,!0);a(qe);var dt={};B(()=>{j(vt,e(st)),dt!==(dt=e(st))&&(qe.value=(qe.__value=e(st))??"")}),n(ut,qe)}),a(Re);var pe=r(Re,2);ue(pe,21,()=>G,ve,(ut,st)=>{var qe=ni(),vt=s(qe,!0);a(qe);var dt={};B(()=>{j(vt,e(st)),dt!==(dt=e(st))&&(qe.value=(qe.__value=e(st))??"")}),n(ut,qe)}),a(pe),a(Se);var we=r(Se,2);we.__click=()=>ee(X),a(De);var ce=r(De,2),me=s(ce);ue(me,17,()=>e(_).details,ve,(ut,st,qe)=>{var vt=ui(),dt=s(vt),Ht=s(dt);rt(Ht,"for",`weight-${X}-${qe}`);var He=r(Ht,2);ie(He),rt(He,"id",`weight-${X}-${qe}`),a(dt);var Qe=r(dt,2),Gt=s(Qe);rt(Gt,"for",`reps-${X}-${qe}`);var jt=r(Gt,2);ie(jt),rt(jt,"id",`reps-${X}-${qe}`),a(Qe);var $t=r(Qe,2);{var ia=zt=>{var ea=ci();ea.__click=()=>oe(X,qe),n(zt,ea)};U($t,zt=>{e(_).details.length>1&&zt(ia)})}a(vt),de(He,()=>e(st).weight,zt=>e(st).weight=zt),de(jt,()=>e(st).reps,zt=>e(st).reps=zt),n(ut,vt)});var Ze=r(me,2);Ze.__click=()=>le(X);var Fe=r(Ze,2);Fe.__click=()=>Z(e(_)),a(ce);var $e=r(ce,2),ke=s($e),he=s(ke);rt(he,"for",`total-sets-${X}`);var Ce=r(he,2);ie(Ce),rt(Ce,"id",`total-sets-${X}`),a(ke);var We=r(ke,2),yt=s(We);rt(yt,"for",`notes-${X}`);var Nt=r(yt,2);ie(Nt),rt(Nt,"id",`notes-${X}`),a(We),a($e),a(Ee),B(()=>hs(Ce,e(_).sets)),it(Re,()=>e(_).name,ut=>e(_).name=ut),it(pe,()=>e(_).gripType,ut=>e(_).gripType=ut),de(Nt,()=>e(_).notes,ut=>e(_).notes=ut),n(m,Ee)}),a(_t);var lt=r(_t,2),ht=r(s(lt),2),ot=s(ht),F=s(ot);Pe(F,{id:"finger-load",label:"Finger",get value(){return e(C)},set value(m){t(C,m,!0)}}),a(ot);var K=r(ot,2),fe=s(K);Pe(fe,{id:"shoulder-load",label:"Shoulder",get value(){return e(w)},set value(m){t(w,m,!0)}}),a(K);var Le=r(K,2),ze=s(Le);Pe(ze,{id:"forearm-load",label:"Forearm",get value(){return e(v)},set value(m){t(v,m,!0)}}),a(Le),a(ht);var Ge=r(ht,4),Tt=s(Ge),at=s(Tt);Pe(at,{id:"open-grip",label:"Open",get value(){return e(R)},set value(m){t(R,m,!0)}}),a(Tt);var nt=r(Tt,2),ct=s(nt);Pe(ct,{id:"crimp-grip",label:"Crimp",get value(){return e(q)},set value(m){t(q,m,!0)}}),a(nt);var bt=r(nt,2),Pt=s(bt);Pe(Pt,{id:"pinch-grip",label:"Pinch",get value(){return e(b)},set value(m){t(b,m,!0)}}),a(bt);var Mt=r(bt,2),Ot=s(Mt);Pe(Ot,{id:"sloper-grip",label:"Sloper",get value(){return e(x)},set value(m){t(x,m,!0)}}),a(Mt);var ye=r(Mt,2),Ne=s(ye);Pe(Ne,{id:"jug-grip",label:"Jug",get value(){return e(y)},set value(m){t(y,m,!0)}}),a(ye),a(Ge),a(lt);var Ae=r(lt,2),Ve=s(Ae);Sa(Ve,{placeholder:"How did the session feel? Energy levels, mood, etc.",get value(){return e(S)},set value(m){t(S,m,!0)}}),a(Ae);var Ke=r(Ae,2),_e=s(Ke);{var T=m=>{var _=di();let X;var Ee=s(_,!0);a(_),B(()=>{X=Ct(_,1,"save-message svelte-1m63nqt",null,X,{success:e(te)==="success",error:e(te)==="error"}),j(Ee,e(re))}),n(m,_)};U(_e,m=>{e(re)&&m(T)})}var E=r(_e,2);E.__click=H;var o=s(E);{var p=m=>{var _=kt("Saving...");n(m,_)},O=m=>{var _=Kt(),X=Bt(_);{var Ee=Se=>{var Re=kt("✓ Saved!");n(Se,Re)},De=Se=>{var Re=kt("Save Session");n(Se,Re)};U(X,Se=>{e(te)==="success"?Se(Ee):Se(De,!1)},!0)}n(m,_)};U(o,m=>{e(te)==="saving"?m(p):m(O,!1)})}a(E),a(Ke);var V=r(Ke,2);es(V,{get defaultSets(){return e(Q)},get associatedExerciseId(){return e(A)},get visible(){return e(z)},set visible(m){t(z,m,!0)}}),a(ae),B(()=>E.disabled=e(te)==="saving"),de(Rt,()=>e(M),m=>t(M,m)),de(Xe,()=>e(f),m=>t(f,m)),n(N,ae),It()}Zt(["click"]);var pi=k('<h3 style="margin: 0; color: var(--teal-secondary);" class="svelte-1fje4dh">🏆 Competition</h3>'),mi=k("<option> </option>"),fi=k('<input type="text" placeholder="Enter venue name" class="mt-2 svelte-1fje4dh"/>'),_i=k("<option> </option>"),hi=k("<option> </option>"),bi=k('<input type="text" placeholder="Round name" class="mt-2 svelte-1fje4dh"/>'),yi=k('<div class="result-mode-content svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="position" class="svelte-1fje4dh">Final Position</label> <input type="number" id="position" placeholder="#" class="large-input svelte-1fje4dh"/></div></div>'),wi=k("<option> </option>"),Si=k('<input type="number" min="1" class="svelte-1fje4dh"/>'),ki=k('<span class="flash-dash">-</span>'),xi=k('<tr><td class="col-name svelte-1fje4dh"><input type="text" class="svelte-1fje4dh"/></td><td class="col-status svelte-1fje4dh"><select class="svelte-1fje4dh"></select></td><td class="col-attempt svelte-1fje4dh"><!></td><td class="col-notes svelte-1fje4dh"><input type="text" placeholder="..." class="svelte-1fje4dh"/></td><td class="col-action svelte-1fje4dh"><button class="svelte-1fje4dh">✕</button></td></tr>'),Ti=k('<div class="section-header centered svelte-1fje4dh"><h4 class="svelte-1fje4dh">Load Metrics</h4></div> <div class="load-metrics-column svelte-1fje4dh"><div class="metric-row svelte-1fje4dh"><!></div> <div class="metric-row svelte-1fje4dh"><!></div> <div class="metric-row svelte-1fje4dh"><!></div></div> <div class="climbs-table-container svelte-1fje4dh"><div class="section-header svelte-1fje4dh"><h4 class="svelte-1fje4dh">Boulders / Routes</h4></div> <table class="climbs-table svelte-1fje4dh"><thead><tr><th class="svelte-1fje4dh">#</th><th class="svelte-1fje4dh">Result</th><th class="svelte-1fje4dh">Att.</th><th class="svelte-1fje4dh">Notes</th><th class="svelte-1fje4dh"></th></tr></thead><tbody></tbody></table> <button class="add-row-btn svelte-1fje4dh">+ Add Row</button></div>',1),Ci=k("<div> </div>"),Li=k('<div class="form-content svelte-1fje4dh"><div style="flex: 1; display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;"><!></div> <div class="form-grid svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="date" class="svelte-1fje4dh">Date</label> <div class="date-time-row svelte-1fje4dh"><input type="date" id="date" class="svelte-1fje4dh"/> <input type="time" id="time" class="svelte-1fje4dh"/></div></div> <div class="form-group svelte-1fje4dh"><label for="venue" class="svelte-1fje4dh">Venue</label> <select id="venue" class="svelte-1fje4dh"><option disabled>Select venue...</option><!></select> <!></div></div> <div class="form-group mb-4 svelte-1fje4dh"><label for="type" class="svelte-1fje4dh">Type</label> <select id="type" class="svelte-1fje4dh"></select></div> <div class="form-group mb-4 svelte-1fje4dh"><!></div> <div class="round-section svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="round" class="svelte-1fje4dh">Round</label> <select id="round" class="svelte-1fje4dh"></select> <!></div> <!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1fje4dh"><!></button></div></div>');function Hi(N,i){Wt(i,!0),fa();let l=be(i,"initialData",3,null),h=St(()=>!!l());const D=["Flashpoint Bristol","Rockstar Techno","Rockstar Unit 3","Rockstar Unit 5","Bloc","TCA","Other"],G=["Bouldering","Lead","Speed"],M=["Qualifiers","Semi-Finals","Finals","Result","Other"],f=["Flash","Top","Zone","Attempt"];let P=u(Ie(new Date().toISOString().split("T")[0])),C=u(Ie(new Date().toTimeString().split(" ")[0].slice(0,5))),w=u(""),v=u(""),R=u("Bouldering"),q=u(4),b=u(4),x=u(4),y=u("Qualifiers"),S=u(""),z=u(null),A=u(Ie([{name:"#1",status:"Flash",attemptCount:1,notes:""}])),Q=u("");const Z="competition_session_draft";let W=u(!1);ma(()=>{if(l()){if(t(P,l().date,!0),t(C,l().time||"12:00",!0),t(R,l().type||"Bouldering",!0),t(Q,l().notes||"",!0),D.includes(l().venue)?t(w,l().venue,!0):(t(w,"Other"),t(v,l().venue,!0)),t(q,l().fingerLoad??4,!0),t(b,l().shoulderLoad??4,!0),t(x,l().forearmLoad??4,!0),l().rounds&&l().rounds.length>0){const o=l().rounds[0];M.includes(o.name)?t(y,o.name,!0):(t(y,"Other"),t(S,o.name,!0)),t(z,o.position??null,!0),o.climbs&&o.climbs.length>0&&t(A,o.climbs,!0)}t(W,!0)}else{const o=localStorage.getItem(Z);if(o)try{const p=JSON.parse(o);p.venue&&t(w,p.venue,!0),p.time&&t(C,p.time,!0),p.customVenue&&t(v,p.customVenue,!0),p.type&&t(R,p.type,!0),p.fingerLoad&&t(q,p.fingerLoad,!0),p.shoulderLoad&&t(b,p.shoulderLoad,!0),p.forearmLoad&&t(x,p.forearmLoad,!0),p.roundName&&t(y,p.roundName,!0),p.customRoundName&&t(S,p.customRoundName,!0),p.finalPosition&&t(z,p.finalPosition,!0),p.climbs&&t(A,p.climbs,!0),p.notes&&t(Q,p.notes,!0)}catch(p){console.error("Failed to restore draft",p)}t(W,!0)}}),ra(()=>{if(!e(W)||e(h))return;const o={date:e(P),time:e(C),venue:e(w),customVenue:e(v),type:e(R),fingerLoad:e(q),shoulderLoad:e(b),forearmLoad:e(x),roundName:e(y),customRoundName:e(S),finalPosition:e(z),climbs:e(A),notes:e(Q)};localStorage.setItem(Z,JSON.stringify(o))});let I=St(()=>e(y)==="Result"),$=St(()=>e(w)==="Other"),ee=St(()=>e(y)==="Other"),le=St(()=>e(y)==="Other"?e(S):e(y));function oe(){const o=e(A).length+1;t(A,[...e(A),{name:`#${o}`,status:"Flash",attemptCount:1,notes:""}],!0)}function te(o){e(A).length>1?t(A,e(A).filter((p,O)=>O!==o),!0):e(A)[0]={name:"#1",status:"Flash",attemptCount:1,notes:""}}function re(o,p){e(A)[o].status=p,p==="Flash"&&(e(A)[o].attemptCount=1)}let H=u("idle"),J=u("");async function ae(){if(!e(w)||e(w)==="Other"&&!e(v)){t(H,"error"),t(J,"Please specify a venue");return}t(H,"saving");try{const o={name:e(le),position:e(I)?e(z):void 0,climbs:e(I)?void 0:JSON.parse(JSON.stringify(e(A)))},p={date:e(P),time:e(C),venue:e(w)==="Other"?e(v):e(w),customVenue:e(w)==="Other"?e(v):void 0,type:e(R),fingerLoad:e(I)?void 0:e(q),shoulderLoad:e(I)?void 0:e(b),forearmLoad:e(I)?void 0:e(x),rounds:[o],notes:e(Q)};let O;e(h)&&l()?O=await Ns(l().id,p):O=await qs(p),O.ok?(t(H,"success"),t(J,"Competition saved!"),e(h)||localStorage.removeItem(Z),i.onSaved?i.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{ne()},2e3))):(t(H,"error"),t(J,"Failed to save: "+(O.error||"Unknown error")))}catch(o){t(H,"error"),t(J,"Failed to save session"),console.error("Save error:",o)}}function ne(){t(P,new Date().toISOString().split("T")[0],!0),t(C,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(w,""),t(v,""),t(z,null),t(A,[{name:"#1",status:"Flash",attemptCount:1,notes:""}],!0),t(Q,""),t(H,"idle"),t(J,"")}var Ue=Li(),Te=s(Ue),tt=s(Te);{var Lt=o=>{var p=pi();n(o,p)};U(tt,o=>{e(h)||o(Lt)})}a(Te);var xt=r(Te,2),ft=s(xt),Rt=r(s(ft),2),Xe=s(Rt);ie(Xe);var _t=r(Xe,2);ie(_t),a(Rt),a(ft);var lt=r(ft,2),ht=r(s(lt),2),ot=s(ht);ot.value=ot.__value="";var F=r(ot);ue(F,17,()=>D,ve,(o,p)=>{var O=mi(),V=s(O,!0);a(O);var m={};B(()=>{j(V,e(p)),m!==(m=e(p))&&(O.value=(O.__value=e(p))??"")}),n(o,O)}),a(ht);var K=r(ht,2);{var fe=o=>{var p=fi();ie(p),de(p,()=>e(v),O=>t(v,O)),n(o,p)};U(K,o=>{e($)&&o(fe)})}a(lt),a(xt);var Le=r(xt,2),ze=r(s(Le),2);ue(ze,21,()=>G,ve,(o,p)=>{var O=_i(),V=s(O,!0);a(O);var m={};B(()=>{j(V,e(p)),m!==(m=e(p))&&(O.value=(O.__value=e(p))??"")}),n(o,O)}),a(ze),a(Le);var Ge=r(Le,2),Tt=s(Ge);Sa(Tt,{placeholder:"How did the comp go? Strategy, mindset, etc.",get value(){return e(Q)},set value(o){t(Q,o,!0)}}),a(Ge);var at=r(Ge,2),nt=s(at),ct=r(s(nt),2);ue(ct,21,()=>M,ve,(o,p)=>{var O=hi(),V=s(O,!0);a(O);var m={};B(()=>{j(V,e(p)),m!==(m=e(p))&&(O.value=(O.__value=e(p))??"")}),n(o,O)}),a(ct);var bt=r(ct,2);{var Pt=o=>{var p=bi();ie(p),de(p,()=>e(S),O=>t(S,O)),n(o,p)};U(bt,o=>{e(ee)&&o(Pt)})}a(nt);var Mt=r(nt,2);{var Ot=o=>{var p=yi(),O=s(p),V=r(s(O),2);ie(V),a(O),a(p),de(V,()=>e(z),m=>t(z,m)),n(o,p)},ye=o=>{var p=Ti(),O=r(Bt(p),2),V=s(O),m=s(V);Pe(m,{id:"finger",label:"Finger Load",max:5,get value(){return e(q)},set value(ce){t(q,ce,!0)}}),a(V);var _=r(V,2),X=s(_);Pe(X,{id:"shoulder",label:"Shoulder Load",max:5,get value(){return e(b)},set value(ce){t(b,ce,!0)}}),a(_);var Ee=r(_,2),De=s(Ee);Pe(De,{id:"forearm",label:"Forearm Load",max:5,get value(){return e(x)},set value(ce){t(x,ce,!0)}}),a(Ee),a(O);var Se=r(O,2),Re=r(s(Se),2),pe=r(s(Re));ue(pe,21,()=>e(A),ve,(ce,me,Ze)=>{var Fe=xi(),$e=s(Fe),ke=s($e);ie(ke),a($e);var he=r($e),Ce=s(he);Ce.__change=He=>re(Ze,He.target.value),ue(Ce,21,()=>f,ve,(He,Qe)=>{var Gt=wi(),jt=s(Gt,!0);a(Gt);var $t={};B(()=>{j(jt,e(Qe)),$t!==($t=e(Qe))&&(Gt.value=(Gt.__value=e(Qe))??"")}),n(He,Gt)}),a(Ce);var We;Fa(Ce),a(he);var yt=r(he),Nt=s(yt);{var ut=He=>{var Qe=Si();ie(Qe),de(Qe,()=>e(me).attemptCount,Gt=>e(me).attemptCount=Gt),n(He,Qe)},st=He=>{var Qe=ki();n(He,Qe)};U(Nt,He=>{e(me).status!=="Flash"?He(ut):He(st,!1)})}a(yt);var qe=r(yt),vt=s(qe);ie(vt),a(qe);var dt=r(qe),Ht=s(dt);Ht.__click=()=>te(Ze),a(dt),a(Fe),B(()=>{We!==(We=e(me).status)&&(Ce.value=(Ce.__value=e(me).status)??"",Ba(Ce,e(me).status))}),de(ke,()=>e(me).name,He=>e(me).name=He),de(vt,()=>e(me).notes,He=>e(me).notes=He),n(ce,Fe)}),a(pe),a(Re);var we=r(Re,2);we.__click=oe,a(Se),n(o,p)};U(Mt,o=>{e(I)?o(Ot):o(ye,!1)})}a(at);var Ne=r(at,2),Ae=s(Ne);{var Ve=o=>{var p=Ci();let O;var V=s(p,!0);a(p),B(()=>{O=Ct(p,1,"save-message svelte-1fje4dh",null,O,{success:e(H)==="success",error:e(H)==="error"}),j(V,e(J))}),n(o,p)};U(Ae,o=>{e(J)&&o(Ve)})}var Ke=r(Ae,2);Ke.__click=ae;var _e=s(Ke);{var T=o=>{var p=kt("Saving...");n(o,p)},E=o=>{var p=Kt(),O=Bt(p);{var V=_=>{var X=kt("✓ Saved!");n(_,X)},m=_=>{var X=kt("Save Session");n(_,X)};U(O,_=>{e(H)==="success"?_(V):_(m,!1)},!0)}n(o,p)};U(_e,o=>{e(H)==="saving"?o(T):o(E,!1)})}a(Ke),a(Ne),a(Ue),B(()=>Ke.disabled=e(H)==="saving"),de(Xe,()=>e(P),o=>t(P,o)),de(_t,()=>e(C),o=>t(C,o)),it(ht,()=>e(w),o=>t(w,o)),it(ze,()=>e(R),o=>t(R,o)),it(ct,()=>e(y),o=>t(y,o)),n(N,Ue),It()}Zt(["change","click"]);export{Hi as C,Qr as D,Ra as E,zi as F,Ii as G,Fi as I,Bi as O,Ka as a,Za as f,nr as g,Wi as s,na as t};
