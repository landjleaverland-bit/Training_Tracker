import{f as b,a as u,c as Ut,t as bt}from"./DlIpowWv.js";import{C as aa,X as ia,a_ as ra,ae as la,a2 as oa,k as ct,a$ as na,az as Xs,b0 as ca,aj as ua,n as qs,a4 as da,p as Et,c as i,r as s,s as a,g as e,t as E,a as Ht,f as Bt,e as d,A as We,o as bs,d as t,j as as,aM as _t,b1 as Ps,as as Te,b2 as us,q as ft,b3 as va,b4 as pa,b5 as ga,b6 as ma,b7 as fa,aL as _a}from"./BSXnj9bA.js";import{a as ba,d as is,s as U,e as we}from"./DY3SdbM1.js";import{i as V}from"./Bnb5Vf_a.js";import{e as _e,j as be,r as A,i as Nt,p as ha}from"./DBB2y30b.js";import{s as Lt}from"./C5lbgwQY.js";import{a as Is,s as js,c as G,b as rt,d as Zs,u as ya,e as wa,f as Sa,g as ka,h as Us,j as xa,k as Ca,l as Ta,m as La,n as qa,o as Ma,p as Pa}from"./BHK6Hdfp.js";import{p as Fe}from"./DrybqwuO.js";import{i as As}from"./2GMkO49V.js";import{b as Ra}from"./CdRHfM3v.js";const Da=()=>performance.now(),Yt={tick:P=>requestAnimationFrame(P),now:()=>Da(),tasks:new Set};function $s(){const P=Yt.now();Yt.tasks.forEach(l=>{l.c(P)||(Yt.tasks.delete(l),l.f())}),Yt.tasks.size!==0&&Yt.tick($s)}function Na(P){let l;return Yt.tasks.size===0&&Yt.tick($s),{promise:new Promise(n=>{Yt.tasks.add(l={c:P,f:n})}),abort(){Yt.tasks.delete(l)}}}function Fs(P,l){Xs(()=>{P.dispatchEvent(new CustomEvent(l))})}function Ba(P){if(P==="float")return"cssFloat";if(P==="offset")return"cssOffset";if(P.startsWith("--"))return P;const l=P.split("-");return l.length===1?l[0]:l[0]+l.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Ks(P){const l={},n=P.split(";");for(const f of n){const[q,D]=f.split(":");if(!q||D===void 0)break;const O=Ba(q.trim());l[O]=D.trim()}return l}const Fa=P=>P;function ss(P,l,n,f){var q=(P&na)!==0,D="both",O,w=l.inert,k=l.style.overflow,x,S;function T(){return Xs(()=>O??=n()(l,f?.()??{},{direction:D}))}var M={is_global:q,in(){l.inert=w,Fs(l,"introstart"),x=Es(l,T(),S,1,()=>{Fs(l,"introend"),x?.abort(),x=O=void 0,l.style.overflow=k})},out(C){l.inert=!0,Fs(l,"outrostart"),S=Es(l,T(),x,0,()=>{Fs(l,"outroend"),C?.()})},stop:()=>{x?.abort(),S?.abort()}},m=aa;if((m.nodes.t??=[]).push(M),ba){var N=q;if(!N){for(var h=m.parent;h&&(h.f&ia)!==0;)for(;(h=h.parent)&&(h.f&ra)===0;);N=!h||(h.f&la)!==0}N&&oa(()=>{ct(()=>M.in())})}}function Es(P,l,n,f,q){var D=f===1;if(ca(l)){var O,w=!1;return ua(()=>{if(!w){var C=l({direction:D?"in":"out"});O=Es(P,C,n,f,q)}}),{abort:()=>{w=!0,O?.abort()},deactivate:()=>O.deactivate(),reset:()=>O.reset(),t:()=>O.t()}}if(n?.deactivate(),!l?.duration)return q(),{abort:qs,deactivate:qs,reset:qs,t:()=>f};const{delay:k=0,css:x,tick:S,easing:T=Fa}=l;var M=[];if(D&&n===void 0&&(S&&S(0,1),x)){var m=Ks(x(0,1));M.push(m,m)}var N=()=>1-f,h=P.animate(M,{duration:k,fill:"forwards"});return h.onfinish=()=>{h.cancel();var C=n?.t()??1-f;n?.abort();var R=f-C,B=l.duration*Math.abs(R),L=[];if(B>0){var H=!1;if(x)for(var z=Math.ceil(B/16.666666666666668),F=0;F<=z;F+=1){var I=C+R*T(F/z),K=Ks(x(I,1-I));L.push(K),H||=K.overflow==="hidden"}H&&(P.style.overflow="hidden"),N=()=>{var re=h.currentTime;return C+R*T(re/B)},S&&Na(()=>{if(h.playState!=="running")return!1;var re=N();return S(re,1-re),!0})}h=P.animate(L,{duration:B,fill:"forwards"}),h.onfinish=()=>{N=()=>f,S?.(f,1-f),q()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=qs)},deactivate:()=>{q=qs},reset:()=>{f===0&&S?.(1,0)},t:()=>N()}}function Qs(P){return function(...l){var n=l[0];return n.stopPropagation(),P?.apply(this,l)}}function Ms(P,l){var n=P.$$events?.[l.type],f=da(n)?n.slice():n==null?[]:[n];for(var q of f)q.call(this,l)}var Ga=b('<span class="placeholder svelte-1g8x5ph"> </span>'),Aa=b('<span class="chip-display"> </span>'),Oa=b('<button type="button"> </button>'),Ea=b('<div class="multi-select-container svelte-1g8x5ph"><div class="chips svelte-1g8x5ph"><!></div> <div class="options-grid svelte-1g8x5ph"></div></div>');function cs(P,l){Et(l,!0);let n=Fe(l,"selected",19,()=>[]),f=Fe(l,"placeholder",3,"Select options...");function q(T){let M=[...n()];T==="None"?M.includes("None")?M=[]:M=["None"]:(M=M.filter(m=>m!=="None"),M.includes(T)?M=M.filter(m=>m!==T):M.push(T)),l.onChange(M)}var D=Ea(),O=i(D),w=i(O);{var k=T=>{var M=Ga(),m=i(M,!0);s(M),E(()=>U(m,f())),u(T,M)},x=T=>{var M=Ut(),m=Bt(M);_e(m,17,n,be,(N,h)=>{var C=Aa(),R=i(C,!0);s(C),E(()=>U(R,e(h))),u(N,C)}),u(T,M)};V(w,T=>{n().length===0?T(k):T(x,!1)})}s(O);var S=a(O,2);_e(S,21,()=>l.options,be,(T,M)=>{var m=Oa();m.__click=()=>q(e(M));var N=i(m,!0);s(m),E(h=>{Lt(m,1,`option-chip ${h??""}`,"svelte-1g8x5ph"),U(N,e(M))},[()=>n().includes(e(M))?"selected":""]),u(T,m)}),s(S),s(D),u(P,D),Ht()}is(["click"]);var Ha=b('<div class="input-with-action svelte-1lf3qka"><input type="text" id="location-manual" placeholder="Enter custom location..." class="flat-left svelte-1lf3qka"/> <button type="button" class="action-btn flat-right svelte-1lf3qka" title="Back to list">✕</button></div>'),Wa=b("<option> </option>"),Ia=b('<select id="location" class="svelte-1lf3qka"><option disabled>Select location...</option><!></select>'),ja=b("<option> </option>"),za=b("<option> </option>"),Va=b('<th class="svelte-1lf3qka">Sport?</th>'),Ua=b('<td class="center svelte-1lf3qka"><input type="checkbox" class="svelte-1lf3qka"/></td>'),Ka=b('<span class="grade-error svelte-1lf3qka">Invalid</span>'),Qa=b("<option> </option>"),Ja=b("<option> </option>"),Ya=b("<option> </option>"),Xa=b('<button type="button" class="remove-btn svelte-1lf3qka">✕</button>'),Za=b('<tr class="svelte-1lf3qka"><!><td class="svelte-1lf3qka"><input type="text" placeholder="Route name..." class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><input type="text" placeholder="V3"/> <!></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><input type="number" min="1" class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td><textarea placeholder="Notes..." class="svelte-1lf3qka"></textarea></td><td class="center svelte-1lf3qka"><!></td></tr>'),$a=b("<div> </div>"),ei=b('<button type="button" class="cancel-btn-large svelte-1lf3qka">Cancel</button>'),ti=b('<div class="form-content svelte-1lf3qka"><div class="form-row svelte-1lf3qka"><div class="form-group svelte-1lf3qka"><label for="date" class="svelte-1lf3qka">Date</label> <div class="date-time-row svelte-1lf3qka"><input type="date" id="date" class="svelte-1lf3qka"/> <input type="time" id="time" class="svelte-1lf3qka"/></div></div> <div class="form-group svelte-1lf3qka"><label for="location" class="svelte-1lf3qka">Location</label> <!></div></div> <div class="form-group svelte-1lf3qka"><label for="climbing-type" class="svelte-1lf3qka">Climbing Type</label> <select id="climbing-type" class="svelte-1lf3qka"><option disabled>Select type...</option><!></select></div> <div class="training-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Training Details</h4> <div class="training-grid svelte-1lf3qka"><div class="training-item svelte-1lf3qka"><label for="training-type" class="svelte-1lf3qka">Training Type</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="difficulty" class="svelte-1lf3qka">Difficulty</label> <select id="difficulty"></select></div> <div class="training-item svelte-1lf3qka"><label for="category" class="svelte-1lf3qka">Category</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="energy-system" class="svelte-1lf3qka">Energy System</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="wall-angle" class="svelte-1lf3qka">Wall</label> <!></div></div></div> <div class="form-group notes-section svelte-1lf3qka"><label for="session-notes" class="svelte-1lf3qka">Session Notes</label> <textarea id="session-notes" placeholder="How did the session feel? Energy levels, mood, etc." rows="3" class="svelte-1lf3qka"></textarea></div> <div class="climbs-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Climbs</h4> <div class="table-container svelte-1lf3qka"><table class="climbs-table svelte-1lf3qka"><thead><tr><!><th class="svelte-1lf3qka">Name</th><th class="svelte-1lf3qka">Grade</th><th class="svelte-1lf3qka">Attempt</th><th class="svelte-1lf3qka">#</th><th class="svelte-1lf3qka">Wall Angle</th><th class="svelte-1lf3qka">Technique Focus</th><th class="svelte-1lf3qka">Notes</th><th class="svelte-1lf3qka"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-1lf3qka">+ Add Climb</button></div> <div class="load-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Load Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="load-item svelte-1lf3qka"><label for="finger-load" class="svelte-1lf3qka">Finger</label> <input type="number" id="finger-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="shoulder-load" class="svelte-1lf3qka">Shoulder</label> <input type="number" id="shoulder-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="forearm-load" class="svelte-1lf3qka">Forearm</label> <input type="number" id="forearm-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div></div> <h4 class="mt-4 svelte-1lf3qka">Grip Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="load-item svelte-1lf3qka"><label for="open-grip" class="svelte-1lf3qka">Open</label> <input type="number" id="open-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="crimp-grip" class="svelte-1lf3qka">Crimp</label> <input type="number" id="crimp-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="pinch-grip" class="svelte-1lf3qka">Pinch</label> <input type="number" id="pinch-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="sloper-grip" class="svelte-1lf3qka">Sloper</label> <input type="number" id="sloper-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="jug-grip" class="svelte-1lf3qka">Jug</label> <input type="number" id="jug-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div></div></div> <div class="submit-section svelte-1lf3qka"><!> <div class="action-buttons svelte-1lf3qka"><!> <button type="button" class="submit-btn svelte-1lf3qka"><!></button></div></div></div>');function Gr(P,l){Et(l,!0);const n=["Rockstar Unit 3","Rockstar Unit 5","Rockstar Techno","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","TCA Mothership","TCA Church","TCA Arc","Bloc","270 Climbing","Other"],f=["Bouldering","Sport","Mixed"],q=["Onsight","Flash","Redpoint","Repeat","Dogged","DNF"],D=["None","Projecting","Onsighting","Campusing","Repeaters","Comp Sim"],O=["None","Easy","Medium","Hard","Max","Limit+"],w=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Endurance","Coordination","Slab Technique","Overhang Technique"],k=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],x=["None","Trusting feet","Double-clutch","Standing on volumes","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Pogo","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"],S=["None","Overhang","Vertical","Slab","Roof"],T=["None","Moon Board","Kilter Board","Tension Board","Beast","Circuit Board","Boulder wall","Lead wall","Comp wall","Auto belays"],m=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","6A+","V4","6B","6B+","V5","6C","6C+","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"].map(_=>_.toLowerCase());let N=d(null),h=_t(()=>!!l.initialData),C=d(We(new Date().toISOString().split("T")[0])),R=d(We(new Date().toTimeString().split(" ")[0].slice(0,5))),B=d(""),L=d(""),H=d(We(["None"])),z=d("None"),F=d(We(["None"])),I=d(We(["None"])),K=d(We(["None"])),re=d(3),ce=d(3),J=d(3),ae=d(3),pe=d(3),j=d(3),Z=d(3),ee=d(3),$=d(We([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}])),ue=d(""),he=d(!1);const se="indoor_climb_draft";let Y=d(!1);bs(()=>{if(l.initialData)t(C,l.initialData.date,!0),t(R,l.initialData.time||"12:00",!0),n.includes(l.initialData.location)?(t(B,l.initialData.location,!0),t(he,!1)):l.initialData.customLocation?(t(B,l.initialData.customLocation,!0),t(he,!0)):(t(B,l.initialData.location,!0),t(he,!0)),t(L,l.initialData.climbingType,!0),t(H,l.initialData.trainingTypes||["None"],!0),t(z,l.initialData.difficulty||"None",!0),t(F,l.initialData.categories||["None"],!0),t(I,l.initialData.energySystems||["None"],!0),t(K,l.initialData.wallAngles||["None"],!0),t(re,l.initialData.fingerLoad||3,!0),t(ce,l.initialData.shoulderLoad||3,!0),t(J,l.initialData.forearmLoad||3,!0),t(ae,l.initialData.openGrip||3,!0),t(pe,l.initialData.crimpGrip||3,!0),t(j,l.initialData.pinchGrip||3,!0),t(Z,l.initialData.sloperGrip||3,!0),t(ee,l.initialData.jugGrip||3,!0),l.initialData.climbs&&l.initialData.climbs.length>0?t($,JSON.parse(JSON.stringify(l.initialData.climbs)),!0):t($,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0),t(ue,l.initialData.notes||"",!0);else{const _=localStorage.getItem(se);if(_)try{const v=JSON.parse(_);v.location&&t(B,v.location,!0),v.time&&t(R,v.time,!0),v.isOtherLocation&&t(he,v.isOtherLocation,!0),v.climbingType&&t(L,v.climbingType,!0),v.trainingTypes&&t(H,v.trainingTypes,!0),v.difficulty&&t(z,v.difficulty,!0),v.categories&&t(F,v.categories,!0),v.energySystems&&t(I,v.energySystems,!0),v.wallAngles&&t(K,v.wallAngles,!0),v.fingerLoad&&t(re,v.fingerLoad,!0),v.shoulderLoad&&t(ce,v.shoulderLoad,!0),v.forearmLoad&&t(J,v.forearmLoad,!0),v.openGrip&&t(ae,v.openGrip,!0),v.crimpGrip&&t(pe,v.crimpGrip,!0),v.pinchGrip&&t(j,v.pinchGrip,!0),v.sloperGrip&&t(Z,v.sloperGrip,!0),v.jugGrip&&t(ee,v.jugGrip,!0),v.climbs&&t($,v.climbs,!0),v.notes&&t(ue,v.notes,!0)}catch(v){console.error("Failed to restore draft",v)}}t(Y,!0)}),as(()=>{if(!e(Y)||e(h))return;const _={date:e(C),time:e(R),location:e(B),isOtherLocation:e(he),climbingType:e(L),trainingTypes:e(H),difficulty:e(z),categories:e(F),energySystems:e(I),fingerLoad:e(re),shoulderLoad:e(ce),forearmLoad:e(J),openGrip:e(ae),crimpGrip:e(pe),pinchGrip:e(j),sloperGrip:e(Z),jugGrip:e(ee),climbs:e($),notes:e(ue)};localStorage.setItem(se,JSON.stringify(_))});function Ge(){e(B)==="Other"&&(t(he,!0),t(B,""))}function Je(){t(he,!1),t(B,"")}function ht(){t($,[...e($),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0)}function ut(_){t($,e($).filter((v,le)=>le!==_),!0)}function yt(_,v){e($)[_].attemptType=v,(v==="Flash"||v==="Onsight")&&(e($)[_].attemptsNum=1)}function qt(_){t(N,_,!0)}function lt(){t(N,null)}let wt=_t(()=>e(L)==="Mixed");function St(_){return e(L)==="Sport"?!0:e(L)==="Bouldering"?!1:_.isSport}function kt(_){return _.trim()?m.includes(_.trim().toLowerCase()):!0}let Me=d("idle"),Ae=d("");function ie(){return e(B)?e(L)?e($).filter(v=>v.grade.trim()&&!kt(v.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a location"}async function ye(){const _=ie();if(_){t(Me,"error"),t(Ae,_,!0);return}t(Me,"saving");try{const v=e($).map(Qe=>({...Qe,isSport:St(Qe)})),le={date:e(C),time:e(R),location:e(B),customLocation:e(he)?e(B):void 0,climbingType:e(L),trainingTypes:e(H),difficulty:e(z),categories:e(F),energySystems:e(I),wallAngles:e(K),fingerLoad:e(re),shoulderLoad:e(ce),forearmLoad:e(J),openGrip:e(ae),crimpGrip:e(pe),pinchGrip:e(j),sloperGrip:e(Z),jugGrip:e(ee),climbs:v,notes:e(ue)};let Ue;e(h)?Ue=await ya(l.initialData.id,le):Ue=await wa(le),Ue.ok?(t(Me,"success"),t(Ae,e(h)?"Session updated!":"Session saved!",!0),e(h)||localStorage.removeItem(se),l.onSaved&&setTimeout(()=>{l.onSaved()},500)):(t(Me,"error"),t(Ae,"Failed to save: "+(Ue.error||"Unknown error"))),e(h)||(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{Ke()},2e3))}catch(v){t(Me,"error"),t(Ae,"Failed to save session"),console.error("Save error:",v)}}function Ke(){t(C,new Date().toISOString().split("T")[0],!0),t(R,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(B,""),t(he,!1),t(L,""),t(H,["None"],!0),t(z,"None"),t(F,["None"],!0),t(I,["None"],!0),t(K,["None"],!0),t(re,3),t(ce,3),t(J,3),t(ae,3),t(pe,3),t(j,3),t(Z,3),t(ee,3),t($,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0),t(ue,""),t(Me,"idle"),t(Ae,"")}var De=ti(),Oe=i(De),de=i(Oe),Se=a(i(de),2),Ie=i(Se);A(Ie);var je=a(Ie,2);A(je),s(Se),s(de);var ot=a(de,2),nt=a(i(ot),2);{var ze=_=>{var v=Ha(),le=i(v);A(le);var Ue=a(le,2);Ue.__click=Je,s(v),G(le,()=>e(B),Qe=>t(B,Qe)),u(_,v)},dt=_=>{var v=Ia();v.__change=Ge;var le=i(v);le.value=le.__value="";var Ue=a(le);_e(Ue,17,()=>n,be,(Qe,Rt)=>{var p=Wa(),c=i(p,!0);s(p);var Q={};E(()=>{U(c,e(Rt)),Q!==(Q=e(Rt))&&(p.value=(p.__value=e(Rt))??"")}),u(Qe,p)}),s(v),rt(v,()=>e(B),Qe=>t(B,Qe)),u(_,v)};V(nt,_=>{e(he)?_(ze):_(dt,!1)})}s(ot),s(Oe);var vt=a(Oe,2),Le=a(i(vt),2),et=i(Le);et.value=et.__value="";var xt=a(et);_e(xt,17,()=>f,be,(_,v)=>{var le=ja(),Ue=i(le,!0);s(le);var Qe={};E(()=>{U(Ue,e(v)),Qe!==(Qe=e(v))&&(le.value=(le.__value=e(v))??"")}),u(_,le)}),s(Le),s(vt);var tt=a(vt,2),y=a(i(tt),2),r=i(y),o=a(i(r),2);cs(o,{get options(){return D},get selected(){return e(H)},placeholder:"Select types...",onChange:_=>t(H,_,!0)}),s(r);var g=a(r,2),W=a(i(g),2);_e(W,21,()=>O,be,(_,v)=>{var le=za(),Ue=i(le,!0);s(le);var Qe={};E(()=>{U(Ue,e(v)),Qe!==(Qe=e(v))&&(le.value=(le.__value=e(v))??"")}),u(_,le)}),s(W),s(g);var X=a(g,2),te=a(i(X),2);cs(te,{get options(){return w},get selected(){return e(F)},placeholder:"Select categories...",onChange:_=>t(F,_,!0)}),s(X);var ge=a(X,2),Ye=a(i(ge),2);cs(Ye,{get options(){return k},get selected(){return e(I)},placeholder:"Select systems...",onChange:_=>t(I,_,!0)}),s(ge);var At=a(ge,2),Ct=a(i(At),2);cs(Ct,{get options(){return T},get selected(){return e(K)},placeholder:"Select walls...",onChange:_=>t(K,_,!0)}),s(At),s(y),s(tt);var Mt=a(tt,2),Ft=a(i(Mt),2);Ps(Ft),s(Mt);var pt=a(Mt,2),ne=a(i(pt),2),qe=i(ne),xe=i(qe),Xe=i(xe),Pt=i(Xe);{var gt=_=>{var v=Va();u(_,v)};V(Pt,_=>{e(wt)&&_(gt)})}Te(8),s(Xe),s(xe);var Ne=a(xe);_e(Ne,21,()=>e($),be,(_,v,le)=>{var Ue=Za(),Qe=i(Ue);{var Rt=oe=>{var He=Ua(),Re=i(He);A(Re),s(He),Zs(Re,()=>e(v).isSport,Qt=>e(v).isSport=Qt),u(oe,He)};V(Qe,oe=>{e(wt)&&oe(Rt)})}var p=a(Qe),c=i(p);A(c),s(p);var Q=a(p),Ce=i(Q);A(Ce);let Be;var Ot=a(Ce,2);{var zt=oe=>{var He=Ka();u(oe,He)};V(Ot,oe=>{kt(e(v).grade)||oe(zt)})}s(Q);var Dt=a(Q),it=i(Dt);it.__change=oe=>yt(le,oe.target.value),_e(it,21,()=>q,be,(oe,He)=>{var Re=Qa(),Qt=i(Re,!0);s(Re);var Jt={};E(()=>{U(Qt,e(He)),Jt!==(Jt=e(He))&&(Re.value=(Re.__value=e(He))??"")}),u(oe,Re)}),s(it);var Gt;Is(it),s(Dt);var Xt=a(Dt),Zt=i(Xt);A(Zt),s(Xt);var Cs=a(Xt),os=i(Cs);_e(os,21,()=>S.filter(oe=>oe!=="None"),be,(oe,He)=>{var Re=Ja(),Qt=i(Re,!0);s(Re);var Jt={};E(()=>{U(Qt,e(He)),Jt!==(Jt=e(He))&&(Re.value=(Re.__value=e(He))??"")}),u(oe,Re)}),s(os),s(Cs);var Vt=a(Cs),ms=i(Vt);_e(ms,21,()=>x,be,(oe,He)=>{var Re=Ya(),Qt=i(Re,!0);s(Re);var Jt={};E(()=>{U(Qt,e(He)),Jt!==(Jt=e(He))&&(Re.value=(Re.__value=e(He))??"")}),u(oe,Re)}),s(ms),s(Vt);var $t=a(Vt);let fs;var es=i($t);Ps(es),s($t);var _s=a($t),Ts=i(_s);{var Ls=oe=>{var He=Xa();He.__click=()=>ut(le),u(oe,He)};V(Ts,oe=>{e($).length>1&&oe(Ls)})}s(_s),s(Ue),E(oe=>{Be=Lt(Ce,1,"grade-input svelte-1lf3qka",null,Be,oe),Gt!==(Gt=e(v).attemptType)&&(it.value=(it.__value=e(v).attemptType)??"",js(it,e(v).attemptType)),Zt.disabled=e(v).attemptType==="Flash"||e(v).attemptType==="Onsight",fs=Lt($t,1,"notes-cell svelte-1lf3qka",null,fs,{expanded:e(N)===le})},[()=>({invalid:!kt(e(v).grade)})]),G(c,()=>e(v).name,oe=>e(v).name=oe),G(Ce,()=>e(v).grade,oe=>e(v).grade=oe),G(Zt,()=>e(v).attemptsNum,oe=>e(v).attemptsNum=oe),rt(os,()=>e(v).wall,oe=>e(v).wall=oe),rt(ms,()=>e(v).techniqueFocus,oe=>e(v).techniqueFocus=oe),we("focus",es,()=>qt(le)),we("blur",es,lt),G(es,()=>e(v).notes,oe=>e(v).notes=oe),u(_,Ue)}),s(Ne),s(qe),s(ne);var Pe=a(ne,2);Pe.__click=ht,s(pt);var me=a(pt,2),ve=a(i(me),2),ke=i(ve),Ve=a(i(ke),2);A(Ve),Te(2),s(ke);var st=a(ke,2),Wt=a(i(st),2);A(Wt),Te(2),s(st);var It=a(st,2),Kt=a(i(It),2);A(Kt),Te(2),s(It),s(ve);var Ee=a(ve,4),at=i(Ee),Tt=a(i(at),2);A(Tt),Te(2),s(at);var mt=a(at,2),jt=a(i(mt),2);A(jt),Te(2),s(mt);var rs=a(mt,2),hs=a(i(rs),2);A(hs),Te(2),s(rs);var ds=a(rs,2),ys=a(i(ds),2);A(ys),Te(2),s(ds);var ws=a(ds,2),vs=a(i(ws),2);A(vs),Te(2),s(ws),s(Ee),s(me);var Ss=a(me,2),ps=i(Ss);{var Rs=_=>{var v=$a();let le;var Ue=i(v,!0);s(v),E(()=>{le=Lt(v,1,"save-message svelte-1lf3qka",null,le,{success:e(Me)==="success",error:e(Me)==="error"}),U(Ue,e(Ae))}),u(_,v)};V(ps,_=>{e(Ae)&&_(Rs)})}var gs=a(ps,2),ks=i(gs);{var xs=_=>{var v=ei();v.__click=function(...le){l.onCancel?.apply(this,le)},E(()=>v.disabled=e(Me)==="saving"),u(_,v)};V(ks,_=>{e(h)&&_(xs)})}var ls=a(ks,2);ls.__click=ye;var Ds=i(ls);{var Ns=_=>{var v=bt();E(()=>U(v,e(h)?"Updating...":"Saving...")),u(_,v)},Bs=_=>{var v=Ut(),le=Bt(v);{var Ue=Rt=>{var p=bt();E(()=>U(p,`✓ ${e(h)?"Updated!":"Saved!"}`)),u(Rt,p)},Qe=Rt=>{var p=bt();E(()=>U(p,e(h)?"Update Session":"Save Session")),u(Rt,p)};V(le,Rt=>{e(Me)==="success"?Rt(Ue):Rt(Qe,!1)},!0)}u(_,v)};V(Ds,_=>{e(Me)==="saving"?_(Ns):_(Bs,!1)})}s(ls),s(gs),s(Ss),s(De),E(()=>ls.disabled=e(Me)==="saving"),G(Ie,()=>e(C),_=>t(C,_)),G(je,()=>e(R),_=>t(R,_)),rt(Le,()=>e(L),_=>t(L,_)),rt(W,()=>e(z),_=>t(z,_)),G(Ft,()=>e(ue),_=>t(ue,_)),G(Ve,()=>e(re),_=>t(re,_)),G(Wt,()=>e(ce),_=>t(ce,_)),G(Kt,()=>e(J),_=>t(J,_)),G(Tt,()=>e(ae),_=>t(ae,_)),G(jt,()=>e(pe),_=>t(pe,_)),G(hs,()=>e(j),_=>t(j,_)),G(ys,()=>e(Z),_=>t(Z,_)),G(vs,()=>e(ee),_=>t(ee,_)),u(P,De),Ht()}is(["click","change"]);const Hs={Portland:{"Blacknor Far North":["Far North (Pit Prop Crag - North Wing)","Far North (Pit Prop Crag - South Wing)","Sunstone Wall","Sandcastle Wall","Hidden Wall"],"Blacknor North":["Diamond Slab","The Ledge","Sharpy's Wall","Reptile Smile Area","Wolfgang Forever Area","Captain Klutz Area","Death of Cool Area","Seattle Be The Day Area","Blacknor Heights (Blacknor Quarry Bouldering)","Blacknor Fort Quarry (Sport)","Cliff Top Way Down"],"Blacknor Central":["The Veranda","Medusa Wall","The Battlement","Wave Wall","Mirror Wall"],"Blacknor South":["Fallen Slab","Infidel Slab","Englands Dreaming Area","Sacred Angel Area","The Reach","Shit Happens Wall"],"Blacknor Far South":["Deadman's Bay","The White Hole","Wall of Lament"],"Battleship Edge":["Northern Sector","Main Edge","Battleship Block"],"Battleship Back Cliff":["Zinc Oxide Mountain","The Main Cliff","Sleepy Hollow"],"Wallsend North":["Sweet Smell of Success Wall","The Coastguard Wall (Northern section)"],"Wallsend South":["The Upper Tier","The Lower Tier","Stalker's Zone"],"Coastguard North":["Top Tier","Main Cliff (Beeston Bump)","The Grooves"],"Coastguard South":["The White Wall","Tennessee Wall","The Veranda (South)"],Godnor:["Godnor North","Godnor Far South","The Godnor Gate Area"],Neddyfields:["Neddyfields Main Wall","The Flowstone Wall","Neddyfields Bouldering"],"Cheyne Cliff":["Red Wall","Inception Wall","Road Rage Wall","The Nook","The Block"],"The Cuttings":["The Cuttings (Main Cliff)","The Pulpit","The Bower","Sun Lover's Slab"],"The New Cuttings":["The Gallery","The Annex","The Arches","The Grotto"],"The Cuttings Boulderfield":["The Tractor","The Coffin","The Octagon","Lightning Wall"]},Swanage:{"Dancing Ledge":["The Amphitheatre","The Upper Tier","The Skull","Promenade","The Quarry"],Hedbury:["Hedbury Quarry (Main)","Hedbury Sea Cliff (The Big Wall)"],Winspit:["The West Quarry","The East Quarry (The Playground)","The Sea Walls"]},"Wye Valley":{"Ban-y-Gor":["The Main Wall","The River Wall","The Far Left","The Upper Tier"],"Biblins Cave":["The Main Cave","The Right Wall","The Entrance Area"],"Woodcroft Quarry":["Fly Wall","The Main Quarry","The Retaining Wall"],"Wyndcliff Quarry":["The Main Wall (Left & Right)","The Upper Tier","The Shady Wall"]},"Costa Del Severn":{Brean:["Boulder Cove","The River Face (Main Cliff)","The Fort","The Slab"],Clevedon:["Ladye Bay","Marine Lake (Bouldering)","The Sea Walls"],"Portishead Quarry":["The Main Wall","The Slab","The Upper Tier"]},Bristol:{"Avon Gorge":["Sea Walls","Suspension Bridge Buttress","Morning Slab","Main Wall","New Quarry","The Amphitheatre","Unknown Wall"],"Leigh Woods":["Quarry 1","Quarry 2","The Main Buttress"],"Bickley Wood":["The Main Wall","The Stream Wall"],Hambrook:["The Roadside Wall"]},Cotswolds:{"Sally-in-the-Wood":["The Main Edge","The Boulders"],"Browns Folly":["The Tower","The Main Wall","The Upper Wall","The Far Right"]},Mendips:{"Cheddar Gorge":["High Rock","Sunset Buttress","Lion Rock","The Pinnacles","Acid Rock","Coronation Street","Long Rock"]},Gower:{Rhossili:["Shipwreck Cove","Rhossili Upper Cliff","The Tears Point"],"Trial Wall Area":["Trial Wall","The Terraces"],Foxhole:["The Main Cave","The Slab","The Overhangs"]},"South Wales":{"Dinas Rock":["Kennelgarth Wall","Main Overhang","Roadside Crag","The Inland Slabs"],Ogmore:["The Deep Zawn","Hardy's Bay","The Diamond","Daytona Wall"]},"North Wales":{"Cromlech (Dinas Cromlech)":["The Corner (Cenotaph)","Left Wall","Right Wall"],"Australia (Slate Quarries)":["The Sidings","Looning the Tube Area","Dali's Hole","The Salt Pans"]},"Peak District":{"Burbage South Valley":["The Boulders","The Edge (The Alliance Area)","The Tank"],"Gardoms Edge":["Apple Buttress","The Eye of Faith","Moomin Buttress"],"Raven Tor":["The Main Wall","The Weedkiller Wall"],Stanage:["Popular End","Plantation","High Neb","Stanage North","The End","Stanage Far North"],"Curbar Edge":["The Main Edge","Elder Crack Area"]},Devon:{Dartmoor:["Haytor (Low Man)","Hound Tor","The Dewerstone (Main Cliff)","Bonehill Rocks"],Hartland:["Screda Point","Smoothlands","Blackchurch Rock"],Tintagel:["The Great Cliff","Gull Rock","Ila's Ledge"]}};function si(){return Object.keys(Hs)}function Js(P){return Hs[P]?Object.keys(Hs[P]):[]}var ai=b('<div class="form-header-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;"><h3 style="margin: 0;" class="svelte-15o2ys1">⛰️ Outdoor Climb</h3></div>'),ii=b("<option> </option>"),ri=b('<div class="input-with-action svelte-15o2ys1"><input type="text" id="crag-manual" placeholder="Enter custom crag name..." class="flat-left svelte-15o2ys1"/> <button type="button" class="action-btn flat-right svelte-15o2ys1" title="Back to list">✕</button></div>'),li=b("<option> </option>"),oi=b("<option>Other (Manual Entry)</option>"),ni=b('<select id="crag" class="svelte-15o2ys1"><option disabled> </option><!><!></select>'),ci=b("<option> </option>"),ui=b("<option> </option>"),di=b('<th class="svelte-15o2ys1">Sport?</th>'),vi=b('<td class="center svelte-15o2ys1"><input type="checkbox" class="svelte-15o2ys1"/></td>'),pi=b('<span class="grade-error svelte-15o2ys1">Invalid</span>'),gi=b("<option> </option>"),mi=b("<option> </option>"),fi=b("<option> </option>"),_i=b('<button type="button" class="remove-btn svelte-15o2ys1">✕</button>'),bi=b('<tr><!><td class="svelte-15o2ys1"><input type="text" placeholder="Route name..." class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><input type="text" placeholder="V3"/> <!></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><input type="number" min="1" class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td><textarea placeholder="Notes..." class="svelte-15o2ys1"></textarea></td><td class="center svelte-15o2ys1"><!></td></tr>'),hi=b("<div> </div>"),yi=b('<div class="form-content svelte-15o2ys1"><!> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="date" class="svelte-15o2ys1">Date</label> <div class="date-time-row svelte-15o2ys1"><input type="date" id="date" class="svelte-15o2ys1"/> <input type="time" id="time" class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="area" class="svelte-15o2ys1">Area</label> <select id="area" class="svelte-15o2ys1"><option disabled>Select area...</option><!></select></div></div> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="crag" class="svelte-15o2ys1">Crag</label> <!></div> <div class="form-group svelte-15o2ys1"><label for="sector" class="svelte-15o2ys1">Wall / Sector</label> <input type="text" id="sector" placeholder="Enter sector or wall name..." class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="climbing-type" class="svelte-15o2ys1">Climbing Type</label> <select id="climbing-type" class="svelte-15o2ys1"><option disabled>Select type...</option><!></select></div> <div class="training-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Training Details</h4> <div class="training-grid svelte-15o2ys1"><div class="training-item svelte-15o2ys1"><label for="training-type" class="svelte-15o2ys1">Training Type</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="difficulty" class="svelte-15o2ys1">Difficulty</label> <select id="difficulty" class="svelte-15o2ys1"></select></div> <div class="training-item svelte-15o2ys1"><label for="category" class="svelte-15o2ys1">Category</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="energy-system" class="svelte-15o2ys1">Energy System</label> <!></div></div></div> <div class="form-group notes-section svelte-15o2ys1"><label for="session-notes" class="svelte-15o2ys1">Session Notes</label> <textarea id="session-notes" placeholder="How did the session feel? Weather, conditions, mood..." rows="3"></textarea></div> <div class="climbs-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Climbs</h4> <div class="table-container svelte-15o2ys1"><table class="climbs-table svelte-15o2ys1"><thead><tr><!><th class="svelte-15o2ys1">Name</th><th class="svelte-15o2ys1">Grade</th><th class="svelte-15o2ys1">Attempt</th><th class="svelte-15o2ys1">#</th><th class="svelte-15o2ys1">Wall Angle</th><th class="svelte-15o2ys1">Technique Focus</th><th class="svelte-15o2ys1">Notes</th><th class="svelte-15o2ys1"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-15o2ys1">+ Add Climb</button></div> <div class="load-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Load Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="load-item svelte-15o2ys1"><label for="finger-load" class="svelte-15o2ys1">Finger</label> <input type="number" id="finger-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="shoulder-load" class="svelte-15o2ys1">Shoulder</label> <input type="number" id="shoulder-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="forearm-load" class="svelte-15o2ys1">Forearm</label> <input type="number" id="forearm-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div></div> <h4 class="mt-4 svelte-15o2ys1">Grip Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="load-item svelte-15o2ys1"><label for="open-grip" class="svelte-15o2ys1">Open</label> <input type="number" id="open-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="crimp-grip" class="svelte-15o2ys1">Crimp</label> <input type="number" id="crimp-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="pinch-grip" class="svelte-15o2ys1">Pinch</label> <input type="number" id="pinch-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="sloper-grip" class="svelte-15o2ys1">Sloper</label> <input type="number" id="sloper-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="jug-grip" class="svelte-15o2ys1">Jug</label> <input type="number" id="jug-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div></div></div> <div class="submit-section svelte-15o2ys1"><!> <button type="button" class="submit-btn svelte-15o2ys1"><!></button></div></div>');function Ar(P,l){Et(l,!0);const n=si(),f=["Boulder","Sport","Trad"],q=["Onsight","Flash","Redpoint","Repeat","Dogged","DNF"],D=["None","Overhang","Vertical","Slab","Roof"],O=["None","Projecting","Onsighting","Campusing","Repeaters","Comp Sim"],w=["None","Easy","Medium","Hard","Max","Limit+"],k=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Endurance","Coordination","Slab Technique","Overhang Technique"],x=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],S=["None","Trusting feet","Double-clutch","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"],M=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","6A+","V4","6B","6B+","V5","6C","6C+","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"].map(p=>p.toLowerCase());let m=Fe(l,"initialData",3,null),N=_t(()=>!!m()),h=d(null),C=d(We(new Date().toISOString().split("T")[0])),R=d(We(new Date().toTimeString().split(" ")[0].slice(0,5))),B=d(""),L=d(""),H=d(""),z=d(""),F=d(We(["None"])),I=d("None"),K=d(We(["None"])),re=d(We(["None"])),ce=d(3),J=d(3),ae=d(3),pe=d(3),j=d(3),Z=d(3),ee=d(3),$=d(3),ue=d(We([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}])),he=d(""),se=_t(()=>e(B)?Js(e(B)):[]),Y=d(!1);const Ge="outdoor_climb_draft";let Je=d(!1);bs(()=>{if(m()){t(C,m().date,!0),t(R,m().time||"12:00",!0),t(B,m().area,!0),t(L,m().crag,!0);const p=Js(e(B));e(L)&&!p.includes(e(L))&&t(Y,!0),t(H,m().sector||"",!0),t(z,m().climbingType,!0),t(F,m().trainingTypes||["None"],!0),t(I,m().difficulty||"Moderate",!0),t(K,m().categories||["None"],!0),t(re,m().energySystems||["None"],!0),t(ce,m().fingerLoad,!0),t(J,m().shoulderLoad,!0),t(ae,m().forearmLoad,!0),t(pe,m().openGrip||3,!0),t(j,m().crimpGrip||3,!0),t(Z,m().pinchGrip||3,!0),t(ee,m().sloperGrip||3,!0),t($,m().jugGrip||3,!0),t(ue,m().climbs||[],!0),t(he,m().notes||"",!0),t(Je,!0)}else{const p=localStorage.getItem(Ge);if(p)try{const c=JSON.parse(p);c.date&&t(C,c.date,!0),c.time&&t(R,c.time,!0),c.area&&t(B,c.area,!0),c.crag&&t(L,c.crag,!0),c.sector&&t(H,c.sector,!0),c.isOtherCrag&&t(Y,c.isOtherCrag,!0),c.climbingType&&t(z,c.climbingType,!0),c.trainingTypes&&t(F,c.trainingTypes,!0),c.difficulty&&t(I,c.difficulty,!0),c.categories&&t(K,c.categories,!0),c.energySystems&&t(re,c.energySystems,!0),c.fingerLoad&&t(ce,c.fingerLoad,!0),c.shoulderLoad&&t(J,c.shoulderLoad,!0),c.forearmLoad&&t(ae,c.forearmLoad,!0),c.openGrip&&t(pe,c.openGrip,!0),c.crimpGrip&&t(j,c.crimpGrip,!0),c.pinchGrip&&t(Z,c.pinchGrip,!0),c.sloperGrip&&t(ee,c.sloperGrip,!0),c.jugGrip&&t($,c.jugGrip,!0),c.climbs&&t(ue,c.climbs,!0),c.notes&&t(he,c.notes,!0)}catch(c){console.error("Failed to restore draft",c)}t(Je,!0)}}),as(()=>{if(!e(Je)||e(N))return;const p={date:e(C),time:e(R),area:e(B),crag:e(L),sector:e(H),isOtherCrag:e(Y),climbingType:e(z),trainingTypes:e(F),difficulty:e(I),categories:e(K),energySystems:e(re),fingerLoad:e(ce),shoulderLoad:e(J),forearmLoad:e(ae),openGrip:e(pe),crimpGrip:e(j),pinchGrip:e(Z),sloperGrip:e(ee),jugGrip:e($),climbs:e(ue),notes:e(he)};localStorage.setItem(Ge,JSON.stringify(p))}),as(()=>{e(B)&&(t(L,""),t(Y,!1))});function ht(){e(L)==="Other"&&(t(Y,!0),t(L,""))}function ut(){t(Y,!1),t(L,"")}function yt(){t(ue,[...e(ue),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0)}function qt(p){t(ue,e(ue).filter((c,Q)=>Q!==p),!0)}function lt(p,c){e(ue)[p].attemptType=c,(c==="Flash"||c==="Onsight")&&(e(ue)[p].attemptsNum=1)}function wt(p){t(h,p,!0)}function St(){t(h,null)}let kt=_t(()=>e(z)==="Trad");function Me(p){return e(z)==="Sport"?!0:e(z)==="Boulder"?!1:p.isSport}function Ae(p){return p.trim()?M.includes(p.trim().toLowerCase()):!0}let ie=d("idle"),ye=d("");function Ke(){return e(B)?e(L)?e(z)?e(ue).filter(c=>c.grade.trim()&&!Ae(c.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a crag":"Please select an area"}async function De(){const p=Ke();if(p){t(ie,"error"),t(ye,p,!0);return}t(ie,"saving");try{const c=e(ue).map(Be=>({...Be,isSport:Me(Be)})),Q={date:e(C),time:e(R),area:e(B),crag:e(L),sector:e(H)||void 0,climbingType:e(z),trainingTypes:e(F),difficulty:e(I),categories:e(K),energySystems:e(re),fingerLoad:e(ce),shoulderLoad:e(J),forearmLoad:e(ae),openGrip:e(pe),crimpGrip:e(j),pinchGrip:e(Z),sloperGrip:e(ee),jugGrip:e($),climbs:c,notes:e(he)};let Ce;e(N)&&m()?Ce=await Sa(m().id,Q):Ce=await ka(Q),Ce.ok?(t(ie,"success"),t(ye,"Session saved!"),e(N)||localStorage.removeItem(Ge),l.onSaved?l.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),e(N)||setTimeout(()=>{Oe()},2e3))):(t(ie,"error"),t(ye,"Failed to save: "+(Ce.error||"Unknown error")))}catch(c){t(ie,"error"),t(ye,"Failed to save session"),console.error("Save error:",c)}}function Oe(){t(C,new Date().toISOString().split("T")[0],!0),t(R,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(B,""),t(L,""),t(H,""),t(z,""),t(F,["None"],!0),t(I,"None"),t(K,["None"],!0),t(re,["None"],!0),t(ce,3),t(J,3),t(ae,3),t(pe,3),t(j,3),t(Z,3),t(ee,3),t($,3),t(ue,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0),t(he,""),t(ie,"idle"),t(ye,"")}var de=yi(),Se=i(de);{var Ie=p=>{var c=ai();u(p,c)};V(Se,p=>{e(N)||p(Ie)})}var je=a(Se,2),ot=i(je),nt=a(i(ot),2),ze=i(nt);A(ze);var dt=a(ze,2);A(dt),s(nt),s(ot);var vt=a(ot,2),Le=a(i(vt),2),et=i(Le);et.value=et.__value="";var xt=a(et);_e(xt,17,()=>n,be,(p,c)=>{var Q=ii(),Ce=i(Q,!0);s(Q);var Be={};E(()=>{U(Ce,e(c)),Be!==(Be=e(c))&&(Q.value=(Q.__value=e(c))??"")}),u(p,Q)}),s(Le),s(vt),s(je);var tt=a(je,2),y=i(tt),r=a(i(y),2);{var o=p=>{var c=ri(),Q=i(c);A(Q);var Ce=a(Q,2);Ce.__click=ut,s(c),G(Q,()=>e(L),Be=>t(L,Be)),u(p,c)},g=p=>{var c=ni();c.__change=ht;var Q=i(c),Ce=i(Q,!0);s(Q),Q.value=Q.__value="";var Be=a(Q);_e(Be,17,()=>e(se),be,(Dt,it)=>{var Gt=li(),Xt=i(Gt,!0);s(Gt);var Zt={};E(()=>{U(Xt,e(it)),Zt!==(Zt=e(it))&&(Gt.value=(Gt.__value=e(it))??"")}),u(Dt,Gt)});var Ot=a(Be);{var zt=Dt=>{var it=oi();it.value=it.__value="Other",u(Dt,it)};V(Ot,Dt=>{e(B)&&Dt(zt)})}s(c),E(()=>{c.disabled=!e(B),U(Ce,e(B)?"Select crag...":"Select area first...")}),rt(c,()=>e(L),Dt=>t(L,Dt)),u(p,c)};V(r,p=>{e(Y)?p(o):p(g,!1)})}s(y);var W=a(y,2),X=a(i(W),2);A(X),s(W),s(tt);var te=a(tt,2),ge=a(i(te),2),Ye=i(ge);Ye.value=Ye.__value="";var At=a(Ye);_e(At,17,()=>f,be,(p,c)=>{var Q=ci(),Ce=i(Q,!0);s(Q);var Be={};E(()=>{U(Ce,e(c)),Be!==(Be=e(c))&&(Q.value=(Q.__value=e(c))??"")}),u(p,Q)}),s(ge),s(te);var Ct=a(te,2),Mt=a(i(Ct),2),Ft=i(Mt),pt=a(i(Ft),2);cs(pt,{get options(){return O},get selected(){return e(F)},placeholder:"Select types...",onChange:p=>t(F,p,!0)}),s(Ft);var ne=a(Ft,2),qe=a(i(ne),2);_e(qe,21,()=>w,be,(p,c)=>{var Q=ui(),Ce=i(Q,!0);s(Q);var Be={};E(()=>{U(Ce,e(c)),Be!==(Be=e(c))&&(Q.value=(Q.__value=e(c))??"")}),u(p,Q)}),s(qe),s(ne);var xe=a(ne,2),Xe=a(i(xe),2);cs(Xe,{get options(){return k},get selected(){return e(K)},placeholder:"Select categories...",onChange:p=>t(K,p,!0)}),s(xe);var Pt=a(xe,2),gt=a(i(Pt),2);cs(gt,{get options(){return x},get selected(){return e(re)},placeholder:"Select systems...",onChange:p=>t(re,p,!0)}),s(Pt),s(Mt),s(Ct);var Ne=a(Ct,2),Pe=a(i(Ne),2);Ps(Pe),s(Ne);var me=a(Ne,2),ve=a(i(me),2),ke=i(ve),Ve=i(ke),st=i(Ve),Wt=i(st);{var It=p=>{var c=di();u(p,c)};V(Wt,p=>{e(kt)&&p(It)})}Te(8),s(st),s(Ve);var Kt=a(Ve);_e(Kt,21,()=>e(ue),be,(p,c,Q)=>{var Ce=bi(),Be=i(Ce);{var Ot=fe=>{var Ze=vi(),$e=i(Ze);A($e),s(Ze),Zs($e,()=>e(c).isSport,ns=>e(c).isSport=ns),u(fe,Ze)};V(Be,fe=>{e(kt)&&fe(Ot)})}var zt=a(Be),Dt=i(zt);A(Dt),s(zt);var it=a(zt),Gt=i(it);A(Gt);let Xt;var Zt=a(Gt,2);{var Cs=fe=>{var Ze=pi();u(fe,Ze)};V(Zt,fe=>{Ae(e(c).grade)||fe(Cs)})}s(it);var os=a(it),Vt=i(os);Vt.__change=fe=>lt(Q,fe.target.value),_e(Vt,21,()=>q,be,(fe,Ze)=>{var $e=gi(),ns=i($e,!0);s($e);var ts={};E(()=>{U(ns,e(Ze)),ts!==(ts=e(Ze))&&($e.value=($e.__value=e(Ze))??"")}),u(fe,$e)}),s(Vt);var ms;Is(Vt),s(os);var $t=a(os),fs=i($t);A(fs),s($t);var es=a($t),_s=i(es);_e(_s,21,()=>D.filter(fe=>fe!=="None"),be,(fe,Ze)=>{var $e=mi(),ns=i($e,!0);s($e);var ts={};E(()=>{U(ns,e(Ze)),ts!==(ts=e(Ze))&&($e.value=($e.__value=e(Ze))??"")}),u(fe,$e)}),s(_s),s(es);var Ts=a(es),Ls=i(Ts);_e(Ls,21,()=>S,be,(fe,Ze)=>{var $e=fi(),ns=i($e,!0);s($e);var ts={};E(()=>{U(ns,e(Ze)),ts!==(ts=e(Ze))&&($e.value=($e.__value=e(Ze))??"")}),u(fe,$e)}),s(Ls),s(Ts);var oe=a(Ts);let He;var Re=i(oe);Ps(Re),s(oe);var Qt=a(oe),Jt=i(Qt);{var sa=fe=>{var Ze=_i();Ze.__click=()=>qt(Q),u(fe,Ze)};V(Jt,fe=>{e(ue).length>1&&fe(sa)})}s(Qt),s(Ce),E(fe=>{Xt=Lt(Gt,1,"grade-input svelte-15o2ys1",null,Xt,fe),ms!==(ms=e(c).attemptType)&&(Vt.value=(Vt.__value=e(c).attemptType)??"",js(Vt,e(c).attemptType)),fs.disabled=e(c).attemptType==="Flash"||e(c).attemptType==="Onsight",He=Lt(oe,1,"notes-cell svelte-15o2ys1",null,He,{expanded:e(h)===Q})},[()=>({invalid:!Ae(e(c).grade)})]),G(Dt,()=>e(c).name,fe=>e(c).name=fe),G(Gt,()=>e(c).grade,fe=>e(c).grade=fe),G(fs,()=>e(c).attemptsNum,fe=>e(c).attemptsNum=fe),rt(_s,()=>e(c).wall,fe=>e(c).wall=fe),rt(Ls,()=>e(c).techniqueFocus,fe=>e(c).techniqueFocus=fe),we("focus",Re,()=>wt(Q)),we("blur",Re,St),G(Re,()=>e(c).notes,fe=>e(c).notes=fe),u(p,Ce)}),s(Kt),s(ke),s(ve);var Ee=a(ve,2);Ee.__click=yt,s(me);var at=a(me,2),Tt=a(i(at),2),mt=i(Tt),jt=a(i(mt),2);A(jt),Te(2),s(mt);var rs=a(mt,2),hs=a(i(rs),2);A(hs),Te(2),s(rs);var ds=a(rs,2),ys=a(i(ds),2);A(ys),Te(2),s(ds),s(Tt);var ws=a(Tt,4),vs=i(ws),Ss=a(i(vs),2);A(Ss),Te(2),s(vs);var ps=a(vs,2),Rs=a(i(ps),2);A(Rs),Te(2),s(ps);var gs=a(ps,2),ks=a(i(gs),2);A(ks),Te(2),s(gs);var xs=a(gs,2),ls=a(i(xs),2);A(ls),Te(2),s(xs);var Ds=a(xs,2),Ns=a(i(Ds),2);A(Ns),Te(2),s(Ds),s(ws),s(at);var Bs=a(at,2),_=i(Bs);{var v=p=>{var c=hi();let Q;var Ce=i(c,!0);s(c),E(()=>{Q=Lt(c,1,"save-message svelte-15o2ys1",null,Q,{success:e(ie)==="success",error:e(ie)==="error"}),U(Ce,e(ye))}),u(p,c)};V(_,p=>{e(ye)&&p(v)})}var le=a(_,2);le.__click=De;var Ue=i(le);{var Qe=p=>{var c=bt("Saving...");u(p,c)},Rt=p=>{var c=Ut(),Q=Bt(c);{var Ce=Ot=>{var zt=bt("✓ Saved!");u(Ot,zt)},Be=Ot=>{var zt=bt("Save Session");u(Ot,zt)};V(Q,Ot=>{e(ie)==="success"?Ot(Ce):Ot(Be,!1)},!0)}u(p,c)};V(Ue,p=>{e(ie)==="saving"?p(Qe):p(Rt,!1)})}s(le),s(Bs),s(de),E(()=>le.disabled=e(ie)==="saving"),G(ze,()=>e(C),p=>t(C,p)),G(dt,()=>e(R),p=>t(R,p)),rt(Le,()=>e(B),p=>t(B,p)),G(X,()=>e(H),p=>t(H,p)),rt(ge,()=>e(z),p=>t(z,p)),rt(qe,()=>e(I),p=>t(I,p)),G(Pe,()=>e(he),p=>t(he,p)),G(jt,()=>e(ce),p=>t(ce,p)),G(hs,()=>e(J),p=>t(J,p)),G(ys,()=>e(ae),p=>t(ae,p)),G(Ss,()=>e(pe),p=>t(pe,p)),G(Rs,()=>e(j),p=>t(j,p)),G(ks,()=>e(Z),p=>t(Z,p)),G(ls,()=>e(ee),p=>t(ee,p)),G(Ns,()=>e($),p=>t($,p)),u(P,de),Ht()}is(["click","change"]);const Gs=[{id:"pull_ups",name:"Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Grip bar wider than shoulders.","Pull chest up toward the bar."],images:["/exercises/pull-ups.webp"]},{id:"weighted_pull_ups",name:"Weighted Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Grip bar wider than shoulders.","Pull chest up toward the bar."],images:["/exercises/weighted_pull_ups.webp"]},{id:"lat_pulldown",name:"Lat Pulldown",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats"],instructions:["Sit in machine.","Pull bar down to upper chest."],images:["/exercises/lat_pulldown.webp"]},{id:"one_arm_assisted_pull_up",name:"1 Arm Assisted Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Use a pulley or band to assist one arm.","Perform a one-arm pull-up."],images:["/exercises/1_Arm_Assisted_Pull-Up.webp"]},{id:"bent_over_row",name:"Barbell Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Hinge at hips.","Pull weight to hip pocket."],images:["/exercises/bent_over_row.webp"]},{id:"single_arm_db_row",name:"Dumbbell Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Support on bench.","Pull dumbbell to hip."],images:["/exercises/single_arm_db_row.webp"]},{id:"one_arm_negatives",name:"One Arm Negatives",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps","Forearms"],instructions:["Jump or assist up to the top position.","Lower yourself as slowly as possible with one arm."],images:["/exercises/one_arm_negatives.webp"]},{id:"full_lock_offs",name:"Full Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold the top position of a pull-up.","Maintain chin above the bar for time."],images:["/exercises/full_lock_offs.webp"]},{id:"90_degree_lock_offs",name:"90 Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold a pull-up position with elbows at 90 degrees.","Keep core tight and hold for time."],images:["/exercises/90_degree_lock_offs.webp"]},{id:"120_degree_lock_offs",name:"120 Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold a pull-up position with elbows at 120 degrees (slightly bent).","Maintain tension for time."],images:["/exercises/120_degree_lock_offs.webp"]},{id:"bicep_curls",name:"Bicep Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps"],instructions:["Hold dumbbells at sides.","Curl weights toward shoulders.","Lower with control."],images:["/exercises/bicep_curls.webp"]},{id:"hammer_curls",name:"Hammer Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps","Forearms"],instructions:["Hold dumbbells with neutral grip (palms facing in).","Curl weights toward shoulders.","Lower with control."],images:["/exercises/hammer_curls.webp"]},{id:"barbell_curls",name:"Barbell Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps"],instructions:["Hold barbell with underhand grip.","Curl bar toward chest.","Lower with control."],images:["/exercises/barbell_curls.webp"]},{id:"front_raises",name:"Front Raises",category:"Pull",subcategory:"Shoulders",targetMuscles:["Front Delts"],instructions:["Hold weights in front of thighs.","Raise arms straight in front to shoulder height."],images:["/exercises/front_raises.webp"]},{id:"kettlebell_swings",name:"Kettlebell Swings",category:"Pull",subcategory:"Shoulders",targetMuscles:["Glutes","Hamstrings","Lower Back"],instructions:["Hinge at hips holding kettlebell.","Snap hips forward to swing weight up."],images:["/exercises/kettlebell_swings.webp"]},{id:"muscle_ups",name:"Muscle Ups",category:"Pull",subcategory:"Shoulders",targetMuscles:["Lats","Triceps","Chest"],instructions:["Explosive pull-up.","Transition wrists over bar.","Press out at top."],images:["/exercises/muscle_ups.webp"]},{id:"seated_row",name:"Seated Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Sit at machine.","Pull handle to torso."],images:["/exercises/Seated_Row.webp"]},{id:"supine_trx_row",name:"Supine TRX Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Feet in TRX straps.","Pull handle to torso."],images:["/exercises/supine_trx_row.webp"]},{id:"barbell_bench_press",name:"Barbell Bench Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Triceps"],instructions:["Lower bar to chest.","Press back up."],images:["/exercises/barbell_bench_press.webp"]},{id:"dumbbell_bench_press",name:"Dumbbell Chest Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Upper Chest"],instructions:["Press dumbbells whilst lying on bench."],images:["/exercises/dumbbell_bench_press.webp"]},{id:"dumbbell_bench_press",name:"Dumbbell Chest Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Upper Chest"],instructions:["Press dumbbells whilst lying on bench."],images:["/exercises/dumbbell_bench_press.webp"]},{id:"chest_press",name:"Chest Press Machine",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Triceps"],instructions:["From seated position, push handles overhead."],images:["/exercises/chest_press.webp"]},{id:"push_up",name:"Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Triceps","Chest"],instructions:["Hands wide, lower to floor.","Press back up."],images:["/exercises/push_up.webp"]},{id:"narrow_push_up",name:"Narrow Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Triceps","Chest"],instructions:["Hands close together.","Keep elbows tucked."],images:["/exercises/narrow_push_up.webp"]},{id:"trx_push_up",name:"TRX Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Global Stabilisers"],instructions:["Feet or hands in TRX straps.","Perform push-up."],images:["/exercises/trx_push_up.webp"]},{id:"overhead_press",name:"Barbell Overhead Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Press bar vertically overhead."],images:["/exercises/overhead_press.webp"]},{id:"dumbbell_overhead_press",name:"Dumbbell Overhead Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Press dumbbells vertically overhead."],images:["/exercises/dumbbell_overhead_press.webp"]},{id:"arnold_press",name:"Arnold Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Rotate palms while pressing overhead."],images:["/exercises/arnold_press.webp"]},{id:"shoulder_press_machine",name:"Shoulder Press Machine",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Sit in machine.","Press handles overhead."],images:["/exercises/Shoulder_Press_Machine.webp"]},{id:"dumbbell_flies",name:"Dumbbell Flies",category:"Push",subcategory:"Shoulders",targetMuscles:["Chest"],instructions:["Lie on bench.","Open arms wide, then bring together."],images:["/exercises/Dumbbell_Flies.webp"]},{id:"lateral_raises",name:"Lateral Raises",category:"Push",subcategory:"Shoulders",targetMuscles:["Side Delts"],instructions:["Raise arms to sides."],images:["/exercises/dumbbell_lateral_raise.webp"]},{id:"dumbbell_kickbacks",name:"Dumbbell Kickbacks",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Hinge forward.","Extend arm back."],images:["/exercises/dumbbell_kickbacks.webp"]},{id:"cable_pushdown",name:"Cable Pushdown",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Push bar down using triceps."],images:["/exercises/tricep_pulldown.webp"]},{id:"tricep_dips",name:"Tricep Dips",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Support body on parallel bars.","Lower until elbows at 90 degrees."],images:["/exercises/Tricep_Dips.webp"]},{id:"barbell_squat",name:"Barbell Squat",category:"Legs",subcategory:"Squats",targetMuscles:["Quads","Glutes"],instructions:["Squat with barbell on back."],images:["/exercises/barbell_squat.webp"]},{id:"leg_press",name:"Leg Press",category:"Legs",subcategory:"Squats",targetMuscles:["Quads"],instructions:["Press weight on machine."],images:["/exercises/leg_press.webp"]},{id:"pistol_squats",name:"Pistol Squats",category:"Legs",subcategory:"Squats",targetMuscles:["Quads","Balance"],instructions:["One-legged squat."],images:["/exercises/Pistol_Squats.webp"]},{id:"goblet_squat",name:"Goblet Squat",category:"Legs",subcategory:"Squats",targetMuscles:["Quads"],instructions:["Hold weight at chest.","Squat."],images:["/exercises/goblet_squat.webp"]},{id:"deadlift",name:"Deadlift",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Posterior Chain"],instructions:["Lift bar from floor."],images:["/exercises/deadlift.webp"]},{id:"rack_pulls",name:"Rack Pulls",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Back","Glutes"],instructions:["Deadlift from rack height."],images:["/exercises/Rack_Pulls.webp"]},{id:"barbell_good_mornings",name:"BarbellGood Mornings",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Back","Hamstrings"],instructions:["Deadlift from rack height."],images:["/exercises/barbell_good_mornings.webp"]},{id:"leg_extension",name:"Leg Extension",category:"Legs",subcategory:"Isolation",targetMuscles:["Quads"],instructions:["Extend legs against machine resistance."],images:["/exercises/Leg_Extension.webp"]},{id:"leg_curl",name:"Leg Curl",category:"Legs",subcategory:"Isolation",targetMuscles:["Hamstrings"],instructions:["Curl legs against machine resistance."],images:["/exercises/Leg_Curl.webp"]},{id:"walking_lunge",name:"Walking Lunge",category:"Legs",subcategory:"Isolation",targetMuscles:["Quads","Glutes"],instructions:["Step forward and lower hips."],images:["/exercises/walking_lunge.webp"]},{id:"calf_raises",name:"Calf Raises",category:"Legs",subcategory:"Calves",targetMuscles:["Calves"],instructions:["Raise heels."],images:["/exercises/calf_raise.webp"]},{id:"glute_bridges",name:"Glute Bridges",category:"Legs",subcategory:"Glutes",targetMuscles:["Glutes"],instructions:["Lie on back.","Lift hips."],images:["/exercises/Glute_Bridges.webp"]},{id:"reverse_wrist_curl",name:"Reverse Wrist Curl",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearm Extensors"],instructions:["Curl wrist up with palm down."],images:["/exercises/reverse_wrist_curl.webp"]},{id:"radial_wrist_tilts",name:"Radial Wrist Tilts",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearms"],instructions:["Tilt wrist thumb-side up."],images:["/exercises/Radial_Wrist_Tilts.webp"]},{id:"wrist_rotations",name:"Wrist Rotations",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearms"],instructions:["Rotate wrists with weight."],images:["/exercises/Wrist_Rotations.webp"]},{id:"wrist_curls",name:"Wrist Curls",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearm Flexors"],instructions:["Curl wrist up with palm up."],images:["/exercises/Wrist_Curls.webp"]},{id:"dumbbell_rear_delt_flies",name:"Dumbbell Rear Delt Flies",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Rear Delts"],instructions:["Hinge forward.","Raise arms to sides."],images:["/exercises/dumbbell_rear_delt_flies.webp"]},{id:"cable_face_pulls",name:"Cable Face Pulls",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Rear Delts"],instructions:["Pull rope to face."],images:["/exercises/face_pull.webp"]},{id:"archer_rows",name:"Archer Rows",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Back","Rear Delts"],instructions:["Row with one arm while other stays straight."],images:["/exercises/Archer_Rows.webp"]},{id:"one_arm_dumbbell_shrugs",name:"One Arm Dumbbell Shrugs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Traps"],instructions:["Shrug shoulder up."],images:["/exercises/One_Arm_Dumbbell_Shrugs.webp"]},{id:"prone_overhead_db_press",name:"Prone Overhead Dumbbell Press",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Lower Traps"],instructions:["Lie prone.","Press light weights overhead."],images:["/exercises/Prone_Overhead_Dumbbell_Press.webp"]},{id:"incline_bench_db_iyts",name:"Incline Bench Dumbbell IYTs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Lower Traps","Rear Delts"],instructions:["Form I, Y, T shapes with arms."],images:["/exercises/i-y-t_raises.webp"]},{id:"scapular_holds",name:"Scapular Holds",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hold scapular retraction."],images:["/exercises/Scapular_Holds.webp"]},{id:"scapular_pull_ups",name:"Scapular Pull-Ups",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hang from bar.","Depress and retract scapula without bending elbows."],images:["/exercises/Scapular_Pull-ups.webp"]},{id:"one_arm_scapular_holds",name:"1 Arm Scapular Holds",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hang from one arm.","Engage scapula."],images:["/exercises/one_arm_scapular_holds.webp"]},{id:"one_arm_scapular_pull_ups",name:"1 Arm Scapular Pull-Ups",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["One arm hang.","Depress scapula."],images:["/exercises/one_arm_scapular_pull_ups.webp"]},{id:"trx_iyts",name:"TRX IYTs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Back"],instructions:["Use TRX to perform I, Y, T raises."],images:["/exercises/trx_iyts.webp"]},{id:"dumbbell_overhead_rotations",name:"Dumbbell Overhead Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Press overhead.","Rotate shoulders."],images:["/exercises/Dumbbell_Overhead_Rotations.webp"]},{id:"external_side_lying_rotations",name:"External Side Lying Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Lie on side.","Rotate arm up."],images:["/exercises/External_Side_Lying_Rotations.webp"]},{id:"prone_bench_rotations",name:"Prone Bench Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Lie prone.","Rotate arms."],images:["/exercises/Prone_Bench_Rotations.webp"]},{id:"cable_external_rotations",name:"Cable External Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Use cable.","Rotate arm away from body."],images:["/exercises/Cable_External_Rotations.webp"]},{id:"cable_internal_rotation",name:"Cable Internal Rotation",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Use cable.","Rotate arm across body."],images:["/exercises/Cable_Internal_Rotation.webp"]},{id:"internal_side_lying_rotations",name:"Internal Side Lying Rotations",category:"Stabilisers",subcategory:"Internal Rotation/Flexors",targetMuscles:["Rotator Cuff"],instructions:["Lie on side.","Rotate arm inward."],images:["/exercises/Internal_Side_Lying_Rotations.webp"]},{id:"hanging_l_hold",name:"Hanging L Hold",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Hang from bar.","Hold legs horizontal."],images:["/exercises/Hanging_L_Hold.webp"]},{id:"supine_leg_raises",name:"Supine Leg Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Lie on back.","Raise legs."],images:["/exercises/Supine_Leg_Raises.webp"]},{id:"hanging_leg_raises",name:"Hanging Leg Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Hang from bar.","Raise legs to bar."],images:["/exercises/hanging_leg_raise.webp"]},{id:"lever_raises_tucked",name:"Lever Raises (tucked)",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Front lever progression tucked."],images:["/exercises/Lever_Raises_tucked.webp"]},{id:"lever_raises_90",name:"Lever Raises (90)",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Front lever progression to 90 degrees."]},{id:"lever_raises",name:"Lever Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Full front lever raises."]},{id:"crunches",name:"Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Upper Abs"],instructions:["Crunch up off floor."],images:["/exercises/crunch.webp"]},{id:"lower_ab_crunches",name:"Lower Ab Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Lower Abs"],instructions:["Reverse crunch movement."],images:["/exercises/Lower_Ab_Crunches.webp"]},{id:"weighted_crunches",name:"Weighted Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Abs"],instructions:["Crunch with weight."],images:["/exercises/Weighted_Crunches.webp"]},{id:"dead_bug",name:"Dead Bug",category:"Core",subcategory:"Crunches",targetMuscles:["Core"],instructions:["Opposite arm and leg extension lying on back."],images:["/exercises/Dead_Bug.webp"]},{id:"boat_pose",name:"Boat Pose",category:"Core",subcategory:"Crunches",targetMuscles:["Core"],instructions:["Static V hold on floor."],images:["/exercises/Boat_Pose.webp"]},{id:"v_sits",name:"V Sits",category:"Core",subcategory:"Crunches",targetMuscles:["Abs"],instructions:["Explosive sit up to V position."],images:["/exercises/V_Sits.webp"]},{id:"kettle_bell_twists",name:"Kettle Bell Twists",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Russian twist with KB."],images:["/exercises/russian_twists.webp"]},{id:"twisting_crunches",name:"Twisting Crunches",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Crunch with rotation."],images:["/exercises/Twisting_Crunches.webp"]},{id:"supine_windscreen_wipers",name:"Supine Windscreen Wipers",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Lie on back.","Rotate legs side to side."],images:["/exercises/Supine_Windscreen_Wipers.webp"]},{id:"hanging_windscreen_wipers",name:"Hanging Windscreen Wipers",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Hang from bar.","Rotate legs side to side."],images:["/exercises/Hanging_Windscreen_Wipers.webp"]},{id:"thread_the_needle",name:"Thread the Needle",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques","Mobility"],instructions:["Plank position.","Reach under body."],images:["/exercises/Thread_the_Needle.webp"]},{id:"plank",name:"Plank",category:"Core",subcategory:"Stability",targetMuscles:["Core"],instructions:["Hold plank position."],images:["/exercises/plank.webp"]},{id:"dolphin_plank",name:"Dolphin Plank",category:"Core",subcategory:"Stability",targetMuscles:["Core"],instructions:["Plank on forearms with hips high."],images:["/exercises/Dolphin_Plank.webp"]},{id:"copenhagen_plank",name:"Copenhagen Plank",category:"Core",subcategory:"Stability",targetMuscles:["Adductors","Core"],instructions:["Side plank with top leg supported."],images:["/exercises/Copenhagen_Plank.webp"]},{id:"side_plank",name:"Side Plank",category:"Core",subcategory:"Stability",targetMuscles:["Obliques"],instructions:["Hold side plank."],images:["/exercises/side_plank.webp"]},{id:"prone_dish_hold",name:"Prone Dish Hold",category:"Core",subcategory:"Stability",targetMuscles:["Posterior Chain"],instructions:["Superman hold."],images:["/exercises/Prone_Dish_Hold.webp"]},{id:"supine_dish_hold",name:"Supine Dish Hold",category:"Core",subcategory:"Stability",targetMuscles:["Core"],instructions:["Hollow body hold (lower)."],images:["/exercises/Supine_Dish_Hold.webp"]},{id:"hollow_body_hold",name:"Hollow Body Hold",category:"Core",subcategory:"Stability",targetMuscles:["Core"],instructions:["Hold hollow body position."],images:["/exercises/Hollow_Body_Hold.webp"]},{id:"prone_dish_lifts",name:"Prone Dish Lifts",category:"Core",subcategory:"Stability",targetMuscles:["Posterior Chain"],instructions:["Lifting into superman position reps."],images:["/exercises/Prone_Dish_Lifts.webp"]},{id:"bicep_stretch",name:"Bicep Stretch",category:"Mobility",subcategory:"Upper Body",targetMuscles:["Biceps"],instructions:["Stretch biceps."],images:["/exercises/Bicep_Stretch.webp"]},{id:"finger_stretches",name:"Finger Stretches",category:"Mobility",subcategory:"Upper Body",targetMuscles:["Fingers"],instructions:["Stretch fingers."],images:["/exercises/Finger_Stretches.webp"]},{id:"pec_stretch",name:"Pec Stretch",category:"Mobility",subcategory:"Upper Body",targetMuscles:["Chest"],instructions:["Stretch chest."],images:["/exercises/Pec_Stretch.webp"]},{id:"lat_stretch",name:"Lat Stretch",category:"Mobility",subcategory:"Upper Body",targetMuscles:["Lats"],instructions:["Stretch lats."],images:["/exercises/Lat_Stretch.webp"]},{id:"wrist_stretches",name:"Wrist Stretches",category:"Mobility",subcategory:"Upper Body",targetMuscles:["Wrists"],instructions:["Stretch wrists."],images:["/exercises/wrist_stretches.webp"]},{id:"pancake_fold",name:"Pancake Fold",category:"Mobility",subcategory:"Torso Chain",targetMuscles:["Hips","Back"],instructions:["Seated straddle fold."],images:["/exercises/Pancake_Fold.webp"]},{id:"open_books",name:"Open Books",category:"Mobility",subcategory:"Torso Chain",targetMuscles:["Thoracic Spine"],instructions:["Side lying thoracic rotation."],images:["/exercises/Open_Books.webp"]},{id:"good_mornings",name:"Good Mornings",category:"Mobility",subcategory:"Torso Chain",targetMuscles:["Hamstrings","Back"],instructions:["Hinge with straight back."],images:["/exercises/Good_Mornings.webp"]},{id:"calf_stretch",name:"Calf Stretch",category:"Mobility",subcategory:"Lower Leg",targetMuscles:["Calves"],instructions:["Stretch calves."],images:["/exercises/Calf_Stretch.webp"]},{id:"donkey_calf_raise",name:"Donkey Calf Raise",category:"Mobility",subcategory:"Lower Leg",targetMuscles:["Calves"],instructions:["Calf raise bent over."],images:["/exercises/Donkey_Calf_Raise.webp"]},{id:"one_leg_calf_squats",name:"1 Leg Calf Squats",category:"Mobility",subcategory:"Lower Leg",targetMuscles:["Calves","Balance"],instructions:["Squat on one leg, heel raised."],images:["/exercises/1_Leg_Calf_Squats.webp"]},{id:"wall_calf_stretch",name:"Wall Calf Stretch",category:"Mobility",subcategory:"Lower Leg",targetMuscles:["Calves"],instructions:["Stretch against wall."],images:["/exercises/Wall_Calf_Stretch.webp"]},{id:"fishermans",name:"Fishermans",category:"Mobility",subcategory:"Lower Leg",targetMuscles:["Ankles"],instructions:["Kneeling ankle stretch."],images:["/exercises/Fishermans.webp"]},{id:"barre_lift",name:"Barre Lift",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips"],instructions:["Lift leg at barre."],images:["/exercises/Barre_Lift.webp"]},{id:"fire_hydrants",name:"Fire Hydrants",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Glutes"],instructions:["Quadruped hip abduction."],images:["/exercises/Fire_Hydrants.webp"]},{id:"supine_quad_stretch",name:"Supine Quad Stretch",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Quads"],instructions:["Lie back with bent knee."],images:["/exercises/Supine_Quad_Stretch.webp"]},{id:"long_lunges",name:"Long Lunges",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hip Flexors"],instructions:["Deep lunge."],images:["/exercises/long_lunges.webp"]},{id:"cossack_squats",name:"Cossack Squats",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips","Adductors"],instructions:["Side lunge."],images:["/exercises/Cossack_Squats.webp"]},{id:"front_splits",name:"Front Splits",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hamstrings","Hip Flexors"],instructions:["Split forward/back."],images:["/exercises/Front_Splits.webp"]},{id:"side_splits",name:"Side Splits",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Adductors"],instructions:["Straddle split."],images:["/exercises/Side_Splits.webp"]},{id:"front_swings",name:"Front Swings",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips"],instructions:["Swing leg forward/back."],images:["/exercises/Front_Swings.webp"]},{id:"side_swings",name:"Side Swings",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips"],instructions:["Swing leg side to side."],images:["/exercises/Side_Swings.webp"]},{id:"hamstring_stretch",name:"Hamstring Stretch",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hamstrings"],instructions:["Stretch hamstring."],images:["/exercises/Hamstring_Stretch.webp"]},{id:"butterfly",name:"Butterfly",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips"],instructions:["Seated hip opener."],images:["/exercises/Butterfly.webp"]},{id:"horse_squat",name:"Horse Squat",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips","Quads"],instructions:["Wide stance squat."],images:["/exercises/Horse_Squat.webp"]},{id:"supine_frog",name:"Supine Frog",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips"],instructions:["Lie on back, knees wide."],images:["/exercises/supine_frog.webp"]},{id:"prone_frog",name:"Prone Frog",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips"],instructions:["Lie on front, knees wide."],images:["/exercises/Prone_Frog.webp"]},{id:"glute_stretch",name:"Glute Stretch",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Glutes"],instructions:["Stretch glutes."],images:["/exercises/Glute_Stretch.webp"]},{id:"childs_pose",name:"Childs Pose",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Back","Hips"],instructions:["Resting pose."],images:["/exercises/Childs_Pose.webp"]},{id:"pigeon_pose",name:"Pigeon Pose",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Glutes","Hips"],instructions:["Hip opener."],images:["/exercises/Pigeon_Pose.webp"]}];var wi=b('<div><div class="col set-num svelte-ow8x7m"> </div> <div class="col weight svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col reps svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col check svelte-ow8x7m"><button><!></button></div></div>');function Si(P,l){Et(l,!1);let n=Fe(l,"setNumber",8),f=Fe(l,"set",12);const q=us();function D(){f(f().completed=!f().completed,!0),q("change",f()),f().completed&&q("complete")}function O(H){q("focus",{field:H,value:f()[H],set:f()})}As();var w=wi();let k;var x=i(w),S=i(x,!0);s(x);var T=a(x,2),M=i(T);A(M),s(T);var m=a(T,2),N=i(m);A(N),s(m);var h=a(m,2),C=i(h);let R;var B=i(C);{var L=H=>{var z=bt("✓");u(H,z)};V(B,H=>{ft(f()),ct(()=>f().completed)&&H(L)})}s(C),s(h),s(w),E(()=>{k=Lt(w,1,"set-row svelte-ow8x7m",null,k,{completed:f().completed}),U(S,n()),R=Lt(C,1,"check-btn svelte-ow8x7m",null,R,{checked:f().completed})}),G(M,()=>f().weight,H=>f(f().weight=H,!0)),we("focus",M,()=>O("weight")),G(N,()=>f().reps,H=>f(f().reps=H,!0)),we("focus",N,()=>O("reps")),we("click",C,D),u(P,w),Ht()}var ki=b('<div><span class="dot svelte-1ni79z8"></span> <span class="text"> </span></div>'),xi=b("<button></button>"),Ci=b('<div class="exercise-card svelte-1ni79z8"><div class="header svelte-1ni79z8"><div class="title-group svelte-1ni79z8"><button class="icon-btn info-btn svelte-1ni79z8" aria-label="Exercise Info"><div class="info-icon svelte-1ni79z8">?</div></button> <div><h4 class="svelte-1ni79z8"> </h4> <button class="icon-btn timer-btn svelte-1ni79z8" aria-label="Open Timer" title="Interval Timer">⏱</button> <div class="benchmarks svelte-1ni79z8"></div></div></div> <button class="icon-btn delete-btn svelte-1ni79z8" aria-label="Delete Exercise">🗑️</button></div> <div class="table-header svelte-1ni79z8"><div class="col">Set</div> <div class="col">kg</div> <div class="col">Reps</div> <div class="col">✓</div></div> <div class="sets"></div> <button class="add-set-btn svelte-1ni79z8">+ Add Set</button> <div class="difficulty-footer svelte-1ni79z8"><span class="diff-label svelte-1ni79z8">How did it feel?</span> <div class="diff-circles svelte-1ni79z8"></div></div></div>');function Ti(P,l){Et(l,!1);let n=Fe(l,"exercise",12),f=Fe(l,"benchmarks",24,()=>({}));const q=us();function D(){const z=n().sets[n().sets.length-1],F={weight:z?z.weight:0,reps:z?z.reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1};n(n().sets=[...n().sets,F],!0)}const O=["Green","Yellow","Orange","Red"];As();var w=Ci(),k=i(w),x=i(k),S=i(x),T=a(S,2),M=i(T),m=i(M,!0);s(M);var N=a(M,2),h=a(N,2);_e(h,5,()=>O,be,(z,F)=>{var I=Ut(),K=Bt(I);{var re=ce=>{var J=ki();Lt(J,1,"benchmark-pill svelte-1ni79z8",null,{},{"has-data":!0});var ae=a(i(J),2),pe=i(ae);s(ae),s(J),E(j=>{Us(J,`--pill-color: var(--color-${j??""})`),U(pe,`${ft(f()),e(F),ct(()=>f()[e(F)]?.weight)??""}kg x ${ft(f()),e(F),ct(()=>f()[e(F)]?.reps)??""}`)},[()=>(e(F),ct(()=>e(F).toLowerCase()))]),u(ce,J)};V(K,ce=>{ft(f()),e(F),ct(()=>f()[e(F)])&&ce(re)})}u(z,I)}),s(h),s(T),s(x);var C=a(x,2);s(k);var R=a(k,4);_e(R,5,()=>(ft(n()),ct(()=>n().sets)),be,(z,F,I)=>{Si(z,{setNumber:I+1,get set(){return(ft(n()),ct(()=>n().sets))[I]},set set(K){(ft(n()),ct(()=>n().sets))[I]=K,va(()=>n())},$$events:{complete(K){Ms.call(this,l,K)},focus(K){Ms.call(this,l,K)},change(K){Ms.call(this,l,K)}},$$legacy:!0})}),s(R);var B=a(R,2),L=a(B,2),H=a(i(L),2);_e(H,5,()=>O,be,(z,F)=>{var I=xi();let K;E(re=>{K=Lt(I,1,"diff-circle svelte-1ni79z8",null,K,{selected:n().difficulty===e(F)}),Us(I,`--circle-color: var(--color-${re??""})`),Nt(I,"aria-label",`Mark as ${e(F)??""}`)},[()=>(e(F),ct(()=>e(F).toLowerCase()))]),we("click",I,()=>n(n().difficulty=e(F),!0)),u(z,I)}),s(H),s(L),s(w),E(()=>U(m,(ft(n()),ct(()=>n().name)))),we("click",S,()=>q("info",n())),we("click",N,()=>q("timer",n())),we("click",C,()=>q("delete",n())),we("click",B,D),u(P,w),Ht()}var Li=b('<div class="keypad svelte-1fay4f8"><div class="header svelte-1fay4f8"><span class="label svelte-1fay4f8"> </span> <div class="display svelte-1fay4f8" role="textbox" aria-readonly="true"> </div></div> <div class="quick-adds svelte-1fay4f8"><button class="svelte-1fay4f8">+2.5</button> <button class="svelte-1fay4f8">+5</button> <button class="svelte-1fay4f8">+10</button></div> <div class="grid svelte-1fay4f8"><button class="svelte-1fay4f8">1</button> <button class="svelte-1fay4f8">2</button> <button class="svelte-1fay4f8">3</button> <button class="svelte-1fay4f8">4</button> <button class="svelte-1fay4f8">5</button> <button class="svelte-1fay4f8">6</button> <button class="svelte-1fay4f8">7</button> <button class="svelte-1fay4f8">8</button> <button class="svelte-1fay4f8">9</button> <button class="action svelte-1fay4f8">C</button> <button class="svelte-1fay4f8">0</button> <button class="action svelte-1fay4f8">⌫</button></div></div>');function qi(P,l){Et(l,!1);let n=Fe(l,"value",8,null),f=Fe(l,"label",8,"Value");const q=us();function D(ee){const $=n()?.toString()||"";if($.length>=5)return;const ue=parseFloat($+ee.toString());q("change",ue)}function O(){q("change",0)}function w(){const ee=n()?.toString()||"";if(ee.length<=1){q("change",0);return}const $=parseFloat(ee.slice(0,-1));q("change",$)}function k(ee){q("change",(n()||0)+ee)}As();var x=Li(),S=i(x),T=i(S),M=i(T,!0);s(T);var m=a(T,2),N=i(m,!0);s(m),s(S);var h=a(S,2),C=i(h),R=a(C,2),B=a(R,2);s(h);var L=a(h,2),H=i(L),z=a(H,2),F=a(z,2),I=a(F,2),K=a(I,2),re=a(K,2),ce=a(re,2),J=a(ce,2),ae=a(J,2),pe=a(ae,2),j=a(pe,2),Z=a(j,2);s(L),s(x),E(()=>{U(M,f()),Nt(m,"aria-label",f()),U(N,n()||0)}),we("click",C,()=>k(2.5)),we("click",R,()=>k(5)),we("click",B,()=>k(10)),we("click",H,()=>D(1)),we("click",z,()=>D(2)),we("click",F,()=>D(3)),we("click",I,()=>D(4)),we("click",K,()=>D(5)),we("click",re,()=>D(6)),we("click",ce,()=>D(7)),we("click",J,()=>D(8)),we("click",ae,()=>D(9)),we("click",pe,O),we("click",j,()=>D(0)),we("click",Z,w),u(P,x),Ht()}const Mi=P=>P;function zs(P){const l=P-1;return l*l*l+1}function Ys(P){const l=typeof P=="string"&&P.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return l?[parseFloat(l[1]),l[2]||"px"]:[P,"px"]}function Vs(P,{delay:l=0,duration:n=400,easing:f=Mi}={}){const q=+getComputedStyle(P).opacity;return{delay:l,duration:n,easing:f,css:D=>`opacity: ${D*q}`}}function Ws(P,{delay:l=0,duration:n=400,easing:f=zs,x:q=0,y:D=0,opacity:O=0}={}){const w=getComputedStyle(P),k=+w.opacity,x=w.transform==="none"?"":w.transform,S=k*(1-O),[T,M]=Ys(q),[m,N]=Ys(D);return{delay:l,duration:n,easing:f,css:(h,C)=>`
			transform: ${x} translate(${(1-h)*T}${M}, ${(1-h)*m}${N});
			opacity: ${k-S*C}`}}function Or(P,{delay:l=0,duration:n=400,easing:f=zs,axis:q="y"}={}){const D=getComputedStyle(P),O=+D.opacity,w=q==="y"?"height":"width",k=parseFloat(D[w]),x=q==="y"?["top","bottom"]:["left","right"],S=x.map(R=>`${R[0].toUpperCase()}${R.slice(1)}`),T=parseFloat(D[`padding${S[0]}`]),M=parseFloat(D[`padding${S[1]}`]),m=parseFloat(D[`margin${S[0]}`]),N=parseFloat(D[`margin${S[1]}`]),h=parseFloat(D[`border${S[0]}Width`]),C=parseFloat(D[`border${S[1]}Width`]);return{delay:l,duration:n,easing:f,css:R=>`overflow: hidden;opacity: ${Math.min(R*20,1)*O};${w}: ${R*k}px;padding-${x[0]}: ${R*T}px;padding-${x[1]}: ${R*M}px;margin-${x[0]}: ${R*m}px;margin-${x[1]}: ${R*N}px;border-${x[0]}-width: ${R*h}px;border-${x[1]}-width: ${R*C}px;min-${w}: 0`}}function ea(P,{delay:l=0,duration:n=400,easing:f=zs,start:q=0,opacity:D=0}={}){const O=getComputedStyle(P),w=+O.opacity,k=O.transform==="none"?"":O.transform,x=1-q,S=w*(1-D);return{delay:l,duration:n,easing:f,css:(T,M)=>`
			transform: ${k} scale(${1-x*M});
			opacity: ${w-S*M}
		`}}function Pi(P){const l=P-1;return l*l*l+1}class Os{static audioContext=null;static gainNode=null;static isInitialized=!1;static init(){if(!this.isInitialized)try{(window.AudioContext||window.webkitAudioContext)&&(this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this.isInitialized=!0)}catch(l){console.warn("AudioContext not supported",l)}}static async playChime(){if(this.isInitialized||this.init(),!this.audioContext||!this.gainNode)return;this.audioContext.state==="suspended"&&await this.audioContext.resume();const l=this.audioContext.currentTime,n=this.audioContext.createOscillator();n.type="sine",n.frequency.setValueAtTime(880,l),n.frequency.exponentialRampToValueAtTime(.01,l+1.5);const f=this.audioContext.createGain();f.gain.setValueAtTime(.3,l),f.gain.exponentialRampToValueAtTime(.001,l+1.5),n.connect(f),f.connect(this.gainNode),n.start(l),n.stop(l+1.5);const q=this.audioContext.createOscillator();q.type="triangle",q.frequency.setValueAtTime(1760,l),q.frequency.exponentialRampToValueAtTime(.01,l+1);const D=this.audioContext.createGain();D.gain.setValueAtTime(.1,l),D.gain.exponentialRampToValueAtTime(.001,l+1),q.connect(D),D.connect(this.gainNode),q.start(l),q.stop(l+1)}static vibrate(l=200){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(l)}static async playCompletionAlert(){this.vibrate([500,100,500]),await this.playChime()}static async playTick(){if(this.isInitialized||this.init(),!this.audioContext||!this.gainNode)return;this.audioContext.state==="suspended"&&await this.audioContext.resume();const l=this.audioContext.currentTime,n=this.audioContext.createOscillator();n.type="sine",n.frequency.setValueAtTime(600,l);const f=this.audioContext.createGain();f.gain.setValueAtTime(.05,l),f.gain.exponentialRampToValueAtTime(.001,l+.1),n.connect(f),f.connect(this.gainNode),n.start(l),n.stop(l+.1),this.vibrate(50)}}var Ri=b('<div class="setup-form svelte-18i4gcv"><div class="input-group svelte-18i4gcv"><label for="work-duration" class="svelte-18i4gcv">Work</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv"><label for="rest-duration" class="svelte-18i4gcv">Rest</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv"><label for="num-sets" class="svelte-18i4gcv">Sets</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <button class="start-btn svelte-18i4gcv">▶ Start Interval</button></div>'),Di=b('<div class="finished-state svelte-18i4gcv"><div class="check-icon svelte-18i4gcv">✓</div> <h3>Nicely Done!</h3> <button class="reset-btn svelte-18i4gcv">Back to Setup</button></div>'),Ni=b('<button class="ctl-btn pause svelte-18i4gcv">⏸</button>'),Bi=b('<button class="ctl-btn play svelte-18i4gcv">▶</button>'),Fi=b('<div class="timer-circle svelte-18i4gcv"><svg viewBox="0 0 100 100" class="ring svelte-18i4gcv"><circle class="track svelte-18i4gcv" cx="50" cy="50" r="45"></circle><circle class="progress svelte-18i4gcv" cx="50" cy="50" r="45" stroke-dasharray="283"></circle></svg> <div class="timer-val svelte-18i4gcv"><div class="phase-label svelte-18i4gcv"> </div> <div class="digits svelte-18i4gcv"> </div></div></div> <div class="controls svelte-18i4gcv"><!> <button class="ctl-btn skip svelte-18i4gcv">⏭</button> <button class="ctl-btn stop svelte-18i4gcv" style="font-size: 1rem; padding: 1rem;">Stop</button></div>',1),Gi=b('<div class="overlay svelte-18i4gcv" role="button" tabindex="0"><div><div class="header svelte-18i4gcv"><span class="title svelte-18i4gcv"><!></span> <button class="close-btn svelte-18i4gcv">✕</button></div> <div class="content svelte-18i4gcv"><!></div></div></div>');function ta(P,l){Et(l,!0);let n=Fe(l,"visible",15,!1),f=Fe(l,"defaultSets",3,3),q=Fe(l,"associatedExerciseId",7,null),D=Fe(l,"onComplete",3,()=>{}),O=Fe(l,"onClose",3,()=>{}),w=d("SETUP"),k=d("PAUSED"),x=d(30),S=d(60),T=d(3),M=d(1),m=d(30),N=d(null),h=d(null);const C="interval_timer_prefs";let R=null;as(()=>{n()&&(Os.init(),e(w)==="SETUP"&&(B(),f()>0&&t(T,f())))}),bs(()=>(z(),R=setInterval(j,100),()=>clearInterval(R)));function B(){if(q())try{const se=JSON.parse(localStorage.getItem(C)||"{}"),Y=se[q()]||se.default;Y&&(t(x,Y.work||30,!0),t(S,Y.rest||60,!0))}catch(se){console.warn(se)}}function L(){try{const se=JSON.parse(localStorage.getItem(C)||"{}"),Y={work:e(x),rest:e(S)};q()&&(se[q()]=Y),se.default=Y,localStorage.setItem(C,JSON.stringify(se))}catch(se){console.error(se)}}function H(){if(e(w)==="SETUP")return;const se={phase:e(w),runningState:e(k),remaining:e(m),endTimestamp:e(N),configWork:e(x),configRest:e(S),configSets:e(T),currentSet:e(M),associatedExerciseId:q(),pausedTimeRemaining:e(h),timestamp:Date.now()};localStorage.setItem("active_interval_timer",JSON.stringify(se))}function z(){try{const se=localStorage.getItem("active_interval_timer");if(se){const Y=JSON.parse(se);Date.now()-Y.timestamp<36e5&&(t(w,Y.phase,!0),t(k,Y.runningState,!0),t(m,Y.remaining,!0),t(N,Y.endTimestamp,!0),t(x,Y.configWork,!0),t(S,Y.configRest,!0),t(T,Y.configSets,!0),t(M,Y.currentSet,!0),q(Y.associatedExerciseId),t(h,Y.pausedTimeRemaining,!0),e(w)!=="SETUP"&&e(w)!=="FINISHED"&&n(!0))}}catch{}}function F(){localStorage.removeItem("active_interval_timer")}function I(){L(),t(w,"WORK"),t(M,1),K(e(x))}function K(se){t(k,"RUNNING"),t(m,se,!0),t(N,Date.now()+se*1e3),H(),Os.playChime()}function re(){t(k,"PAUSED"),t(h,e(m),!0),t(N,null),H()}function ce(){e(h)&&(t(k,"RUNNING"),t(N,Date.now()+e(h)*1e3),H())}function J(){pe()}function ae(){t(w,"SETUP"),t(k,"PAUSED"),F()}function pe(){Os.playCompletionAlert(),e(w)==="WORK"?e(M)>=e(T)?(t(w,"FINISHED"),t(k,"PAUSED"),t(N,null),D()(),F()):(t(w,"REST"),K(e(S))):e(w)==="REST"&&(pa(M),t(w,"WORK"),K(e(x)))}function j(){if(!(!n()||e(w)==="SETUP"||e(w)==="FINISHED"||e(k)==="PAUSED")&&e(N)){const se=Date.now(),Y=e(N)-se;t(m,Math.ceil(Y/1e3),!0),e(m)<=0&&(t(m,0),pe())}}function Z(se){const Y=Math.floor(se/60),Ge=se%60;return`${Y}:${Ge.toString().padStart(2,"0")}`}function ee(){(e(w)==="SETUP"||e(w)==="FINISHED")&&ae(),n(!1),O()&&O()()}var $=Ut(),ue=Bt($);{var he=se=>{var Y=Gi();Y.__click=ie=>{ie.target===ie.currentTarget&&ee()},Y.__keydown=ie=>{ie.key==="Escape"&&ee()};var Ge=i(Y);let Je;var ht=i(Ge),ut=i(ht),yt=i(ut);{var qt=ie=>{var ye=bt("Timer Setup");u(ie,ye)},lt=ie=>{var ye=Ut(),Ke=Bt(ye);{var De=de=>{var Se=bt("Complete");u(de,Se)},Oe=de=>{var Se=bt();E(()=>U(Se,`Set ${e(M)??""} / ${e(T)??""}`)),u(de,Se)};V(Ke,de=>{e(w)==="FINISHED"?de(De):de(Oe,!1)},!0)}u(ie,ye)};V(yt,ie=>{e(w)==="SETUP"?ie(qt):ie(lt,!1)})}s(ut);var wt=a(ut,2);wt.__click=ee,s(ht);var St=a(ht,2),kt=i(St);{var Me=ie=>{var ye=Ri(),Ke=i(ye),De=a(i(Ke),2),Oe=i(De);Oe.__click=()=>t(x,Math.max(5,e(x)-5),!0);var de=a(Oe,2),Se=i(de,!0);s(de);var Ie=a(de,2);Ie.__click=()=>t(x,e(x)+5),s(De),s(Ke);var je=a(Ke,2),ot=a(i(je),2),nt=i(ot);nt.__click=()=>t(S,Math.max(5,e(S)-5),!0);var ze=a(nt,2),dt=i(ze,!0);s(ze);var vt=a(ze,2);vt.__click=()=>t(S,e(S)+5),s(ot),s(je);var Le=a(je,2),et=a(i(Le),2),xt=i(et);xt.__click=()=>t(T,Math.max(1,e(T)-1),!0);var tt=a(xt,2),y=i(tt,!0);s(tt);var r=a(tt,2);r.__click=()=>t(T,e(T)+1),s(et),s(Le);var o=a(Le,2);o.__click=I,s(ye),E((g,W)=>{U(Se,g),U(dt,W),U(y,e(T))},[()=>Z(e(x)),()=>Z(e(S))]),u(ie,ye)},Ae=ie=>{var ye=Ut(),Ke=Bt(ye);{var De=de=>{var Se=Di(),Ie=a(i(Se),4);Ie.__click=()=>t(w,"SETUP"),s(Se),u(de,Se)},Oe=de=>{var Se=Fi(),Ie=Bt(Se),je=i(Ie),ot=a(i(je));s(je);var nt=a(je,2),ze=i(nt),dt=i(ze,!0);s(ze);var vt=a(ze,2),Le=i(vt,!0);s(vt),s(nt),s(Ie);var et=a(Ie,2),xt=i(et);{var tt=g=>{var W=Ni();W.__click=re,u(g,W)},y=g=>{var W=Bi();W.__click=ce,u(g,W)};V(xt,g=>{e(k)==="RUNNING"?g(tt):g(y,!1)})}var r=a(xt,2);r.__click=J;var o=a(r,2);o.__click=ae,s(et),E(g=>{Nt(ot,"stroke-dashoffset",283*(1-e(m)/(e(w)==="WORK"?e(x):e(S)))),U(dt,e(w)),U(Le,g)},[()=>Z(e(m))]),u(de,Se)};V(Ke,de=>{e(w)==="FINISHED"?de(De):de(Oe,!1)},!0)}u(ie,ye)};V(kt,ie=>{e(w)==="SETUP"?ie(Me):ie(Ae,!1)})}s(St),s(Ge),s(Y),E(()=>Je=Lt(Ge,1,"timer-card svelte-18i4gcv",null,Je,{work:e(w)==="WORK",rest:e(w)==="REST"})),ss(3,Ge,()=>ea,()=>({start:.96,duration:300,easing:Pi})),ss(3,Y,()=>Vs,()=>({duration:250})),u(se,Y)};V(ue,se=>{n()&&se(he)})}u(P,$),Ht()}is(["click","keydown"]);var Ai=b("<img/>"),Oi=b('<div class="animation-frame svelte-zbmy0k"></div>'),Ei=b('<div class="visual-placeholder svelte-zbmy0k"><span>No animation available</span></div>'),Hi=b("<li> </li>"),Wi=b('<div class="modal-overlay svelte-zbmy0k" role="button" tabindex="0" aria-label="Close modal"><div class="modal-content svelte-zbmy0k" role="dialog" aria-modal="true" tabindex="-1"><div class="header svelte-zbmy0k"><h3 class="svelte-zbmy0k"> </h3> <span class="category svelte-zbmy0k"> </span> <button class="close-btn svelte-zbmy0k" aria-label="Close">×</button></div> <div class="visual-container svelte-zbmy0k"><!> <div class="muscles svelte-zbmy0k"> </div></div> <div class="instructions svelte-zbmy0k"><h4>Instructions</h4> <ol class="svelte-zbmy0k"></ol></div></div></div>');function Ii(P,l){Et(l,!1);let n=Fe(l,"exercise",8),f=Fe(l,"visible",8,!1);const q=us();let D=_a(0),O;function w(){n().images&&n().images.length>0&&(t(D,0),O=setInterval(()=>{t(D,(e(D)+1)%n().images.length)},800))}function k(){O&&clearInterval(O)}ga(()=>{k()});function x(){q("close")}ma(()=>(ft(f()),ft(n())),()=>{f()&&n().images?.length?w():k()}),fa(),As();var S=Ut(),T=Bt(S);{var M=m=>{var N=Wi(),h=i(N),C=i(h),R=i(C),B=i(R,!0);s(R);var L=a(R,2),H=i(L,!0);s(L);var z=a(L,2);s(C);var F=a(C,2),I=i(F);{var K=j=>{var Z=Oi();_e(Z,5,()=>(ft(n()),ct(()=>n().images)),be,(ee,$,ue)=>{var he=Ai();let se;E(()=>{Nt(he,"src",`${Ra??""}${e($)??""}`),Nt(he,"alt",`${ft(n()),ct(()=>n().name)??""} frame ${ue+1}`),se=Lt(he,1,"svelte-zbmy0k",null,se,{active:ue===e(D)})}),u(ee,he)}),s(Z),u(j,Z)},re=j=>{var Z=Ei();u(j,Z)};V(I,j=>{ft(n()),ct(()=>n().images&&n().images.length>0)?j(K):j(re,!1)})}var ce=a(I,2),J=i(ce);s(ce),s(F);var ae=a(F,2),pe=a(i(ae),2);_e(pe,5,()=>(ft(n()),ct(()=>n().instructions)),be,(j,Z)=>{var ee=Hi(),$=i(ee,!0);s(ee),E(()=>U($,e(Z))),u(j,ee)}),s(pe),s(ae),s(h),s(N),E(j=>{U(B,(ft(n()),ct(()=>n().name))),U(H,(ft(n()),ct(()=>n().category))),U(J,`Targets: ${j??""}`)},[()=>(ft(n()),ct(()=>n().targetMuscles.join(", ")))]),we("click",z,x),ss(3,h,()=>Ws,()=>({y:50,duration:300})),we("click",h,Qs(function(j){Ms.call(this,l,j)})),we("keydown",h,Qs(function(j){Ms.call(this,l,j)})),we("click",N,x),we("keydown",N,j=>j.key==="Escape"&&x()),u(m,N)};V(T,m=>{f()&&m(M)})}u(P,S),Ht()}var ji=b('<div class="input-group svelte-12q9g58"><label for="delete-confirm" class="svelte-12q9g58">Type <strong> </strong> to confirm:</label> <input type="text" id="delete-confirm" autocomplete="off" class="svelte-12q9g58"/></div>'),zi=b('<button class="backdrop svelte-12q9g58" aria-label="Close modal"></button> <div class="modal svelte-12q9g58" role="dialog" aria-modal="true"><h3 class="svelte-12q9g58"> </h3> <p class="svelte-12q9g58"> </p> <!> <div class="actions svelte-12q9g58"><button class="btn-cancel svelte-12q9g58">Cancel</button> <button class="btn-delete svelte-12q9g58">Delete</button></div></div>',1);function Vi(P,l){Et(l,!0);let n=Fe(l,"isOpen",3,!1),f=Fe(l,"title",3,"Confirm Delete"),q=Fe(l,"message",3,"Are you sure you want to delete this item? This action cannot be undone."),D=Fe(l,"confirmKeyword",3,"delete"),O=Fe(l,"requireInput",3,!0),w=d(""),k=_t(()=>!O()||e(w).toLowerCase()===D().toLowerCase());function x(){e(k)&&(l.onConfirm(),t(w,""))}function S(){l.onCancel(),t(w,"")}var T=Ut(),M=Bt(T);{var m=N=>{var h=zi(),C=Bt(h);C.__click=S;var R=a(C,2),B=i(R),L=i(B,!0);s(B);var H=a(B,2),z=i(H,!0);s(H);var F=a(H,2);{var I=J=>{var ae=ji(),pe=i(ae),j=a(i(pe)),Z=i(j,!0);s(j),Te(),s(pe);var ee=a(pe,2);A(ee),s(ae),E(()=>{U(Z,D()),Nt(ee,"placeholder",D())}),G(ee,()=>e(w),$=>t(w,$)),u(J,ae)};V(F,J=>{O()&&J(I)})}var K=a(F,2),re=i(K);re.__click=S;var ce=a(re,2);ce.__click=x,s(K),s(R),E(()=>{U(L,f()),U(z,q()),ce.disabled=!e(k)}),ss(3,C,()=>Vs,()=>({duration:200})),ss(3,R,()=>ea,()=>({duration:200,start:.9})),u(N,h)};V(M,N=>{n()&&N(m)})}u(P,T),Ht()}is(["click"]);var Ui=b('<div class="form-header-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;"><h2 style="margin: 0; font-size: 1.25rem; color: var(--teal-primary);">New Gym Session</h2></div>'),Ki=b("<span>Saved! ✓</span>"),Qi=b("<button><!></button>"),Ji=b("<option> </option>"),Yi=b("<option> </option>"),Xi=b('<div class="filter-row svelte-1w0zsmt"><select class="category-select svelte-1w0zsmt"><option>Select Category...</option><!></select> <select class="subcategory-select svelte-1w0zsmt"><option>Select Subcategory...</option><!></select></div>'),Zi=b('<span class="details svelte-1w0zsmt"> </span>'),$i=b('<button class="exercise-item-simple svelte-1w0zsmt"><span class="name svelte-1w0zsmt"> </span> <!></button>'),er=b('<div class="no-results svelte-1w0zsmt"> </div>'),tr=b('<div class="modal-overlay svelte-1w0zsmt" role="button" tabindex="0" aria-label="Close modal"><div class="picker-modal svelte-1w0zsmt" role="dialog" aria-modal="true" tabindex="-1"><div class="picker-header svelte-1w0zsmt"><h3>Add Exercise</h3> <div class="search-row svelte-1w0zsmt"><input type="text" placeholder="Search exercises..." class="svelte-1w0zsmt"/></div> <!></div> <div class="picker-content svelte-1w0zsmt"><div class="exercise-list-simple svelte-1w0zsmt"><!> <!></div></div></div></div>'),sr=b('<div class="keypad-overlay svelte-1w0zsmt"><div class="keypad-header svelte-1w0zsmt"><span> </span> <button class="svelte-1w0zsmt">Done</button></div> <!></div>'),ar=b('<div class="gym-session-form svelte-1w0zsmt"><div class="session-meta svelte-1w0zsmt"><!> <input type="text" class="session-name svelte-1w0zsmt" placeholder="Workout Name (e.g. Pull Day)"/> <div class="meta-row svelte-1w0zsmt"><label class="svelte-1w0zsmt">Date <div class="date-time-row svelte-1w0zsmt"><input type="date" class="svelte-1w0zsmt"/> <input type="time" class="svelte-1w0zsmt"/></div></label> <label class="svelte-1w0zsmt">Bodyweight (kg) <input type="number" placeholder="Optional" class="svelte-1w0zsmt"/></label> <label class="svelte-1w0zsmt">Block <select class="svelte-1w0zsmt"><option>Strength</option><option>Power</option><option>Power Endurance</option><option>Muscular Endurance</option></select></label></div></div> <div class="exercises-list"></div> <button class="add-exercise-btn svelte-1w0zsmt">+ Add Exercise</button> <!> <!> <!> <!> <!> <!></div>');function Er(P,l){Et(l,!0);const n=us(),f="gym_session_draft";let q=Fe(l,"initialData",3,null),D=_t(()=>!!q()),O=d(""),w=d(void 0),k=d(We([])),x=d(We(new Date().toISOString().split("T")[0])),S=d(We(new Date().toTimeString().split(" ")[0].slice(0,5))),T=d("Strength"),M=d(null),m=d(We([]));bs(async()=>{if(q())t(O,q().name,!0),t(w,q().bodyweight,!0),t(k,q().exercises,!0),t(x,q().date,!0),t(S,q().time||"12:00",!0),t(T,q().trainingBlock||"Strength",!0),t(ce,!0);else{const o=localStorage.getItem(f);if(o)try{const g=JSON.parse(o);g.sessionName&&t(O,g.sessionName,!0),g.bodyweight&&t(w,g.bodyweight,!0),g.startTime&&t(x,g.startTime,!0),g.time&&t(S,g.time,!0),g.trainingBlock&&t(T,g.trainingBlock,!0),g.exercises&&t(k,g.exercises,!0)}catch(g){console.error("Failed to restore draft",g)}t(ce,!0)}const r=await xa();r.ok&&r.data&&t(m,r.data.map(o=>({...o,activityType:"gym_session",syncStatus:"synced"})),!0)}),as(()=>{const r=e(m).filter(o=>(o.trainingBlock||"Strength")===e(T)&&o.date<e(x));r.sort((o,g)=>new Date(g.date).getTime()-new Date(o.date).getTime()),t(M,r.length>0?r[0]:null,!0)});function N(r){const o={Green:null,Yellow:null,Orange:null,Red:null},g=[...e(m)].sort((W,X)=>new Date(X.date).getTime()-new Date(W.date).getTime());for(const W of g){if(o.Green&&o.Yellow&&o.Orange&&o.Red)break;const X=W.exercises.find(te=>te.name===r);if(X&&X.difficulty&&!o[X.difficulty]){let te=null;for(const ge of X.sets)(!te||ge.weight>te.weight||ge.weight===te.weight&&ge.reps>te.reps)&&(te=ge);te&&(o[X.difficulty]={weight:te.weight,reps:te.reps})}}return o}let h=d(!1),C=d(""),R=d(""),B=d(""),L=d(null),H=d(!1),z=d(null),F=d(null),I=d(!1),K=d(null),re=d(3),ce=d(!1);as(()=>{if(e(ce)&&!e(D)&&typeof localStorage<"u"){const r={sessionName:e(O),bodyweight:e(w),startTime:e(x),time:e(S),trainingBlock:e(T),exercises:e(k)};localStorage.setItem(f,JSON.stringify(r))}});let J=_t(()=>Gs.filter(r=>{if(e(C))return r.name.toLowerCase().includes(e(C).toLowerCase())||r.targetMuscles.some(W=>W.toLowerCase().includes(e(C).toLowerCase()));const o=e(R)?r.category===e(R):!0,g=e(B)?r.subcategory===e(B):!0;return o&&g}));const ae=Array.from(new Set(Gs.map(r=>r.category))).sort();let pe=_t(()=>e(R)?Array.from(new Set(Gs.filter(r=>r.category===e(R)).map(r=>r.subcategory))).sort():[]);function j(){t(B,"")}function Z(r){const o={id:crypto.randomUUID(),name:r.name,sets:[{weight:0,reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1}]};t(k,[...e(k),o],!0),t(h,!1),t(C,""),t(R,""),t(B,"")}function ee(r,o,g){t(L,{exerciseIndex:o,setIndex:g,field:r.detail.field},!0)}function $(r){if(!e(L))return;const{exerciseIndex:o,setIndex:g,field:W}=e(L);e(k)[o].sets[g][W]=r.detail,t(k,[...e(k)],!0)}function ue(r){const o=r.detail;t(K,o.id,!0),t(re,o.sets.length,!0),t(H,!0)}function he(){}async function se(){if(e(k).length===0)return;const r={date:e(x),time:e(S),name:e(O)||"Gym Workout",bodyweight:e(w),trainingBlock:e(T),exercises:e(k)},o=e(D)&&q()?await Ca(q().id,r):await Ta(r);o.ok?(t(I,!0),e(D)||localStorage.removeItem(f),l.onSaved?l.onSaved():setTimeout(()=>{t(I,!1),n("save")},1500)):console.error("Failed to save gym session",o.error)}function Y(){t(L,null)}var Ge=ar(),Je=i(Ge),ht=i(Je);{var ut=r=>{var o=Ui();u(r,o)};V(ht,r=>{e(D)||r(ut)})}var yt=a(ht,2);A(yt);var qt=a(yt,2),lt=i(qt),wt=a(i(lt)),St=i(wt);A(St);var kt=a(St,2);A(kt),s(wt),s(lt);var Me=a(lt,2),Ae=a(i(Me));A(Ae),s(Me);var ie=a(Me,2),ye=a(i(ie)),Ke=i(ye);Ke.value=Ke.__value="Strength";var De=a(Ke);De.value=De.__value="Power";var Oe=a(De);Oe.value=Oe.__value="Power Endurance";var de=a(Oe);de.value=de.__value="Muscular Endurance",s(ye),s(ie),s(qt),s(Je);var Se=a(Je,2);_e(Se,21,()=>e(k),be,(r,o,g)=>{{let W=_t(()=>N(e(o).name));Ti(r,{get exercise(){return e(o)},get benchmarks(){return e(W)},$$events:{focus:X=>ee(X,g,e(k)[g].sets.indexOf(X.detail.set)),complete:he,timer:ue,delete:()=>{t(F,g,!0)},info:()=>{const X=Gs.find(te=>te.name===e(o).name);X&&t(z,X,!0)}}})}}),s(Se);var Ie=a(Se,2);Ie.__click=()=>t(h,!0);var je=a(Ie,2);{var ot=r=>{var o=Qi();let g;o.__click=se;var W=i(o);{var X=ge=>{var Ye=Ki();u(ge,Ye)},te=ge=>{var Ye=bt("Finish Workout");u(ge,Ye)};V(W,ge=>{e(I)?ge(X):ge(te,!1)})}s(o),E(()=>{g=Lt(o,1,"save-btn svelte-1w0zsmt",null,g,{success:e(I)}),o.disabled=e(I)}),u(r,o)};V(je,r=>{e(k).length>0&&r(ot)})}var nt=a(je,2);{var ze=r=>{var o=tr();o.__click=()=>t(h,!1),o.__keydown=ne=>ne.key==="Escape"&&t(h,!1);var g=i(o);g.__click=ne=>ne.stopPropagation(),g.__keydown=ne=>ne.stopPropagation();var W=i(g),X=a(i(W),2),te=i(X);A(te),s(X);var ge=a(X,2);{var Ye=ne=>{var qe=Xi(),xe=i(qe);xe.__change=j;var Xe=i(xe);Xe.value=Xe.__value="";var Pt=a(Xe);_e(Pt,17,()=>ae,be,(me,ve)=>{var ke=Ji(),Ve=i(ke,!0);s(ke);var st={};E(()=>{U(Ve,e(ve)),st!==(st=e(ve))&&(ke.value=(ke.__value=e(ve))??"")}),u(me,ke)}),s(xe);var gt=a(xe,2),Ne=i(gt);Ne.value=Ne.__value="";var Pe=a(Ne);_e(Pe,17,()=>e(pe),be,(me,ve)=>{var ke=Yi(),Ve=i(ke,!0);s(ke);var st={};E(()=>{U(Ve,e(ve)),st!==(st=e(ve))&&(ke.value=(ke.__value=e(ve))??"")}),u(me,ke)}),s(gt),s(qe),E(()=>gt.disabled=!e(R)),rt(xe,()=>e(R),me=>t(R,me)),rt(gt,()=>e(B),me=>t(B,me)),u(ne,qe)};V(ge,ne=>{e(C)||ne(Ye)})}s(W);var At=a(W,2),Ct=i(At),Mt=i(Ct);_e(Mt,17,()=>e(J),be,(ne,qe)=>{var xe=$i();xe.__click=()=>Z(e(qe));var Xe=i(xe),Pt=i(Xe,!0);s(Xe);var gt=a(Xe,2);{var Ne=Pe=>{var me=Zi(),ve=i(me);s(me),E(()=>U(ve,`${e(qe).category??""} - ${e(qe).subcategory??""}`)),u(Pe,me)};V(gt,Pe=>{e(C)&&Pe(Ne)})}s(xe),E(()=>U(Pt,e(qe).name)),u(ne,xe)});var Ft=a(Mt,2);{var pt=ne=>{var qe=er(),xe=i(qe,!0);s(qe),E(()=>U(xe,e(C)?"No exercises found":"Select a category and subcategory to view exercises.")),u(ne,qe)};V(Ft,ne=>{e(J).length===0&&ne(pt)})}s(Ct),s(At),s(g),s(o),G(te,()=>e(C),ne=>t(C,ne)),ss(3,g,()=>Ws,()=>({y:100,duration:300})),ss(3,o,()=>Vs),u(r,o)};V(nt,r=>{e(h)&&r(ze)})}var dt=a(nt,2);{var vt=r=>{Ii(r,{get exercise(){return e(z)},visible:!0,$$events:{close:()=>t(z,null)}})};V(dt,r=>{e(z)&&r(vt)})}var Le=a(dt,2);{var et=r=>{var o=sr(),g=i(o),W=i(g),X=i(W);s(W);var te=a(W,2);te.__click=Y,s(g);var ge=a(g,2);{let Ye=_t(()=>e(L).field==="weight"?"Weight (kg)":"Reps");qi(ge,{get value(){return e(k)[e(L).exerciseIndex].sets[e(L).setIndex][e(L).field]},get label(){return e(Ye)},$$events:{change:$}})}s(o),E(()=>U(X,`Editing ${e(k)[e(L).exerciseIndex].name??""} - Set ${e(L).setIndex+1}`)),ss(3,o,()=>Ws,()=>({y:200,duration:300})),u(r,o)};V(Le,r=>{e(L)&&r(et)})}var xt=a(Le,2);ta(xt,{get defaultSets(){return e(re)},get associatedExerciseId(){return e(K)},get visible(){return e(H)},set visible(r){t(H,r,!0)}});var tt=a(xt,2);{var y=r=>{Vi(r,{isOpen:!0,title:"Delete Exercise",get message(){return`Are you sure you want to delete ${e(k)[e(F)].name??""}?`},requireInput:!1,onConfirm:()=>{e(F)!==null&&(t(k,e(k).filter((o,g)=>g!==e(F)),!0),t(F,null))},onCancel:()=>t(F,null)})};V(tt,r=>{e(F)!==null&&r(y)})}s(Ge),G(yt,()=>e(O),r=>t(O,r)),G(St,()=>e(x),r=>t(x,r)),G(kt,()=>e(S),r=>t(S,r)),G(Ae,()=>e(w),r=>t(w,r)),rt(ye,()=>e(T),r=>t(T,r)),u(P,Ge),Ht()}is(["click","keydown","change"]);var ir=b('<h3 class="svelte-1m63nqt">🤏 Fingerboarding</h3>'),rr=b("<option> </option>"),lr=b("<option> </option>"),or=b('<button class="remove-set-btn svelte-1m63nqt">✕</button>'),nr=b('<div class="set-row svelte-1m63nqt"><div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Weight</label> <input type="number" placeholder="0" class="svelte-1m63nqt"/></div> <div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Reps/Secs</label> <input type="number" placeholder="1" class="svelte-1m63nqt"/></div> <!></div>'),cr=b('<div class="exercise-card svelte-1m63nqt"><div class="card-header svelte-1m63nqt"><div class="header-inputs svelte-1m63nqt"><select class="svelte-1m63nqt"></select> <select class="svelte-1m63nqt"></select></div> <button class="remove-card-btn svelte-1m63nqt" title="Remove Exercise">✕</button></div> <div class="sets-list svelte-1m63nqt"><!> <button class="add-set-btn svelte-1m63nqt">+ Add Set</button> <button class="rest-btn svelte-1m63nqt" title="Interval Timer">⏱ Timer</button></div> <div class="card-footer svelte-1m63nqt"><div class="meta-input svelte-1m63nqt"><label class="svelte-1m63nqt">Total Sets</label> <input type="number" readonly="" disabled class="svelte-1m63nqt"/></div> <div class="notes-input svelte-1m63nqt"><label class="svelte-1m63nqt">Notes</label> <input type="text" placeholder="Notes..." class="svelte-1m63nqt"/></div></div></div>'),ur=b("<div> </div>"),dr=b('<div class="form-content svelte-1m63nqt"><div class="header-row svelte-1m63nqt"><div style="flex: 1; display: flex; justify-content: space-between; align-items: center;"><!></div> <button class="add-row-btn svelte-1m63nqt">+ Add Exercise</button></div> <div class="form-group date-group svelte-1m63nqt"><label for="date">Date</label> <div class="date-time-row svelte-1m63nqt"><input type="date" id="date" class="svelte-1m63nqt"/> <input type="time" id="time" class="svelte-1m63nqt"/></div></div> <div class="cards-container svelte-1m63nqt"></div> <div class="load-section svelte-1m63nqt"><h4 class="svelte-1m63nqt">Load Metrics</h4> <div class="load-metrics svelte-1m63nqt"><div class="load-item svelte-1m63nqt"><label for="finger-load" class="svelte-1m63nqt">Finger</label> <input type="number" id="finger-load" min="1" max="5" class="svelte-1m63nqt"/> <span class="load-scale svelte-1m63nqt">/ 5</span></div> <div class="load-item svelte-1m63nqt"><label for="shoulder-load" class="svelte-1m63nqt">Shoulder</label> <input type="number" id="shoulder-load" min="1" max="5" class="svelte-1m63nqt"/> <span class="load-scale svelte-1m63nqt">/ 5</span></div> <div class="load-item svelte-1m63nqt"><label for="forearm-load" class="svelte-1m63nqt">Forearm</label> <input type="number" id="forearm-load" min="1" max="5" class="svelte-1m63nqt"/> <span class="load-scale svelte-1m63nqt">/ 5</span></div></div> <h4 class="mt-4 svelte-1m63nqt">Grip Metrics</h4> <div class="load-metrics svelte-1m63nqt"><div class="load-item svelte-1m63nqt"><label for="open-grip" class="svelte-1m63nqt">Open</label> <input type="number" id="open-grip" min="1" max="5" class="svelte-1m63nqt"/> <span class="load-scale svelte-1m63nqt">/ 5</span></div> <div class="load-item svelte-1m63nqt"><label for="crimp-grip" class="svelte-1m63nqt">Crimp</label> <input type="number" id="crimp-grip" min="1" max="5" class="svelte-1m63nqt"/> <span class="load-scale svelte-1m63nqt">/ 5</span></div> <div class="load-item svelte-1m63nqt"><label for="pinch-grip" class="svelte-1m63nqt">Pinch</label> <input type="number" id="pinch-grip" min="1" max="5" class="svelte-1m63nqt"/> <span class="load-scale svelte-1m63nqt">/ 5</span></div> <div class="load-item svelte-1m63nqt"><label for="sloper-grip" class="svelte-1m63nqt">Sloper</label> <input type="number" id="sloper-grip" min="1" max="5" class="svelte-1m63nqt"/> <span class="load-scale svelte-1m63nqt">/ 5</span></div> <div class="load-item svelte-1m63nqt"><label for="jug-grip" class="svelte-1m63nqt">Jug</label> <input type="number" id="jug-grip" min="1" max="5" class="svelte-1m63nqt"/> <span class="load-scale svelte-1m63nqt">/ 5</span></div></div></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1m63nqt"><!></button></div> <!></div>');function Hr(P,l){Et(l,!0),us();let n=Fe(l,"initialData",3,null),f=_t(()=>!!n());const q=["Max hangs","Recruitment pulls","Max pick-ups"],D=["Full-crimp","Half-crimp","Three finger drag","Pinch","Open hand","Sloper"];let O=d(We(new Date().toISOString().split("T")[0])),w=d(We(new Date().toTimeString().split(" ")[0].slice(0,5))),k=d(We([])),x=d(3),S=d(3),T=d(3),M=d(3),m=d(3),N=d(3),h=d(3),C=d(3),R=d(!1),B=d(null),L=d(3);function H(r){t(B,r.id,!0),t(L,r.sets,!0),t(R,!0)}function z(){t(k,[...e(k),{id:crypto.randomUUID(),name:q[0],gripType:D[1],sets:1,details:[{weight:0,reps:5}],notes:""}],!0)}const F="fingerboard_session_draft";let I=d(!1);bs(()=>{if(n())t(O,n().date,!0),t(w,n().time||"12:00",!0),t(k,n().exercises,!0),t(x,n().fingerLoad||3,!0),t(S,n().shoulderLoad||3,!0),t(T,n().forearmLoad||3,!0),t(M,n().openGrip||3,!0),t(m,n().crimpGrip||3,!0),t(N,n().pinchGrip||3,!0),t(h,n().sloperGrip||3,!0),t(C,n().jugGrip||3,!0),t(I,!0);else{const r=localStorage.getItem(F);if(r)try{const o=JSON.parse(r);o.time&&t(w,o.time,!0),o.exercises&&Array.isArray(o.exercises)&&t(k,o.exercises,!0),o.fingerLoad&&t(x,o.fingerLoad,!0),o.shoulderLoad&&t(S,o.shoulderLoad,!0),o.forearmLoad&&t(T,o.forearmLoad,!0),o.openGrip&&t(M,o.openGrip,!0),o.crimpGrip&&t(m,o.crimpGrip,!0),o.pinchGrip&&t(N,o.pinchGrip,!0),o.sloperGrip&&t(h,o.sloperGrip,!0),o.jugGrip&&t(C,o.jugGrip,!0)}catch(o){console.error("Failed to restore draft",o)}e(k).length===0&&z(),t(I,!0)}}),as(()=>{if(!e(I)||e(f))return;const r={date:e(O),time:e(w),exercises:e(k),fingerLoad:e(x),shoulderLoad:e(S),forearmLoad:e(T),openGrip:e(M),crimpGrip:e(m),pinchGrip:e(N),sloperGrip:e(h),jugGrip:e(C)};localStorage.setItem(F,JSON.stringify(r))});function K(r){t(k,e(k).filter((o,g)=>g!==r),!0)}function re(r){const o=e(k)[r],g=o.details[o.details.length-1];o.details=[...o.details,{...g}],o.sets=o.details.length}function ce(r,o){const g=e(k)[r];g.details.length>1&&(g.details=g.details.filter((W,X)=>X!==o),g.sets=g.details.length)}let J=d("idle"),ae=d("");async function pe(){t(J,"saving");try{const r={date:e(O),time:e(w),location:"N/A",exercises:JSON.parse(JSON.stringify(e(k))),fingerLoad:e(x),shoulderLoad:e(S),forearmLoad:e(T),openGrip:e(M),crimpGrip:e(m),pinchGrip:e(N),sloperGrip:e(h),jugGrip:e(C)};let o;e(f)&&n()?o=await La(n().id,r):o=await qa(r),o.ok?(t(J,"success"),t(ae,"Session saved!"),e(f)||localStorage.removeItem(F),l.onSaved?l.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{j()},2e3))):(t(J,"error"),t(ae,"Failed to save: "+(o.error||"Unknown error")))}catch(r){t(J,"error"),t(ae,"Failed to save session"),console.error("Save error:",r)}}function j(){t(O,new Date().toISOString().split("T")[0],!0),t(w,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(k,[],!0),z(),t(x,3),t(S,3),t(T,3),t(M,3),t(m,3),t(N,3),t(h,3),t(C,3),t(J,"idle"),t(ae,"")}var Z=dr(),ee=i(Z),$=i(ee),ue=i($);{var he=r=>{var o=ir();u(r,o)};V(ue,r=>{e(f)||r(he)})}s($);var se=a($,2);se.__click=z,s(ee);var Y=a(ee,2),Ge=a(i(Y),2),Je=i(Ge);A(Je);var ht=a(Je,2);A(ht),s(Ge),s(Y);var ut=a(Y,2);_e(ut,21,()=>e(k),be,(r,o,g)=>{var W=cr(),X=i(W),te=i(X),ge=i(te);_e(ge,21,()=>q,be,(Pe,me)=>{var ve=rr(),ke=i(ve,!0);s(ve);var Ve={};E(()=>{U(ke,e(me)),Ve!==(Ve=e(me))&&(ve.value=(ve.__value=e(me))??"")}),u(Pe,ve)}),s(ge);var Ye=a(ge,2);_e(Ye,21,()=>D,be,(Pe,me)=>{var ve=lr(),ke=i(ve,!0);s(ve);var Ve={};E(()=>{U(ke,e(me)),Ve!==(Ve=e(me))&&(ve.value=(ve.__value=e(me))??"")}),u(Pe,ve)}),s(Ye),s(te);var At=a(te,2);At.__click=()=>K(g),s(X);var Ct=a(X,2),Mt=i(Ct);_e(Mt,17,()=>e(o).details,be,(Pe,me,ve)=>{var ke=nr(),Ve=i(ke),st=i(Ve);Nt(st,"for",`weight-${g}-${ve}`);var Wt=a(st,2);A(Wt),Nt(Wt,"id",`weight-${g}-${ve}`),s(Ve);var It=a(Ve,2),Kt=i(It);Nt(Kt,"for",`reps-${g}-${ve}`);var Ee=a(Kt,2);A(Ee),Nt(Ee,"id",`reps-${g}-${ve}`),s(It);var at=a(It,2);{var Tt=mt=>{var jt=or();jt.__click=()=>ce(g,ve),u(mt,jt)};V(at,mt=>{e(o).details.length>1&&mt(Tt)})}s(ke),G(Wt,()=>e(me).weight,mt=>e(me).weight=mt),G(Ee,()=>e(me).reps,mt=>e(me).reps=mt),u(Pe,ke)});var Ft=a(Mt,2);Ft.__click=()=>re(g);var pt=a(Ft,2);pt.__click=()=>H(e(o)),s(Ct);var ne=a(Ct,2),qe=i(ne),xe=i(qe);Nt(xe,"for",`total-sets-${g}`);var Xe=a(xe,2);A(Xe),Nt(Xe,"id",`total-sets-${g}`),s(qe);var Pt=a(qe,2),gt=i(Pt);Nt(gt,"for",`notes-${g}`);var Ne=a(gt,2);A(Ne),Nt(Ne,"id",`notes-${g}`),s(Pt),s(ne),s(W),E(()=>ha(Xe,e(o).sets)),rt(ge,()=>e(o).name,Pe=>e(o).name=Pe),rt(Ye,()=>e(o).gripType,Pe=>e(o).gripType=Pe),G(Ne,()=>e(o).notes,Pe=>e(o).notes=Pe),u(r,W)}),s(ut);var yt=a(ut,2),qt=a(i(yt),2),lt=i(qt),wt=a(i(lt),2);A(wt),Te(2),s(lt);var St=a(lt,2),kt=a(i(St),2);A(kt),Te(2),s(St);var Me=a(St,2),Ae=a(i(Me),2);A(Ae),Te(2),s(Me),s(qt);var ie=a(qt,4),ye=i(ie),Ke=a(i(ye),2);A(Ke),Te(2),s(ye);var De=a(ye,2),Oe=a(i(De),2);A(Oe),Te(2),s(De);var de=a(De,2),Se=a(i(de),2);A(Se),Te(2),s(de);var Ie=a(de,2),je=a(i(Ie),2);A(je),Te(2),s(Ie);var ot=a(Ie,2),nt=a(i(ot),2);A(nt),Te(2),s(ot),s(ie),s(yt);var ze=a(yt,2),dt=i(ze);{var vt=r=>{var o=ur();let g;var W=i(o,!0);s(o),E(()=>{g=Lt(o,1,"save-message svelte-1m63nqt",null,g,{success:e(J)==="success",error:e(J)==="error"}),U(W,e(ae))}),u(r,o)};V(dt,r=>{e(ae)&&r(vt)})}var Le=a(dt,2);Le.__click=pe;var et=i(Le);{var xt=r=>{var o=bt("Saving...");u(r,o)},tt=r=>{var o=Ut(),g=Bt(o);{var W=te=>{var ge=bt("✓ Saved!");u(te,ge)},X=te=>{var ge=bt("Save Session");u(te,ge)};V(g,te=>{e(J)==="success"?te(W):te(X,!1)},!0)}u(r,o)};V(et,r=>{e(J)==="saving"?r(xt):r(tt,!1)})}s(Le),s(ze);var y=a(ze,2);ta(y,{get defaultSets(){return e(L)},get associatedExerciseId(){return e(B)},get visible(){return e(R)},set visible(r){t(R,r,!0)}}),s(Z),E(()=>Le.disabled=e(J)==="saving"),G(Je,()=>e(O),r=>t(O,r)),G(ht,()=>e(w),r=>t(w,r)),G(wt,()=>e(x),r=>t(x,r)),G(kt,()=>e(S),r=>t(S,r)),G(Ae,()=>e(T),r=>t(T,r)),G(Ke,()=>e(M),r=>t(M,r)),G(Oe,()=>e(m),r=>t(m,r)),G(Se,()=>e(N),r=>t(N,r)),G(je,()=>e(h),r=>t(h,r)),G(nt,()=>e(C),r=>t(C,r)),u(P,Z),Ht()}is(["click"]);var vr=b('<h3 style="margin: 0; color: var(--teal-secondary);" class="svelte-1fje4dh">🏆 Competition</h3>'),pr=b("<option> </option>"),gr=b('<input type="text" placeholder="Enter venue name" class="mt-2 svelte-1fje4dh"/>'),mr=b("<option> </option>"),fr=b("<option> </option>"),_r=b('<input type="text" placeholder="Round name" class="mt-2 svelte-1fje4dh"/>'),br=b('<div class="result-mode-content svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="position" class="svelte-1fje4dh">Final Position</label> <input type="number" id="position" placeholder="#" class="large-input svelte-1fje4dh"/></div></div>'),hr=b("<option> </option>"),yr=b('<input type="number" min="1" class="svelte-1fje4dh"/>'),wr=b('<span class="flash-dash">-</span>'),Sr=b('<tr><td class="col-name svelte-1fje4dh"><input type="text" class="svelte-1fje4dh"/></td><td class="col-status svelte-1fje4dh"><select class="svelte-1fje4dh"></select></td><td class="col-attempt svelte-1fje4dh"><!></td><td class="col-notes svelte-1fje4dh"><input type="text" placeholder="..." class="svelte-1fje4dh"/></td><td class="col-action svelte-1fje4dh"><button class="svelte-1fje4dh">✕</button></td></tr>'),kr=b('<div class="load-metrics-compact svelte-1fje4dh"><div class="metric svelte-1fje4dh"><label for="finger">Finger Load</label> <input type="number" id="finger" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div> <div class="metric svelte-1fje4dh"><label for="shoulder">Shoulder Load</label> <input type="number" id="shoulder" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div> <div class="metric svelte-1fje4dh"><label for="forearm">Forearm Load</label> <input type="number" id="forearm" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div></div> <div class="climbs-table-container svelte-1fje4dh"><div class="section-header svelte-1fje4dh"><h4 class="svelte-1fje4dh">Boulders / Routes</h4></div> <table class="climbs-table svelte-1fje4dh"><thead><tr><th class="svelte-1fje4dh">#</th><th class="svelte-1fje4dh">Result</th><th class="svelte-1fje4dh">Att.</th><th class="svelte-1fje4dh">Notes</th><th class="svelte-1fje4dh"></th></tr></thead><tbody></tbody></table> <button class="add-row-btn svelte-1fje4dh">+ Add Row</button></div>',1),xr=b("<div> </div>"),Cr=b('<div class="form-content svelte-1fje4dh"><div style="flex: 1; display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;"><!></div> <div class="form-grid svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="date" class="svelte-1fje4dh">Date</label> <div class="date-time-row svelte-1fje4dh"><input type="date" id="date" class="svelte-1fje4dh"/> <input type="time" id="time" class="svelte-1fje4dh"/></div></div> <div class="form-group svelte-1fje4dh"><label for="venue" class="svelte-1fje4dh">Venue</label> <select id="venue" class="svelte-1fje4dh"><option disabled>Select venue...</option><!></select> <!></div></div> <div class="form-group mb-4 svelte-1fje4dh"><label for="type" class="svelte-1fje4dh">Type</label> <select id="type" class="svelte-1fje4dh"></select></div> <div class="form-group mb-4 svelte-1fje4dh"><label for="session-notes" class="svelte-1fje4dh">Session Notes</label> <textarea id="session-notes" placeholder="How did the comp go? Strategy, mindset, etc." rows="3" class="svelte-1fje4dh"></textarea></div> <div class="round-section svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="round" class="svelte-1fje4dh">Round</label> <select id="round" class="svelte-1fje4dh"></select> <!></div> <!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1fje4dh"><!></button></div></div>');function Wr(P,l){Et(l,!0),us();let n=Fe(l,"initialData",3,null),f=_t(()=>!!n());const q=["Flashpoint Bristol","Rockstar Techno","Rockstar Unit 3","Rockstar Unit 5","Bloc","TCA","Other"],D=["Bouldering","Lead","Speed"],O=["Qualifiers","Semi-Finals","Finals","Result","Other"],w=["Flash","Top","Zone","Attempt"];let k=d(We(new Date().toISOString().split("T")[0])),x=d(We(new Date().toTimeString().split(" ")[0].slice(0,5))),S=d(""),T=d(""),M=d("Bouldering"),m=d(4),N=d(4),h=d(4),C=d("Qualifiers"),R=d(""),B=d(null),L=d(We([{name:"#1",status:"Flash",attemptCount:1,notes:""}])),H=d("");const z="competition_session_draft";let F=d(!1);bs(()=>{if(n()){if(t(k,n().date,!0),t(x,n().time||"12:00",!0),t(M,n().type||"Bouldering",!0),t(H,n().notes||"",!0),q.includes(n().venue)?t(S,n().venue,!0):(t(S,"Other"),t(T,n().venue,!0)),t(m,n().fingerLoad??4,!0),t(N,n().shoulderLoad??4,!0),t(h,n().forearmLoad??4,!0),n().rounds&&n().rounds.length>0){const y=n().rounds[0];O.includes(y.name)?t(C,y.name,!0):(t(C,"Other"),t(R,y.name,!0)),t(B,y.position??null,!0),y.climbs&&y.climbs.length>0&&t(L,y.climbs,!0)}t(F,!0)}else{const y=localStorage.getItem(z);if(y)try{const r=JSON.parse(y);r.venue&&t(S,r.venue,!0),r.time&&t(x,r.time,!0),r.customVenue&&t(T,r.customVenue,!0),r.type&&t(M,r.type,!0),r.fingerLoad&&t(m,r.fingerLoad,!0),r.shoulderLoad&&t(N,r.shoulderLoad,!0),r.forearmLoad&&t(h,r.forearmLoad,!0),r.roundName&&t(C,r.roundName,!0),r.customRoundName&&t(R,r.customRoundName,!0),r.finalPosition&&t(B,r.finalPosition,!0),r.climbs&&t(L,r.climbs,!0),r.notes&&t(H,r.notes,!0)}catch(r){console.error("Failed to restore draft",r)}t(F,!0)}}),as(()=>{if(!e(F)||e(f))return;const y={date:e(k),time:e(x),venue:e(S),customVenue:e(T),type:e(M),fingerLoad:e(m),shoulderLoad:e(N),forearmLoad:e(h),roundName:e(C),customRoundName:e(R),finalPosition:e(B),climbs:e(L),notes:e(H)};localStorage.setItem(z,JSON.stringify(y))});let I=_t(()=>e(C)==="Result"),K=_t(()=>e(S)==="Other"),re=_t(()=>e(C)==="Other"),ce=_t(()=>e(C)==="Other"?e(R):e(C));function J(){const y=e(L).length+1;t(L,[...e(L),{name:`#${y}`,status:"Flash",attemptCount:1,notes:""}],!0)}function ae(y){e(L).length>1?t(L,e(L).filter((r,o)=>o!==y),!0):e(L)[0]={name:"#1",status:"Flash",attemptCount:1,notes:""}}function pe(y,r){e(L)[y].status=r,r==="Flash"&&(e(L)[y].attemptCount=1)}let j=d("idle"),Z=d("");async function ee(){if(!e(S)||e(S)==="Other"&&!e(T)){t(j,"error"),t(Z,"Please specify a venue");return}t(j,"saving");try{const y={name:e(ce),position:e(I)?e(B):void 0,climbs:e(I)?void 0:JSON.parse(JSON.stringify(e(L)))},r={date:e(k),time:e(x),venue:e(S)==="Other"?e(T):e(S),customVenue:e(S)==="Other"?e(T):void 0,type:e(M),fingerLoad:e(I)?void 0:e(m),shoulderLoad:e(I)?void 0:e(N),forearmLoad:e(I)?void 0:e(h),rounds:[y],notes:e(H)};let o;e(f)&&n()?o=await Ma(n().id,r):o=await Pa(r),o.ok?(t(j,"success"),t(Z,"Competition saved!"),e(f)||localStorage.removeItem(z),l.onSaved?l.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{$()},2e3))):(t(j,"error"),t(Z,"Failed to save: "+(o.error||"Unknown error")))}catch(y){t(j,"error"),t(Z,"Failed to save session"),console.error("Save error:",y)}}function $(){t(k,new Date().toISOString().split("T")[0],!0),t(x,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(S,""),t(T,""),t(B,null),t(L,[{name:"#1",status:"Flash",attemptCount:1,notes:""}],!0),t(H,""),t(j,"idle"),t(Z,"")}var ue=Cr(),he=i(ue),se=i(he);{var Y=y=>{var r=vr();u(y,r)};V(se,y=>{e(f)||y(Y)})}s(he);var Ge=a(he,2),Je=i(Ge),ht=a(i(Je),2),ut=i(ht);A(ut);var yt=a(ut,2);A(yt),s(ht),s(Je);var qt=a(Je,2),lt=a(i(qt),2),wt=i(lt);wt.value=wt.__value="";var St=a(wt);_e(St,17,()=>q,be,(y,r)=>{var o=pr(),g=i(o,!0);s(o);var W={};E(()=>{U(g,e(r)),W!==(W=e(r))&&(o.value=(o.__value=e(r))??"")}),u(y,o)}),s(lt);var kt=a(lt,2);{var Me=y=>{var r=gr();A(r),G(r,()=>e(T),o=>t(T,o)),u(y,r)};V(kt,y=>{e(K)&&y(Me)})}s(qt),s(Ge);var Ae=a(Ge,2),ie=a(i(Ae),2);_e(ie,21,()=>D,be,(y,r)=>{var o=mr(),g=i(o,!0);s(o);var W={};E(()=>{U(g,e(r)),W!==(W=e(r))&&(o.value=(o.__value=e(r))??"")}),u(y,o)}),s(ie),s(Ae);var ye=a(Ae,2),Ke=a(i(ye),2);Ps(Ke),s(ye);var De=a(ye,2),Oe=i(De),de=a(i(Oe),2);_e(de,21,()=>O,be,(y,r)=>{var o=fr(),g=i(o,!0);s(o);var W={};E(()=>{U(g,e(r)),W!==(W=e(r))&&(o.value=(o.__value=e(r))??"")}),u(y,o)}),s(de);var Se=a(de,2);{var Ie=y=>{var r=_r();A(r),G(r,()=>e(R),o=>t(R,o)),u(y,r)};V(Se,y=>{e(re)&&y(Ie)})}s(Oe);var je=a(Oe,2);{var ot=y=>{var r=br(),o=i(r),g=a(i(o),2);A(g),s(o),s(r),G(g,()=>e(B),W=>t(B,W)),u(y,r)},nt=y=>{var r=kr(),o=Bt(r),g=i(o),W=a(i(g),2);A(W),s(g);var X=a(g,2),te=a(i(X),2);A(te),s(X);var ge=a(X,2),Ye=a(i(ge),2);A(Ye),s(ge),s(o);var At=a(o,2),Ct=a(i(At),2),Mt=a(i(Ct));_e(Mt,21,()=>e(L),be,(pt,ne,qe)=>{var xe=Sr(),Xe=i(xe),Pt=i(Xe);A(Pt),s(Xe);var gt=a(Xe),Ne=i(gt);Ne.__change=Ee=>pe(qe,Ee.target.value),_e(Ne,21,()=>w,be,(Ee,at)=>{var Tt=hr(),mt=i(Tt,!0);s(Tt);var jt={};E(()=>{U(mt,e(at)),jt!==(jt=e(at))&&(Tt.value=(Tt.__value=e(at))??"")}),u(Ee,Tt)}),s(Ne);var Pe;Is(Ne),s(gt);var me=a(gt),ve=i(me);{var ke=Ee=>{var at=yr();A(at),G(at,()=>e(ne).attemptCount,Tt=>e(ne).attemptCount=Tt),u(Ee,at)},Ve=Ee=>{var at=wr();u(Ee,at)};V(ve,Ee=>{e(ne).status!=="Flash"?Ee(ke):Ee(Ve,!1)})}s(me);var st=a(me),Wt=i(st);A(Wt),s(st);var It=a(st),Kt=i(It);Kt.__click=()=>ae(qe),s(It),s(xe),E(()=>{Pe!==(Pe=e(ne).status)&&(Ne.value=(Ne.__value=e(ne).status)??"",js(Ne,e(ne).status))}),G(Pt,()=>e(ne).name,Ee=>e(ne).name=Ee),G(Wt,()=>e(ne).notes,Ee=>e(ne).notes=Ee),u(pt,xe)}),s(Mt),s(Ct);var Ft=a(Ct,2);Ft.__click=J,s(At),G(W,()=>e(m),pt=>t(m,pt)),G(te,()=>e(N),pt=>t(N,pt)),G(Ye,()=>e(h),pt=>t(h,pt)),u(y,r)};V(je,y=>{e(I)?y(ot):y(nt,!1)})}s(De);var ze=a(De,2),dt=i(ze);{var vt=y=>{var r=xr();let o;var g=i(r,!0);s(r),E(()=>{o=Lt(r,1,"save-message svelte-1fje4dh",null,o,{success:e(j)==="success",error:e(j)==="error"}),U(g,e(Z))}),u(y,r)};V(dt,y=>{e(Z)&&y(vt)})}var Le=a(dt,2);Le.__click=ee;var et=i(Le);{var xt=y=>{var r=bt("Saving...");u(y,r)},tt=y=>{var r=Ut(),o=Bt(r);{var g=X=>{var te=bt("✓ Saved!");u(X,te)},W=X=>{var te=bt("Save Session");u(X,te)};V(o,X=>{e(j)==="success"?X(g):X(W,!1)},!0)}u(y,r)};V(et,y=>{e(j)==="saving"?y(xt):y(tt,!1)})}s(Le),s(ze),s(ue),E(()=>Le.disabled=e(j)==="saving"),G(ut,()=>e(k),y=>t(k,y)),G(yt,()=>e(x),y=>t(x,y)),rt(lt,()=>e(S),y=>t(S,y)),rt(ie,()=>e(M),y=>t(M,y)),G(Ke,()=>e(H),y=>t(H,y)),rt(de,()=>e(C),y=>t(C,y)),u(P,ue),Ht()}is(["change","click"]);export{Wr as C,Vi as D,Gs as E,Hr as F,Er as G,Gr as I,Ar as O,Js as a,Ws as f,si as g,Or as s,ss as t};
