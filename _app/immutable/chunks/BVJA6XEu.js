import{f as S,a as n,c as Kt,t as kt}from"./BTHFn9HS.js";import{C as as,X as ss,a$ as rs,a5 as is,a8 as ls,k as mt,b0 as os,az as Ja,b1 as ns,aj as cs,n as wa,aa as vs,p as Bt,c as s,r as a,s as r,g as e,t as W,a as It,f as Wt,aM as St,b2 as Oa,e as v,A as He,o as na,d as t,j as ra,as as Ma,b3 as fa,q as wt,b4 as us,b5 as ds,b6 as gs,b7 as ps,aL as ms}from"./DiNvu-rR.js";import{a as fs,d as Zt,s as j,e as Et}from"./BOJnTnVa.js";import{i as U}from"./D7j1YQt7.js";import{e as ne,k as ce,r as oe,j as tt,v as _s}from"./CKP4PXTO.js";import{s as Ct}from"./DdcOe-r-.js";import{a as ve,n as Fa,o as Wa,b as lt,p as Ba,u as hs,q as bs,r as ys,t as ws,s as Ea,v as Ss,w as ks,h as Ts,x as xs,y as Cs,z as Ls,A as Rs,B as Ps,C as Ms}from"./MxTgv67b.js";import{p as be}from"./CsbDaOO9.js";import{i as Ia}from"./BhU5abxe.js";import{b as qs}from"./BW62rtX9.js";const Ns=()=>performance.now(),Xt={tick:L=>requestAnimationFrame(L),now:()=>Ns(),tasks:new Set};function Ya(){const L=Xt.now();Xt.tasks.forEach(i=>{i.c(L)||(Xt.tasks.delete(i),i.f())}),Xt.tasks.size!==0&&Xt.tick(Ya)}function Ds(L){let i;return Xt.tasks.size===0&&Xt.tick(Ya),{promise:new Promise(l=>{Xt.tasks.add(i={c:L,f:l})}),abort(){Xt.tasks.delete(i)}}}function La(L,i){Ja(()=>{L.dispatchEvent(new CustomEvent(i))})}function Es(L){if(L==="float")return"cssFloat";if(L==="offset")return"cssOffset";if(L.startsWith("--"))return L;const i=L.split("-");return i.length===1?i[0]:i[0]+i.slice(1).map(l=>l[0].toUpperCase()+l.slice(1)).join("")}function Ua(L){const i={},l=L.split(";");for(const y of l){const[M,E]=y.split(":");if(!M||E===void 0)break;const P=Es(M.trim());i[P]=E.trim()}return i}const As=L=>L;function ca(L,i,l,y){var M=(L&os)!==0,E="both",P,O=i.inert,q=i.style.overflow,p,w;function u(){return Ja(()=>P??=l()(i,y?.()??{},{direction:E}))}var k={is_global:M,in(){i.inert=O,La(i,"introstart"),p=Aa(i,u(),w,1,()=>{La(i,"introend"),p?.abort(),p=P=void 0,i.style.overflow=q})},out(m){i.inert=!0,La(i,"outrostart"),w=Aa(i,u(),p,0,()=>{La(i,"outroend"),m?.()})},stop:()=>{p?.abort(),w?.abort()}},R=as;if((R.nodes.t??=[]).push(k),fs){var N=M;if(!N){for(var C=R.parent;C&&(C.f&ss)!==0;)for(;(C=C.parent)&&(C.f&rs)===0;);N=!C||(C.f&is)!==0}N&&ls(()=>{mt(()=>k.in())})}}function Aa(L,i,l,y,M){var E=y===1;if(ns(i)){var P,O=!1;return cs(()=>{if(!O){var m=i({direction:E?"in":"out"});P=Aa(L,m,l,y,M)}}),{abort:()=>{O=!0,P?.abort()},deactivate:()=>P.deactivate(),reset:()=>P.reset(),t:()=>P.t()}}if(l?.deactivate(),!i?.duration)return M(),{abort:wa,deactivate:wa,reset:wa,t:()=>y};const{delay:q=0,css:p,tick:w,easing:u=As}=i;var k=[];if(E&&l===void 0&&(w&&w(0,1),p)){var R=Ua(p(0,1));k.push(R,R)}var N=()=>1-y,C=L.animate(k,{duration:q,fill:"forwards"});return C.onfinish=()=>{C.cancel();var m=l?.t()??1-y;l?.abort();var h=y-m,I=i.duration*Math.abs(h),D=[];if(I>0){var K=!1;if(p)for(var X=Math.ceil(I/16.666666666666668),B=0;B<=X;B+=1){var H=m+h*u(B/X),$=Ua(p(H,1-H));D.push($),K||=$.overflow==="hidden"}K&&(L.style.overflow="hidden"),N=()=>{var se=C.currentTime;return m+h*u(se/I)},w&&Ds(()=>{if(C.playState!=="running")return!1;var se=N();return w(se,1-se),!0})}C=L.animate(D,{duration:I,fill:"forwards"}),C.onfinish=()=>{N=()=>y,w?.(y,1-y),M()}},{abort:()=>{C&&(C.cancel(),C.effect=null,C.onfinish=wa)},deactivate:()=>{M=wa},reset:()=>{y===0&&w?.(1,0)},t:()=>N()}}function Va(L){return function(...i){var l=i[0];return l.stopPropagation(),L?.apply(this,i)}}function Pa(L,i){var l=L.$$events?.[i.type],y=vs(l)?l.slice():l==null?[]:[l];for(var M of y)M.call(this,i)}var Gs=S('<span class="placeholder svelte-1g8x5ph"> </span>'),Os=S('<span class="chip-display"> </span>'),Fs=S('<button type="button"> </button>'),Ws=S('<div class="multi-select-container svelte-1g8x5ph"><div class="chips svelte-1g8x5ph"><!></div> <div class="options-grid svelte-1g8x5ph"></div></div>');function oa(L,i){Bt(i,!0);let l=be(i,"selected",19,()=>[]),y=be(i,"placeholder",3,"Select options...");function M(u){let k=[...l()];u==="None"?k.includes("None")?k=[]:k=["None"]:(k=k.filter(R=>R!=="None"),k.includes(u)?k=k.filter(R=>R!==u):k.push(u)),i.onChange(k)}var E=Ws(),P=s(E),O=s(P);{var q=u=>{var k=Gs(),R=s(k,!0);a(k),W(()=>j(R,y())),n(u,k)},p=u=>{var k=Kt(),R=Wt(k);ne(R,17,l,ce,(N,C)=>{var m=Os(),h=s(m,!0);a(m),W(()=>j(h,e(C))),n(N,m)}),n(u,k)};U(O,u=>{l().length===0?u(q):u(p,!1)})}a(P);var w=r(P,2);ne(w,21,()=>i.options,ce,(u,k)=>{var R=Fs();R.__click=()=>M(e(k));var N=s(R,!0);a(R),W(C=>{Ct(R,1,`option-chip ${C??""}`,"svelte-1g8x5ph"),j(N,e(k))},[()=>l().includes(e(k))?"selected":""]),n(u,R)}),a(w),a(E),n(L,E),It()}Zt(["click"]);const Bs=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","6A+","V4","6B","6B+","V5","6C","6C+","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"],Ha=Bs.map(L=>L.toLowerCase());var Is=S('<span class="grade-error svelte-1km774a">Invalid</span>'),Hs=S('<div class="grade-input-container svelte-1km774a"><input type="text"/> <!></div>');function Xa(L,i){Bt(i,!0);let l=be(i,"value",15),y=be(i,"placeholder",3,"V3");function M(u){return u.trim()?Ha.includes(u.trim().toLowerCase()):!0}let E=St(()=>M(l()));var P=Hs(),O=s(P);oe(O);let q;var p=r(O,2);{var w=u=>{var k=Is();n(u,k)};U(p,u=>{e(E)||u(w)})}a(P),W(()=>{tt(O,"placeholder",y()),q=Ct(O,1,"grade-input svelte-1km774a",null,q,{invalid:!e(E)})}),ve(O,l),n(L,P),It()}var zs=S('<button type="button"> </button>'),js=S('<div class="load-row svelte-oe84ev"><label class="load-label svelte-oe84ev"> </label> <div class="button-group svelte-oe84ev" role="group"></div></div>');function Le(L,i){Bt(i,!0);let l=be(i,"value",15);be(i,"min",3,1);let y=be(i,"max",3,5);function M(p){l(p)}var E=js(),P=s(E),O=s(P,!0);a(P);var q=r(P,2);ne(q,21,()=>Array.from({length:y()},(p,w)=>w+1),ce,(p,w)=>{var u=zs();let k;u.__click=()=>M(e(w));var R=s(u,!0);a(u),W(()=>{k=Ct(u,1,"scale-btn svelte-oe84ev",null,k,{active:l()===e(w)}),tt(u,"aria-pressed",l()===e(w)),j(R,e(w))}),n(p,u)}),a(q),a(E),W(()=>{tt(P,"for",i.id),j(O,i.label),tt(q,"aria-label",`${i.label??""} scale selector`)}),n(L,E),It()}Zt(["click"]);var Us=S('<div class="notes-group svelte-1kz8zai"><label for="session-notes" class="svelte-1kz8zai"> </label> <textarea id="session-notes" class="session-notes-area svelte-1kz8zai"></textarea></div>');function Sa(L,i){Bt(i,!0);let l=be(i,"value",15),y=be(i,"label",3,"Session Notes"),M=be(i,"placeholder",3,"How did the session feel? Key takeaways..."),E=be(i,"rows",3,3);var P=Us(),O=s(P),q=s(O,!0);a(O);var p=r(O,2);Oa(p),a(P),W(()=>{j(q,y()),tt(p,"placeholder",M()),tt(p,"rows",E())}),ve(p,l),n(L,P),It()}var Vs=S('<div class="input-with-action svelte-1lf3qka"><input type="text" id="location-manual" placeholder="Enter custom location..." class="flat-left svelte-1lf3qka"/> <button type="button" class="action-btn flat-right svelte-1lf3qka" title="Back to list">✕</button></div>'),Ks=S("<option> </option>"),Qs=S('<select id="location" class="svelte-1lf3qka"><option disabled>Select location...</option><!></select>'),Js=S("<option> </option>"),Ys=S("<option> </option>"),Xs=S('<th class="svelte-1lf3qka">Sport?</th>'),Zs=S('<td class="center svelte-1lf3qka"><input type="checkbox" class="svelte-1lf3qka"/></td>'),$s=S("<option> </option>"),er=S("<option> </option>"),tr=S("<option> </option>"),ar=S('<button type="button" class="remove-btn svelte-1lf3qka">✕</button>'),sr=S('<tr class="svelte-1lf3qka"><!><td class="svelte-1lf3qka"><input type="text" placeholder="Route name..." class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><!></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><input type="number" min="1" class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td><textarea placeholder="Notes..." class="svelte-1lf3qka"></textarea></td><td class="center svelte-1lf3qka"><!></td></tr>'),rr=S("<div> </div>"),ir=S('<button type="button" class="cancel-btn-large svelte-1lf3qka">Cancel</button>'),lr=S('<div class="form-content svelte-1lf3qka"><div class="form-row svelte-1lf3qka"><div class="form-group svelte-1lf3qka"><label for="date" class="svelte-1lf3qka">Date</label> <div class="date-time-row svelte-1lf3qka"><input type="date" id="date" class="svelte-1lf3qka"/> <input type="time" id="time" class="svelte-1lf3qka"/></div></div> <div class="form-group svelte-1lf3qka"><label for="location" class="svelte-1lf3qka">Location</label> <!></div></div> <div class="form-group svelte-1lf3qka"><label for="climbing-type" class="svelte-1lf3qka">Climbing Type</label> <select id="climbing-type" class="svelte-1lf3qka"><option disabled>Select type...</option><!></select></div> <div class="training-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Training Details</h4> <div class="training-grid svelte-1lf3qka"><div class="training-item svelte-1lf3qka"><label for="training-type" class="svelte-1lf3qka">Training Type</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="difficulty" class="svelte-1lf3qka">Difficulty</label> <select id="difficulty"></select></div> <div class="training-item svelte-1lf3qka"><label for="category" class="svelte-1lf3qka">Category</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="energy-system" class="svelte-1lf3qka">Energy System</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="wall-angle" class="svelte-1lf3qka">Wall</label> <!></div></div></div> <div class="climbs-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Climbs</h4> <div class="table-container svelte-1lf3qka"><table class="climbs-table svelte-1lf3qka"><thead><tr><!><th class="svelte-1lf3qka">Name</th><th class="svelte-1lf3qka">Grade</th><th class="svelte-1lf3qka">Attempt</th><th class="svelte-1lf3qka">#</th><th class="svelte-1lf3qka">Wall Angle</th><th class="svelte-1lf3qka">Technique Focus</th><th class="svelte-1lf3qka">Notes</th><th class="svelte-1lf3qka"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-1lf3qka">+ Add Climb</button></div> <div class="load-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Load Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div></div> <h4 class="mt-4 svelte-1lf3qka">Grip Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div></div></div> <div class="notes-section"><!></div> <div class="submit-section svelte-1lf3qka"><!> <div class="action-buttons svelte-1lf3qka"><!> <button type="button" class="submit-btn svelte-1lf3qka"><!></button></div></div></div>');function Oi(L,i){Bt(i,!0);const l=["Rockstar Unit 3","Rockstar Unit 5","Rockstar Techno","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","TCA Mothership","TCA Church","TCA Arc","Bloc","270 Climbing","Other"],y=["Bouldering","Sport","Mixed"],M=["Onsight","Flash","Redpoint","Repeat","Dogged","DNF"],E=["None","Projecting","Onsighting","Campusing","Repeaters","Comp Sim"],P=["None","Easy","Medium","Hard","Max","Limit+"],O=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Endurance","Coordination","Slab Technique","Overhang Technique"],q=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],p=["None","Trusting feet","Double-clutch","Standing on volumes","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Pogo","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"],w=["None","Overhang","Vertical","Slab","Roof"],u=["None","Moon Board","Kilter Board","Tension Board","Beast","Circuit Board","Boulder wall","Lead wall","Comp wall","Auto belays"];let k=v(null),R=St(()=>!!i.initialData),N=v(He(new Date().toISOString().split("T")[0])),C=v(He(new Date().toTimeString().split(" ")[0].slice(0,5))),m=v(""),h=v(""),I=v(He(["None"])),D=v("None"),K=v(He(["None"])),X=v(He(["None"])),B=v(He(["None"])),H=v(3),$=v(3),se=v(3),ue=v(3),ie=v(3),te=v(3),le=v(3),z=v(3),J=v(He([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}])),ee=v(""),de=v(!1);const Ve="indoor_climb_draft";let xe=v(!1);na(()=>{if(i.initialData)t(N,i.initialData.date,!0),t(C,i.initialData.time||"12:00",!0),l.includes(i.initialData.location)?(t(m,i.initialData.location,!0),t(de,!1)):i.initialData.customLocation?(t(m,i.initialData.customLocation,!0),t(de,!0)):(t(m,i.initialData.location,!0),t(de,!0)),t(h,i.initialData.climbingType,!0),t(I,i.initialData.trainingTypes||["None"],!0),t(D,i.initialData.difficulty||"None",!0),t(K,i.initialData.categories||["None"],!0),t(X,i.initialData.energySystems||["None"],!0),t(B,i.initialData.wallAngles||["None"],!0),t(H,i.initialData.fingerLoad||3,!0),t($,i.initialData.shoulderLoad||3,!0),t(se,i.initialData.forearmLoad||3,!0),t(ue,i.initialData.openGrip||3,!0),t(ie,i.initialData.crimpGrip||3,!0),t(te,i.initialData.pinchGrip||3,!0),t(le,i.initialData.sloperGrip||3,!0),t(z,i.initialData.jugGrip||3,!0),i.initialData.climbs&&i.initialData.climbs.length>0?t(J,JSON.parse(JSON.stringify(i.initialData.climbs)),!0):t(J,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0),t(ee,i.initialData.notes||"",!0);else{const T=localStorage.getItem(Ve);if(T)try{const d=JSON.parse(T);d.location&&t(m,d.location,!0),d.time&&t(C,d.time,!0),d.isOtherLocation&&t(de,d.isOtherLocation,!0),d.climbingType&&t(h,d.climbingType,!0),d.trainingTypes&&t(I,d.trainingTypes,!0),d.difficulty&&t(D,d.difficulty,!0),d.categories&&t(K,d.categories,!0),d.energySystems&&t(X,d.energySystems,!0),d.wallAngles&&t(B,d.wallAngles,!0),d.fingerLoad&&t(H,d.fingerLoad,!0),d.shoulderLoad&&t($,d.shoulderLoad,!0),d.forearmLoad&&t(se,d.forearmLoad,!0),d.openGrip&&t(ue,d.openGrip,!0),d.crimpGrip&&t(ie,d.crimpGrip,!0),d.pinchGrip&&t(te,d.pinchGrip,!0),d.sloperGrip&&t(le,d.sloperGrip,!0),d.jugGrip&&t(z,d.jugGrip,!0),d.climbs&&t(J,d.climbs,!0),d.notes&&t(ee,d.notes,!0)}catch(d){console.error("Failed to restore draft",d)}}t(xe,!0)}),ra(()=>{if(!e(xe)||e(R))return;const T={date:e(N),time:e(C),location:e(m),isOtherLocation:e(de),climbingType:e(h),trainingTypes:e(I),difficulty:e(D),categories:e(K),energySystems:e(X),fingerLoad:e(H),shoulderLoad:e($),forearmLoad:e(se),openGrip:e(ue),crimpGrip:e(ie),pinchGrip:e(te),sloperGrip:e(le),jugGrip:e(z),climbs:e(J),notes:e(ee)};localStorage.setItem(Ve,JSON.stringify(T))});function Ke(){e(m)==="Other"&&(t(de,!0),t(m,""))}function Lt(){t(de,!1),t(m,"")}function Rt(){t(J,[...e(J),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0)}function ot(T){t(J,e(J).filter((d,ae)=>ae!==T),!0)}function ft(T,d){e(J)[T].attemptType=d,(d==="Flash"||d==="Onsight")&&(e(J)[T].attemptsNum=1)}function _t(T){t(k,T,!0)}function Pt(){t(k,null)}let ht=St(()=>e(h)==="Mixed");function G(T){return e(h)==="Sport"?!0:e(h)==="Bouldering"?!1:T.isSport}function Z(T){return T.trim()?Ha.includes(T.trim().toLowerCase()):!0}let me=v("idle"),Qe=v("");function Ne(){return e(m)?e(h)?e(J).filter(d=>d.grade.trim()&&!Z(d.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a location"}async function Ae(){const T=Ne();if(T){t(me,"error"),t(Qe,T,!0);return}t(me,"saving");try{const d=e(J).map(Xe=>({...Xe,isSport:G(Xe)})),ae={date:e(N),time:e(C),location:e(m),customLocation:e(de)?e(m):void 0,climbingType:e(h),trainingTypes:e(I),difficulty:e(D),categories:e(K),energySystems:e(X),wallAngles:e(B),fingerLoad:e(H),shoulderLoad:e($),forearmLoad:e(se),openGrip:e(ue),crimpGrip:e(ie),pinchGrip:e(te),sloperGrip:e(le),jugGrip:e(z),climbs:d,notes:e(ee)};let Ue;e(R)?Ue=await hs(i.initialData.id,ae):Ue=await bs(ae),Ue.ok?(t(me,"success"),t(Qe,e(R)?"Session updated!":"Session saved!",!0),e(R)||localStorage.removeItem(Ve),i.onSaved&&setTimeout(()=>{i.onSaved()},500)):(t(me,"error"),t(Qe,"Failed to save: "+(Ue.error||"Unknown error"))),e(R)||(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{Mt()},2e3))}catch(d){t(me,"error"),t(Qe,"Failed to save session"),console.error("Save error:",d)}}function Mt(){t(N,new Date().toISOString().split("T")[0],!0),t(C,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(m,""),t(de,!1),t(h,""),t(I,["None"],!0),t(D,"None"),t(K,["None"],!0),t(X,["None"],!0),t(B,["None"],!0),t(H,3),t($,3),t(se,3),t(ue,3),t(ie,3),t(te,3),t(le,3),t(z,3),t(J,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0),t(ee,""),t(me,"idle"),t(Qe,"")}var nt=lr(),Tt=s(nt),at=s(Tt),st=r(s(at),2),ct=s(st);oe(ct);var xt=r(ct,2);oe(xt),a(st),a(at);var qt=r(at,2),he=r(s(qt),2);{var Ge=T=>{var d=Vs(),ae=s(d);oe(ae);var Ue=r(ae,2);Ue.__click=Lt,a(d),ve(ae,()=>e(m),Xe=>t(m,Xe)),n(T,d)},rt=T=>{var d=Qs();d.__change=Ke;var ae=s(d);ae.value=ae.__value="";var Ue=r(ae);ne(Ue,17,()=>l,ce,(Xe,Gt)=>{var g=Ks(),c=s(g,!0);a(g);var Q={};W(()=>{j(c,e(Gt)),Q!==(Q=e(Gt))&&(g.value=(g.__value=e(Gt))??"")}),n(Xe,g)}),a(d),lt(d,()=>e(m),Xe=>t(m,Xe)),n(T,d)};U(he,T=>{e(de)?T(Ge):T(rt,!1)})}a(qt),a(Tt);var Je=r(Tt,2),We=r(s(Je),2),_e=s(We);_e.value=_e.__value="";var Se=r(_e);ne(Se,17,()=>y,ce,(T,d)=>{var ae=Js(),Ue=s(ae,!0);a(ae);var Xe={};W(()=>{j(Ue,e(d)),Xe!==(Xe=e(d))&&(ae.value=(ae.__value=e(d))??"")}),n(T,ae)}),a(We),a(Je);var ze=r(Je,2),x=r(s(ze),2),F=s(x),o=r(s(F),2);oa(o,{get options(){return E},get selected(){return e(I)},placeholder:"Select types...",onChange:T=>t(I,T,!0)}),a(F);var f=r(F,2),A=r(s(f),2);ne(A,21,()=>P,ce,(T,d)=>{var ae=Ys(),Ue=s(ae,!0);a(ae);var Xe={};W(()=>{j(Ue,e(d)),Xe!==(Xe=e(d))&&(ae.value=(ae.__value=e(d))??"")}),n(T,ae)}),a(A),a(f);var V=r(f,2),_=r(s(V),2);oa(_,{get options(){return O},get selected(){return e(K)},placeholder:"Select categories...",onChange:T=>t(K,T,!0)}),a(V);var b=r(V,2),Y=r(s(b),2);oa(Y,{get options(){return q},get selected(){return e(X)},placeholder:"Select systems...",onChange:T=>t(X,T,!0)}),a(b);var Re=r(b,2),Be=r(s(Re),2);oa(Be,{get options(){return u},get selected(){return e(B)},placeholder:"Select walls...",onChange:T=>t(B,T,!0)}),a(Re),a(x),a(ze);var Pe=r(ze,2),ke=r(s(Pe),2),ge=s(ke),ye=s(ge),re=s(ye),fe=s(re);{var bt=T=>{var d=Xs();n(T,d)};U(fe,T=>{e(ht)&&T(bt)})}Ma(8),a(re),a(ye);var Ce=r(ye);ne(Ce,21,()=>e(J),ce,(T,d,ae)=>{var Ue=sr(),Xe=s(Ue);{var Gt=pe=>{var Ze=Zs(),Ee=s(Ze);oe(Ee),a(Ze),Ba(Ee,()=>e(d).isSport,Qt=>e(d).isSport=Qt),n(pe,Ze)};U(Xe,pe=>{e(ht)&&pe(Gt)})}var g=r(Xe),c=s(g);oe(c),a(g);var Q=r(g),Fe=s(Q);Xa(Fe,{get value(){return e(d).grade},set value(pe){e(d).grade=pe}}),a(Q);var De=r(Q),gt=s(De);gt.__change=pe=>ft(ae,pe.target.value),ne(gt,21,()=>M,ce,(pe,Ze)=>{var Ee=$s(),Qt=s(Ee,!0);a(Ee);var Jt={};W(()=>{j(Qt,e(Ze)),Jt!==(Jt=e(Ze))&&(Ee.value=(Ee.__value=e(Ze))??"")}),n(pe,Ee)}),a(gt);var Ut;Fa(gt),a(De);var Ot=r(De),Dt=s(Ot);oe(Dt),a(Ot);var Vt=r(Ot),Yt=s(Vt);ne(Yt,21,()=>w.filter(pe=>pe!=="None"),ce,(pe,Ze)=>{var Ee=er(),Qt=s(Ee,!0);a(Ee);var Jt={};W(()=>{j(Qt,e(Ze)),Jt!==(Jt=e(Ze))&&(Ee.value=(Ee.__value=e(Ze))??"")}),n(pe,Ee)}),a(Yt),a(Vt);var Ft=r(Vt),ga=s(Ft);ne(ga,21,()=>p,ce,(pe,Ze)=>{var Ee=tr(),Qt=s(Ee,!0);a(Ee);var Jt={};W(()=>{j(Qt,e(Ze)),Jt!==(Jt=e(Ze))&&(Ee.value=(Ee.__value=e(Ze))??"")}),n(pe,Ee)}),a(ga),a(Ft);var ta=r(Ft);let pa;var aa=s(ta);Oa(aa),a(ta);var ma=r(ta),ba=s(ma);{var ya=pe=>{var Ze=ar();Ze.__click=()=>ot(ae),n(pe,Ze)};U(ba,pe=>{e(J).length>1&&pe(ya)})}a(ma),a(Ue),W(()=>{Ut!==(Ut=e(d).attemptType)&&(gt.value=(gt.__value=e(d).attemptType)??"",Wa(gt,e(d).attemptType)),Dt.disabled=e(d).attemptType==="Flash"||e(d).attemptType==="Onsight",pa=Ct(ta,1,"notes-cell svelte-1lf3qka",null,pa,{expanded:e(k)===ae})}),ve(c,()=>e(d).name,pe=>e(d).name=pe),ve(Dt,()=>e(d).attemptsNum,pe=>e(d).attemptsNum=pe),lt(Yt,()=>e(d).wall,pe=>e(d).wall=pe),lt(ga,()=>e(d).techniqueFocus,pe=>e(d).techniqueFocus=pe),Et("focus",aa,()=>_t(ae)),Et("blur",aa,Pt),ve(aa,()=>e(d).notes,pe=>e(d).notes=pe),n(T,Ue)}),a(Ce),a(ge),a(ke);var Oe=r(ke,2);Oe.__click=Rt,a(Pe);var $e=r(Pe,2),Me=r(s($e),2),Te=s(Me),Ie=s(Te);Le(Ie,{id:"finger-load",label:"Finger",get value(){return e(H)},set value(T){t(H,T,!0)}}),a(Te);var yt=r(Te,2),Nt=s(yt);Le(Nt,{id:"shoulder-load",label:"Shoulder",get value(){return e($)},set value(T){t($,T,!0)}}),a(yt);var vt=r(yt,2),it=s(vt);Le(it,{id:"forearm-load",label:"Forearm",get value(){return e(se)},set value(T){t(se,T,!0)}}),a(vt),a(Me);var qe=r(Me,4),ut=s(qe),dt=s(ut);Le(dt,{id:"open-grip",label:"Open",get value(){return e(ue)},set value(T){t(ue,T,!0)}}),a(ut);var zt=r(ut,2),je=s(zt);Le(je,{id:"crimp-grip",label:"Crimp",get value(){return e(ie)},set value(T){t(ie,T,!0)}}),a(zt);var Ye=r(zt,2),At=s(Ye);Le(At,{id:"pinch-grip",label:"Pinch",get value(){return e(te)},set value(T){t(te,T,!0)}}),a(Ye);var jt=r(Ye,2),$t=s(jt);Le($t,{id:"sloper-grip",label:"Sloper",get value(){return e(le)},set value(T){t(le,T,!0)}}),a(jt);var ia=r(jt,2),Ht=s(ia);Le(Ht,{id:"jug-grip",label:"Jug",get value(){return e(z)},set value(T){t(z,T,!0)}}),a(ia),a(qe),a($e);var ea=r($e,2),_a=s(ea);Sa(_a,{get value(){return e(ee)},set value(T){t(ee,T,!0)}}),a(ea);var ka=r(ea,2),va=s(ka);{var qa=T=>{var d=rr();let ae;var Ue=s(d,!0);a(d),W(()=>{ae=Ct(d,1,"save-message svelte-1lf3qka",null,ae,{success:e(me)==="success",error:e(me)==="error"}),j(Ue,e(Qe))}),n(T,d)};U(va,T=>{e(Qe)&&T(qa)})}var ua=r(va,2),Ta=s(ua);{var xa=T=>{var d=ir();d.__click=function(...ae){i.onCancel?.apply(this,ae)},W(()=>d.disabled=e(me)==="saving"),n(T,d)};U(Ta,T=>{e(R)&&T(xa)})}var da=r(Ta,2);da.__click=Ae;var ha=s(da);{var Na=T=>{var d=kt();W(()=>j(d,e(R)?"Updating...":"Saving...")),n(T,d)},Ca=T=>{var d=Kt(),ae=Wt(d);{var Ue=Gt=>{var g=kt();W(()=>j(g,`✓ ${e(R)?"Updated!":"Saved!"}`)),n(Gt,g)},Xe=Gt=>{var g=kt();W(()=>j(g,e(R)?"Update Session":"Save Session")),n(Gt,g)};U(ae,Gt=>{e(me)==="success"?Gt(Ue):Gt(Xe,!1)},!0)}n(T,d)};U(ha,T=>{e(me)==="saving"?T(Na):T(Ca,!1)})}a(da),a(ua),a(ka),a(nt),W(()=>da.disabled=e(me)==="saving"),ve(ct,()=>e(N),T=>t(N,T)),ve(xt,()=>e(C),T=>t(C,T)),lt(We,()=>e(h),T=>t(h,T)),lt(A,()=>e(D),T=>t(D,T)),n(L,nt),It()}Zt(["click","change"]);const Ga={Portland:{"Blacknor Far North":["Far North (Pit Prop Crag - North Wing)","Far North (Pit Prop Crag - South Wing)","Sunstone Wall","Sandcastle Wall","Hidden Wall"],"Blacknor North":["Diamond Slab","The Ledge","Sharpy's Wall","Reptile Smile Area","Wolfgang Forever Area","Captain Klutz Area","Death of Cool Area","Seattle Be The Day Area","Blacknor Heights (Blacknor Quarry Bouldering)","Blacknor Fort Quarry (Sport)","Cliff Top Way Down"],"Blacknor Central":["The Veranda","Medusa Wall","The Battlement","Wave Wall","Mirror Wall"],"Blacknor South":["Fallen Slab","Infidel Slab","Englands Dreaming Area","Sacred Angel Area","The Reach","Shit Happens Wall"],"Blacknor Far South":["Deadman's Bay","The White Hole","Wall of Lament"],"Battleship Edge":["Northern Sector","Main Edge","Battleship Block"],"Battleship Back Cliff":["Zinc Oxide Mountain","The Main Cliff","Sleepy Hollow"],"Wallsend North":["Sweet Smell of Success Wall","The Coastguard Wall (Northern section)"],"Wallsend South":["The Upper Tier","The Lower Tier","Stalker's Zone"],"Coastguard North":["Top Tier","Main Cliff (Beeston Bump)","The Grooves"],"Coastguard South":["The White Wall","Tennessee Wall","The Veranda (South)"],Godnor:["Godnor North","Godnor Far South","The Godnor Gate Area"],Neddyfields:["Neddyfields Main Wall","The Flowstone Wall","Neddyfields Bouldering"],"Cheyne Cliff":["Red Wall","Inception Wall","Road Rage Wall","The Nook","The Block"],"The Cuttings":["The Cuttings (Main Cliff)","The Pulpit","The Bower","Sun Lover's Slab"],"The New Cuttings":["The Gallery","The Annex","The Arches","The Grotto"],"The Cuttings Boulderfield":["The Tractor","The Coffin","The Octagon","Lightning Wall"]},Swanage:{"Dancing Ledge":["The Amphitheatre","The Upper Tier","The Skull","Promenade","The Quarry"],Hedbury:["Hedbury Quarry (Main)","Hedbury Sea Cliff (The Big Wall)"],Winspit:["The West Quarry","The East Quarry (The Playground)","The Sea Walls"]},"Wye Valley":{"Ban-y-Gor":["The Main Wall","The River Wall","The Far Left","The Upper Tier"],"Biblins Cave":["The Main Cave","The Right Wall","The Entrance Area"],"Woodcroft Quarry":["Fly Wall","The Main Quarry","The Retaining Wall"],"Wyndcliff Quarry":["The Main Wall (Left & Right)","The Upper Tier","The Shady Wall"]},"Costa Del Severn":{Brean:["Boulder Cove","The River Face (Main Cliff)","The Fort","The Slab"],Clevedon:["Ladye Bay","Marine Lake (Bouldering)","The Sea Walls"],"Portishead Quarry":["The Main Wall","The Slab","The Upper Tier"]},Bristol:{"Avon Gorge":["Sea Walls","Suspension Bridge Buttress","Morning Slab","Main Wall","New Quarry","The Amphitheatre","Unknown Wall"],"Leigh Woods":["Quarry 1","Quarry 2","The Main Buttress"],"Bickley Wood":["The Main Wall","The Stream Wall"],Hambrook:["The Roadside Wall"]},Cotswolds:{"Sally-in-the-Wood":["The Main Edge","The Boulders"],"Browns Folly":["The Tower","The Main Wall","The Upper Wall","The Far Right"]},Mendips:{"Cheddar Gorge":["High Rock","Sunset Buttress","Lion Rock","The Pinnacles","Acid Rock","Coronation Street","Long Rock"]},Gower:{Rhossili:["Shipwreck Cove","Rhossili Upper Cliff","The Tears Point"],"Trial Wall Area":["Trial Wall","The Terraces"],Foxhole:["The Main Cave","The Slab","The Overhangs"]},"South Wales":{"Dinas Rock":["Kennelgarth Wall","Main Overhang","Roadside Crag","The Inland Slabs"],Ogmore:["The Deep Zawn","Hardy's Bay","The Diamond","Daytona Wall"]},"North Wales":{"Cromlech (Dinas Cromlech)":["The Corner (Cenotaph)","Left Wall","Right Wall"],"Australia (Slate Quarries)":["The Sidings","Looning the Tube Area","Dali's Hole","The Salt Pans"]},"Peak District":{"Burbage South Valley":["The Boulders","The Edge (The Alliance Area)","The Tank"],"Gardoms Edge":["Apple Buttress","The Eye of Faith","Moomin Buttress"],"Raven Tor":["The Main Wall","The Weedkiller Wall"],Stanage:["Popular End","Plantation","High Neb","Stanage North","The End","Stanage Far North"],"Curbar Edge":["The Main Edge","Elder Crack Area"]},Devon:{Dartmoor:["Haytor (Low Man)","Hound Tor","The Dewerstone (Main Cliff)","Bonehill Rocks"],Hartland:["Screda Point","Smoothlands","Blackchurch Rock"],Tintagel:["The Great Cliff","Gull Rock","Ila's Ledge"]}};function or(){return Object.keys(Ga)}function Ka(L){return Ga[L]?Object.keys(Ga[L]):[]}var nr=S('<div class="form-header-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;"><h3 style="margin: 0;" class="svelte-15o2ys1">⛰️ Outdoor Climb</h3></div>'),cr=S("<option> </option>"),vr=S('<div class="input-with-action svelte-15o2ys1"><input type="text" id="crag-manual" placeholder="Enter custom crag name..." class="flat-left svelte-15o2ys1"/> <button type="button" class="action-btn flat-right svelte-15o2ys1" title="Back to list">✕</button></div>'),ur=S("<option> </option>"),dr=S("<option>Other (Manual Entry)</option>"),gr=S('<select id="crag" class="svelte-15o2ys1"><option disabled> </option><!><!></select>'),pr=S("<option> </option>"),mr=S("<option> </option>"),fr=S('<th class="svelte-15o2ys1">Sport?</th>'),_r=S('<td class="center svelte-15o2ys1"><input type="checkbox" class="svelte-15o2ys1"/></td>'),hr=S("<option> </option>"),br=S("<option> </option>"),yr=S("<option> </option>"),wr=S('<button type="button" class="remove-btn svelte-15o2ys1">✕</button>'),Sr=S('<tr><!><td class="svelte-15o2ys1"><input type="text" placeholder="Route name..." class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><!></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><input type="number" min="1" class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td><textarea placeholder="Notes..." class="svelte-15o2ys1"></textarea></td><td class="center svelte-15o2ys1"><!></td></tr>'),kr=S("<div> </div>"),Tr=S('<div class="form-content svelte-15o2ys1"><!> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="date" class="svelte-15o2ys1">Date</label> <div class="date-time-row svelte-15o2ys1"><input type="date" id="date" class="svelte-15o2ys1"/> <input type="time" id="time" class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="area" class="svelte-15o2ys1">Area</label> <select id="area" class="svelte-15o2ys1"><option disabled>Select area...</option><!></select></div></div> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="crag" class="svelte-15o2ys1">Crag</label> <!></div> <div class="form-group svelte-15o2ys1"><label for="sector" class="svelte-15o2ys1">Wall / Sector</label> <input type="text" id="sector" placeholder="Enter sector or wall name..." class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="climbing-type" class="svelte-15o2ys1">Climbing Type</label> <select id="climbing-type" class="svelte-15o2ys1"><option disabled>Select type...</option><!></select></div> <div class="training-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Training Details</h4> <div class="training-grid svelte-15o2ys1"><div class="training-item svelte-15o2ys1"><label for="training-type" class="svelte-15o2ys1">Training Type</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="difficulty" class="svelte-15o2ys1">Difficulty</label> <select id="difficulty" class="svelte-15o2ys1"></select></div> <div class="training-item svelte-15o2ys1"><label for="category" class="svelte-15o2ys1">Category</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="energy-system" class="svelte-15o2ys1">Energy System</label> <!></div></div></div> <div class="climbs-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Climbs</h4> <div class="table-container svelte-15o2ys1"><table class="climbs-table svelte-15o2ys1"><thead><tr><!><th class="svelte-15o2ys1">Name</th><th class="svelte-15o2ys1">Grade</th><th class="svelte-15o2ys1">Attempt</th><th class="svelte-15o2ys1">#</th><th class="svelte-15o2ys1">Wall Angle</th><th class="svelte-15o2ys1">Technique Focus</th><th class="svelte-15o2ys1">Notes</th><th class="svelte-15o2ys1"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-15o2ys1">+ Add Climb</button></div> <div class="load-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Load Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div></div> <h4 class="mt-4 svelte-15o2ys1">Grip Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div></div></div>  <div class="notes-section"><!></div> <div class="submit-section svelte-15o2ys1"><!> <button type="button" class="submit-btn svelte-15o2ys1"><!></button></div></div>');function Fi(L,i){Bt(i,!0);const l=or(),y=["Boulder","Sport","Trad"],M=["Onsight","Flash","Redpoint","Repeat","Dogged","DNF"],E=["None","Overhang","Vertical","Slab","Roof"],P=["None","Projecting","Onsighting","Campusing","Repeaters","Comp Sim"],O=["None","Easy","Medium","Hard","Max","Limit+"],q=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Endurance","Coordination","Slab Technique","Overhang Technique"],p=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],w=["None","Trusting feet","Double-clutch","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"];let u=be(i,"initialData",3,null),k=St(()=>!!u()),R=v(null),N=v(He(new Date().toISOString().split("T")[0])),C=v(He(new Date().toTimeString().split(" ")[0].slice(0,5))),m=v(""),h=v(""),I=v(""),D=v(""),K=v(He(["None"])),X=v("None"),B=v(He(["None"])),H=v(He(["None"])),$=v(3),se=v(3),ue=v(3),ie=v(3),te=v(3),le=v(3),z=v(3),J=v(3),ee=v(He([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}])),de=v(""),Ve=St(()=>e(m)?Ka(e(m)):[]),xe=v(!1);const Ke="outdoor_climb_draft";let Lt=v(!1);na(()=>{if(u()){t(N,u().date,!0),t(C,u().time||"12:00",!0),t(m,u().area,!0),t(h,u().crag,!0);const g=Ka(e(m));e(h)&&!g.includes(e(h))&&t(xe,!0),t(I,u().sector||"",!0),t(D,u().climbingType,!0),t(K,u().trainingTypes||["None"],!0),t(X,u().difficulty||"Moderate",!0),t(B,u().categories||["None"],!0),t(H,u().energySystems||["None"],!0),t($,u().fingerLoad,!0),t(se,u().shoulderLoad,!0),t(ue,u().forearmLoad,!0),t(ie,u().openGrip||3,!0),t(te,u().crimpGrip||3,!0),t(le,u().pinchGrip||3,!0),t(z,u().sloperGrip||3,!0),t(J,u().jugGrip||3,!0),t(ee,u().climbs||[],!0),t(de,u().notes||"",!0),t(Lt,!0)}else{const g=localStorage.getItem(Ke);if(g)try{const c=JSON.parse(g);c.date&&t(N,c.date,!0),c.time&&t(C,c.time,!0),c.area&&t(m,c.area,!0),c.crag&&t(h,c.crag,!0),c.sector&&t(I,c.sector,!0),c.isOtherCrag&&t(xe,c.isOtherCrag,!0),c.climbingType&&t(D,c.climbingType,!0),c.trainingTypes&&t(K,c.trainingTypes,!0),c.difficulty&&t(X,c.difficulty,!0),c.categories&&t(B,c.categories,!0),c.energySystems&&t(H,c.energySystems,!0),c.fingerLoad&&t($,c.fingerLoad,!0),c.shoulderLoad&&t(se,c.shoulderLoad,!0),c.forearmLoad&&t(ue,c.forearmLoad,!0),c.openGrip&&t(ie,c.openGrip,!0),c.crimpGrip&&t(te,c.crimpGrip,!0),c.pinchGrip&&t(le,c.pinchGrip,!0),c.sloperGrip&&t(z,c.sloperGrip,!0),c.jugGrip&&t(J,c.jugGrip,!0),c.climbs&&t(ee,c.climbs,!0),c.notes&&t(de,c.notes,!0)}catch(c){console.error("Failed to restore draft",c)}t(Lt,!0)}}),ra(()=>{if(!e(Lt)||e(k))return;const g={date:e(N),time:e(C),area:e(m),crag:e(h),sector:e(I),isOtherCrag:e(xe),climbingType:e(D),trainingTypes:e(K),difficulty:e(X),categories:e(B),energySystems:e(H),fingerLoad:e($),shoulderLoad:e(se),forearmLoad:e(ue),openGrip:e(ie),crimpGrip:e(te),pinchGrip:e(le),sloperGrip:e(z),jugGrip:e(J),climbs:e(ee),notes:e(de)};localStorage.setItem(Ke,JSON.stringify(g))}),ra(()=>{e(m)&&(t(h,""),t(xe,!1))});function Rt(){e(h)==="Other"&&(t(xe,!0),t(h,""))}function ot(){t(xe,!1),t(h,"")}function ft(){t(ee,[...e(ee),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0)}function _t(g){t(ee,e(ee).filter((c,Q)=>Q!==g),!0)}function Pt(g,c){e(ee)[g].attemptType=c,(c==="Flash"||c==="Onsight")&&(e(ee)[g].attemptsNum=1)}function ht(g){t(R,g,!0)}function G(){t(R,null)}let Z=St(()=>e(D)==="Trad");function me(g){return e(D)==="Sport"?!0:e(D)==="Boulder"?!1:g.isSport}function Qe(g){return g.trim()?Ha.includes(g.trim().toLowerCase()):!0}let Ne=v("idle"),Ae=v("");function Mt(){return e(m)?e(h)?e(D)?e(ee).filter(c=>c.grade.trim()&&!Qe(c.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a crag":"Please select an area"}async function nt(){const g=Mt();if(g){t(Ne,"error"),t(Ae,g,!0);return}t(Ne,"saving");try{const c=e(ee).map(De=>({...De,isSport:me(De)})),Q={date:e(N),time:e(C),area:e(m),crag:e(h),sector:e(I)||void 0,climbingType:e(D),trainingTypes:e(K),difficulty:e(X),categories:e(B),energySystems:e(H),fingerLoad:e($),shoulderLoad:e(se),forearmLoad:e(ue),openGrip:e(ie),crimpGrip:e(te),pinchGrip:e(le),sloperGrip:e(z),jugGrip:e(J),climbs:c,notes:e(de)};let Fe;e(k)&&u()?Fe=await ys(u().id,Q):Fe=await ws(Q),Fe.ok?(t(Ne,"success"),t(Ae,"Session saved!"),e(k)||localStorage.removeItem(Ke),i.onSaved?i.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),e(k)||setTimeout(()=>{Tt()},2e3))):(t(Ne,"error"),t(Ae,"Failed to save: "+(Fe.error||"Unknown error")))}catch(c){t(Ne,"error"),t(Ae,"Failed to save session"),console.error("Save error:",c)}}function Tt(){t(N,new Date().toISOString().split("T")[0],!0),t(C,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(m,""),t(h,""),t(I,""),t(D,""),t(K,["None"],!0),t(X,"None"),t(B,["None"],!0),t(H,["None"],!0),t($,3),t(se,3),t(ue,3),t(ie,3),t(te,3),t(le,3),t(z,3),t(J,3),t(ee,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0),t(de,""),t(Ne,"idle"),t(Ae,"")}var at=Tr(),st=s(at);{var ct=g=>{var c=nr();n(g,c)};U(st,g=>{e(k)||g(ct)})}var xt=r(st,2),qt=s(xt),he=r(s(qt),2),Ge=s(he);oe(Ge);var rt=r(Ge,2);oe(rt),a(he),a(qt);var Je=r(qt,2),We=r(s(Je),2),_e=s(We);_e.value=_e.__value="";var Se=r(_e);ne(Se,17,()=>l,ce,(g,c)=>{var Q=cr(),Fe=s(Q,!0);a(Q);var De={};W(()=>{j(Fe,e(c)),De!==(De=e(c))&&(Q.value=(Q.__value=e(c))??"")}),n(g,Q)}),a(We),a(Je),a(xt);var ze=r(xt,2),x=s(ze),F=r(s(x),2);{var o=g=>{var c=vr(),Q=s(c);oe(Q);var Fe=r(Q,2);Fe.__click=ot,a(c),ve(Q,()=>e(h),De=>t(h,De)),n(g,c)},f=g=>{var c=gr();c.__change=Rt;var Q=s(c),Fe=s(Q,!0);a(Q),Q.value=Q.__value="";var De=r(Q);ne(De,17,()=>e(Ve),ce,(Ot,Dt)=>{var Vt=ur(),Yt=s(Vt,!0);a(Vt);var Ft={};W(()=>{j(Yt,e(Dt)),Ft!==(Ft=e(Dt))&&(Vt.value=(Vt.__value=e(Dt))??"")}),n(Ot,Vt)});var gt=r(De);{var Ut=Ot=>{var Dt=dr();Dt.value=Dt.__value="Other",n(Ot,Dt)};U(gt,Ot=>{e(m)&&Ot(Ut)})}a(c),W(()=>{c.disabled=!e(m),j(Fe,e(m)?"Select crag...":"Select area first...")}),lt(c,()=>e(h),Ot=>t(h,Ot)),n(g,c)};U(F,g=>{e(xe)?g(o):g(f,!1)})}a(x);var A=r(x,2),V=r(s(A),2);oe(V),a(A),a(ze);var _=r(ze,2),b=r(s(_),2),Y=s(b);Y.value=Y.__value="";var Re=r(Y);ne(Re,17,()=>y,ce,(g,c)=>{var Q=pr(),Fe=s(Q,!0);a(Q);var De={};W(()=>{j(Fe,e(c)),De!==(De=e(c))&&(Q.value=(Q.__value=e(c))??"")}),n(g,Q)}),a(b),a(_);var Be=r(_,2),Pe=r(s(Be),2),ke=s(Pe),ge=r(s(ke),2);oa(ge,{get options(){return P},get selected(){return e(K)},placeholder:"Select types...",onChange:g=>t(K,g,!0)}),a(ke);var ye=r(ke,2),re=r(s(ye),2);ne(re,21,()=>O,ce,(g,c)=>{var Q=mr(),Fe=s(Q,!0);a(Q);var De={};W(()=>{j(Fe,e(c)),De!==(De=e(c))&&(Q.value=(Q.__value=e(c))??"")}),n(g,Q)}),a(re),a(ye);var fe=r(ye,2),bt=r(s(fe),2);oa(bt,{get options(){return q},get selected(){return e(B)},placeholder:"Select categories...",onChange:g=>t(B,g,!0)}),a(fe);var Ce=r(fe,2),Oe=r(s(Ce),2);oa(Oe,{get options(){return p},get selected(){return e(H)},placeholder:"Select systems...",onChange:g=>t(H,g,!0)}),a(Ce),a(Pe),a(Be);var $e=r(Be,2),Me=r(s($e),2),Te=s(Me),Ie=s(Te),yt=s(Ie),Nt=s(yt);{var vt=g=>{var c=fr();n(g,c)};U(Nt,g=>{e(Z)&&g(vt)})}Ma(8),a(yt),a(Ie);var it=r(Ie);ne(it,21,()=>e(ee),ce,(g,c,Q)=>{var Fe=Sr(),De=s(Fe);{var gt=we=>{var pt=_r(),et=s(pt);oe(et),a(pt),Ba(et,()=>e(c).isSport,la=>e(c).isSport=la),n(we,pt)};U(De,we=>{e(Z)&&we(gt)})}var Ut=r(De),Ot=s(Ut);oe(Ot),a(Ut);var Dt=r(Ut),Vt=s(Dt);Xa(Vt,{get value(){return e(c).grade},set value(we){e(c).grade=we}}),a(Dt);var Yt=r(Dt),Ft=s(Yt);Ft.__change=we=>Pt(Q,we.target.value),ne(Ft,21,()=>M,ce,(we,pt)=>{var et=hr(),la=s(et,!0);a(et);var sa={};W(()=>{j(la,e(pt)),sa!==(sa=e(pt))&&(et.value=(et.__value=e(pt))??"")}),n(we,et)}),a(Ft);var ga;Fa(Ft),a(Yt);var ta=r(Yt),pa=s(ta);oe(pa),a(ta);var aa=r(ta),ma=s(aa);ne(ma,21,()=>E.filter(we=>we!=="None"),ce,(we,pt)=>{var et=br(),la=s(et,!0);a(et);var sa={};W(()=>{j(la,e(pt)),sa!==(sa=e(pt))&&(et.value=(et.__value=e(pt))??"")}),n(we,et)}),a(ma),a(aa);var ba=r(aa),ya=s(ba);ne(ya,21,()=>w,ce,(we,pt)=>{var et=yr(),la=s(et,!0);a(et);var sa={};W(()=>{j(la,e(pt)),sa!==(sa=e(pt))&&(et.value=(et.__value=e(pt))??"")}),n(we,et)}),a(ya),a(ba);var pe=r(ba);let Ze;var Ee=s(pe);Oa(Ee),a(pe);var Qt=r(pe),Jt=s(Qt);{var ts=we=>{var pt=wr();pt.__click=()=>_t(Q),n(we,pt)};U(Jt,we=>{e(ee).length>1&&we(ts)})}a(Qt),a(Fe),W(()=>{ga!==(ga=e(c).attemptType)&&(Ft.value=(Ft.__value=e(c).attemptType)??"",Wa(Ft,e(c).attemptType)),pa.disabled=e(c).attemptType==="Flash"||e(c).attemptType==="Onsight",Ze=Ct(pe,1,"notes-cell svelte-15o2ys1",null,Ze,{expanded:e(R)===Q})}),ve(Ot,()=>e(c).name,we=>e(c).name=we),ve(pa,()=>e(c).attemptsNum,we=>e(c).attemptsNum=we),lt(ma,()=>e(c).wall,we=>e(c).wall=we),lt(ya,()=>e(c).techniqueFocus,we=>e(c).techniqueFocus=we),Et("focus",Ee,()=>ht(Q)),Et("blur",Ee,G),ve(Ee,()=>e(c).notes,we=>e(c).notes=we),n(g,Fe)}),a(it),a(Te),a(Me);var qe=r(Me,2);qe.__click=ft,a($e);var ut=r($e,2),dt=r(s(ut),2),zt=s(dt),je=s(zt);Le(je,{id:"finger-load",label:"Finger",get value(){return e($)},set value(g){t($,g,!0)}}),a(zt);var Ye=r(zt,2),At=s(Ye);Le(At,{id:"shoulder-load",label:"Shoulder",get value(){return e(se)},set value(g){t(se,g,!0)}}),a(Ye);var jt=r(Ye,2),$t=s(jt);Le($t,{id:"forearm-load",label:"Forearm",get value(){return e(ue)},set value(g){t(ue,g,!0)}}),a(jt),a(dt);var ia=r(dt,4),Ht=s(ia),ea=s(Ht);Le(ea,{id:"open-grip",label:"Open",get value(){return e(ie)},set value(g){t(ie,g,!0)}}),a(Ht);var _a=r(Ht,2),ka=s(_a);Le(ka,{id:"crimp-grip",label:"Crimp",get value(){return e(te)},set value(g){t(te,g,!0)}}),a(_a);var va=r(_a,2),qa=s(va);Le(qa,{id:"pinch-grip",label:"Pinch",get value(){return e(le)},set value(g){t(le,g,!0)}}),a(va);var ua=r(va,2),Ta=s(ua);Le(Ta,{id:"sloper-grip",label:"Sloper",get value(){return e(z)},set value(g){t(z,g,!0)}}),a(ua);var xa=r(ua,2),da=s(xa);Le(da,{id:"jug-grip",label:"Jug",get value(){return e(J)},set value(g){t(J,g,!0)}}),a(xa),a(ia),a(ut);var ha=r(ut,2),Na=s(ha);Sa(Na,{placeholder:"How did the session feel? Weather, conditions, mood...",get value(){return e(de)},set value(g){t(de,g,!0)}}),a(ha);var Ca=r(ha,2),T=s(Ca);{var d=g=>{var c=kr();let Q;var Fe=s(c,!0);a(c),W(()=>{Q=Ct(c,1,"save-message svelte-15o2ys1",null,Q,{success:e(Ne)==="success",error:e(Ne)==="error"}),j(Fe,e(Ae))}),n(g,c)};U(T,g=>{e(Ae)&&g(d)})}var ae=r(T,2);ae.__click=nt;var Ue=s(ae);{var Xe=g=>{var c=kt("Saving...");n(g,c)},Gt=g=>{var c=Kt(),Q=Wt(c);{var Fe=gt=>{var Ut=kt("✓ Saved!");n(gt,Ut)},De=gt=>{var Ut=kt("Save Session");n(gt,Ut)};U(Q,gt=>{e(Ne)==="success"?gt(Fe):gt(De,!1)},!0)}n(g,c)};U(Ue,g=>{e(Ne)==="saving"?g(Xe):g(Gt,!1)})}a(ae),a(Ca),a(at),W(()=>ae.disabled=e(Ne)==="saving"),ve(Ge,()=>e(N),g=>t(N,g)),ve(rt,()=>e(C),g=>t(C,g)),lt(We,()=>e(m),g=>t(m,g)),ve(V,()=>e(I),g=>t(I,g)),lt(b,()=>e(D),g=>t(D,g)),lt(re,()=>e(X),g=>t(X,g)),n(L,at),It()}Zt(["click","change"]);const Ra=[{id:"pull_ups",name:"Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Grip bar wider than shoulders.","Pull chest up toward the bar."],images:["/exercises/pull-ups.webp"]},{id:"weighted_pull_ups",name:"Weighted Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Grip bar wider than shoulders.","Pull chest up toward the bar."],images:["/exercises/weighted_pull_ups.webp"]},{id:"lat_pulldown",name:"Lat Pulldown",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats"],instructions:["Sit in machine.","Pull bar down to upper chest."],images:["/exercises/lat_pulldown.webp"]},{id:"one_arm_assisted_pull_up",name:"1 Arm Assisted Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Use a pulley or band to assist one arm.","Perform a one-arm pull-up."],images:["/exercises/1_Arm_Assisted_Pull-Up.webp"]},{id:"bent_over_row",name:"Barbell Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Hinge at hips.","Pull weight to hip pocket."],images:["/exercises/bent_over_row.webp"]},{id:"single_arm_db_row",name:"Dumbbell Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Support on bench.","Pull dumbbell to hip."],images:["/exercises/single_arm_db_row.webp"]},{id:"one_arm_negatives",name:"One Arm Negatives",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps","Forearms"],instructions:["Jump or assist up to the top position.","Lower yourself as slowly as possible with one arm."],images:["/exercises/one_arm_negatives.webp"]},{id:"full_lock_offs",name:"Full Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold the top position of a pull-up.","Maintain chin above the bar for time."],images:["/exercises/full_lock_offs.webp"]},{id:"90_degree_lock_offs",name:"90 Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold a pull-up position with elbows at 90 degrees.","Keep core tight and hold for time."],images:["/exercises/90_degree_lock_offs.webp"]},{id:"120_degree_lock_offs",name:"120 Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold a pull-up position with elbows at 120 degrees (slightly bent).","Maintain tension for time."],images:["/exercises/120_degree_lock_offs.webp"]},{id:"bicep_curls",name:"Bicep Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps"],instructions:["Hold dumbbells at sides.","Curl weights toward shoulders.","Lower with control."],images:["/exercises/bicep_curls.webp"]},{id:"hammer_curls",name:"Hammer Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps","Forearms"],instructions:["Hold dumbbells with neutral grip (palms facing in).","Curl weights toward shoulders.","Lower with control."],images:["/exercises/hammer_curls.webp"]},{id:"barbell_curls",name:"Barbell Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps"],instructions:["Hold barbell with underhand grip.","Curl bar toward chest.","Lower with control."],images:["/exercises/barbell_curls.webp"]},{id:"front_raises",name:"Front Raises",category:"Pull",subcategory:"Shoulders",targetMuscles:["Front Delts"],instructions:["Hold weights in front of thighs.","Raise arms straight in front to shoulder height."],images:["/exercises/front_raises.webp"]},{id:"kettlebell_swings",name:"Kettlebell Swings",category:"Pull",subcategory:"Shoulders",targetMuscles:["Glutes","Hamstrings","Lower Back"],instructions:["Hinge at hips holding kettlebell.","Snap hips forward to swing weight up."],images:["/exercises/kettlebell_swings.webp"]},{id:"muscle_ups",name:"Muscle Ups",category:"Pull",subcategory:"Shoulders",targetMuscles:["Lats","Triceps","Chest"],instructions:["Explosive pull-up.","Transition wrists over bar.","Press out at top."],images:["/exercises/muscle_ups.webp"]},{id:"seated_row",name:"Seated Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Sit at machine.","Pull handle to torso."],images:["/exercises/Seated_Row.webp"]},{id:"supine_trx_row",name:"Supine TRX Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Feet in TRX straps.","Pull handle to torso."],images:["/exercises/supine_trx_row.webp"]},{id:"barbell_bench_press",name:"Barbell Bench Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Triceps"],instructions:["Lower bar to chest.","Press back up."],images:["/exercises/barbell_bench_press.webp"]},{id:"dumbbell_bench_press",name:"Dumbbell Chest Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Upper Chest"],instructions:["Press dumbbells whilst lying on bench."],images:["/exercises/dumbbell_bench_press.webp"]},{id:"chest_press",name:"Chest Press Machine",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Triceps"],instructions:["From seated position, push handles overhead."],images:["/exercises/chest_press.webp"]},{id:"push_up",name:"Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Triceps","Chest"],instructions:["Hands wide, lower to floor.","Press back up."],images:["/exercises/push_up.webp"]},{id:"narrow_push_up",name:"Narrow Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Triceps","Chest"],instructions:["Hands close together.","Keep elbows tucked."],images:["/exercises/narrow_push_up.webp"]},{id:"trx_push_up",name:"TRX Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Global Stabilisers"],instructions:["Feet or hands in TRX straps.","Perform push-up."],images:["/exercises/trx_push_up.webp"]},{id:"overhead_press",name:"Barbell Overhead Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Press bar vertically overhead."],images:["/exercises/overhead_press.webp"]},{id:"dumbbell_overhead_press",name:"Dumbbell Overhead Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Press dumbbells vertically overhead."],images:["/exercises/dumbbell_overhead_press.webp"]},{id:"arnold_press",name:"Arnold Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Rotate palms while pressing overhead."],images:["/exercises/arnold_press.webp"]},{id:"shoulder_press_machine",name:"Shoulder Press Machine",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Sit in machine.","Press handles overhead."],images:["/exercises/Shoulder_Press_Machine.webp"]},{id:"dumbbell_flies",name:"Dumbbell Flies",category:"Push",subcategory:"Shoulders",targetMuscles:["Chest"],instructions:["Lie on bench.","Open arms wide, then bring together."],images:["/exercises/Dumbbell_Flies.webp"]},{id:"lateral_raises",name:"Lateral Raises",category:"Push",subcategory:"Shoulders",targetMuscles:["Side Delts"],instructions:["Raise arms to sides."],images:["/exercises/dumbbell_lateral_raise.webp"]},{id:"dumbbell_kickbacks",name:"Dumbbell Kickbacks",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Hinge forward.","Extend arm back."],images:["/exercises/dumbbell_kickbacks.webp"]},{id:"cable_pushdown",name:"Cable Pushdown",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Push bar down using triceps."],images:["/exercises/tricep_pulldown.webp"]},{id:"tricep_dips",name:"Tricep Dips",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Support body on parallel bars.","Lower until elbows at 90 degrees."],images:["/exercises/Tricep_Dips.webp"]},{id:"barbell_squat",name:"Barbell Squat",category:"Legs",subcategory:"Squats",targetMuscles:["Quads","Glutes"],instructions:["Squat with barbell on back."],images:["/exercises/barbell_squat.webp"]},{id:"leg_press",name:"Leg Press",category:"Legs",subcategory:"Squats",targetMuscles:["Quads"],instructions:["Press weight on machine."],images:["/exercises/leg_press.webp"]},{id:"pistol_squats",name:"Pistol Squats",category:"Legs",subcategory:"Squats",targetMuscles:["Quads","Balance"],instructions:["One-legged squat."],images:["/exercises/Pistol_Squats.webp"]},{id:"goblet_squat",name:"Goblet Squat",category:"Legs",subcategory:"Squats",targetMuscles:["Quads"],instructions:["Hold weight at chest.","Squat."],images:["/exercises/goblet_squat.webp"]},{id:"deadlift",name:"Deadlift",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Posterior Chain"],instructions:["Lift bar from floor."],images:["/exercises/deadlift.webp"]},{id:"rack_pulls",name:"Rack Pulls",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Back","Glutes"],instructions:["Deadlift from rack height."],images:["/exercises/Rack_Pulls.webp"]},{id:"barbell_good_mornings",name:"BarbellGood Mornings",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Back","Hamstrings"],instructions:["Deadlift from rack height."],images:["/exercises/barbell_good_mornings.webp"]},{id:"leg_extension",name:"Leg Extension",category:"Legs",subcategory:"Isolation",targetMuscles:["Quads"],instructions:["Extend legs against machine resistance."],images:["/exercises/Leg_Extension.webp"]},{id:"leg_curl",name:"Leg Curl",category:"Legs",subcategory:"Isolation",targetMuscles:["Hamstrings"],instructions:["Curl legs against machine resistance."],images:["/exercises/Leg_Curl.webp"]},{id:"walking_lunge",name:"Walking Lunge",category:"Legs",subcategory:"Isolation",targetMuscles:["Quads","Glutes"],instructions:["Step forward and lower hips."],images:["/exercises/walking_lunge.webp"]},{id:"calf_raises",name:"Calf Raises",category:"Legs",subcategory:"Calves",targetMuscles:["Calves"],instructions:["Raise heels."],images:["/exercises/calf_raise.webp"]},{id:"glute_bridges",name:"Glute Bridges",category:"Legs",subcategory:"Glutes",targetMuscles:["Glutes"],instructions:["Lie on back.","Lift hips."],images:["/exercises/Glute_Bridges.webp"]},{id:"reverse_wrist_curl",name:"Reverse Wrist Curl",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearm Extensors"],instructions:["Curl wrist up with palm down."],images:["/exercises/reverse_wrist_curl.webp"]},{id:"radial_wrist_tilts",name:"Radial Wrist Tilts",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearms"],instructions:["Tilt wrist thumb-side up."],images:["/exercises/Radial_Wrist_Tilts.webp"]},{id:"wrist_rotations",name:"Wrist Rotations",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearms"],instructions:["Rotate wrists with weight."],images:["/exercises/Wrist_Rotations.webp"]},{id:"wrist_curls",name:"Wrist Curls",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearm Flexors"],instructions:["Curl wrist up with palm up."],images:["/exercises/Wrist_Curls.webp"]},{id:"dumbbell_rear_delt_flies",name:"Dumbbell Rear Delt Flies",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Rear Delts"],instructions:["Hinge forward.","Raise arms to sides."],images:["/exercises/dumbbell_rear_delt_flies.webp"]},{id:"cable_face_pulls",name:"Cable Face Pulls",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Rear Delts"],instructions:["Pull rope to face."],images:["/exercises/face_pull.webp"]},{id:"archer_rows",name:"Archer Rows",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Back","Rear Delts"],instructions:["Row with one arm while other stays straight."],images:["/exercises/Archer_Rows.webp"]},{id:"one_arm_dumbbell_shrugs",name:"One Arm Dumbbell Shrugs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Traps"],instructions:["Shrug shoulder up."],images:["/exercises/One_Arm_Dumbbell_Shrugs.webp"]},{id:"prone_overhead_db_press",name:"Prone Overhead Dumbbell Press",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Lower Traps"],instructions:["Lie prone.","Press light weights overhead."],images:["/exercises/Prone_Overhead_Dumbbell_Press.webp"]},{id:"incline_bench_db_iyts",name:"Incline Bench Dumbbell IYTs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Lower Traps","Rear Delts"],instructions:["Form I, Y, T shapes with arms."],images:["/exercises/i-y-t_raises.webp"]},{id:"scapular_holds",name:"Scapular Holds",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hold scapular retraction."],images:["/exercises/Scapular_Holds.webp"]},{id:"scapular_pull_ups",name:"Scapular Pull-Ups",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hang from bar.","Depress and retract scapula without bending elbows."],images:["/exercises/Scapular_Pull-ups.webp"]},{id:"one_arm_scapular_holds",name:"1 Arm Scapular Holds",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hang from one arm.","Engage scapula."],images:["/exercises/one_arm_scapular_holds.webp"]},{id:"one_arm_scapular_pull_ups",name:"1 Arm Scapular Pull-Ups",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["One arm hang.","Depress scapula."],images:["/exercises/one_arm_scapular_pull_ups.webp"]},{id:"trx_iyts",name:"TRX IYTs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Back"],instructions:["Use TRX to perform I, Y, T raises."],images:["/exercises/trx_iyts.webp"]},{id:"dumbbell_overhead_rotations",name:"Dumbbell Overhead Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Press overhead.","Rotate shoulders."],images:["/exercises/Dumbbell_Overhead_Rotations.webp"]},{id:"external_side_lying_rotations",name:"External Side Lying Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Lie on side.","Rotate arm up."],images:["/exercises/External_Side_Lying_Rotations.webp"]},{id:"prone_bench_rotations",name:"Prone Bench Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Lie prone.","Rotate arms."],images:["/exercises/Prone_Bench_Rotations.webp"]},{id:"cable_external_rotations",name:"Cable External Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Use cable.","Rotate arm away from body."],images:["/exercises/Cable_External_Rotations.webp"]},{id:"cable_internal_rotation",name:"Cable Internal Rotation",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Use cable.","Rotate arm across body."],images:["/exercises/Cable_Internal_Rotation.webp"]},{id:"internal_side_lying_rotations",name:"Internal Side Lying Rotations",category:"Stabilisers",subcategory:"Internal Rotation/Flexors",targetMuscles:["Rotator Cuff"],instructions:["Lie on side.","Rotate arm inward."],images:["/exercises/Internal_Side_Lying_Rotations.webp"]},{id:"hanging_l_hold",name:"Hanging L Hold",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Hang from bar.","Hold legs horizontal."],images:["/exercises/Hanging_L_Hold.webp"]},{id:"supine_leg_raises",name:"Supine Leg Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Lie on back.","Raise legs."],images:["/exercises/Supine_Leg_Raises.webp"]},{id:"hanging_leg_raises",name:"Hanging Leg Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Hang from bar.","Raise legs to bar."],images:["/exercises/hanging_leg_raise.webp"]},{id:"lever_raises_tucked",name:"Lever Raises (tucked)",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Front lever progression tucked."],images:["/exercises/Lever_Raises_tucked.webp"]},{id:"lever_raises_90",name:"Lever Raises (90)",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Front lever progression to 90 degrees."]},{id:"lever_raises",name:"Lever Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Full front lever raises."]},{id:"crunches",name:"Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Upper Abs"],instructions:["Crunch up off floor."],images:["/exercises/crunch.webp"]},{id:"lower_ab_crunches",name:"Lower Ab Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Lower Abs"],instructions:["Reverse crunch movement."],images:["/exercises/Lower_Ab_Crunches.webp"]},{id:"weighted_crunches",name:"Weighted Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Abs"],instructions:["Crunch with weight."],images:["/exercises/Weighted_Crunches.webp"]},{id:"dead_bug",name:"Dead Bug",category:"Core",subcategory:"Crunches",targetMuscles:["Core"],instructions:["Opposite arm and leg extension lying on back."],images:["/exercises/Dead_Bug.webp"]},{id:"boat_pose",name:"Boat Pose",category:"Core",subcategory:"Crunches",targetMuscles:["Core"],instructions:["Static V hold on floor."],images:["/exercises/Boat_Pose.webp"]},{id:"v_sits",name:"V Sits",category:"Core",subcategory:"Crunches",targetMuscles:["Abs"],instructions:["Explosive sit up to V position."],images:["/exercises/V_Sits.webp"]},{id:"kettle_bell_twists",name:"Kettle Bell Twists",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Russian twist with KB."],images:["/exercises/russian_twists.webp"]},{id:"twisting_crunches",name:"Twisting Crunches",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Crunch with rotation."],images:["/exercises/Twisting_Crunches.webp"]},{id:"supine_windscreen_wipers",name:"Supine Windscreen Wipers",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Lie on back.","Rotate legs side to side."],images:["/exercises/Supine_Windscreen_Wipers.webp"]},{id:"hanging_windscreen_wipers",name:"Hanging Windscreen Wipers",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Hang from bar.","Rotate legs side to side."],images:["/exercises/Hanging_Windscreen_Wipers.webp"]},{id:"thread_the_needle",name:"Thread the Needle",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques","Mobility"],instructions:["Plank position.","Reach under body."],images:["/exercises/Thread_the_Needle.webp"]}];var xr=S('<div><div class="col set-num svelte-ow8x7m"> </div> <div class="col weight svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col reps svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col check svelte-ow8x7m"><button><!></button></div></div>');function Cr(L,i){Bt(i,!1);let l=be(i,"setNumber",8),y=be(i,"set",12);const M=fa();function E(){y(y().completed=!y().completed,!0),M("change",y()),y().completed&&M("complete")}Ia();var P=xr();let O;var q=s(P),p=s(q,!0);a(q);var w=r(q,2),u=s(w);oe(u),a(w);var k=r(w,2),R=s(k);oe(R),a(k);var N=r(k,2),C=s(N);let m;var h=s(C);{var I=D=>{var K=kt("✓");n(D,K)};U(h,D=>{wt(y()),mt(()=>y().completed)&&D(I)})}a(C),a(N),a(P),W(()=>{O=Ct(P,1,"set-row svelte-ow8x7m",null,O,{completed:y().completed}),j(p,l()),m=Ct(C,1,"check-btn svelte-ow8x7m",null,m,{checked:y().completed})}),ve(u,()=>y().weight,D=>y(y().weight=D,!0)),ve(R,()=>y().reps,D=>y(y().reps=D,!0)),Et("click",C,E),n(L,P),It()}var Lr=S('<div><span class="dot svelte-1ni79z8"></span> <span class="text"> </span></div>'),Rr=S("<button></button>"),Pr=S('<div class="exercise-card svelte-1ni79z8"><div class="header svelte-1ni79z8"><div class="title-group svelte-1ni79z8"><button class="icon-btn info-btn svelte-1ni79z8" aria-label="Exercise Info"><div class="info-icon svelte-1ni79z8">?</div></button> <div><h4 class="svelte-1ni79z8"> </h4> <button class="icon-btn timer-btn svelte-1ni79z8" aria-label="Open Timer" title="Interval Timer">⏱</button> <div class="benchmarks svelte-1ni79z8"></div></div></div> <button class="icon-btn delete-btn svelte-1ni79z8" aria-label="Delete Exercise">🗑️</button></div> <div class="table-header svelte-1ni79z8"><div class="col">Set</div> <div class="col">kg</div> <div class="col">Reps</div> <div class="col">✓</div></div> <div class="sets"></div> <button class="add-set-btn svelte-1ni79z8">+ Add Set</button> <div class="difficulty-footer svelte-1ni79z8"><span class="diff-label svelte-1ni79z8">How did it feel?</span> <div class="diff-circles svelte-1ni79z8"></div></div></div>');function Mr(L,i){Bt(i,!1);let l=be(i,"exercise",12),y=be(i,"benchmarks",24,()=>({}));const M=fa();function E(){const X=l().sets[l().sets.length-1],B={weight:X?X.weight:0,reps:X?X.reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1};l(l().sets=[...l().sets,B],!0)}const P=["Green","Yellow","Orange","Red"];Ia();var O=Pr(),q=s(O),p=s(q),w=s(p),u=r(w,2),k=s(u),R=s(k,!0);a(k);var N=r(k,2),C=r(N,2);ne(C,5,()=>P,ce,(X,B)=>{var H=Kt(),$=Wt(H);{var se=ue=>{var ie=Lr();Ct(ie,1,"benchmark-pill svelte-1ni79z8",null,{},{"has-data":!0});var te=r(s(ie),2),le=s(te);a(te),a(ie),W(z=>{Ea(ie,`--pill-color: var(--color-${z??""})`),j(le,`${wt(y()),e(B),mt(()=>y()[e(B)]?.weight)??""}kg x ${wt(y()),e(B),mt(()=>y()[e(B)]?.reps)??""}`)},[()=>(e(B),mt(()=>e(B).toLowerCase()))]),n(ue,ie)};U($,ue=>{wt(y()),e(B),mt(()=>y()[e(B)])&&ue(se)})}n(X,H)}),a(C),a(u),a(p);var m=r(p,2);a(q);var h=r(q,4);ne(h,5,()=>(wt(l()),mt(()=>l().sets)),ce,(X,B,H)=>{Cr(X,{setNumber:H+1,get set(){return(wt(l()),mt(()=>l().sets))[H]},set set($){(wt(l()),mt(()=>l().sets))[H]=$,us(()=>l())},$$events:{complete($){Pa.call(this,i,$)},change($){Pa.call(this,i,$)}},$$legacy:!0})}),a(h);var I=r(h,2),D=r(I,2),K=r(s(D),2);ne(K,5,()=>P,ce,(X,B)=>{var H=Rr();let $;W(se=>{$=Ct(H,1,"diff-circle svelte-1ni79z8",null,$,{selected:l().difficulty===e(B)}),Ea(H,`--circle-color: var(--color-${se??""})`),tt(H,"aria-label",`Mark as ${e(B)??""}`)},[()=>(e(B),mt(()=>e(B).toLowerCase()))]),Et("click",H,()=>l(l().difficulty=e(B),!0)),n(X,H)}),a(K),a(D),a(O),W(()=>j(R,(wt(l()),mt(()=>l().name)))),Et("click",w,()=>M("info",l())),Et("click",N,()=>M("timer",l())),Et("click",m,()=>M("delete",l())),Et("click",I,E),n(L,O),It()}const qr=L=>L;function za(L){const i=L-1;return i*i*i+1}function Qa(L){const i=typeof L=="string"&&L.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return i?[parseFloat(i[1]),i[2]||"px"]:[L,"px"]}function ja(L,{delay:i=0,duration:l=400,easing:y=qr}={}){const M=+getComputedStyle(L).opacity;return{delay:i,duration:l,easing:y,css:E=>`opacity: ${E*M}`}}function Za(L,{delay:i=0,duration:l=400,easing:y=za,x:M=0,y:E=0,opacity:P=0}={}){const O=getComputedStyle(L),q=+O.opacity,p=O.transform==="none"?"":O.transform,w=q*(1-P),[u,k]=Qa(M),[R,N]=Qa(E);return{delay:i,duration:l,easing:y,css:(C,m)=>`
			transform: ${p} translate(${(1-C)*u}${k}, ${(1-C)*R}${N});
			opacity: ${q-w*m}`}}function Wi(L,{delay:i=0,duration:l=400,easing:y=za,axis:M="y"}={}){const E=getComputedStyle(L),P=+E.opacity,O=M==="y"?"height":"width",q=parseFloat(E[O]),p=M==="y"?["top","bottom"]:["left","right"],w=p.map(h=>`${h[0].toUpperCase()}${h.slice(1)}`),u=parseFloat(E[`padding${w[0]}`]),k=parseFloat(E[`padding${w[1]}`]),R=parseFloat(E[`margin${w[0]}`]),N=parseFloat(E[`margin${w[1]}`]),C=parseFloat(E[`border${w[0]}Width`]),m=parseFloat(E[`border${w[1]}Width`]);return{delay:i,duration:l,easing:y,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*P};${O}: ${h*q}px;padding-${p[0]}: ${h*u}px;padding-${p[1]}: ${h*k}px;margin-${p[0]}: ${h*R}px;margin-${p[1]}: ${h*N}px;border-${p[0]}-width: ${h*C}px;border-${p[1]}-width: ${h*m}px;min-${O}: 0`}}function $a(L,{delay:i=0,duration:l=400,easing:y=za,start:M=0,opacity:E=0}={}){const P=getComputedStyle(L),O=+P.opacity,q=P.transform==="none"?"":P.transform,p=1-M,w=O*(1-E);return{delay:i,duration:l,easing:y,css:(u,k)=>`
			transform: ${q} scale(${1-p*k});
			opacity: ${O-w*k}
		`}}function Nr(L){const i=L-1;return i*i*i+1}class Da{static audioContext=null;static gainNode=null;static isInitialized=!1;static init(){if(!this.isInitialized)try{(window.AudioContext||window.webkitAudioContext)&&(this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this.isInitialized=!0)}catch(i){console.warn("AudioContext not supported",i)}}static async playChime(){if(this.isInitialized||this.init(),!this.audioContext||!this.gainNode)return;this.audioContext.state==="suspended"&&await this.audioContext.resume();const i=this.audioContext.currentTime,l=this.audioContext.createOscillator();l.type="sine",l.frequency.setValueAtTime(880,i),l.frequency.exponentialRampToValueAtTime(.01,i+1.5);const y=this.audioContext.createGain();y.gain.setValueAtTime(.3,i),y.gain.exponentialRampToValueAtTime(.001,i+1.5),l.connect(y),y.connect(this.gainNode),l.start(i),l.stop(i+1.5);const M=this.audioContext.createOscillator();M.type="triangle",M.frequency.setValueAtTime(1760,i),M.frequency.exponentialRampToValueAtTime(.01,i+1);const E=this.audioContext.createGain();E.gain.setValueAtTime(.1,i),E.gain.exponentialRampToValueAtTime(.001,i+1),M.connect(E),E.connect(this.gainNode),M.start(i),M.stop(i+1)}static vibrate(i=200){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(i)}static async playCompletionAlert(){this.vibrate([500,100,500]),await this.playChime()}static async playTick(){if(this.isInitialized||this.init(),!this.audioContext||!this.gainNode)return;this.audioContext.state==="suspended"&&await this.audioContext.resume();const i=this.audioContext.currentTime,l=this.audioContext.createOscillator();l.type="sine",l.frequency.setValueAtTime(600,i);const y=this.audioContext.createGain();y.gain.setValueAtTime(.05,i),y.gain.exponentialRampToValueAtTime(.001,i+.1),l.connect(y),y.connect(this.gainNode),l.start(i),l.stop(i+.1),this.vibrate(50)}}var Dr=S('<div class="setup-form svelte-18i4gcv"><div class="input-group svelte-18i4gcv"><label for="work-duration" class="svelte-18i4gcv">Work</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv"><label for="rest-duration" class="svelte-18i4gcv">Rest</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv"><label for="num-sets" class="svelte-18i4gcv">Sets</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv" style="flex-direction: row; align-items: center; justify-content: space-between;"><label for="allow-overtime" style="margin: 0;" class="svelte-18i4gcv">Overtime</label> <label class="toggle-switch svelte-18i4gcv"><input type="checkbox" id="allow-overtime" class="svelte-18i4gcv"/> <span class="slider svelte-18i4gcv"></span></label></div> <button class="start-btn svelte-18i4gcv">▶ Start Interval</button></div>'),Er=S('<div class="finished-state svelte-18i4gcv"><div class="check-icon svelte-18i4gcv">✓</div> <h3>Nicely Done!</h3> <button class="reset-btn svelte-18i4gcv">Back to Setup</button></div>'),Ar=S('<button class="ctl-btn primary svelte-18i4gcv">⏸</button>'),Gr=S('<button class="ctl-btn primary svelte-18i4gcv">▶</button>'),Or=S('<div class="timer-circle svelte-18i4gcv"><svg viewBox="0 0 100 100" class="ring svelte-18i4gcv"><circle class="track svelte-18i4gcv" cx="50" cy="50" r="45"></circle><circle class="progress svelte-18i4gcv" cx="50" cy="50" r="45"></circle></svg> <div class="timer-val svelte-18i4gcv"><div class="phase-label svelte-18i4gcv"> </div> <div class="digits svelte-18i4gcv"> </div></div></div> <div class="controls-row svelte-18i4gcv"><button class="ctl-btn secondary svelte-18i4gcv">+10</button> <!> <button class="ctl-btn secondary finish svelte-18i4gcv">🏁</button></div> <div class="controls-sub svelte-18i4gcv"><button class="text-btn svelte-18i4gcv"> </button> <button class="text-btn stop svelte-18i4gcv">✕ Abort</button></div>',1),Fr=S('<div class="overlay svelte-18i4gcv" role="button" tabindex="0"><div><div class="header svelte-18i4gcv"><span class="title svelte-18i4gcv"><!></span> <button class="close-btn svelte-18i4gcv">✕</button></div> <div class="content svelte-18i4gcv"><!></div></div></div>');function es(L,i){Bt(i,!0);const l=3600*1e3,y=283;let M=be(i,"visible",15,!1),E=be(i,"defaultSets",3,3),P=be(i,"associatedExerciseId",7,null),O=be(i,"onComplete",3,()=>{}),q=be(i,"onClose",3,()=>{}),p=v("SETUP"),w=v("PAUSED"),u=v(30),k=v(60),R=v(3),N=v(!1),C=v(1),m=v(30),h=v(null),I=v(null),D=v(!1),K=null;ra(()=>{M()&&(Da.init(),e(p)==="SETUP"&&(X(),E()>0&&t(R,E())))}),na(()=>($(),"serviceWorker"in navigator&&navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"GET_TIMER_STATE"}),"serviceWorker"in navigator&&(navigator.serviceWorker.ready.then(G=>{}),K=G=>{G.data&&G.data.type==="TIMER_ACTION"?ie(G.data.action):G.data&&G.data.type==="TIMER_STATE_UPDATE"&&ue(G.data.state)},navigator.serviceWorker.addEventListener("message",K)),()=>{"serviceWorker"in navigator&&K&&navigator.serviceWorker.removeEventListener("message",K),Ke&&cancelAnimationFrame(Ke)}));async function X(){if(P())try{const G=await Ss(P());G.ok&&G.data&&(t(u,G.data.workDuration,!0),t(k,G.data.restDuration,!0),t(N,G.data.allowOvertime,!0))}catch(G){console.warn(G)}}async function B(){if(P())try{await ks(P(),{workDuration:e(u),restDuration:e(k),allowOvertime:e(N)})}catch(G){console.error(G)}}function H(){if(e(p)==="SETUP")return;const G={phase:e(p),runningState:e(w),remaining:e(m),endTimestamp:e(h),configWork:e(u),configRest:e(k),configSets:e(R),configSetsOverridden:e(R),allowOvertime:e(N),currentSet:e(C),associatedExerciseId:P(),pausedTimeRemaining:e(I),timestamp:Date.now(),overtimeTriggered:e(D)};return localStorage.setItem("active_interval_timer",JSON.stringify(G)),G}function $(){try{const G=localStorage.getItem("active_interval_timer");if(G){const Z=JSON.parse(G);Date.now()-Z.timestamp<l&&(t(p,Z.phase,!0),t(w,Z.runningState,!0),t(m,Z.remaining,!0),t(h,Z.endTimestamp,!0),t(u,Z.configWork,!0),t(k,Z.configRest,!0),Z.configSets&&t(R,Z.configSets,!0),Z.allowOvertime!==void 0&&t(N,Z.allowOvertime,!0),t(C,Z.currentSet,!0),P(Z.associatedExerciseId),t(I,Z.pausedTimeRemaining,!0),t(D,Z.overtimeTriggered,!0),e(p)!=="SETUP"&&e(p)!=="FINISHED"&&M(!0))}}catch{}}function se(){localStorage.removeItem("active_interval_timer")}function ue(G){G&&(t(p,G.phase,!0),t(w,G.runningState,!0),t(h,G.endTimestamp,!0),t(C,G.currentSet,!0),t(D,G.overtimeTriggered,!0),e(w)==="RUNNING"&&e(p)!=="FINISHED"&&e(p))}function ie(G){if(G==="extend-10"){t(m,e(m)+10),e(h)&&t(h,e(h)+1e4),e(m)>0&&t(D,!1);const Z=H();navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"EXTEND_TIMER",state:Z})}else G==="next-set"?ee():G==="finish-session"?Ve():G==="pause"?z():G==="resume"&&J()}function te(){Rt(),B(),t(p,"WORK"),t(C,1),le(e(u))}function le(G,Z=!1){t(w,"RUNNING"),t(m,G,!0),t(h,Date.now()+G*1e3),t(D,!1);const me=H();Da.playChime(),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"START_TIMER",state:me})}function z(){t(w,"PAUSED"),t(I,e(m),!0),t(h,null);const G=H();navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"PAUSE_TIMER",state:G})}function J(){if(e(I)!==null){t(w,"RUNNING"),t(h,Date.now()+e(I)*1e3);const G=H();navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"RESUME_TIMER",state:G})}}function ee(){navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"SKIP_PHASE"})}function de(){t(p,"SETUP"),t(w,"PAUSED"),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"STOP_TIMER"}),se()}function Ve(){t(p,"FINISHED"),t(w,"PAUSED"),t(h,null),navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({type:"STOP_TIMER"}),O()(),se()}function xe(){if(!(!M()||e(p)==="SETUP"||e(p)==="FINISHED"||e(w)==="PAUSED")&&e(h)){const G=Date.now(),Z=e(h)-G,me=Math.ceil(Z/1e3);me!==e(m)&&t(m,me,!0),e(m)===0&&!e(D)&&(e(D)||Da.playCompletionAlert())}}let Ke;function Lt(){xe(),Ke=requestAnimationFrame(Lt)}na(()=>{Ke=requestAnimationFrame(Lt)});async function Rt(){"Notification"in window&&Notification.permission!=="granted"&&await Notification.requestPermission()}function ot(G){const Z=Math.floor(G/60),me=G%60;return`${Z}:${me.toString().padStart(2,"0")}`}function ft(){(e(p)==="SETUP"||e(p)==="FINISHED")&&de(),M(!1),q()&&q()()}var _t=Kt(),Pt=Wt(_t);{var ht=G=>{var Z=Fr();Z.__click=he=>{he.target===he.currentTarget&&ft()},Z.__keydown=he=>{he.key==="Escape"&&ft()};var me=s(Z);let Qe;var Ne=s(me),Ae=s(Ne),Mt=s(Ae);{var nt=he=>{var Ge=kt("Timer Setup");n(he,Ge)},Tt=he=>{var Ge=Kt(),rt=Wt(Ge);{var Je=_e=>{var Se=kt("Complete");n(_e,Se)},We=_e=>{var Se=kt();W(()=>j(Se,`Set ${e(C)??""} / ${e(R)??""}`)),n(_e,Se)};U(rt,_e=>{e(p)==="FINISHED"?_e(Je):_e(We,!1)},!0)}n(he,Ge)};U(Mt,he=>{e(p)==="SETUP"?he(nt):he(Tt,!1)})}a(Ae);var at=r(Ae,2);at.__click=ft,a(Ne);var st=r(Ne,2),ct=s(st);{var xt=he=>{var Ge=Dr(),rt=s(Ge),Je=r(s(rt),2),We=s(Je);We.__click=()=>t(u,Math.max(5,e(u)-5),!0);var _e=r(We,2),Se=s(_e,!0);a(_e);var ze=r(_e,2);ze.__click=()=>t(u,e(u)+5),a(Je),a(rt);var x=r(rt,2),F=r(s(x),2),o=s(F);o.__click=()=>t(k,Math.max(5,e(k)-5),!0);var f=r(o,2),A=s(f,!0);a(f);var V=r(f,2);V.__click=()=>t(k,e(k)+5),a(F),a(x);var _=r(x,2),b=r(s(_),2),Y=s(b);Y.__click=()=>t(R,Math.max(1,e(R)-1),!0);var Re=r(Y,2),Be=s(Re,!0);a(Re);var Pe=r(Re,2);Pe.__click=()=>t(R,e(R)+1),a(b),a(_);var ke=r(_,2),ge=r(s(ke),2),ye=s(ge);oe(ye),Ma(2),a(ge),a(ke);var re=r(ke,2);re.__click=te,a(Ge),W((fe,bt)=>{j(Se,fe),j(A,bt),j(Be,e(R))},[()=>ot(e(u)),()=>ot(e(k))]),Ba(ye,()=>e(N),fe=>t(N,fe)),n(he,Ge)},qt=he=>{var Ge=Kt(),rt=Wt(Ge);{var Je=_e=>{var Se=Er(),ze=r(s(Se),4);ze.__click=()=>t(p,"SETUP"),a(Se),n(_e,Se)},We=_e=>{var Se=Or(),ze=Wt(Se),x=s(ze),F=r(s(x));tt(F,"stroke-dasharray",y),a(x);var o=r(x,2),f=s(o),A=s(f,!0);a(f);var V=r(f,2);let _;var b=s(V,!0);a(V),a(o),a(ze);var Y=r(ze,2),Re=s(Y);Re.__click=()=>ie("extend-10");var Be=r(Re,2);{var Pe=Ce=>{var Oe=Ar();Oe.__click=z,n(Ce,Oe)},ke=Ce=>{var Oe=Gr();Oe.__click=J,n(Ce,Oe)};U(Be,Ce=>{e(w)==="RUNNING"?Ce(Pe):Ce(ke,!1)})}var ge=r(Be,2);ge.__click=Ve,a(Y);var ye=r(Y,2),re=s(ye);re.__click=ee;var fe=s(re,!0);a(re);var bt=r(re,2);bt.__click=de,a(ye),W((Ce,Oe)=>{tt(F,"stroke-dashoffset",Ce),j(A,e(m)<0?"OVERTIME":e(p)),_=Ea(V,"",_,{color:e(m)<0?"#ef4444":"inherit"}),j(b,Oe),j(fe,e(m)<0?"Next Set":"⏭ Skip")},[()=>y*(1-Math.max(0,Math.min(1,e(m)/(e(p)==="WORK"?e(u):e(k))))),()=>ot(Math.abs(e(m)))]),n(_e,Se)};U(rt,_e=>{e(p)==="FINISHED"?_e(Je):_e(We,!1)},!0)}n(he,Ge)};U(ct,he=>{e(p)==="SETUP"?he(xt):he(qt,!1)})}a(st),a(me),a(Z),W(()=>Qe=Ct(me,1,"timer-card svelte-18i4gcv",null,Qe,{work:e(p)==="WORK",rest:e(p)==="REST"})),ca(3,me,()=>$a,()=>({start:.96,duration:300,easing:Nr})),ca(3,Z,()=>ja,()=>({duration:250})),n(G,Z)};U(Pt,G=>{M()&&G(ht)})}n(L,_t),It()}Zt(["click","keydown"]);var Wr=S("<img/>"),Br=S('<div class="animation-frame svelte-zbmy0k"></div>'),Ir=S('<div class="visual-placeholder svelte-zbmy0k"><span>No animation available</span></div>'),Hr=S("<li> </li>"),zr=S('<div class="modal-overlay svelte-zbmy0k" role="button" tabindex="0" aria-label="Close modal"><div class="modal-content svelte-zbmy0k" role="dialog" aria-modal="true" tabindex="-1"><div class="header svelte-zbmy0k"><h3 class="svelte-zbmy0k"> </h3> <span class="category svelte-zbmy0k"> </span> <button class="close-btn svelte-zbmy0k" aria-label="Close">×</button></div> <div class="visual-container svelte-zbmy0k"><!> <div class="muscles svelte-zbmy0k"> </div></div> <div class="instructions svelte-zbmy0k"><h4>Instructions</h4> <ol class="svelte-zbmy0k"></ol></div></div></div>');function jr(L,i){Bt(i,!1);let l=be(i,"exercise",8),y=be(i,"visible",8,!1);const M=fa();let E=ms(0),P;function O(){l().images&&l().images.length>0&&(t(E,0),P=setInterval(()=>{t(E,(e(E)+1)%l().images.length)},800))}function q(){P&&clearInterval(P)}ds(()=>{q()});function p(){M("close")}gs(()=>(wt(y()),wt(l())),()=>{y()&&l().images?.length?O():q()}),ps(),Ia();var w=Kt(),u=Wt(w);{var k=R=>{var N=zr(),C=s(N),m=s(C),h=s(m),I=s(h,!0);a(h);var D=r(h,2),K=s(D,!0);a(D);var X=r(D,2);a(m);var B=r(m,2),H=s(B);{var $=z=>{var J=Br();ne(J,5,()=>(wt(l()),mt(()=>l().images)),ce,(ee,de,Ve)=>{var xe=Wr();let Ke;W(()=>{tt(xe,"src",`${qs??""}${e(de)??""}`),tt(xe,"alt",`${wt(l()),mt(()=>l().name)??""} frame ${Ve+1}`),Ke=Ct(xe,1,"svelte-zbmy0k",null,Ke,{active:Ve===e(E)})}),n(ee,xe)}),a(J),n(z,J)},se=z=>{var J=Ir();n(z,J)};U(H,z=>{wt(l()),mt(()=>l().images&&l().images.length>0)?z($):z(se,!1)})}var ue=r(H,2),ie=s(ue);a(ue),a(B);var te=r(B,2),le=r(s(te),2);ne(le,5,()=>(wt(l()),mt(()=>l().instructions)),ce,(z,J)=>{var ee=Hr(),de=s(ee,!0);a(ee),W(()=>j(de,e(J))),n(z,ee)}),a(le),a(te),a(C),a(N),W(z=>{j(I,(wt(l()),mt(()=>l().name))),j(K,(wt(l()),mt(()=>l().category))),j(ie,`Targets: ${z??""}`)},[()=>(wt(l()),mt(()=>l().targetMuscles.join(", ")))]),Et("click",X,p),ca(3,C,()=>Za,()=>({y:50,duration:300})),Et("click",C,Va(function(z){Pa.call(this,i,z)})),Et("keydown",C,Va(function(z){Pa.call(this,i,z)})),Et("click",N,p),Et("keydown",N,z=>z.key==="Escape"&&p()),n(R,N)};U(u,R=>{y()&&R(k)})}n(L,w),It()}var Ur=S('<div class="input-group svelte-12q9g58"><label for="delete-confirm" class="svelte-12q9g58">Type <strong> </strong> to confirm:</label> <input type="text" id="delete-confirm" autocomplete="off" class="svelte-12q9g58"/></div>'),Vr=S('<button class="backdrop svelte-12q9g58" aria-label="Close modal"></button> <div class="modal svelte-12q9g58" role="dialog" aria-modal="true"><h3 class="svelte-12q9g58"> </h3> <p class="svelte-12q9g58"> </p> <!> <div class="actions svelte-12q9g58"><button class="btn-cancel svelte-12q9g58">Cancel</button> <button class="btn-delete svelte-12q9g58">Delete</button></div></div>',1);function Kr(L,i){Bt(i,!0);let l=be(i,"isOpen",3,!1),y=be(i,"title",3,"Confirm Delete"),M=be(i,"message",3,"Are you sure you want to delete this item? This action cannot be undone."),E=be(i,"confirmKeyword",3,"delete"),P=be(i,"requireInput",3,!0),O=v(""),q=St(()=>!P()||e(O).toLowerCase()===E().toLowerCase());function p(){e(q)&&(i.onConfirm(),t(O,""))}function w(){i.onCancel(),t(O,"")}var u=Kt(),k=Wt(u);{var R=N=>{var C=Vr(),m=Wt(C);m.__click=w;var h=r(m,2),I=s(h),D=s(I,!0);a(I);var K=r(I,2),X=s(K,!0);a(K);var B=r(K,2);{var H=ie=>{var te=Ur(),le=s(te),z=r(s(le)),J=s(z,!0);a(z),Ma(),a(le);var ee=r(le,2);oe(ee),a(te),W(()=>{j(J,E()),tt(ee,"placeholder",E())}),ve(ee,()=>e(O),de=>t(O,de)),n(ie,te)};U(B,ie=>{P()&&ie(H)})}var $=r(B,2),se=s($);se.__click=w;var ue=r(se,2);ue.__click=p,a($),a(h),W(()=>{j(D,y()),j(X,M()),ue.disabled=!e(q)}),ca(3,m,()=>ja,()=>({duration:200})),ca(3,h,()=>$a,()=>({duration:200,start:.9})),n(N,C)};U(k,N=>{l()&&N(R)})}n(L,u),It()}Zt(["click"]);var Qr=S('<div class="form-header-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;"><h2 style="margin: 0; font-size: 1.25rem; color: var(--teal-primary);">New Gym Session</h2></div>'),Jr=S("<span>Saved! ✓</span>"),Yr=S("<button><!></button>"),Xr=S("<option> </option>"),Zr=S("<option> </option>"),$r=S('<div class="filter-row svelte-1w0zsmt"><select class="category-select svelte-1w0zsmt"><option>Select Category...</option><!></select> <select class="subcategory-select svelte-1w0zsmt"><option>Select Subcategory...</option><!></select></div>'),ei=S('<span class="details svelte-1w0zsmt"> </span>'),ti=S('<button class="exercise-item-simple svelte-1w0zsmt"><span class="name svelte-1w0zsmt"> </span> <!></button>'),ai=S('<div class="no-results svelte-1w0zsmt"> </div>'),si=S('<div class="modal-overlay svelte-1w0zsmt" role="button" tabindex="0" aria-label="Close modal"><div class="picker-modal svelte-1w0zsmt" role="dialog" aria-modal="true" tabindex="-1"><div class="picker-header svelte-1w0zsmt"><h3>Add Exercise</h3> <div class="search-row svelte-1w0zsmt"><input type="text" placeholder="Search exercises..." class="svelte-1w0zsmt"/></div> <!></div> <div class="picker-content svelte-1w0zsmt"><div class="exercise-list-simple svelte-1w0zsmt"><!> <!></div></div></div></div>'),ri=S('<div class="gym-session-form svelte-1w0zsmt"><div class="session-meta svelte-1w0zsmt"><!> <input type="text" class="session-name svelte-1w0zsmt" placeholder="Workout Name (e.g. Pull Day)"/> <div class="meta-row svelte-1w0zsmt"><label class="svelte-1w0zsmt">Date <div class="date-time-row svelte-1w0zsmt"><input type="date" class="svelte-1w0zsmt"/> <input type="time" class="svelte-1w0zsmt"/></div></label> <label class="svelte-1w0zsmt">Bodyweight (kg) <input type="number" placeholder="Optional" class="svelte-1w0zsmt"/></label> <label class="svelte-1w0zsmt">Block <select class="svelte-1w0zsmt"><option>Strength</option><option>Power</option><option>Power Endurance</option><option>Muscular Endurance</option></select></label></div></div> <div class="exercises-list"></div> <button class="add-exercise-btn svelte-1w0zsmt">+ Add Exercise</button> <div class="session-notes-container svelte-1w0zsmt"><!></div> <!> <!> <!> <!> <!></div>');function Bi(L,i){Bt(i,!0);const l=fa(),y="gym_session_draft";let M=be(i,"initialData",3,null),E=St(()=>!!M()),P=v(""),O=v(void 0),q=v(He([])),p=v(He(new Date().toISOString().split("T")[0])),w=v(He(new Date().toTimeString().split(" ")[0].slice(0,5))),u=v("Strength"),k=v(null),R=v(He([])),N=v("");na(async()=>{if(M())t(P,M().name,!0),t(O,M().bodyweight,!0),t(q,M().exercises,!0),t(p,M().date,!0),t(w,M().time||"12:00",!0),t(u,M().trainingBlock||"Strength",!0),t(N,M().notes||"",!0),t(ue,!0);else{const F=localStorage.getItem(y);if(F)try{const o=JSON.parse(F);o.sessionName&&t(P,o.sessionName,!0),o.bodyweight&&t(O,o.bodyweight,!0),o.startTime&&t(p,o.startTime,!0),o.time&&t(w,o.time,!0),o.trainingBlock&&t(u,o.trainingBlock,!0),o.exercises&&t(q,o.exercises,!0),o.notes&&t(N,o.notes,!0)}catch(o){console.error("Failed to restore draft",o)}t(ue,!0)}const x=await Ts();x.ok&&x.data&&t(R,x.data.map(F=>({...F,activityType:"gym_session",syncStatus:"synced"})),!0)}),ra(()=>{const x=e(R).filter(F=>(F.trainingBlock||"Strength")===e(u)&&F.date<e(p));x.sort((F,o)=>new Date(o.date).getTime()-new Date(F.date).getTime()),t(k,x.length>0?x[0]:null,!0)});function C(x){const F={Green:null,Yellow:null,Orange:null,Red:null},o=[...e(R)].sort((f,A)=>new Date(A.date).getTime()-new Date(f.date).getTime());for(const f of o){if(F.Green&&F.Yellow&&F.Orange&&F.Red)break;const A=f.exercises.find(V=>V.name===x);if(A&&A.difficulty&&!F[A.difficulty]){let V=null;for(const _ of A.sets)(!V||_.weight>V.weight||_.weight===V.weight&&_.reps>V.reps)&&(V=_);V&&(F[A.difficulty]={weight:V.weight,reps:V.reps})}}return F}let m=v(!1),h=v(""),I=v(""),D=v(""),K=v(!1),X=v(null),B=v(null),H=v(!1),$=v(null),se=v(3),ue=v(!1);ra(()=>{if(e(ue)&&!e(E)&&typeof localStorage<"u"){const x={sessionName:e(P),bodyweight:e(O),startTime:e(p),time:e(w),trainingBlock:e(u),exercises:e(q),notes:e(N)};localStorage.setItem(y,JSON.stringify(x))}});let ie=St(()=>Ra.filter(x=>{if(e(h))return x.name.toLowerCase().includes(e(h).toLowerCase())||x.targetMuscles.some(f=>f.toLowerCase().includes(e(h).toLowerCase()));const F=e(I)?x.category===e(I):!0,o=e(D)?x.subcategory===e(D):!0;return F&&o}));const te=Array.from(new Set(Ra.map(x=>x.category))).sort();let le=St(()=>e(I)?Array.from(new Set(Ra.filter(x=>x.category===e(I)).map(x=>x.subcategory))).sort():[]);function z(){t(D,"")}function J(x){const F={id:crypto.randomUUID(),name:x.name,sets:[{weight:0,reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1}]};t(q,[...e(q),F],!0),t(m,!1),t(h,""),t(I,""),t(D,"")}function ee(x){const F=x.detail;t($,F.id,!0),t(se,F.sets.length,!0),t(K,!0)}function de(){}async function Ve(){if(e(q).length===0)return;const x={date:e(p),time:e(w),name:e(P)||"Gym Workout",bodyweight:e(O),trainingBlock:e(u),exercises:e(q),notes:e(N)},F=e(E)&&M()?await xs(M().id,x):await Cs(x);F.ok?(t(H,!0),e(E)||localStorage.removeItem(y),i.onSaved?i.onSaved():setTimeout(()=>{t(H,!1),l("save")},1500)):console.error("Failed to save gym session",F.error)}var xe=ri(),Ke=s(xe),Lt=s(Ke);{var Rt=x=>{var F=Qr();n(x,F)};U(Lt,x=>{e(E)||x(Rt)})}var ot=r(Lt,2);oe(ot);var ft=r(ot,2),_t=s(ft),Pt=r(s(_t)),ht=s(Pt);oe(ht);var G=r(ht,2);oe(G),a(Pt),a(_t);var Z=r(_t,2),me=r(s(Z));oe(me),a(Z);var Qe=r(Z,2),Ne=r(s(Qe)),Ae=s(Ne);Ae.value=Ae.__value="Strength";var Mt=r(Ae);Mt.value=Mt.__value="Power";var nt=r(Mt);nt.value=nt.__value="Power Endurance";var Tt=r(nt);Tt.value=Tt.__value="Muscular Endurance",a(Ne),a(Qe),a(ft),a(Ke);var at=r(Ke,2);ne(at,21,()=>e(q),ce,(x,F,o)=>{{let f=St(()=>C(e(F).name));Mr(x,{get exercise(){return e(F)},get benchmarks(){return e(f)},$$events:{complete:de,timer:ee,delete:()=>{t(B,o,!0)},info:()=>{const A=Ra.find(V=>V.name===e(F).name);A&&t(X,A,!0)}}})}}),a(at);var st=r(at,2);st.__click=()=>t(m,!0);var ct=r(st,2),xt=s(ct);Sa(xt,{placeholder:"How did the workout feel? Energy, sleep, stress...",get value(){return e(N)},set value(x){t(N,x,!0)}}),a(ct);var qt=r(ct,2);{var he=x=>{var F=Yr();let o;F.__click=Ve;var f=s(F);{var A=_=>{var b=Jr();n(_,b)},V=_=>{var b=kt("Finish Workout");n(_,b)};U(f,_=>{e(H)?_(A):_(V,!1)})}a(F),W(()=>{o=Ct(F,1,"save-btn svelte-1w0zsmt",null,o,{success:e(H)}),F.disabled=e(H)}),n(x,F)};U(qt,x=>{e(q).length>0&&x(he)})}var Ge=r(qt,2);{var rt=x=>{var F=si();F.__click=()=>t(m,!1),F.__keydown=ge=>ge.key==="Escape"&&t(m,!1);var o=s(F);o.__click=ge=>ge.stopPropagation(),o.__keydown=ge=>ge.stopPropagation();var f=s(o),A=r(s(f),2),V=s(A);oe(V),a(A);var _=r(A,2);{var b=ge=>{var ye=$r(),re=s(ye);re.__change=z;var fe=s(re);fe.value=fe.__value="";var bt=r(fe);ne(bt,17,()=>te,ce,(Me,Te)=>{var Ie=Xr(),yt=s(Ie,!0);a(Ie);var Nt={};W(()=>{j(yt,e(Te)),Nt!==(Nt=e(Te))&&(Ie.value=(Ie.__value=e(Te))??"")}),n(Me,Ie)}),a(re);var Ce=r(re,2),Oe=s(Ce);Oe.value=Oe.__value="";var $e=r(Oe);ne($e,17,()=>e(le),ce,(Me,Te)=>{var Ie=Zr(),yt=s(Ie,!0);a(Ie);var Nt={};W(()=>{j(yt,e(Te)),Nt!==(Nt=e(Te))&&(Ie.value=(Ie.__value=e(Te))??"")}),n(Me,Ie)}),a(Ce),a(ye),W(()=>Ce.disabled=!e(I)),lt(re,()=>e(I),Me=>t(I,Me)),lt(Ce,()=>e(D),Me=>t(D,Me)),n(ge,ye)};U(_,ge=>{e(h)||ge(b)})}a(f);var Y=r(f,2),Re=s(Y),Be=s(Re);ne(Be,17,()=>e(ie),ce,(ge,ye)=>{var re=ti();re.__click=()=>J(e(ye));var fe=s(re),bt=s(fe,!0);a(fe);var Ce=r(fe,2);{var Oe=$e=>{var Me=ei(),Te=s(Me);a(Me),W(()=>j(Te,`${e(ye).category??""} - ${e(ye).subcategory??""}`)),n($e,Me)};U(Ce,$e=>{e(h)&&$e(Oe)})}a(re),W(()=>j(bt,e(ye).name)),n(ge,re)});var Pe=r(Be,2);{var ke=ge=>{var ye=ai(),re=s(ye,!0);a(ye),W(()=>j(re,e(h)?"No exercises found":"Select a category and subcategory to view exercises.")),n(ge,ye)};U(Pe,ge=>{e(ie).length===0&&ge(ke)})}a(Re),a(Y),a(o),a(F),ve(V,()=>e(h),ge=>t(h,ge)),ca(3,o,()=>Za,()=>({y:100,duration:300})),ca(3,F,()=>ja),n(x,F)};U(Ge,x=>{e(m)&&x(rt)})}var Je=r(Ge,2);{var We=x=>{jr(x,{get exercise(){return e(X)},visible:!0,$$events:{close:()=>t(X,null)}})};U(Je,x=>{e(X)&&x(We)})}var _e=r(Je,2);es(_e,{get defaultSets(){return e(se)},get associatedExerciseId(){return e($)},get visible(){return e(K)},set visible(x){t(K,x,!0)}});var Se=r(_e,2);{var ze=x=>{Kr(x,{isOpen:!0,title:"Delete Exercise",get message(){return`Are you sure you want to delete ${e(q)[e(B)].name??""}?`},requireInput:!1,onConfirm:()=>{e(B)!==null&&(t(q,e(q).filter((F,o)=>o!==e(B)),!0),t(B,null))},onCancel:()=>t(B,null)})};U(Se,x=>{e(B)!==null&&x(ze)})}a(xe),ve(ot,()=>e(P),x=>t(P,x)),ve(ht,()=>e(p),x=>t(p,x)),ve(G,()=>e(w),x=>t(w,x)),ve(me,()=>e(O),x=>t(O,x)),lt(Ne,()=>e(u),x=>t(u,x)),n(L,xe),It()}Zt(["click","keydown","change"]);var ii=S('<h3 class="svelte-1m63nqt">🤏 Fingerboarding</h3>'),li=S("<option> </option>"),oi=S("<option> </option>"),ni=S('<button class="remove-set-btn svelte-1m63nqt">✕</button>'),ci=S('<div class="set-row svelte-1m63nqt"><div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Weight</label> <input type="number" placeholder="0" class="svelte-1m63nqt"/></div> <div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Reps/Secs</label> <input type="number" placeholder="1" class="svelte-1m63nqt"/></div> <!></div>'),vi=S('<div class="exercise-card svelte-1m63nqt"><div class="card-header svelte-1m63nqt"><div class="header-inputs svelte-1m63nqt"><select class="svelte-1m63nqt"></select> <select class="svelte-1m63nqt"></select></div> <button class="remove-card-btn svelte-1m63nqt" title="Remove Exercise">✕</button></div> <div class="sets-list svelte-1m63nqt"><!> <button class="add-set-btn svelte-1m63nqt">+ Add Set</button> <button class="rest-btn svelte-1m63nqt" title="Interval Timer">⏱ Timer</button></div> <div class="card-footer svelte-1m63nqt"><div class="meta-input svelte-1m63nqt"><label class="svelte-1m63nqt">Total Sets</label> <input type="number" readonly="" disabled class="svelte-1m63nqt"/></div> <div class="notes-input svelte-1m63nqt"><label class="svelte-1m63nqt">Notes</label> <input type="text" placeholder="Notes..." class="svelte-1m63nqt"/></div></div></div>'),ui=S("<div> </div>"),di=S('<div class="form-content svelte-1m63nqt"><div class="header-row svelte-1m63nqt"><div style="flex: 1; display: flex; justify-content: space-between; align-items: center;"><!></div> <button class="add-row-btn svelte-1m63nqt">+ Add Exercise</button></div> <div class="form-group date-group svelte-1m63nqt"><label for="date">Date</label> <div class="date-time-row svelte-1m63nqt"><input type="date" id="date" class="svelte-1m63nqt"/> <input type="time" id="time" class="svelte-1m63nqt"/></div></div> <div class="cards-container svelte-1m63nqt"></div> <div class="load-section svelte-1m63nqt"><h4 class="svelte-1m63nqt">Load Metrics</h4> <div class="load-metrics svelte-1m63nqt"><div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div></div> <h4 class="mt-4 svelte-1m63nqt">Grip Metrics</h4> <div class="load-metrics svelte-1m63nqt"><div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div></div></div> <div class="notes-section"><!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1m63nqt"><!></button></div> <!></div>');function Ii(L,i){Bt(i,!0),fa();let l=be(i,"initialData",3,null),y=St(()=>!!l());const M=["Max hangs","Recruitment pulls","Max pick-ups"],E=["Full-crimp","Half-crimp","Three finger drag","Pinch","Open hand","Sloper"];let P=v(He(new Date().toISOString().split("T")[0])),O=v(He(new Date().toTimeString().split(" ")[0].slice(0,5))),q=v(He([])),p=v(3),w=v(3),u=v(3),k=v(3),R=v(3),N=v(3),C=v(3),m=v(3),h=v(""),I=v(!1),D=v(null),K=v(3);function X(_){t(D,_.id,!0),t(K,_.sets,!0),t(I,!0)}function B(){t(q,[...e(q),{id:crypto.randomUUID(),name:M[0],gripType:E[1],sets:1,details:[{weight:0,reps:5}],notes:""}],!0)}const H="fingerboard_session_draft";let $=v(!1);na(()=>{if(l())t(P,l().date,!0),t(O,l().time||"12:00",!0),t(q,l().exercises,!0),t(p,l().fingerLoad||3,!0),t(w,l().shoulderLoad||3,!0),t(u,l().forearmLoad||3,!0),t(k,l().openGrip||3,!0),t(R,l().crimpGrip||3,!0),t(N,l().pinchGrip||3,!0),t(C,l().sloperGrip||3,!0),t(m,l().jugGrip||3,!0),t(h,l().notes||"",!0),t($,!0);else{const _=localStorage.getItem(H);if(_)try{const b=JSON.parse(_);b.time&&t(O,b.time,!0),b.exercises&&Array.isArray(b.exercises)&&t(q,b.exercises,!0),b.fingerLoad&&t(p,b.fingerLoad,!0),b.shoulderLoad&&t(w,b.shoulderLoad,!0),b.forearmLoad&&t(u,b.forearmLoad,!0),b.openGrip&&t(k,b.openGrip,!0),b.crimpGrip&&t(R,b.crimpGrip,!0),b.pinchGrip&&t(N,b.pinchGrip,!0),b.sloperGrip&&t(C,b.sloperGrip,!0),b.jugGrip&&t(m,b.jugGrip,!0),b.notes&&t(h,b.notes,!0)}catch(b){console.error("Failed to restore draft",b)}e(q).length===0&&B(),t($,!0)}}),ra(()=>{if(!e($)||e(y))return;const _={date:e(P),time:e(O),exercises:e(q),fingerLoad:e(p),shoulderLoad:e(w),forearmLoad:e(u),openGrip:e(k),crimpGrip:e(R),pinchGrip:e(N),sloperGrip:e(C),jugGrip:e(m),notes:e(h)};localStorage.setItem(H,JSON.stringify(_))});function se(_){t(q,e(q).filter((b,Y)=>Y!==_),!0)}function ue(_){const b=e(q)[_],Y=b.details[b.details.length-1];b.details=[...b.details,{...Y}],b.sets=b.details.length}function ie(_,b){const Y=e(q)[_];Y.details.length>1&&(Y.details=Y.details.filter((Re,Be)=>Be!==b),Y.sets=Y.details.length)}let te=v("idle"),le=v("");async function z(){t(te,"saving");try{const _={date:e(P),time:e(O),location:"N/A",exercises:JSON.parse(JSON.stringify(e(q))),fingerLoad:e(p),shoulderLoad:e(w),forearmLoad:e(u),openGrip:e(k),crimpGrip:e(R),pinchGrip:e(N),sloperGrip:e(C),jugGrip:e(m),notes:e(h)};let b;e(y)&&l()?b=await Ls(l().id,_):b=await Rs(_),b.ok?(t(te,"success"),t(le,"Session saved!"),e(y)||localStorage.removeItem(H),i.onSaved?i.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{J()},2e3))):(t(te,"error"),t(le,"Failed to save: "+(b.error||"Unknown error")))}catch(_){t(te,"error"),t(le,"Failed to save session"),console.error("Save error:",_)}}function J(){t(P,new Date().toISOString().split("T")[0],!0),t(O,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(q,[],!0),B(),t(p,3),t(w,3),t(u,3),t(k,3),t(R,3),t(N,3),t(C,3),t(m,3),t(h,""),t(te,"idle"),t(le,"")}var ee=di(),de=s(ee),Ve=s(de),xe=s(Ve);{var Ke=_=>{var b=ii();n(_,b)};U(xe,_=>{e(y)||_(Ke)})}a(Ve);var Lt=r(Ve,2);Lt.__click=B,a(de);var Rt=r(de,2),ot=r(s(Rt),2),ft=s(ot);oe(ft);var _t=r(ft,2);oe(_t),a(ot),a(Rt);var Pt=r(Rt,2);ne(Pt,21,()=>e(q),ce,(_,b,Y)=>{var Re=vi(),Be=s(Re),Pe=s(Be),ke=s(Pe);ne(ke,21,()=>M,ce,(vt,it)=>{var qe=li(),ut=s(qe,!0);a(qe);var dt={};W(()=>{j(ut,e(it)),dt!==(dt=e(it))&&(qe.value=(qe.__value=e(it))??"")}),n(vt,qe)}),a(ke);var ge=r(ke,2);ne(ge,21,()=>E,ce,(vt,it)=>{var qe=oi(),ut=s(qe,!0);a(qe);var dt={};W(()=>{j(ut,e(it)),dt!==(dt=e(it))&&(qe.value=(qe.__value=e(it))??"")}),n(vt,qe)}),a(ge),a(Pe);var ye=r(Pe,2);ye.__click=()=>se(Y),a(Be);var re=r(Be,2),fe=s(re);ne(fe,17,()=>e(b).details,ce,(vt,it,qe)=>{var ut=ci(),dt=s(ut),zt=s(dt);tt(zt,"for",`weight-${Y}-${qe}`);var je=r(zt,2);oe(je),tt(je,"id",`weight-${Y}-${qe}`),a(dt);var Ye=r(dt,2),At=s(Ye);tt(At,"for",`reps-${Y}-${qe}`);var jt=r(At,2);oe(jt),tt(jt,"id",`reps-${Y}-${qe}`),a(Ye);var $t=r(Ye,2);{var ia=Ht=>{var ea=ni();ea.__click=()=>ie(Y,qe),n(Ht,ea)};U($t,Ht=>{e(b).details.length>1&&Ht(ia)})}a(ut),ve(je,()=>e(it).weight,Ht=>e(it).weight=Ht),ve(jt,()=>e(it).reps,Ht=>e(it).reps=Ht),n(vt,ut)});var bt=r(fe,2);bt.__click=()=>ue(Y);var Ce=r(bt,2);Ce.__click=()=>X(e(b)),a(re);var Oe=r(re,2),$e=s(Oe),Me=s($e);tt(Me,"for",`total-sets-${Y}`);var Te=r(Me,2);oe(Te),tt(Te,"id",`total-sets-${Y}`),a($e);var Ie=r($e,2),yt=s(Ie);tt(yt,"for",`notes-${Y}`);var Nt=r(yt,2);oe(Nt),tt(Nt,"id",`notes-${Y}`),a(Ie),a(Oe),a(Re),W(()=>_s(Te,e(b).sets)),lt(ke,()=>e(b).name,vt=>e(b).name=vt),lt(ge,()=>e(b).gripType,vt=>e(b).gripType=vt),ve(Nt,()=>e(b).notes,vt=>e(b).notes=vt),n(_,Re)}),a(Pt);var ht=r(Pt,2),G=r(s(ht),2),Z=s(G),me=s(Z);Le(me,{id:"finger-load",label:"Finger",get value(){return e(p)},set value(_){t(p,_,!0)}}),a(Z);var Qe=r(Z,2),Ne=s(Qe);Le(Ne,{id:"shoulder-load",label:"Shoulder",get value(){return e(w)},set value(_){t(w,_,!0)}}),a(Qe);var Ae=r(Qe,2),Mt=s(Ae);Le(Mt,{id:"forearm-load",label:"Forearm",get value(){return e(u)},set value(_){t(u,_,!0)}}),a(Ae),a(G);var nt=r(G,4),Tt=s(nt),at=s(Tt);Le(at,{id:"open-grip",label:"Open",get value(){return e(k)},set value(_){t(k,_,!0)}}),a(Tt);var st=r(Tt,2),ct=s(st);Le(ct,{id:"crimp-grip",label:"Crimp",get value(){return e(R)},set value(_){t(R,_,!0)}}),a(st);var xt=r(st,2),qt=s(xt);Le(qt,{id:"pinch-grip",label:"Pinch",get value(){return e(N)},set value(_){t(N,_,!0)}}),a(xt);var he=r(xt,2),Ge=s(he);Le(Ge,{id:"sloper-grip",label:"Sloper",get value(){return e(C)},set value(_){t(C,_,!0)}}),a(he);var rt=r(he,2),Je=s(rt);Le(Je,{id:"jug-grip",label:"Jug",get value(){return e(m)},set value(_){t(m,_,!0)}}),a(rt),a(nt),a(ht);var We=r(ht,2),_e=s(We);Sa(_e,{placeholder:"How did the session feel? Energy levels, mood, etc.",get value(){return e(h)},set value(_){t(h,_,!0)}}),a(We);var Se=r(We,2),ze=s(Se);{var x=_=>{var b=ui();let Y;var Re=s(b,!0);a(b),W(()=>{Y=Ct(b,1,"save-message svelte-1m63nqt",null,Y,{success:e(te)==="success",error:e(te)==="error"}),j(Re,e(le))}),n(_,b)};U(ze,_=>{e(le)&&_(x)})}var F=r(ze,2);F.__click=z;var o=s(F);{var f=_=>{var b=kt("Saving...");n(_,b)},A=_=>{var b=Kt(),Y=Wt(b);{var Re=Pe=>{var ke=kt("✓ Saved!");n(Pe,ke)},Be=Pe=>{var ke=kt("Save Session");n(Pe,ke)};U(Y,Pe=>{e(te)==="success"?Pe(Re):Pe(Be,!1)},!0)}n(_,b)};U(o,_=>{e(te)==="saving"?_(f):_(A,!1)})}a(F),a(Se);var V=r(Se,2);es(V,{get defaultSets(){return e(K)},get associatedExerciseId(){return e(D)},get visible(){return e(I)},set visible(_){t(I,_,!0)}}),a(ee),W(()=>F.disabled=e(te)==="saving"),ve(ft,()=>e(P),_=>t(P,_)),ve(_t,()=>e(O),_=>t(O,_)),n(L,ee),It()}Zt(["click"]);var gi=S('<h3 style="margin: 0; color: var(--teal-secondary);" class="svelte-1fje4dh">🏆 Competition</h3>'),pi=S("<option> </option>"),mi=S('<input type="text" placeholder="Enter venue name" class="mt-2 svelte-1fje4dh"/>'),fi=S("<option> </option>"),_i=S("<option> </option>"),hi=S('<input type="text" placeholder="Round name" class="mt-2 svelte-1fje4dh"/>'),bi=S('<div class="result-mode-content svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="position" class="svelte-1fje4dh">Final Position</label> <input type="number" id="position" placeholder="#" class="large-input svelte-1fje4dh"/></div></div>'),yi=S("<option> </option>"),wi=S('<input type="number" min="1" class="svelte-1fje4dh"/>'),Si=S('<span class="flash-dash">-</span>'),ki=S('<tr><td class="col-name svelte-1fje4dh"><input type="text" class="svelte-1fje4dh"/></td><td class="col-status svelte-1fje4dh"><select class="svelte-1fje4dh"></select></td><td class="col-attempt svelte-1fje4dh"><!></td><td class="col-notes svelte-1fje4dh"><input type="text" placeholder="..." class="svelte-1fje4dh"/></td><td class="col-action svelte-1fje4dh"><button class="svelte-1fje4dh">✕</button></td></tr>'),Ti=S('<div class="section-header centered svelte-1fje4dh"><h4 class="svelte-1fje4dh">Load Metrics</h4></div> <div class="load-metrics-column svelte-1fje4dh"><div class="metric-row svelte-1fje4dh"><!></div> <div class="metric-row svelte-1fje4dh"><!></div> <div class="metric-row svelte-1fje4dh"><!></div></div> <div class="climbs-table-container svelte-1fje4dh"><div class="section-header svelte-1fje4dh"><h4 class="svelte-1fje4dh">Boulders / Routes</h4></div> <table class="climbs-table svelte-1fje4dh"><thead><tr><th class="svelte-1fje4dh">#</th><th class="svelte-1fje4dh">Result</th><th class="svelte-1fje4dh">Att.</th><th class="svelte-1fje4dh">Notes</th><th class="svelte-1fje4dh"></th></tr></thead><tbody></tbody></table> <button class="add-row-btn svelte-1fje4dh">+ Add Row</button></div>',1),xi=S("<div> </div>"),Ci=S('<div class="form-content svelte-1fje4dh"><div style="flex: 1; display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;"><!></div> <div class="form-grid svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="date" class="svelte-1fje4dh">Date</label> <div class="date-time-row svelte-1fje4dh"><input type="date" id="date" class="svelte-1fje4dh"/> <input type="time" id="time" class="svelte-1fje4dh"/></div></div> <div class="form-group svelte-1fje4dh"><label for="venue" class="svelte-1fje4dh">Venue</label> <select id="venue" class="svelte-1fje4dh"><option disabled>Select venue...</option><!></select> <!></div></div> <div class="form-group mb-4 svelte-1fje4dh"><label for="type" class="svelte-1fje4dh">Type</label> <select id="type" class="svelte-1fje4dh"></select></div> <div class="form-group mb-4 svelte-1fje4dh"><!></div> <div class="round-section svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="round" class="svelte-1fje4dh">Round</label> <select id="round" class="svelte-1fje4dh"></select> <!></div> <!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1fje4dh"><!></button></div></div>');function Hi(L,i){Bt(i,!0),fa();let l=be(i,"initialData",3,null),y=St(()=>!!l());const M=["Flashpoint Bristol","Rockstar Techno","Rockstar Unit 3","Rockstar Unit 5","Bloc","TCA","Other"],E=["Bouldering","Lead","Speed"],P=["Qualifiers","Semi-Finals","Finals","Result","Other"],O=["Flash","Top","Zone","Attempt"];let q=v(He(new Date().toISOString().split("T")[0])),p=v(He(new Date().toTimeString().split(" ")[0].slice(0,5))),w=v(""),u=v(""),k=v("Bouldering"),R=v(4),N=v(4),C=v(4),m=v("Qualifiers"),h=v(""),I=v(null),D=v(He([{name:"#1",status:"Flash",attemptCount:1,notes:""}])),K=v("");const X="competition_session_draft";let B=v(!1);na(()=>{if(l()){if(t(q,l().date,!0),t(p,l().time||"12:00",!0),t(k,l().type||"Bouldering",!0),t(K,l().notes||"",!0),M.includes(l().venue)?t(w,l().venue,!0):(t(w,"Other"),t(u,l().venue,!0)),t(R,l().fingerLoad??4,!0),t(N,l().shoulderLoad??4,!0),t(C,l().forearmLoad??4,!0),l().rounds&&l().rounds.length>0){const o=l().rounds[0];P.includes(o.name)?t(m,o.name,!0):(t(m,"Other"),t(h,o.name,!0)),t(I,o.position??null,!0),o.climbs&&o.climbs.length>0&&t(D,o.climbs,!0)}t(B,!0)}else{const o=localStorage.getItem(X);if(o)try{const f=JSON.parse(o);f.venue&&t(w,f.venue,!0),f.time&&t(p,f.time,!0),f.customVenue&&t(u,f.customVenue,!0),f.type&&t(k,f.type,!0),f.fingerLoad&&t(R,f.fingerLoad,!0),f.shoulderLoad&&t(N,f.shoulderLoad,!0),f.forearmLoad&&t(C,f.forearmLoad,!0),f.roundName&&t(m,f.roundName,!0),f.customRoundName&&t(h,f.customRoundName,!0),f.finalPosition&&t(I,f.finalPosition,!0),f.climbs&&t(D,f.climbs,!0),f.notes&&t(K,f.notes,!0)}catch(f){console.error("Failed to restore draft",f)}t(B,!0)}}),ra(()=>{if(!e(B)||e(y))return;const o={date:e(q),time:e(p),venue:e(w),customVenue:e(u),type:e(k),fingerLoad:e(R),shoulderLoad:e(N),forearmLoad:e(C),roundName:e(m),customRoundName:e(h),finalPosition:e(I),climbs:e(D),notes:e(K)};localStorage.setItem(X,JSON.stringify(o))});let H=St(()=>e(m)==="Result"),$=St(()=>e(w)==="Other"),se=St(()=>e(m)==="Other"),ue=St(()=>e(m)==="Other"?e(h):e(m));function ie(){const o=e(D).length+1;t(D,[...e(D),{name:`#${o}`,status:"Flash",attemptCount:1,notes:""}],!0)}function te(o){e(D).length>1?t(D,e(D).filter((f,A)=>A!==o),!0):e(D)[0]={name:"#1",status:"Flash",attemptCount:1,notes:""}}function le(o,f){e(D)[o].status=f,f==="Flash"&&(e(D)[o].attemptCount=1)}let z=v("idle"),J=v("");async function ee(){if(!e(w)||e(w)==="Other"&&!e(u)){t(z,"error"),t(J,"Please specify a venue");return}t(z,"saving");try{const o={name:e(ue),position:e(H)?e(I):void 0,climbs:e(H)?void 0:JSON.parse(JSON.stringify(e(D)))},f={date:e(q),time:e(p),venue:e(w)==="Other"?e(u):e(w),customVenue:e(w)==="Other"?e(u):void 0,type:e(k),fingerLoad:e(H)?void 0:e(R),shoulderLoad:e(H)?void 0:e(N),forearmLoad:e(H)?void 0:e(C),rounds:[o],notes:e(K)};let A;e(y)&&l()?A=await Ps(l().id,f):A=await Ms(f),A.ok?(t(z,"success"),t(J,"Competition saved!"),e(y)||localStorage.removeItem(X),i.onSaved?i.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{de()},2e3))):(t(z,"error"),t(J,"Failed to save: "+(A.error||"Unknown error")))}catch(o){t(z,"error"),t(J,"Failed to save session"),console.error("Save error:",o)}}function de(){t(q,new Date().toISOString().split("T")[0],!0),t(p,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(w,""),t(u,""),t(I,null),t(D,[{name:"#1",status:"Flash",attemptCount:1,notes:""}],!0),t(K,""),t(z,"idle"),t(J,"")}var Ve=Ci(),xe=s(Ve),Ke=s(xe);{var Lt=o=>{var f=gi();n(o,f)};U(Ke,o=>{e(y)||o(Lt)})}a(xe);var Rt=r(xe,2),ot=s(Rt),ft=r(s(ot),2),_t=s(ft);oe(_t);var Pt=r(_t,2);oe(Pt),a(ft),a(ot);var ht=r(ot,2),G=r(s(ht),2),Z=s(G);Z.value=Z.__value="";var me=r(Z);ne(me,17,()=>M,ce,(o,f)=>{var A=pi(),V=s(A,!0);a(A);var _={};W(()=>{j(V,e(f)),_!==(_=e(f))&&(A.value=(A.__value=e(f))??"")}),n(o,A)}),a(G);var Qe=r(G,2);{var Ne=o=>{var f=mi();oe(f),ve(f,()=>e(u),A=>t(u,A)),n(o,f)};U(Qe,o=>{e($)&&o(Ne)})}a(ht),a(Rt);var Ae=r(Rt,2),Mt=r(s(Ae),2);ne(Mt,21,()=>E,ce,(o,f)=>{var A=fi(),V=s(A,!0);a(A);var _={};W(()=>{j(V,e(f)),_!==(_=e(f))&&(A.value=(A.__value=e(f))??"")}),n(o,A)}),a(Mt),a(Ae);var nt=r(Ae,2),Tt=s(nt);Sa(Tt,{placeholder:"How did the comp go? Strategy, mindset, etc.",get value(){return e(K)},set value(o){t(K,o,!0)}}),a(nt);var at=r(nt,2),st=s(at),ct=r(s(st),2);ne(ct,21,()=>P,ce,(o,f)=>{var A=_i(),V=s(A,!0);a(A);var _={};W(()=>{j(V,e(f)),_!==(_=e(f))&&(A.value=(A.__value=e(f))??"")}),n(o,A)}),a(ct);var xt=r(ct,2);{var qt=o=>{var f=hi();oe(f),ve(f,()=>e(h),A=>t(h,A)),n(o,f)};U(xt,o=>{e(se)&&o(qt)})}a(st);var he=r(st,2);{var Ge=o=>{var f=bi(),A=s(f),V=r(s(A),2);oe(V),a(A),a(f),ve(V,()=>e(I),_=>t(I,_)),n(o,f)},rt=o=>{var f=Ti(),A=r(Wt(f),2),V=s(A),_=s(V);Le(_,{id:"finger",label:"Finger Load",max:5,get value(){return e(R)},set value(re){t(R,re,!0)}}),a(V);var b=r(V,2),Y=s(b);Le(Y,{id:"shoulder",label:"Shoulder Load",max:5,get value(){return e(N)},set value(re){t(N,re,!0)}}),a(b);var Re=r(b,2),Be=s(Re);Le(Be,{id:"forearm",label:"Forearm Load",max:5,get value(){return e(C)},set value(re){t(C,re,!0)}}),a(Re),a(A);var Pe=r(A,2),ke=r(s(Pe),2),ge=r(s(ke));ne(ge,21,()=>e(D),ce,(re,fe,bt)=>{var Ce=ki(),Oe=s(Ce),$e=s(Oe);oe($e),a(Oe);var Me=r(Oe),Te=s(Me);Te.__change=je=>le(bt,je.target.value),ne(Te,21,()=>O,ce,(je,Ye)=>{var At=yi(),jt=s(At,!0);a(At);var $t={};W(()=>{j(jt,e(Ye)),$t!==($t=e(Ye))&&(At.value=(At.__value=e(Ye))??"")}),n(je,At)}),a(Te);var Ie;Fa(Te),a(Me);var yt=r(Me),Nt=s(yt);{var vt=je=>{var Ye=wi();oe(Ye),ve(Ye,()=>e(fe).attemptCount,At=>e(fe).attemptCount=At),n(je,Ye)},it=je=>{var Ye=Si();n(je,Ye)};U(Nt,je=>{e(fe).status!=="Flash"?je(vt):je(it,!1)})}a(yt);var qe=r(yt),ut=s(qe);oe(ut),a(qe);var dt=r(qe),zt=s(dt);zt.__click=()=>te(bt),a(dt),a(Ce),W(()=>{Ie!==(Ie=e(fe).status)&&(Te.value=(Te.__value=e(fe).status)??"",Wa(Te,e(fe).status))}),ve($e,()=>e(fe).name,je=>e(fe).name=je),ve(ut,()=>e(fe).notes,je=>e(fe).notes=je),n(re,Ce)}),a(ge),a(ke);var ye=r(ke,2);ye.__click=ie,a(Pe),n(o,f)};U(he,o=>{e(H)?o(Ge):o(rt,!1)})}a(at);var Je=r(at,2),We=s(Je);{var _e=o=>{var f=xi();let A;var V=s(f,!0);a(f),W(()=>{A=Ct(f,1,"save-message svelte-1fje4dh",null,A,{success:e(z)==="success",error:e(z)==="error"}),j(V,e(J))}),n(o,f)};U(We,o=>{e(J)&&o(_e)})}var Se=r(We,2);Se.__click=ee;var ze=s(Se);{var x=o=>{var f=kt("Saving...");n(o,f)},F=o=>{var f=Kt(),A=Wt(f);{var V=b=>{var Y=kt("✓ Saved!");n(b,Y)},_=b=>{var Y=kt("Save Session");n(b,Y)};U(A,b=>{e(z)==="success"?b(V):b(_,!1)},!0)}n(o,f)};U(ze,o=>{e(z)==="saving"?o(x):o(F,!1)})}a(Se),a(Je),a(Ve),W(()=>Se.disabled=e(z)==="saving"),ve(_t,()=>e(q),o=>t(q,o)),ve(Pt,()=>e(p),o=>t(p,o)),lt(G,()=>e(w),o=>t(w,o)),lt(Mt,()=>e(k),o=>t(k,o)),lt(ct,()=>e(m),o=>t(m,o)),n(L,Ve),It()}Zt(["change","click"]);export{Hi as C,Kr as D,Ra as E,Ii as F,Bi as G,Oi as I,Fi as O,Ka as a,Za as f,or as g,Wi as s,ca as t};
