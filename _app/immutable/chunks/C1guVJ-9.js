import{f as _,a as c,c as Wt,t as _t}from"./DTnjDEW1.js";import{C as aa,X as ia,a_ as ra,ae as la,a2 as oa,k as vt,a$ as na,az as Xs,b0 as ca,aj as ua,n as ks,a4 as da,p as Ft,c as i,r as s,s as a,g as e,t as E,a as At,f as Pt,e as g,A as He,o as bs,d as t,j as ts,aM as ft,as as lt,b1 as Cs,b2 as cs,q as mt,b3 as va,b4 as ga,b5 as pa,b6 as ma,b7 as fa,aL as _a}from"./BBs_1RZS.js";import{a as ba,d as ss,s as K,e as Se}from"./BJ-Wizxk.js";import{i as V}from"./BVsFZ273.js";import{e as be,j as he,r as j,i as Mt,p as ha}from"./B-eqCwYU.js";import{s as yt}from"./C-y91pOx.js";import{a as Is,s as js,c as W,b as ot,d as Zs,u as ya,e as wa,f as Sa,g as ka,h as Us,j as xa,k as Ca,l as Ta,m as La,n as Ma,o as Pa,p as qa}from"./CMoBB5Zq.js";import{p as Fe}from"./DPm1jxUN.js";import{i as Bs}from"./CDtJldIT.js";import{b as Ra}from"./DfktEj0I.js";const Da=()=>performance.now(),Kt={tick:P=>requestAnimationFrame(P),now:()=>Da(),tasks:new Set};function $s(){const P=Kt.now();Kt.tasks.forEach(r=>{r.c(P)||(Kt.tasks.delete(r),r.f())}),Kt.tasks.size!==0&&Kt.tick($s)}function Na(P){let r;return Kt.tasks.size===0&&Kt.tick($s),{promise:new Promise(o=>{Kt.tasks.add(r={c:P,f:o})}),abort(){Kt.tasks.delete(r)}}}function Ds(P,r){Xs(()=>{P.dispatchEvent(new CustomEvent(r))})}function Ba(P){if(P==="float")return"cssFloat";if(P==="offset")return"cssOffset";if(P.startsWith("--"))return P;const r=P.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function Ks(P){const r={},o=P.split(";");for(const p of o){const[T,R]=p.split(":");if(!T||R===void 0)break;const O=Ba(T.trim());r[O]=R.trim()}return r}const Fa=P=>P;function es(P,r,o,p){var T=(P&na)!==0,R="both",O,y=r.inert,w=r.style.overflow,x,C;function L(){return Xs(()=>O??=o()(r,p?.()??{},{direction:R}))}var D={is_global:T,in(){r.inert=y,Ds(r,"introstart"),x=Hs(r,L(),C,1,()=>{Ds(r,"introend"),x?.abort(),x=O=void 0,r.style.overflow=w})},out(M){r.inert=!0,Ds(r,"outrostart"),C=Hs(r,L(),x,0,()=>{Ds(r,"outroend"),M?.()})},stop:()=>{x?.abort(),C?.abort()}},m=aa;if((m.nodes.t??=[]).push(D),ba){var B=T;if(!B){for(var S=m.parent;S&&(S.f&ia)!==0;)for(;(S=S.parent)&&(S.f&ra)===0;);B=!S||(S.f&la)!==0}B&&oa(()=>{vt(()=>D.in())})}}function Hs(P,r,o,p,T){var R=p===1;if(ca(r)){var O,y=!1;return ua(()=>{if(!y){var M=r({direction:R?"in":"out"});O=Hs(P,M,o,p,T)}}),{abort:()=>{y=!0,O?.abort()},deactivate:()=>O.deactivate(),reset:()=>O.reset(),t:()=>O.t()}}if(o?.deactivate(),!r?.duration)return T(),{abort:ks,deactivate:ks,reset:ks,t:()=>p};const{delay:w=0,css:x,tick:C,easing:L=Fa}=r;var D=[];if(R&&o===void 0&&(C&&C(0,1),x)){var m=Ks(x(0,1));D.push(m,m)}var B=()=>1-p,S=P.animate(D,{duration:w,fill:"forwards"});return S.onfinish=()=>{S.cancel();var M=o?.t()??1-p;o?.abort();var q=p-M,N=r.duration*Math.abs(q),h=[];if(N>0){var F=!1;if(x)for(var z=Math.ceil(N/16.666666666666668),A=0;A<=z;A+=1){var G=M+q*L(A/z),Q=Ks(x(G,1-G));h.push(Q),F||=Q.overflow==="hidden"}F&&(P.style.overflow="hidden"),B=()=>{var ee=S.currentTime;return M+q*L(ee/N)},C&&Na(()=>{if(S.playState!=="running")return!1;var ee=B();return C(ee,1-ee),!0})}S=P.animate(h,{duration:N,fill:"forwards"}),S.onfinish=()=>{B=()=>p,C?.(p,1-p),T()}},{abort:()=>{S&&(S.cancel(),S.effect=null,S.onfinish=ks)},deactivate:()=>{T=ks},reset:()=>{p===0&&C?.(1,0)},t:()=>B()}}function Qs(P){return function(...r){var o=r[0];return o.stopPropagation(),P?.apply(this,r)}}function xs(P,r){var o=P.$$events?.[r.type],p=da(o)?o.slice():o==null?[]:[o];for(var T of p)T.call(this,r)}var Aa=_('<span class="placeholder svelte-1g8x5ph"> </span>'),Oa=_('<span class="chip-display"> </span>'),Ea=_('<button type="button"> </button>'),Ha=_('<div class="multi-select-container svelte-1g8x5ph"><div class="chips svelte-1g8x5ph"><!></div> <div class="options-grid svelte-1g8x5ph"></div></div>');function ns(P,r){Ft(r,!0);let o=Fe(r,"selected",19,()=>[]),p=Fe(r,"placeholder",3,"Select options...");function T(L){let D=[...o()];L==="None"?D.includes("None")?D=[]:D=["None"]:(D=D.filter(m=>m!=="None"),D.includes(L)?D=D.filter(m=>m!==L):D.push(L)),r.onChange(D)}var R=Ha(),O=i(R),y=i(O);{var w=L=>{var D=Aa(),m=i(D,!0);s(D),E(()=>K(m,p())),c(L,D)},x=L=>{var D=Wt(),m=Pt(D);be(m,17,o,he,(B,S)=>{var M=Oa(),q=i(M,!0);s(M),E(()=>K(q,e(S))),c(B,M)}),c(L,D)};V(y,L=>{o().length===0?L(w):L(x,!1)})}s(O);var C=a(O,2);be(C,21,()=>r.options,he,(L,D)=>{var m=Ea();m.__click=()=>T(e(D));var B=i(m,!0);s(m),E(S=>{yt(m,1,`option-chip ${S??""}`,"svelte-1g8x5ph"),K(B,e(D))},[()=>o().includes(e(D))?"selected":""]),c(L,m)}),s(C),s(R),c(P,R),At()}ss(["click"]);var Ga=_('<div class="input-with-action svelte-1lf3qka"><input type="text" id="location-manual" placeholder="Enter custom location..." class="flat-left svelte-1lf3qka"/> <button type="button" class="action-btn flat-right svelte-1lf3qka" title="Back to list">✕</button></div>'),Wa=_("<option> </option>"),Ia=_('<select id="location" class="svelte-1lf3qka"><option disabled>Select location...</option><!></select>'),ja=_("<option> </option>"),za=_("<option> </option>"),Va=_('<th class="svelte-1lf3qka">Sport?</th>'),Ua=_('<td class="center svelte-1lf3qka"><input type="checkbox" class="svelte-1lf3qka"/></td>'),Ka=_('<span class="grade-error svelte-1lf3qka">Invalid</span>'),Qa=_("<option> </option>"),Ja=_("<option> </option>"),Ya=_("<option> </option>"),Xa=_('<button type="button" class="remove-btn svelte-1lf3qka">✕</button>'),Za=_('<tr class="svelte-1lf3qka"><!><td class="svelte-1lf3qka"><input type="text" placeholder="Route name..." class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><input type="text" placeholder="V3"/> <!></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><input type="number" min="1" class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td><textarea placeholder="Notes..." class="svelte-1lf3qka"></textarea></td><td class="center svelte-1lf3qka"><!></td></tr>'),$a=_("<div> </div>"),ei=_('<button type="button" class="cancel-btn-large svelte-1lf3qka">Cancel</button>'),ti=_('<div class="form-content svelte-1lf3qka"><div class="form-row svelte-1lf3qka"><div class="form-group svelte-1lf3qka"><label for="date" class="svelte-1lf3qka">Date</label> <div class="date-time-row svelte-1lf3qka"><input type="date" id="date" class="svelte-1lf3qka"/> <input type="time" id="time" class="svelte-1lf3qka"/></div></div> <div class="form-group svelte-1lf3qka"><label for="location" class="svelte-1lf3qka">Location</label> <!></div></div> <div class="form-group svelte-1lf3qka"><label for="climbing-type" class="svelte-1lf3qka">Climbing Type</label> <select id="climbing-type" class="svelte-1lf3qka"><option disabled>Select type...</option><!></select></div> <div class="load-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Load Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="load-item svelte-1lf3qka"><label for="finger-load" class="svelte-1lf3qka">Finger</label> <input type="number" id="finger-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="shoulder-load" class="svelte-1lf3qka">Shoulder</label> <input type="number" id="shoulder-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="forearm-load" class="svelte-1lf3qka">Forearm</label> <input type="number" id="forearm-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div></div> <h4 class="mt-4 svelte-1lf3qka">Grip Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="load-item svelte-1lf3qka"><label for="open-grip" class="svelte-1lf3qka">Open</label> <input type="number" id="open-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="crimp-grip" class="svelte-1lf3qka">Crimp</label> <input type="number" id="crimp-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="pinch-grip" class="svelte-1lf3qka">Pinch</label> <input type="number" id="pinch-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="sloper-grip" class="svelte-1lf3qka">Sloper</label> <input type="number" id="sloper-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="jug-grip" class="svelte-1lf3qka">Jug</label> <input type="number" id="jug-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div></div></div> <div class="training-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Training Details</h4> <div class="training-grid svelte-1lf3qka"><div class="training-item svelte-1lf3qka"><label for="training-type" class="svelte-1lf3qka">Training Type</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="difficulty" class="svelte-1lf3qka">Difficulty</label> <select id="difficulty"></select></div> <div class="training-item svelte-1lf3qka"><label for="category" class="svelte-1lf3qka">Category</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="energy-system" class="svelte-1lf3qka">Energy System</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="wall-angle" class="svelte-1lf3qka">Wall</label> <!></div></div></div> <div class="form-group notes-section svelte-1lf3qka"><label for="session-notes" class="svelte-1lf3qka">Session Notes</label> <textarea id="session-notes" placeholder="How did the session feel? Energy levels, mood, etc." rows="3" class="svelte-1lf3qka"></textarea></div> <div class="climbs-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Climbs</h4> <div class="table-container svelte-1lf3qka"><table class="climbs-table svelte-1lf3qka"><thead><tr><!><th class="svelte-1lf3qka">Name</th><th class="svelte-1lf3qka">Grade</th><th class="svelte-1lf3qka">Attempt</th><th class="svelte-1lf3qka">#</th><th class="svelte-1lf3qka">Wall Angle</th><th class="svelte-1lf3qka">Technique Focus</th><th class="svelte-1lf3qka">Notes</th><th class="svelte-1lf3qka"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-1lf3qka">+ Add Climb</button></div> <div class="submit-section svelte-1lf3qka"><!> <div class="action-buttons svelte-1lf3qka"><!> <button type="button" class="submit-btn svelte-1lf3qka"><!></button></div></div></div>');function Ar(P,r){Ft(r,!0);const o=["Rockstar Unit 3","Rockstar Unit 5","Rockstar Techno","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","TCA Mothership","TCA Church","TCA Arc","Bloc","270 Climbing","Other"],p=["Bouldering","Sport","Mixed"],T=["Onsight","Flash","Redpoint","Repeat","Dogged","DNF"],R=["None","Projecting","Onsighting","Campusing","Repeaters","Comp Sim"],O=["None","Easy","Medium","Hard","Max","Limit+"],y=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Endurance","Coordination","Slab Technique","Overhang Technique"],w=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],x=["None","Trusting feet","Double-clutch","Standing on volumes","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Pogo","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"],C=["None","Overhang","Vertical","Slab","Roof"],L=["None","Moon Board","Kilter Board","Tension Board","Beast","Circuit Board","Boulder wall","Lead wall","Comp wall","Auto belays"],m=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","6A+","V4","6B","6B+","V5","6C","6C+","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"].map(f=>f.toLowerCase());let B=g(null),S=ft(()=>!!r.initialData),M=g(He(new Date().toISOString().split("T")[0])),q=g(He(new Date().toTimeString().split(" ")[0].slice(0,5))),N=g(""),h=g(""),F=g(He(["None"])),z=g("None"),A=g(He(["None"])),G=g(He(["None"])),Q=g(He(["None"])),ee=g(3),ve=g(3),ce=g(3),pe=g(3),ge=g(3),H=g(3),Z=g(3),te=g(3),$=g(He([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}])),ue=g(""),ye=g(!1);const se="indoor_climb_draft";let Y=g(!1);bs(()=>{if(r.initialData)t(M,r.initialData.date,!0),t(q,r.initialData.time||"12:00",!0),o.includes(r.initialData.location)?(t(N,r.initialData.location,!0),t(ye,!1)):r.initialData.customLocation?(t(N,r.initialData.customLocation,!0),t(ye,!0)):(t(N,r.initialData.location,!0),t(ye,!0)),t(h,r.initialData.climbingType,!0),t(F,r.initialData.trainingTypes||["None"],!0),t(z,r.initialData.difficulty||"None",!0),t(A,r.initialData.categories||["None"],!0),t(G,r.initialData.energySystems||["None"],!0),t(Q,r.initialData.wallAngles||["None"],!0),t(ee,r.initialData.fingerLoad||3,!0),t(ve,r.initialData.shoulderLoad||3,!0),t(ce,r.initialData.forearmLoad||3,!0),t(pe,r.initialData.openGrip||3,!0),t(ge,r.initialData.crimpGrip||3,!0),t(H,r.initialData.pinchGrip||3,!0),t(Z,r.initialData.sloperGrip||3,!0),t(te,r.initialData.jugGrip||3,!0),r.initialData.climbs&&r.initialData.climbs.length>0?t($,JSON.parse(JSON.stringify(r.initialData.climbs)),!0):t($,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0),t(ue,r.initialData.notes||"",!0);else{const f=localStorage.getItem(se);if(f)try{const u=JSON.parse(f);u.location&&t(N,u.location,!0),u.time&&t(q,u.time,!0),u.isOtherLocation&&t(ye,u.isOtherLocation,!0),u.climbingType&&t(h,u.climbingType,!0),u.trainingTypes&&t(F,u.trainingTypes,!0),u.difficulty&&t(z,u.difficulty,!0),u.categories&&t(A,u.categories,!0),u.energySystems&&t(G,u.energySystems,!0),u.wallAngles&&t(Q,u.wallAngles,!0),u.fingerLoad&&t(ee,u.fingerLoad,!0),u.shoulderLoad&&t(ve,u.shoulderLoad,!0),u.forearmLoad&&t(ce,u.forearmLoad,!0),u.openGrip&&t(pe,u.openGrip,!0),u.crimpGrip&&t(ge,u.crimpGrip,!0),u.pinchGrip&&t(H,u.pinchGrip,!0),u.sloperGrip&&t(Z,u.sloperGrip,!0),u.jugGrip&&t(te,u.jugGrip,!0),u.climbs&&t($,u.climbs,!0),u.notes&&t(ue,u.notes,!0)}catch(u){console.error("Failed to restore draft",u)}}t(Y,!0)}),ts(()=>{if(!e(Y)||e(S))return;const f={date:e(M),time:e(q),location:e(N),isOtherLocation:e(ye),climbingType:e(h),trainingTypes:e(F),difficulty:e(z),categories:e(A),energySystems:e(G),fingerLoad:e(ee),shoulderLoad:e(ve),forearmLoad:e(ce),openGrip:e(pe),crimpGrip:e(ge),pinchGrip:e(H),sloperGrip:e(Z),jugGrip:e(te),climbs:e($),notes:e(ue)};localStorage.setItem(se,JSON.stringify(f))});function Ge(){e(N)==="Other"&&(t(ye,!0),t(N,""))}function nt(){t(ye,!1),t(N,"")}function wt(){t($,[...e($),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0)}function St(f){t($,e($).filter((u,le)=>le!==f),!0)}function U(f,u){e($)[f].attemptType=u,(u==="Flash"||u==="Onsight")&&(e($)[f].attemptsNum=1)}function I(f){t(B,f,!0)}function ie(){t(B,null)}let We=ft(()=>e(h)==="Mixed");function Ze(f){return e(h)==="Sport"?!0:e(h)==="Bouldering"?!1:f.isSport}function Re(f){return f.trim()?m.includes(f.trim().toLowerCase()):!0}let ke=g("idle"),De=g("");function re(){return e(N)?e(h)?e($).filter(u=>u.grade.trim()&&!Re(u.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a location"}async function we(){const f=re();if(f){t(ke,"error"),t(De,f,!0);return}t(ke,"saving");try{const u=e($).map(Xe=>({...Xe,isSport:Ze(Xe)})),le={date:e(M),time:e(q),location:e(N),customLocation:e(ye)?e(N):void 0,climbingType:e(h),trainingTypes:e(F),difficulty:e(z),categories:e(A),energySystems:e(G),wallAngles:e(Q),fingerLoad:e(ee),shoulderLoad:e(ve),forearmLoad:e(ce),openGrip:e(pe),crimpGrip:e(ge),pinchGrip:e(H),sloperGrip:e(Z),jugGrip:e(te),climbs:u,notes:e(ue)};let Ue;e(S)?Ue=await ya(r.initialData.id,le):Ue=await wa(le),Ue.ok?(t(ke,"success"),t(De,e(S)?"Session updated!":"Session saved!",!0),e(S)||localStorage.removeItem(se),r.onSaved&&setTimeout(()=>{r.onSaved()},500)):(t(ke,"error"),t(De,"Failed to save: "+(Ue.error||"Unknown error"))),e(S)||(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{Ke()},2e3))}catch(u){t(ke,"error"),t(De,"Failed to save session"),console.error("Save error:",u)}}function Ke(){t(M,new Date().toISOString().split("T")[0],!0),t(q,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(N,""),t(ye,!1),t(h,""),t(F,["None"],!0),t(z,"None"),t(A,["None"],!0),t(G,["None"],!0),t(Q,["None"],!0),t(ee,3),t(ve,3),t(ce,3),t(pe,3),t(ge,3),t(H,3),t(Z,3),t(te,3),t($,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0),t(ue,""),t(ke,"idle"),t(De,"")}var Ae=ti(),Ie=i(Ae),me=i(Ie),xe=a(i(me),2),Qe=i(xe);j(Qe);var Oe=a(Qe,2);j(Oe),s(xe),s(me);var ct=a(me,2),ut=a(i(ct),2);{var je=f=>{var u=Ga(),le=i(u);j(le);var Ue=a(le,2);Ue.__click=nt,s(u),W(le,()=>e(N),Xe=>t(N,Xe)),c(f,u)},Me=f=>{var u=Ia();u.__change=Ge;var le=i(u);le.value=le.__value="";var Ue=a(le);be(Ue,17,()=>o,he,(Xe,Tt)=>{var v=Wa(),n=i(v,!0);s(v);var X={};E(()=>{K(n,e(Tt)),X!==(X=e(Tt))&&(v.value=(v.__value=e(Tt))??"")}),c(Xe,v)}),s(u),ot(u,()=>e(N),Xe=>t(N,Xe)),c(f,u)};V(ut,f=>{e(ye)?f(je):f(Me,!1)})}s(ct),s(Ie);var Te=a(Ie,2),de=a(i(Te),2),Pe=i(de);Pe.value=Pe.__value="";var Ne=a(Pe);be(Ne,17,()=>p,he,(f,u)=>{var le=ja(),Ue=i(le,!0);s(le);var Xe={};E(()=>{K(Ue,e(u)),Xe!==(Xe=e(u))&&(le.value=(le.__value=e(u))??"")}),c(f,le)}),s(de),s(Te);var $e=a(Te,2),b=a(i($e),2),l=i(b),d=a(i(l),2);j(d),lt(2),s(l);var k=a(l,2),J=a(i(k),2);j(J),lt(2),s(k);var oe=a(k,2),ae=a(i(oe),2);j(ae),lt(2),s(oe),s(b);var Ce=a(b,4),dt=i(Ce),It=a(i(dt),2);j(It),lt(2),s(dt);var xt=a(dt,2),Nt=a(i(xt),2);j(Nt),lt(2),s(xt);var Ot=a(xt,2),kt=a(i(Ot),2);j(kt),lt(2),s(Ot);var fe=a(Ot,2),Je=a(i(fe),2);j(Je),lt(2),s(fe);var ze=a(fe,2),gt=a(i(ze),2);j(gt),lt(2),s(ze),s(Ce),s($e);var qt=a($e,2),pt=a(i(qt),2),et=i(pt),Ct=a(i(et),2);ns(Ct,{get options(){return R},get selected(){return e(F)},placeholder:"Select types...",onChange:f=>t(F,f,!0)}),s(et);var Ve=a(et,2),it=a(i(Ve),2);be(it,21,()=>O,he,(f,u)=>{var le=za(),Ue=i(le,!0);s(le);var Xe={};E(()=>{K(Ue,e(u)),Xe!==(Xe=e(u))&&(le.value=(le.__value=e(u))??"")}),c(f,le)}),s(it),s(Ve);var tt=a(Ve,2),Et=a(i(tt),2);ns(Et,{get options(){return y},get selected(){return e(A)},placeholder:"Select categories...",onChange:f=>t(A,f,!0)}),s(tt);var bt=a(tt,2),as=a(i(bt),2);ns(as,{get options(){return w},get selected(){return e(G)},placeholder:"Select systems...",onChange:f=>t(G,f,!0)}),s(bt);var Qt=a(bt,2),is=a(i(Qt),2);ns(is,{get options(){return L},get selected(){return e(Q)},placeholder:"Select walls...",onChange:f=>t(Q,f,!0)}),s(Qt),s(pt),s(qt);var Ye=a(qt,2),ht=a(i(Ye),2);Cs(ht),s(Ye);var Rt=a(Ye,2),Vt=a(i(Rt),2),Ut=i(Vt),rs=i(Ut),Ts=i(rs),Ls=i(Ts);{var Fs=f=>{var u=Va();c(f,u)};V(Ls,f=>{e(We)&&f(Fs)})}lt(8),s(Ts),s(rs);var us=a(rs);be(us,21,()=>e($),he,(f,u,le)=>{var Ue=Za(),Xe=i(Ue);{var Tt=ne=>{var Ee=Ua(),qe=i(Ee);j(qe),s(Ee),Zs(qe,()=>e(u).isSport,jt=>e(u).isSport=jt),c(ne,Ee)};V(Xe,ne=>{e(We)&&ne(Tt)})}var v=a(Xe),n=i(v);j(n),s(v);var X=a(v),Le=i(X);j(Le);let Be;var Bt=a(Le,2);{var Ht=ne=>{var Ee=Ka();c(ne,Ee)};V(Bt,ne=>{Re(e(u).grade)||ne(Ht)})}s(X);var Lt=a(X),rt=i(Lt);rt.__change=ne=>U(le,ne.target.value),be(rt,21,()=>T,he,(ne,Ee)=>{var qe=Qa(),jt=i(qe,!0);s(qe);var zt={};E(()=>{K(jt,e(Ee)),zt!==(zt=e(Ee))&&(qe.value=(qe.__value=e(Ee))??"")}),c(ne,qe)}),s(rt);var Dt;Is(rt),s(Lt);var Jt=a(Lt),Yt=i(Jt);j(Yt),s(Jt);var ys=a(Jt),ls=i(ys);be(ls,21,()=>C.filter(ne=>ne!=="None"),he,(ne,Ee)=>{var qe=Ja(),jt=i(qe,!0);s(qe);var zt={};E(()=>{K(jt,e(Ee)),zt!==(zt=e(Ee))&&(qe.value=(qe.__value=e(Ee))??"")}),c(ne,qe)}),s(ls),s(ys);var Gt=a(ys),ms=i(Gt);be(ms,21,()=>x,he,(ne,Ee)=>{var qe=Ya(),jt=i(qe,!0);s(qe);var zt={};E(()=>{K(jt,e(Ee)),zt!==(zt=e(Ee))&&(qe.value=(qe.__value=e(Ee))??"")}),c(ne,qe)}),s(ms),s(Gt);var Xt=a(Gt);let fs;var Zt=i(Xt);Cs(Zt),s(Xt);var _s=a(Xt),ws=i(_s);{var Ss=ne=>{var Ee=Xa();Ee.__click=()=>St(le),c(ne,Ee)};V(ws,ne=>{e($).length>1&&ne(Ss)})}s(_s),s(Ue),E(ne=>{Be=yt(Le,1,"grade-input svelte-1lf3qka",null,Be,ne),Dt!==(Dt=e(u).attemptType)&&(rt.value=(rt.__value=e(u).attemptType)??"",js(rt,e(u).attemptType)),Yt.disabled=e(u).attemptType==="Flash"||e(u).attemptType==="Onsight",fs=yt(Xt,1,"notes-cell svelte-1lf3qka",null,fs,{expanded:e(B)===le})},[()=>({invalid:!Re(e(u).grade)})]),W(n,()=>e(u).name,ne=>e(u).name=ne),W(Le,()=>e(u).grade,ne=>e(u).grade=ne),W(Yt,()=>e(u).attemptsNum,ne=>e(u).attemptsNum=ne),ot(ls,()=>e(u).wall,ne=>e(u).wall=ne),ot(ms,()=>e(u).techniqueFocus,ne=>e(u).techniqueFocus=ne),Se("focus",Zt,()=>I(le)),Se("blur",Zt,ie),W(Zt,()=>e(u).notes,ne=>e(u).notes=ne),c(f,Ue)}),s(us),s(Ut),s(Vt);var Ms=a(Vt,2);Ms.__click=wt,s(Rt);var ds=a(Rt,2),vs=i(ds);{var Ps=f=>{var u=$a();let le;var Ue=i(u,!0);s(u),E(()=>{le=yt(u,1,"save-message svelte-1lf3qka",null,le,{success:e(ke)==="success",error:e(ke)==="error"}),K(Ue,e(De))}),c(f,u)};V(vs,f=>{e(De)&&f(Ps)})}var gs=a(vs,2),hs=i(gs);{var As=f=>{var u=ei();u.__click=function(...le){r.onCancel?.apply(this,le)},E(()=>u.disabled=e(ke)==="saving"),c(f,u)};V(hs,f=>{e(S)&&f(As)})}var ps=a(hs,2);ps.__click=we;var qs=i(ps);{var Os=f=>{var u=_t();E(()=>K(u,e(S)?"Updating...":"Saving...")),c(f,u)},Rs=f=>{var u=Wt(),le=Pt(u);{var Ue=Tt=>{var v=_t();E(()=>K(v,`✓ ${e(S)?"Updated!":"Saved!"}`)),c(Tt,v)},Xe=Tt=>{var v=_t();E(()=>K(v,e(S)?"Update Session":"Save Session")),c(Tt,v)};V(le,Tt=>{e(ke)==="success"?Tt(Ue):Tt(Xe,!1)},!0)}c(f,u)};V(qs,f=>{e(ke)==="saving"?f(Os):f(Rs,!1)})}s(ps),s(gs),s(ds),s(Ae),E(()=>ps.disabled=e(ke)==="saving"),W(Qe,()=>e(M),f=>t(M,f)),W(Oe,()=>e(q),f=>t(q,f)),ot(de,()=>e(h),f=>t(h,f)),W(d,()=>e(ee),f=>t(ee,f)),W(J,()=>e(ve),f=>t(ve,f)),W(ae,()=>e(ce),f=>t(ce,f)),W(It,()=>e(pe),f=>t(pe,f)),W(Nt,()=>e(ge),f=>t(ge,f)),W(kt,()=>e(H),f=>t(H,f)),W(Je,()=>e(Z),f=>t(Z,f)),W(gt,()=>e(te),f=>t(te,f)),ot(it,()=>e(z),f=>t(z,f)),W(ht,()=>e(ue),f=>t(ue,f)),c(P,Ae),At()}ss(["click","change"]);const Gs={Portland:{"Blacknor Far North":["Far North (Pit Prop Crag - North Wing)","Far North (Pit Prop Crag - South Wing)","Sunstone Wall","Sandcastle Wall","Hidden Wall"],"Blacknor North":["Diamond Slab","The Ledge","Sharpy's Wall","Reptile Smile Area","Wolfgang Forever Area","Captain Klutz Area","Death of Cool Area","Seattle Be The Day Area","Blacknor Heights (Blacknor Quarry Bouldering)","Blacknor Fort Quarry (Sport)","Cliff Top Way Down"],"Blacknor Central":["The Veranda","Medusa Wall","The Battlement","Wave Wall","Mirror Wall"],"Blacknor South":["Fallen Slab","Infidel Slab","Englands Dreaming Area","Sacred Angel Area","The Reach","Shit Happens Wall"],"Blacknor Far South":["Deadman's Bay","The White Hole","Wall of Lament"],"Battleship Edge":["Northern Sector","Main Edge","Battleship Block"],"Battleship Back Cliff":["Zinc Oxide Mountain","The Main Cliff","Sleepy Hollow"],"Wallsend North":["Sweet Smell of Success Wall","The Coastguard Wall (Northern section)"],"Wallsend South":["The Upper Tier","The Lower Tier","Stalker's Zone"],"Coastguard North":["Top Tier","Main Cliff (Beeston Bump)","The Grooves"],"Coastguard South":["The White Wall","Tennessee Wall","The Veranda (South)"],Godnor:["Godnor North","Godnor Far South","The Godnor Gate Area"],Neddyfields:["Neddyfields Main Wall","The Flowstone Wall","Neddyfields Bouldering"],"Cheyne Cliff":["Red Wall","Inception Wall","Road Rage Wall","The Nook","The Block"],"The Cuttings":["The Cuttings (Main Cliff)","The Pulpit","The Bower","Sun Lover's Slab"],"The New Cuttings":["The Gallery","The Annex","The Arches","The Grotto"],"The Cuttings Boulderfield":["The Tractor","The Coffin","The Octagon","Lightning Wall"]},Swanage:{"Dancing Ledge":["The Amphitheatre","The Upper Tier","The Skull","Promenade","The Quarry"],Hedbury:["Hedbury Quarry (Main)","Hedbury Sea Cliff (The Big Wall)"],Winspit:["The West Quarry","The East Quarry (The Playground)","The Sea Walls"]},"Wye Valley":{"Ban-y-Gor":["The Main Wall","The River Wall","The Far Left","The Upper Tier"],"Biblins Cave":["The Main Cave","The Right Wall","The Entrance Area"],"Woodcroft Quarry":["Fly Wall","The Main Quarry","The Retaining Wall"],"Wyndcliff Quarry":["The Main Wall (Left & Right)","The Upper Tier","The Shady Wall"]},"Costa Del Severn":{Brean:["Boulder Cove","The River Face (Main Cliff)","The Fort","The Slab"],Clevedon:["Ladye Bay","Marine Lake (Bouldering)","The Sea Walls"],"Portishead Quarry":["The Main Wall","The Slab","The Upper Tier"]},Bristol:{"Avon Gorge":["Sea Walls","Suspension Bridge Buttress","Morning Slab","Main Wall","New Quarry","The Amphitheatre","Unknown Wall"],"Leigh Woods":["Quarry 1","Quarry 2","The Main Buttress"],"Bickley Wood":["The Main Wall","The Stream Wall"],Hambrook:["The Roadside Wall"]},Cotswolds:{"Sally-in-the-Wood":["The Main Edge","The Boulders"],"Browns Folly":["The Tower","The Main Wall","The Upper Wall","The Far Right"]},Mendips:{"Cheddar Gorge":["High Rock","Sunset Buttress","Lion Rock","The Pinnacles","Acid Rock","Coronation Street","Long Rock"]},Gower:{Rhossili:["Shipwreck Cove","Rhossili Upper Cliff","The Tears Point"],"Trial Wall Area":["Trial Wall","The Terraces"],Foxhole:["The Main Cave","The Slab","The Overhangs"]},"South Wales":{"Dinas Rock":["Kennelgarth Wall","Main Overhang","Roadside Crag","The Inland Slabs"],Ogmore:["The Deep Zawn","Hardy's Bay","The Diamond","Daytona Wall"]},"North Wales":{"Cromlech (Dinas Cromlech)":["The Corner (Cenotaph)","Left Wall","Right Wall"],"Australia (Slate Quarries)":["The Sidings","Looning the Tube Area","Dali's Hole","The Salt Pans"]},"Peak District":{"Burbage South Valley":["The Boulders","The Edge (The Alliance Area)","The Tank"],"Gardoms Edge":["Apple Buttress","The Eye of Faith","Moomin Buttress"],"Raven Tor":["The Main Wall","The Weedkiller Wall"],Stanage:["Popular End","Plantation","High Neb","Stanage North","The End","Stanage Far North"],"Curbar Edge":["The Main Edge","Elder Crack Area"]},Devon:{Dartmoor:["Haytor (Low Man)","Hound Tor","The Dewerstone (Main Cliff)","Bonehill Rocks"],Hartland:["Screda Point","Smoothlands","Blackchurch Rock"],Tintagel:["The Great Cliff","Gull Rock","Ila's Ledge"]}};function si(){return Object.keys(Gs)}function Js(P){return Gs[P]?Object.keys(Gs[P]):[]}var ai=_('<div class="form-header-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;"><h3 style="margin: 0;" class="svelte-15o2ys1">⛰️ Outdoor Climb</h3></div>'),ii=_("<option> </option>"),ri=_('<div class="input-with-action svelte-15o2ys1"><input type="text" id="crag-manual" placeholder="Enter custom crag name..." class="flat-left svelte-15o2ys1"/> <button type="button" class="action-btn flat-right svelte-15o2ys1" title="Back to list">✕</button></div>'),li=_("<option> </option>"),oi=_("<option>Other (Manual Entry)</option>"),ni=_('<select id="crag" class="svelte-15o2ys1"><option disabled> </option><!><!></select>'),ci=_("<option> </option>"),ui=_("<option> </option>"),di=_('<th class="svelte-15o2ys1">Sport?</th>'),vi=_('<td class="center svelte-15o2ys1"><input type="checkbox" class="svelte-15o2ys1"/></td>'),gi=_('<span class="grade-error svelte-15o2ys1">Invalid</span>'),pi=_("<option> </option>"),mi=_("<option> </option>"),fi=_("<option> </option>"),_i=_('<button type="button" class="remove-btn svelte-15o2ys1">✕</button>'),bi=_('<tr><!><td class="svelte-15o2ys1"><input type="text" placeholder="Route name..." class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><input type="text" placeholder="V3"/> <!></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><input type="number" min="1" class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td><textarea placeholder="Notes..." class="svelte-15o2ys1"></textarea></td><td class="center svelte-15o2ys1"><!></td></tr>'),hi=_("<div> </div>"),yi=_('<div class="form-content svelte-15o2ys1"><!> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="date" class="svelte-15o2ys1">Date</label> <div class="date-time-row svelte-15o2ys1"><input type="date" id="date" class="svelte-15o2ys1"/> <input type="time" id="time" class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="area" class="svelte-15o2ys1">Area</label> <select id="area" class="svelte-15o2ys1"><option disabled>Select area...</option><!></select></div></div> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="crag" class="svelte-15o2ys1">Crag</label> <!></div> <div class="form-group svelte-15o2ys1"><label for="sector" class="svelte-15o2ys1">Wall / Sector</label> <input type="text" id="sector" placeholder="Enter sector or wall name..." class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="climbing-type" class="svelte-15o2ys1">Climbing Type</label> <select id="climbing-type" class="svelte-15o2ys1"><option disabled>Select type...</option><!></select></div> <div class="load-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Load Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="load-item svelte-15o2ys1"><label for="finger-load" class="svelte-15o2ys1">Finger</label> <input type="number" id="finger-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="shoulder-load" class="svelte-15o2ys1">Shoulder</label> <input type="number" id="shoulder-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="forearm-load" class="svelte-15o2ys1">Forearm</label> <input type="number" id="forearm-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div></div> <h4 class="mt-4 svelte-15o2ys1">Grip Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="load-item svelte-15o2ys1"><label for="open-grip" class="svelte-15o2ys1">Open</label> <input type="number" id="open-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="crimp-grip" class="svelte-15o2ys1">Crimp</label> <input type="number" id="crimp-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="pinch-grip" class="svelte-15o2ys1">Pinch</label> <input type="number" id="pinch-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="sloper-grip" class="svelte-15o2ys1">Sloper</label> <input type="number" id="sloper-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="jug-grip" class="svelte-15o2ys1">Jug</label> <input type="number" id="jug-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div></div></div> <div class="training-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Training Details</h4> <div class="training-grid svelte-15o2ys1"><div class="training-item svelte-15o2ys1"><label for="training-type" class="svelte-15o2ys1">Training Type</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="difficulty" class="svelte-15o2ys1">Difficulty</label> <select id="difficulty" class="svelte-15o2ys1"></select></div> <div class="training-item svelte-15o2ys1"><label for="category" class="svelte-15o2ys1">Category</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="energy-system" class="svelte-15o2ys1">Energy System</label> <!></div></div></div> <div class="form-group notes-section svelte-15o2ys1"><label for="session-notes" class="svelte-15o2ys1">Session Notes</label> <textarea id="session-notes" placeholder="How did the session feel? Weather, conditions, mood..." rows="3"></textarea></div> <div class="climbs-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Climbs</h4> <div class="table-container svelte-15o2ys1"><table class="climbs-table svelte-15o2ys1"><thead><tr><!><th class="svelte-15o2ys1">Name</th><th class="svelte-15o2ys1">Grade</th><th class="svelte-15o2ys1">Attempt</th><th class="svelte-15o2ys1">#</th><th class="svelte-15o2ys1">Wall Angle</th><th class="svelte-15o2ys1">Technique Focus</th><th class="svelte-15o2ys1">Notes</th><th class="svelte-15o2ys1"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-15o2ys1">+ Add Climb</button></div> <div class="submit-section svelte-15o2ys1"><!> <button type="button" class="submit-btn svelte-15o2ys1"><!></button></div></div>');function Or(P,r){Ft(r,!0);const o=si(),p=["Boulder","Sport","Trad"],T=["Onsight","Flash","Redpoint","Repeat","Dogged","DNF"],R=["None","Overhang","Vertical","Slab","Roof"],O=["None","Projecting","Onsighting","Campusing","Repeaters","Comp Sim"],y=["None","Easy","Medium","Hard","Max","Limit+"],w=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Endurance","Coordination","Slab Technique","Overhang Technique"],x=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],C=["None","Trusting feet","Double-clutch","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"],D=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","6A+","V4","6B","6B+","V5","6C","6C+","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"].map(v=>v.toLowerCase());let m=Fe(r,"initialData",3,null),B=ft(()=>!!m()),S=g(null),M=g(He(new Date().toISOString().split("T")[0])),q=g(He(new Date().toTimeString().split(" ")[0].slice(0,5))),N=g(""),h=g(""),F=g(""),z=g(""),A=g(He(["None"])),G=g("None"),Q=g(He(["None"])),ee=g(He(["None"])),ve=g(3),ce=g(3),pe=g(3),ge=g(3),H=g(3),Z=g(3),te=g(3),$=g(3),ue=g(He([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}])),ye=g(""),se=ft(()=>e(N)?Js(e(N)):[]),Y=g(!1);const Ge="outdoor_climb_draft";let nt=g(!1);bs(()=>{if(m()){t(M,m().date,!0),t(q,m().time||"12:00",!0),t(N,m().area,!0),t(h,m().crag,!0);const v=Js(e(N));e(h)&&!v.includes(e(h))&&t(Y,!0),t(F,m().sector||"",!0),t(z,m().climbingType,!0),t(A,m().trainingTypes||["None"],!0),t(G,m().difficulty||"Moderate",!0),t(Q,m().categories||["None"],!0),t(ee,m().energySystems||["None"],!0),t(ve,m().fingerLoad,!0),t(ce,m().shoulderLoad,!0),t(pe,m().forearmLoad,!0),t(ge,m().openGrip||3,!0),t(H,m().crimpGrip||3,!0),t(Z,m().pinchGrip||3,!0),t(te,m().sloperGrip||3,!0),t($,m().jugGrip||3,!0),t(ue,m().climbs||[],!0),t(ye,m().notes||"",!0),t(nt,!0)}else{const v=localStorage.getItem(Ge);if(v)try{const n=JSON.parse(v);n.date&&t(M,n.date,!0),n.time&&t(q,n.time,!0),n.area&&t(N,n.area,!0),n.crag&&t(h,n.crag,!0),n.sector&&t(F,n.sector,!0),n.isOtherCrag&&t(Y,n.isOtherCrag,!0),n.climbingType&&t(z,n.climbingType,!0),n.trainingTypes&&t(A,n.trainingTypes,!0),n.difficulty&&t(G,n.difficulty,!0),n.categories&&t(Q,n.categories,!0),n.energySystems&&t(ee,n.energySystems,!0),n.fingerLoad&&t(ve,n.fingerLoad,!0),n.shoulderLoad&&t(ce,n.shoulderLoad,!0),n.forearmLoad&&t(pe,n.forearmLoad,!0),n.openGrip&&t(ge,n.openGrip,!0),n.crimpGrip&&t(H,n.crimpGrip,!0),n.pinchGrip&&t(Z,n.pinchGrip,!0),n.sloperGrip&&t(te,n.sloperGrip,!0),n.jugGrip&&t($,n.jugGrip,!0),n.climbs&&t(ue,n.climbs,!0),n.notes&&t(ye,n.notes,!0)}catch(n){console.error("Failed to restore draft",n)}t(nt,!0)}}),ts(()=>{if(!e(nt)||e(B))return;const v={date:e(M),time:e(q),area:e(N),crag:e(h),sector:e(F),isOtherCrag:e(Y),climbingType:e(z),trainingTypes:e(A),difficulty:e(G),categories:e(Q),energySystems:e(ee),fingerLoad:e(ve),shoulderLoad:e(ce),forearmLoad:e(pe),openGrip:e(ge),crimpGrip:e(H),pinchGrip:e(Z),sloperGrip:e(te),jugGrip:e($),climbs:e(ue),notes:e(ye)};localStorage.setItem(Ge,JSON.stringify(v))}),ts(()=>{e(N)&&(t(h,""),t(Y,!1))});function wt(){e(h)==="Other"&&(t(Y,!0),t(h,""))}function St(){t(Y,!1),t(h,"")}function U(){t(ue,[...e(ue),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0)}function I(v){t(ue,e(ue).filter((n,X)=>X!==v),!0)}function ie(v,n){e(ue)[v].attemptType=n,(n==="Flash"||n==="Onsight")&&(e(ue)[v].attemptsNum=1)}function We(v){t(S,v,!0)}function Ze(){t(S,null)}let Re=ft(()=>e(z)==="Trad");function ke(v){return e(z)==="Sport"?!0:e(z)==="Boulder"?!1:v.isSport}function De(v){return v.trim()?D.includes(v.trim().toLowerCase()):!0}let re=g("idle"),we=g("");function Ke(){return e(N)?e(h)?e(z)?e(ue).filter(n=>n.grade.trim()&&!De(n.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a crag":"Please select an area"}async function Ae(){const v=Ke();if(v){t(re,"error"),t(we,v,!0);return}t(re,"saving");try{const n=e(ue).map(Be=>({...Be,isSport:ke(Be)})),X={date:e(M),time:e(q),area:e(N),crag:e(h),sector:e(F)||void 0,climbingType:e(z),trainingTypes:e(A),difficulty:e(G),categories:e(Q),energySystems:e(ee),fingerLoad:e(ve),shoulderLoad:e(ce),forearmLoad:e(pe),openGrip:e(ge),crimpGrip:e(H),pinchGrip:e(Z),sloperGrip:e(te),jugGrip:e($),climbs:n,notes:e(ye)};let Le;e(B)&&m()?Le=await Sa(m().id,X):Le=await ka(X),Le.ok?(t(re,"success"),t(we,"Session saved!"),e(B)||localStorage.removeItem(Ge),r.onSaved?r.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),e(B)||setTimeout(()=>{Ie()},2e3))):(t(re,"error"),t(we,"Failed to save: "+(Le.error||"Unknown error")))}catch(n){t(re,"error"),t(we,"Failed to save session"),console.error("Save error:",n)}}function Ie(){t(M,new Date().toISOString().split("T")[0],!0),t(q,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(N,""),t(h,""),t(F,""),t(z,""),t(A,["None"],!0),t(G,"None"),t(Q,["None"],!0),t(ee,["None"],!0),t(ve,3),t(ce,3),t(pe,3),t(ge,3),t(H,3),t(Z,3),t(te,3),t($,3),t(ue,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0),t(ye,""),t(re,"idle"),t(we,"")}var me=yi(),xe=i(me);{var Qe=v=>{var n=ai();c(v,n)};V(xe,v=>{e(B)||v(Qe)})}var Oe=a(xe,2),ct=i(Oe),ut=a(i(ct),2),je=i(ut);j(je);var Me=a(je,2);j(Me),s(ut),s(ct);var Te=a(ct,2),de=a(i(Te),2),Pe=i(de);Pe.value=Pe.__value="";var Ne=a(Pe);be(Ne,17,()=>o,he,(v,n)=>{var X=ii(),Le=i(X,!0);s(X);var Be={};E(()=>{K(Le,e(n)),Be!==(Be=e(n))&&(X.value=(X.__value=e(n))??"")}),c(v,X)}),s(de),s(Te),s(Oe);var $e=a(Oe,2),b=i($e),l=a(i(b),2);{var d=v=>{var n=ri(),X=i(n);j(X);var Le=a(X,2);Le.__click=St,s(n),W(X,()=>e(h),Be=>t(h,Be)),c(v,n)},k=v=>{var n=ni();n.__change=wt;var X=i(n),Le=i(X,!0);s(X),X.value=X.__value="";var Be=a(X);be(Be,17,()=>e(se),he,(Lt,rt)=>{var Dt=li(),Jt=i(Dt,!0);s(Dt);var Yt={};E(()=>{K(Jt,e(rt)),Yt!==(Yt=e(rt))&&(Dt.value=(Dt.__value=e(rt))??"")}),c(Lt,Dt)});var Bt=a(Be);{var Ht=Lt=>{var rt=oi();rt.value=rt.__value="Other",c(Lt,rt)};V(Bt,Lt=>{e(N)&&Lt(Ht)})}s(n),E(()=>{n.disabled=!e(N),K(Le,e(N)?"Select crag...":"Select area first...")}),ot(n,()=>e(h),Lt=>t(h,Lt)),c(v,n)};V(l,v=>{e(Y)?v(d):v(k,!1)})}s(b);var J=a(b,2),oe=a(i(J),2);j(oe),s(J),s($e);var ae=a($e,2),Ce=a(i(ae),2),dt=i(Ce);dt.value=dt.__value="";var It=a(dt);be(It,17,()=>p,he,(v,n)=>{var X=ci(),Le=i(X,!0);s(X);var Be={};E(()=>{K(Le,e(n)),Be!==(Be=e(n))&&(X.value=(X.__value=e(n))??"")}),c(v,X)}),s(Ce),s(ae);var xt=a(ae,2),Nt=a(i(xt),2),Ot=i(Nt),kt=a(i(Ot),2);j(kt),lt(2),s(Ot);var fe=a(Ot,2),Je=a(i(fe),2);j(Je),lt(2),s(fe);var ze=a(fe,2),gt=a(i(ze),2);j(gt),lt(2),s(ze),s(Nt);var qt=a(Nt,4),pt=i(qt),et=a(i(pt),2);j(et),lt(2),s(pt);var Ct=a(pt,2),Ve=a(i(Ct),2);j(Ve),lt(2),s(Ct);var it=a(Ct,2),tt=a(i(it),2);j(tt),lt(2),s(it);var Et=a(it,2),bt=a(i(Et),2);j(bt),lt(2),s(Et);var as=a(Et,2),Qt=a(i(as),2);j(Qt),lt(2),s(as),s(qt),s(xt);var is=a(xt,2),Ye=a(i(is),2),ht=i(Ye),Rt=a(i(ht),2);ns(Rt,{get options(){return O},get selected(){return e(A)},placeholder:"Select types...",onChange:v=>t(A,v,!0)}),s(ht);var Vt=a(ht,2),Ut=a(i(Vt),2);be(Ut,21,()=>y,he,(v,n)=>{var X=ui(),Le=i(X,!0);s(X);var Be={};E(()=>{K(Le,e(n)),Be!==(Be=e(n))&&(X.value=(X.__value=e(n))??"")}),c(v,X)}),s(Ut),s(Vt);var rs=a(Vt,2),Ts=a(i(rs),2);ns(Ts,{get options(){return w},get selected(){return e(Q)},placeholder:"Select categories...",onChange:v=>t(Q,v,!0)}),s(rs);var Ls=a(rs,2),Fs=a(i(Ls),2);ns(Fs,{get options(){return x},get selected(){return e(ee)},placeholder:"Select systems...",onChange:v=>t(ee,v,!0)}),s(Ls),s(Ye),s(is);var us=a(is,2),Ms=a(i(us),2);Cs(Ms),s(us);var ds=a(us,2),vs=a(i(ds),2),Ps=i(vs),gs=i(Ps),hs=i(gs),As=i(hs);{var ps=v=>{var n=di();c(v,n)};V(As,v=>{e(Re)&&v(ps)})}lt(8),s(hs),s(gs);var qs=a(gs);be(qs,21,()=>e(ue),he,(v,n,X)=>{var Le=bi(),Be=i(Le);{var Bt=_e=>{var st=vi(),at=i(st);j(at),s(st),Zs(at,()=>e(n).isSport,os=>e(n).isSport=os),c(_e,st)};V(Be,_e=>{e(Re)&&_e(Bt)})}var Ht=a(Be),Lt=i(Ht);j(Lt),s(Ht);var rt=a(Ht),Dt=i(rt);j(Dt);let Jt;var Yt=a(Dt,2);{var ys=_e=>{var st=gi();c(_e,st)};V(Yt,_e=>{De(e(n).grade)||_e(ys)})}s(rt);var ls=a(rt),Gt=i(ls);Gt.__change=_e=>ie(X,_e.target.value),be(Gt,21,()=>T,he,(_e,st)=>{var at=pi(),os=i(at,!0);s(at);var $t={};E(()=>{K(os,e(st)),$t!==($t=e(st))&&(at.value=(at.__value=e(st))??"")}),c(_e,at)}),s(Gt);var ms;Is(Gt),s(ls);var Xt=a(ls),fs=i(Xt);j(fs),s(Xt);var Zt=a(Xt),_s=i(Zt);be(_s,21,()=>R.filter(_e=>_e!=="None"),he,(_e,st)=>{var at=mi(),os=i(at,!0);s(at);var $t={};E(()=>{K(os,e(st)),$t!==($t=e(st))&&(at.value=(at.__value=e(st))??"")}),c(_e,at)}),s(_s),s(Zt);var ws=a(Zt),Ss=i(ws);be(Ss,21,()=>C,he,(_e,st)=>{var at=fi(),os=i(at,!0);s(at);var $t={};E(()=>{K(os,e(st)),$t!==($t=e(st))&&(at.value=(at.__value=e(st))??"")}),c(_e,at)}),s(Ss),s(ws);var ne=a(ws);let Ee;var qe=i(ne);Cs(qe),s(ne);var jt=a(ne),zt=i(jt);{var sa=_e=>{var st=_i();st.__click=()=>I(X),c(_e,st)};V(zt,_e=>{e(ue).length>1&&_e(sa)})}s(jt),s(Le),E(_e=>{Jt=yt(Dt,1,"grade-input svelte-15o2ys1",null,Jt,_e),ms!==(ms=e(n).attemptType)&&(Gt.value=(Gt.__value=e(n).attemptType)??"",js(Gt,e(n).attemptType)),fs.disabled=e(n).attemptType==="Flash"||e(n).attemptType==="Onsight",Ee=yt(ne,1,"notes-cell svelte-15o2ys1",null,Ee,{expanded:e(S)===X})},[()=>({invalid:!De(e(n).grade)})]),W(Lt,()=>e(n).name,_e=>e(n).name=_e),W(Dt,()=>e(n).grade,_e=>e(n).grade=_e),W(fs,()=>e(n).attemptsNum,_e=>e(n).attemptsNum=_e),ot(_s,()=>e(n).wall,_e=>e(n).wall=_e),ot(Ss,()=>e(n).techniqueFocus,_e=>e(n).techniqueFocus=_e),Se("focus",qe,()=>We(X)),Se("blur",qe,Ze),W(qe,()=>e(n).notes,_e=>e(n).notes=_e),c(v,Le)}),s(qs),s(Ps),s(vs);var Os=a(vs,2);Os.__click=U,s(ds);var Rs=a(ds,2),f=i(Rs);{var u=v=>{var n=hi();let X;var Le=i(n,!0);s(n),E(()=>{X=yt(n,1,"save-message svelte-15o2ys1",null,X,{success:e(re)==="success",error:e(re)==="error"}),K(Le,e(we))}),c(v,n)};V(f,v=>{e(we)&&v(u)})}var le=a(f,2);le.__click=Ae;var Ue=i(le);{var Xe=v=>{var n=_t("Saving...");c(v,n)},Tt=v=>{var n=Wt(),X=Pt(n);{var Le=Bt=>{var Ht=_t("✓ Saved!");c(Bt,Ht)},Be=Bt=>{var Ht=_t("Save Session");c(Bt,Ht)};V(X,Bt=>{e(re)==="success"?Bt(Le):Bt(Be,!1)},!0)}c(v,n)};V(Ue,v=>{e(re)==="saving"?v(Xe):v(Tt,!1)})}s(le),s(Rs),s(me),E(()=>le.disabled=e(re)==="saving"),W(je,()=>e(M),v=>t(M,v)),W(Me,()=>e(q),v=>t(q,v)),ot(de,()=>e(N),v=>t(N,v)),W(oe,()=>e(F),v=>t(F,v)),ot(Ce,()=>e(z),v=>t(z,v)),W(kt,()=>e(ve),v=>t(ve,v)),W(Je,()=>e(ce),v=>t(ce,v)),W(gt,()=>e(pe),v=>t(pe,v)),W(et,()=>e(ge),v=>t(ge,v)),W(Ve,()=>e(H),v=>t(H,v)),W(tt,()=>e(Z),v=>t(Z,v)),W(bt,()=>e(te),v=>t(te,v)),W(Qt,()=>e($),v=>t($,v)),ot(Ut,()=>e(G),v=>t(G,v)),W(Ms,()=>e(ye),v=>t(ye,v)),c(P,me),At()}ss(["click","change"]);const Ns=[{id:"pull_ups",name:"Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Grip bar wider than shoulders.","Pull chest up toward the bar."],images:["/exercises/pull-ups.webp"]},{id:"weighted_pull_ups",name:"Weighted Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Grip bar wider than shoulders.","Pull chest up toward the bar."],images:["/exercises/weighted_pull_ups.webp"]},{id:"lat_pulldown",name:"Lat Pulldown",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats"],instructions:["Sit in machine.","Pull bar down to upper chest."],images:["/exercises/lat_pulldown.webp"]},{id:"one_arm_assisted_pull_up",name:"1 Arm Assisted Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Use a pulley or band to assist one arm.","Perform a one-arm pull-up."],images:["/exercises/1_Arm_Assisted_Pull-Up.webp"]},{id:"bent_over_row",name:"Barbell Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Hinge at hips.","Pull weight to hip pocket."],images:["/exercises/bent_over_row.webp"]},{id:"single_arm_db_row",name:"Dumbbell Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Support on bench.","Pull dumbbell to hip."],images:["/exercises/single_arm_db_row.webp"]},{id:"one_arm_negatives",name:"One Arm Negatives",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps","Forearms"],instructions:["Jump or assist up to the top position.","Lower yourself as slowly as possible with one arm."],images:["/exercises/one_arm_negatives.webp"]},{id:"full_lock_offs",name:"Full Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold the top position of a pull-up.","Maintain chin above the bar for time."],images:["/exercises/full_lock_offs.webp"]},{id:"90_degree_lock_offs",name:"90 Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold a pull-up position with elbows at 90 degrees.","Keep core tight and hold for time."],images:["/exercises/90_degree_lock_offs.webp"]},{id:"120_degree_lock_offs",name:"120 Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold a pull-up position with elbows at 120 degrees (slightly bent).","Maintain tension for time."],images:["/exercises/120_degree_lock_offs.webp"]},{id:"bicep_curls",name:"Bicep Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps"],instructions:["Hold dumbbells at sides.","Curl weights toward shoulders.","Lower with control."],images:["/exercises/bicep_curls.webp"]},{id:"hammer_curls",name:"Hammer Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps","Forearms"],instructions:["Hold dumbbells with neutral grip (palms facing in).","Curl weights toward shoulders.","Lower with control."],images:["/exercises/hammer_curls.webp"]},{id:"barbell_curls",name:"Barbell Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps"],instructions:["Hold barbell with underhand grip.","Curl bar toward chest.","Lower with control."],images:["/exercises/barbell_curls.webp"]},{id:"front_raises",name:"Front Raises",category:"Pull",subcategory:"Shoulders",targetMuscles:["Front Delts"],instructions:["Hold weights in front of thighs.","Raise arms straight in front to shoulder height."],images:["/exercises/front_raises.webp"]},{id:"kettlebell_swings",name:"Kettlebell Swings",category:"Pull",subcategory:"Shoulders",targetMuscles:["Glutes","Hamstrings","Lower Back"],instructions:["Hinge at hips holding kettlebell.","Snap hips forward to swing weight up."],images:["/exercises/kettlebell_swings.webp"]},{id:"muscle_ups",name:"Muscle Ups",category:"Pull",subcategory:"Shoulders",targetMuscles:["Lats","Triceps","Chest"],instructions:["Explosive pull-up.","Transition wrists over bar.","Press out at top."],images:["/exercises/muscle_ups.webp"]},{id:"seated_row",name:"Seated Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Sit at machine.","Pull handle to torso."],images:["/exercises/Seated_Row.webp"]},{id:"supine_trx_row",name:"Supine TRX Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Feet in TRX straps.","Pull handle to torso."],images:["/exercises/supine_trx_row.webp"]},{id:"barbell_bench_press",name:"Barbell Bench Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Triceps"],instructions:["Lower bar to chest.","Press back up."],images:["/exercises/barbell_bench_press.webp"]},{id:"dumbbell_bench_press",name:"Dumbbell Chest Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Upper Chest"],instructions:["Press dumbbells whilst lying on bench."],images:["/exercises/dumbbell_bench_press.webp"]},{id:"dumbbell_bench_press",name:"Dumbbell Chest Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Upper Chest"],instructions:["Press dumbbells whilst lying on bench."],images:["/exercises/dumbbell_bench_press.webp"]},{id:"chest_press",name:"Chest Press Machine",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Triceps"],instructions:["From seated position, push handles overhead."],images:["/exercises/chest_press.webp"]},{id:"push_up",name:"Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Triceps","Chest"],instructions:["Hands wide, lower to floor.","Press back up."],images:["/exercises/push_up.webp"]},{id:"narrow_push_up",name:"Narrow Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Triceps","Chest"],instructions:["Hands close together.","Keep elbows tucked."],images:["/exercises/narrow_push_up.webp"]},{id:"trx_push_up",name:"TRX Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Global Stabilisers"],instructions:["Feet or hands in TRX straps.","Perform push-up."],images:["/exercises/trx_push_up.webp"]},{id:"overhead_press",name:"Barbell Overhead Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Press bar vertically overhead."],images:["/exercises/overhead_press.webp"]},{id:"dumbbell_overhead_press",name:"Dumbbell Overhead Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Press dumbbells vertically overhead."],images:["/exercises/dumbbell_overhead_press.webp"]},{id:"arnold_press",name:"Arnold Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Rotate palms while pressing overhead."],images:["/exercises/arnold_press.webp"]},{id:"shoulder_press_machine",name:"Shoulder Press Machine",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Sit in machine.","Press handles overhead."],images:["/exercises/Shoulder_Press_Machine.webp"]},{id:"dumbbell_flies",name:"Dumbbell Flies",category:"Push",subcategory:"Shoulders",targetMuscles:["Chest"],instructions:["Lie on bench.","Open arms wide, then bring together."],images:["/exercises/Dumbbell_Flies.webp"]},{id:"lateral_raises",name:"Lateral Raises",category:"Push",subcategory:"Shoulders",targetMuscles:["Side Delts"],instructions:["Raise arms to sides."],images:["/exercises/dumbbell_lateral_raise.webp"]},{id:"dumbbell_kickbacks",name:"Dumbbell Kickbacks",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Hinge forward.","Extend arm back."],images:["/exercises/dumbbell_kickbacks.webp"]},{id:"cable_pushdown",name:"Cable Pushdown",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Push bar down using triceps."],images:["/exercises/tricep_pulldown.webp"]},{id:"tricep_dips",name:"Tricep Dips",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Support body on parallel bars.","Lower until elbows at 90 degrees."],images:["/exercises/Tricep_Dips.webp"]},{id:"barbell_squat",name:"Barbell Squat",category:"Legs",subcategory:"Squats",targetMuscles:["Quads","Glutes"],instructions:["Squat with barbell on back."],images:["/exercises/barbell_squat.webp"]},{id:"leg_press",name:"Leg Press",category:"Legs",subcategory:"Squats",targetMuscles:["Quads"],instructions:["Press weight on machine."],images:["/exercises/leg_press.webp"]},{id:"pistol_squats",name:"Pistol Squats",category:"Legs",subcategory:"Squats",targetMuscles:["Quads","Balance"],instructions:["One-legged squat."],images:["/exercises/Pistol_Squats.webp"]},{id:"goblet_squat",name:"Goblet Squat",category:"Legs",subcategory:"Squats",targetMuscles:["Quads"],instructions:["Hold weight at chest.","Squat."],images:["/exercises/goblet_squat.webp"]},{id:"deadlift",name:"Deadlift",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Posterior Chain"],instructions:["Lift bar from floor."],images:["/exercises/deadlift.webp"]},{id:"rack_pulls",name:"Rack Pulls",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Back","Glutes"],instructions:["Deadlift from rack height."],images:["/exercises/Rack_Pulls.webp"]},{id:"barbell_good_mornings",name:"BarbellGood Mornings",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Back","Hamstrings"],instructions:["Deadlift from rack height."],images:["/exercises/barbell_good_mornings.webp"]},{id:"leg_extension",name:"Leg Extension",category:"Legs",subcategory:"Isolation",targetMuscles:["Quads"],instructions:["Extend legs against machine resistance."],images:["/exercises/Leg_Extension.webp"]},{id:"leg_curl",name:"Leg Curl",category:"Legs",subcategory:"Isolation",targetMuscles:["Hamstrings"],instructions:["Curl legs against machine resistance."],images:["/exercises/Leg_Curl.webp"]},{id:"walking_lunge",name:"Walking Lunge",category:"Legs",subcategory:"Isolation",targetMuscles:["Quads","Glutes"],instructions:["Step forward and lower hips."],images:["/exercises/walking_lunge.webp"]},{id:"calf_raises",name:"Calf Raises",category:"Legs",subcategory:"Calves",targetMuscles:["Calves"],instructions:["Raise heels."],images:["/exercises/calf_raise.webp"]},{id:"glute_bridges",name:"Glute Bridges",category:"Legs",subcategory:"Glutes",targetMuscles:["Glutes"],instructions:["Lie on back.","Lift hips."],images:["/exercises/Glute_Bridges.webp"]},{id:"reverse_wrist_curl",name:"Reverse Wrist Curl",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearm Extensors"],instructions:["Curl wrist up with palm down."],images:["/exercises/reverse_wrist_curl.webp"]},{id:"radial_wrist_tilts",name:"Radial Wrist Tilts",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearms"],instructions:["Tilt wrist thumb-side up."],images:["/exercises/Radial_Wrist_Tilts.webp"]},{id:"wrist_rotations",name:"Wrist Rotations",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearms"],instructions:["Rotate wrists with weight."],images:["/exercises/Wrist_Rotations.webp"]},{id:"wrist_curls",name:"Wrist Curls",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearm Flexors"],instructions:["Curl wrist up with palm up."],images:["/exercises/Wrist_Curls.webp"]},{id:"dumbbell_rear_delt_flies",name:"Dumbbell Rear Delt Flies",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Rear Delts"],instructions:["Hinge forward.","Raise arms to sides."],images:["/exercises/dumbbell_rear_delt_flies.webp"]},{id:"cable_face_pulls",name:"Cable Face Pulls",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Rear Delts"],instructions:["Pull rope to face."],images:["/exercises/face_pull.webp"]},{id:"archer_rows",name:"Archer Rows",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Back","Rear Delts"],instructions:["Row with one arm while other stays straight."],images:["/exercises/Archer_Rows.webp"]},{id:"one_arm_dumbbell_shrugs",name:"One Arm Dumbbell Shrugs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Traps"],instructions:["Shrug shoulder up."],images:["/exercises/One_Arm_Dumbbell_Shrugs.webp"]},{id:"prone_overhead_db_press",name:"Prone Overhead Dumbbell Press",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Lower Traps"],instructions:["Lie prone.","Press light weights overhead."],images:["/exercises/Prone_Overhead_Dumbbell_Press.webp"]},{id:"incline_bench_db_iyts",name:"Incline Bench Dumbbell IYTs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Lower Traps","Rear Delts"],instructions:["Form I, Y, T shapes with arms."],images:["/exercises/i-y-t_raises.webp"]},{id:"scapular_holds",name:"Scapular Holds",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hold scapular retraction."],images:["/exercises/Scapular_Holds.webp"]},{id:"scapular_pull_ups",name:"Scapular Pull-Ups",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hang from bar.","Depress and retract scapula without bending elbows."],images:["/exercises/Scapular_Pull-ups.webp"]},{id:"one_arm_scapular_holds",name:"1 Arm Scapular Holds",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hang from one arm.","Engage scapula."],images:["/exercises/one_arm_scapular_holds.webp"]},{id:"one_arm_scapular_pull_ups",name:"1 Arm Scapular Pull-Ups",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["One arm hang.","Depress scapula."],images:["/exercises/one_arm_scapular_pull_ups.webp"]},{id:"trx_iyts",name:"TRX IYTs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Back"],instructions:["Use TRX to perform I, Y, T raises."],images:["/exercises/trx_iyts.webp"]},{id:"dumbbell_overhead_rotations",name:"Dumbbell Overhead Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Press overhead.","Rotate shoulders."],images:["/exercises/Dumbbell_Overhead_Rotations.webp"]},{id:"external_side_lying_rotations",name:"External Side Lying Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Lie on side.","Rotate arm up."],images:["/exercises/External_Side_Lying_Rotations.webp"]},{id:"prone_bench_rotations",name:"Prone Bench Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Lie prone.","Rotate arms."],images:["/exercises/Prone_Bench_Rotations.webp"]},{id:"cable_external_rotations",name:"Cable External Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Use cable.","Rotate arm away from body."],images:["/exercises/Cable_External_Rotations.webp"]},{id:"cable_internal_rotation",name:"Cable Internal Rotation",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Use cable.","Rotate arm across body."],images:["/exercises/Cable_Internal_Rotation.webp"]},{id:"internal_side_lying_rotations",name:"Internal Side Lying Rotations",category:"Stabilisers",subcategory:"Internal Rotation/Flexors",targetMuscles:["Rotator Cuff"],instructions:["Lie on side.","Rotate arm inward."],images:["/exercises/Internal_Side_Lying_Rotations.webp"]},{id:"hanging_l_hold",name:"Hanging L Hold",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Hang from bar.","Hold legs horizontal."],images:["/exercises/Hanging_L_Hold.webp"]},{id:"supine_leg_raises",name:"Supine Leg Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Lie on back.","Raise legs."],images:["/exercises/Supine_Leg_Raises.webp"]},{id:"hanging_leg_raises",name:"Hanging Leg Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Hang from bar.","Raise legs to bar."],images:["/exercises/hanging_leg_raise.webp"]},{id:"lever_raises_tucked",name:"Lever Raises (tucked)",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Front lever progression tucked."],images:["/exercises/Lever_Raises_tucked.webp"]},{id:"lever_raises_90",name:"Lever Raises (90)",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Front lever progression to 90 degrees."]},{id:"lever_raises",name:"Lever Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Full front lever raises."]},{id:"crunches",name:"Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Upper Abs"],instructions:["Crunch up off floor."],images:["/exercises/crunch.webp"]},{id:"lower_ab_crunches",name:"Lower Ab Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Lower Abs"],instructions:["Reverse crunch movement."],images:["/exercises/Lower_Ab_Crunches.webp"]},{id:"weighted_crunches",name:"Weighted Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Abs"],instructions:["Crunch with weight."],images:["/exercises/Weighted_Crunches.webp"]},{id:"dead_bug",name:"Dead Bug",category:"Core",subcategory:"Crunches",targetMuscles:["Core"],instructions:["Opposite arm and leg extension lying on back."],images:["/exercises/Dead_Bug.webp"]},{id:"boat_pose",name:"Boat Pose",category:"Core",subcategory:"Crunches",targetMuscles:["Core"],instructions:["Static V hold on floor."],images:["/exercises/Boat_Pose.webp"]},{id:"v_sits",name:"V Sits",category:"Core",subcategory:"Crunches",targetMuscles:["Abs"],instructions:["Explosive sit up to V position."],images:["/exercises/V_Sits.webp"]},{id:"kettle_bell_twists",name:"Kettle Bell Twists",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Russian twist with KB."],images:["/exercises/russian_twists.webp"]},{id:"twisting_crunches",name:"Twisting Crunches",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Crunch with rotation."],images:["/exercises/Twisting_Crunches.webp"]},{id:"supine_windscreen_wipers",name:"Supine Windscreen Wipers",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Lie on back.","Rotate legs side to side."],images:["/exercises/Supine_Windscreen_Wipers.webp"]},{id:"hanging_windscreen_wipers",name:"Hanging Windscreen Wipers",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Hang from bar.","Rotate legs side to side."],images:["/exercises/Hanging_Windscreen_Wipers.webp"]},{id:"thread_the_needle",name:"Thread the Needle",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques","Mobility"],instructions:["Plank position.","Reach under body."],images:["/exercises/Thread_the_Needle.webp"]},{id:"plank",name:"Plank",category:"Core",subcategory:"Stability",targetMuscles:["Core"],instructions:["Hold plank position."],images:["/exercises/plank.webp"]},{id:"dolphin_plank",name:"Dolphin Plank",category:"Core",subcategory:"Stability",targetMuscles:["Core"],instructions:["Plank on forearms with hips high."],images:["/exercises/Dolphin_Plank.webp"]},{id:"copenhagen_plank",name:"Copenhagen Plank",category:"Core",subcategory:"Stability",targetMuscles:["Adductors","Core"],instructions:["Side plank with top leg supported."],images:["/exercises/Copenhagen_Plank.webp"]},{id:"side_plank",name:"Side Plank",category:"Core",subcategory:"Stability",targetMuscles:["Obliques"],instructions:["Hold side plank."],images:["/exercises/side_plank.webp"]},{id:"prone_dish_hold",name:"Prone Dish Hold",category:"Core",subcategory:"Stability",targetMuscles:["Posterior Chain"],instructions:["Superman hold."],images:["/exercises/Prone_Dish_Hold.webp"]},{id:"supine_dish_hold",name:"Supine Dish Hold",category:"Core",subcategory:"Stability",targetMuscles:["Core"],instructions:["Hollow body hold (lower)."],images:["/exercises/Supine_Dish_Hold.webp"]},{id:"hollow_body_hold",name:"Hollow Body Hold",category:"Core",subcategory:"Stability",targetMuscles:["Core"],instructions:["Hold hollow body position."],images:["/exercises/Hollow_Body_Hold.webp"]},{id:"prone_dish_lifts",name:"Prone Dish Lifts",category:"Core",subcategory:"Stability",targetMuscles:["Posterior Chain"],instructions:["Lifting into superman position reps."],images:["/exercises/Prone_Dish_Lifts.webp"]},{id:"bicep_stretch",name:"Bicep Stretch",category:"Mobility",subcategory:"Upper Body",targetMuscles:["Biceps"],instructions:["Stretch biceps."],images:["/exercises/Bicep_Stretch.webp"]},{id:"finger_stretches",name:"Finger Stretches",category:"Mobility",subcategory:"Upper Body",targetMuscles:["Fingers"],instructions:["Stretch fingers."],images:["/exercises/Finger_Stretches.webp"]},{id:"pec_stretch",name:"Pec Stretch",category:"Mobility",subcategory:"Upper Body",targetMuscles:["Chest"],instructions:["Stretch chest."],images:["/exercises/Pec_Stretch.webp"]},{id:"lat_stretch",name:"Lat Stretch",category:"Mobility",subcategory:"Upper Body",targetMuscles:["Lats"],instructions:["Stretch lats."],images:["/exercises/Lat_Stretch.webp"]},{id:"wrist_stretches",name:"Wrist Stretches",category:"Mobility",subcategory:"Upper Body",targetMuscles:["Wrists"],instructions:["Stretch wrists."],images:["/exercises/wrist_stretches.webp"]},{id:"pancake_fold",name:"Pancake Fold",category:"Mobility",subcategory:"Torso Chain",targetMuscles:["Hips","Back"],instructions:["Seated straddle fold."],images:["/exercises/Pancake_Fold.webp"]},{id:"open_books",name:"Open Books",category:"Mobility",subcategory:"Torso Chain",targetMuscles:["Thoracic Spine"],instructions:["Side lying thoracic rotation."],images:["/exercises/Open_Books.webp"]},{id:"good_mornings",name:"Good Mornings",category:"Mobility",subcategory:"Torso Chain",targetMuscles:["Hamstrings","Back"],instructions:["Hinge with straight back."],images:["/exercises/Good_Mornings.webp"]},{id:"calf_stretch",name:"Calf Stretch",category:"Mobility",subcategory:"Lower Leg",targetMuscles:["Calves"],instructions:["Stretch calves."],images:["/exercises/Calf_Stretch.webp"]},{id:"donkey_calf_raise",name:"Donkey Calf Raise",category:"Mobility",subcategory:"Lower Leg",targetMuscles:["Calves"],instructions:["Calf raise bent over."],images:["/exercises/Donkey_Calf_Raise.webp"]},{id:"one_leg_calf_squats",name:"1 Leg Calf Squats",category:"Mobility",subcategory:"Lower Leg",targetMuscles:["Calves","Balance"],instructions:["Squat on one leg, heel raised."],images:["/exercises/1_Leg_Calf_Squats.webp"]},{id:"wall_calf_stretch",name:"Wall Calf Stretch",category:"Mobility",subcategory:"Lower Leg",targetMuscles:["Calves"],instructions:["Stretch against wall."],images:["/exercises/Wall_Calf_Stretch.webp"]},{id:"fishermans",name:"Fishermans",category:"Mobility",subcategory:"Lower Leg",targetMuscles:["Ankles"],instructions:["Kneeling ankle stretch."],images:["/exercises/Fishermans.webp"]},{id:"barre_lift",name:"Barre Lift",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips"],instructions:["Lift leg at barre."],images:["/exercises/Barre_Lift.webp"]},{id:"fire_hydrants",name:"Fire Hydrants",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Glutes"],instructions:["Quadruped hip abduction."],images:["/exercises/Fire_Hydrants.webp"]},{id:"supine_quad_stretch",name:"Supine Quad Stretch",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Quads"],instructions:["Lie back with bent knee."],images:["/exercises/Supine_Quad_Stretch.webp"]},{id:"long_lunges",name:"Long Lunges",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hip Flexors"],instructions:["Deep lunge."],images:["/exercises/long_lunges.webp"]},{id:"cossack_squats",name:"Cossack Squats",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips","Adductors"],instructions:["Side lunge."],images:["/exercises/Cossack_Squats.webp"]},{id:"front_splits",name:"Front Splits",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hamstrings","Hip Flexors"],instructions:["Split forward/back."],images:["/exercises/Front_Splits.webp"]},{id:"side_splits",name:"Side Splits",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Adductors"],instructions:["Straddle split."],images:["/exercises/Side_Splits.webp"]},{id:"front_swings",name:"Front Swings",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips"],instructions:["Swing leg forward/back."],images:["/exercises/Front_Swings.webp"]},{id:"side_swings",name:"Side Swings",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips"],instructions:["Swing leg side to side."],images:["/exercises/Side_Swings.webp"]},{id:"hamstring_stretch",name:"Hamstring Stretch",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hamstrings"],instructions:["Stretch hamstring."],images:["/exercises/Hamstring_Stretch.webp"]},{id:"butterfly",name:"Butterfly",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips"],instructions:["Seated hip opener."],images:["/exercises/Butterfly.webp"]},{id:"horse_squat",name:"Horse Squat",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips","Quads"],instructions:["Wide stance squat."],images:["/exercises/Horse_Squat.webp"]},{id:"supine_frog",name:"Supine Frog",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips"],instructions:["Lie on back, knees wide."],images:["/exercises/supine_frog.webp"]},{id:"prone_frog",name:"Prone Frog",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Hips"],instructions:["Lie on front, knees wide."],images:["/exercises/Prone_Frog.webp"]},{id:"glute_stretch",name:"Glute Stretch",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Glutes"],instructions:["Stretch glutes."],images:["/exercises/Glute_Stretch.webp"]},{id:"childs_pose",name:"Childs Pose",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Back","Hips"],instructions:["Resting pose."],images:["/exercises/Childs_Pose.webp"]},{id:"pigeon_pose",name:"Pigeon Pose",category:"Mobility",subcategory:"Hips/Lower Body",targetMuscles:["Glutes","Hips"],instructions:["Hip opener."],images:["/exercises/Pigeon_Pose.webp"]}];var wi=_('<div><div class="col set-num svelte-ow8x7m"> </div> <div class="col weight svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col reps svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col check svelte-ow8x7m"><button><!></button></div></div>');function Si(P,r){Ft(r,!1);let o=Fe(r,"setNumber",8),p=Fe(r,"set",12);const T=cs();function R(){p(p().completed=!p().completed,!0),T("change",p()),p().completed&&T("complete")}function O(F){T("focus",{field:F,value:p()[F],set:p()})}Bs();var y=wi();let w;var x=i(y),C=i(x,!0);s(x);var L=a(x,2),D=i(L);j(D),s(L);var m=a(L,2),B=i(m);j(B),s(m);var S=a(m,2),M=i(S);let q;var N=i(M);{var h=F=>{var z=_t("✓");c(F,z)};V(N,F=>{mt(p()),vt(()=>p().completed)&&F(h)})}s(M),s(S),s(y),E(()=>{w=yt(y,1,"set-row svelte-ow8x7m",null,w,{completed:p().completed}),K(C,o()),q=yt(M,1,"check-btn svelte-ow8x7m",null,q,{checked:p().completed})}),W(D,()=>p().weight,F=>p(p().weight=F,!0)),Se("focus",D,()=>O("weight")),W(B,()=>p().reps,F=>p(p().reps=F,!0)),Se("focus",B,()=>O("reps")),Se("click",M,R),c(P,y),At()}var ki=_('<div><span class="dot svelte-1ni79z8"></span> <span class="text"> </span></div>'),xi=_("<button></button>"),Ci=_('<div class="exercise-card svelte-1ni79z8"><div class="header svelte-1ni79z8"><div class="title-group svelte-1ni79z8"><button class="icon-btn info-btn svelte-1ni79z8" aria-label="Exercise Info"><div class="info-icon svelte-1ni79z8">?</div></button> <div><h4 class="svelte-1ni79z8"> </h4> <button class="icon-btn timer-btn svelte-1ni79z8" aria-label="Open Timer" title="Interval Timer">⏱</button> <div class="benchmarks svelte-1ni79z8"></div></div></div> <button class="icon-btn delete-btn svelte-1ni79z8" aria-label="Delete Exercise">🗑️</button></div> <div class="table-header svelte-1ni79z8"><div class="col">Set</div> <div class="col">kg</div> <div class="col">Reps</div> <div class="col">✓</div></div> <div class="sets"></div> <button class="add-set-btn svelte-1ni79z8">+ Add Set</button> <div class="difficulty-footer svelte-1ni79z8"><span class="diff-label svelte-1ni79z8">How did it feel?</span> <div class="diff-circles svelte-1ni79z8"></div></div></div>');function Ti(P,r){Ft(r,!1);let o=Fe(r,"exercise",12),p=Fe(r,"benchmarks",24,()=>({}));const T=cs();function R(){const z=o().sets[o().sets.length-1],A={weight:z?z.weight:0,reps:z?z.reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1};o(o().sets=[...o().sets,A],!0)}const O=["Green","Yellow","Orange","Red"];Bs();var y=Ci(),w=i(y),x=i(w),C=i(x),L=a(C,2),D=i(L),m=i(D,!0);s(D);var B=a(D,2),S=a(B,2);be(S,5,()=>O,he,(z,A)=>{var G=Wt(),Q=Pt(G);{var ee=ve=>{var ce=ki();yt(ce,1,"benchmark-pill svelte-1ni79z8",null,{},{"has-data":!0});var pe=a(i(ce),2),ge=i(pe);s(pe),s(ce),E(H=>{Us(ce,`--pill-color: var(--color-${H??""})`),K(ge,`${mt(p()),e(A),vt(()=>p()[e(A)]?.weight)??""}kg x ${mt(p()),e(A),vt(()=>p()[e(A)]?.reps)??""}`)},[()=>(e(A),vt(()=>e(A).toLowerCase()))]),c(ve,ce)};V(Q,ve=>{mt(p()),e(A),vt(()=>p()[e(A)])&&ve(ee)})}c(z,G)}),s(S),s(L),s(x);var M=a(x,2);s(w);var q=a(w,4);be(q,5,()=>(mt(o()),vt(()=>o().sets)),he,(z,A,G)=>{Si(z,{setNumber:G+1,get set(){return(mt(o()),vt(()=>o().sets))[G]},set set(Q){(mt(o()),vt(()=>o().sets))[G]=Q,va(()=>o())},$$events:{complete(Q){xs.call(this,r,Q)},focus(Q){xs.call(this,r,Q)},change(Q){xs.call(this,r,Q)}},$$legacy:!0})}),s(q);var N=a(q,2),h=a(N,2),F=a(i(h),2);be(F,5,()=>O,he,(z,A)=>{var G=xi();let Q;E(ee=>{Q=yt(G,1,"diff-circle svelte-1ni79z8",null,Q,{selected:o().difficulty===e(A)}),Us(G,`--circle-color: var(--color-${ee??""})`),Mt(G,"aria-label",`Mark as ${e(A)??""}`)},[()=>(e(A),vt(()=>e(A).toLowerCase()))]),Se("click",G,()=>o(o().difficulty=e(A),!0)),c(z,G)}),s(F),s(h),s(y),E(()=>K(m,(mt(o()),vt(()=>o().name)))),Se("click",C,()=>T("info",o())),Se("click",B,()=>T("timer",o())),Se("click",M,()=>T("delete",o())),Se("click",N,R),c(P,y),At()}var Li=_('<div class="keypad svelte-1fay4f8"><div class="header svelte-1fay4f8"><span class="label svelte-1fay4f8"> </span> <div class="display svelte-1fay4f8" role="textbox" aria-readonly="true"> </div></div> <div class="quick-adds svelte-1fay4f8"><button class="svelte-1fay4f8">+2.5</button> <button class="svelte-1fay4f8">+5</button> <button class="svelte-1fay4f8">+10</button></div> <div class="grid svelte-1fay4f8"><button class="svelte-1fay4f8">1</button> <button class="svelte-1fay4f8">2</button> <button class="svelte-1fay4f8">3</button> <button class="svelte-1fay4f8">4</button> <button class="svelte-1fay4f8">5</button> <button class="svelte-1fay4f8">6</button> <button class="svelte-1fay4f8">7</button> <button class="svelte-1fay4f8">8</button> <button class="svelte-1fay4f8">9</button> <button class="action svelte-1fay4f8">C</button> <button class="svelte-1fay4f8">0</button> <button class="action svelte-1fay4f8">⌫</button></div></div>');function Mi(P,r){Ft(r,!1);let o=Fe(r,"value",8,null),p=Fe(r,"label",8,"Value");const T=cs();function R(te){const $=o()?.toString()||"";if($.length>=5)return;const ue=parseFloat($+te.toString());T("change",ue)}function O(){T("change",0)}function y(){const te=o()?.toString()||"";if(te.length<=1){T("change",0);return}const $=parseFloat(te.slice(0,-1));T("change",$)}function w(te){T("change",(o()||0)+te)}Bs();var x=Li(),C=i(x),L=i(C),D=i(L,!0);s(L);var m=a(L,2),B=i(m,!0);s(m),s(C);var S=a(C,2),M=i(S),q=a(M,2),N=a(q,2);s(S);var h=a(S,2),F=i(h),z=a(F,2),A=a(z,2),G=a(A,2),Q=a(G,2),ee=a(Q,2),ve=a(ee,2),ce=a(ve,2),pe=a(ce,2),ge=a(pe,2),H=a(ge,2),Z=a(H,2);s(h),s(x),E(()=>{K(D,p()),Mt(m,"aria-label",p()),K(B,o()||0)}),Se("click",M,()=>w(2.5)),Se("click",q,()=>w(5)),Se("click",N,()=>w(10)),Se("click",F,()=>R(1)),Se("click",z,()=>R(2)),Se("click",A,()=>R(3)),Se("click",G,()=>R(4)),Se("click",Q,()=>R(5)),Se("click",ee,()=>R(6)),Se("click",ve,()=>R(7)),Se("click",ce,()=>R(8)),Se("click",pe,()=>R(9)),Se("click",ge,O),Se("click",H,()=>R(0)),Se("click",Z,y),c(P,x),At()}const Pi=P=>P;function zs(P){const r=P-1;return r*r*r+1}function Ys(P){const r=typeof P=="string"&&P.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return r?[parseFloat(r[1]),r[2]||"px"]:[P,"px"]}function Vs(P,{delay:r=0,duration:o=400,easing:p=Pi}={}){const T=+getComputedStyle(P).opacity;return{delay:r,duration:o,easing:p,css:R=>`opacity: ${R*T}`}}function Ws(P,{delay:r=0,duration:o=400,easing:p=zs,x:T=0,y:R=0,opacity:O=0}={}){const y=getComputedStyle(P),w=+y.opacity,x=y.transform==="none"?"":y.transform,C=w*(1-O),[L,D]=Ys(T),[m,B]=Ys(R);return{delay:r,duration:o,easing:p,css:(S,M)=>`
			transform: ${x} translate(${(1-S)*L}${D}, ${(1-S)*m}${B});
			opacity: ${w-C*M}`}}function Er(P,{delay:r=0,duration:o=400,easing:p=zs,axis:T="y"}={}){const R=getComputedStyle(P),O=+R.opacity,y=T==="y"?"height":"width",w=parseFloat(R[y]),x=T==="y"?["top","bottom"]:["left","right"],C=x.map(q=>`${q[0].toUpperCase()}${q.slice(1)}`),L=parseFloat(R[`padding${C[0]}`]),D=parseFloat(R[`padding${C[1]}`]),m=parseFloat(R[`margin${C[0]}`]),B=parseFloat(R[`margin${C[1]}`]),S=parseFloat(R[`border${C[0]}Width`]),M=parseFloat(R[`border${C[1]}Width`]);return{delay:r,duration:o,easing:p,css:q=>`overflow: hidden;opacity: ${Math.min(q*20,1)*O};${y}: ${q*w}px;padding-${x[0]}: ${q*L}px;padding-${x[1]}: ${q*D}px;margin-${x[0]}: ${q*m}px;margin-${x[1]}: ${q*B}px;border-${x[0]}-width: ${q*S}px;border-${x[1]}-width: ${q*M}px;min-${y}: 0`}}function ea(P,{delay:r=0,duration:o=400,easing:p=zs,start:T=0,opacity:R=0}={}){const O=getComputedStyle(P),y=+O.opacity,w=O.transform==="none"?"":O.transform,x=1-T,C=y*(1-R);return{delay:r,duration:o,easing:p,css:(L,D)=>`
			transform: ${w} scale(${1-x*D});
			opacity: ${y-C*D}
		`}}function qi(P){const r=P-1;return r*r*r+1}class Es{static audioContext=null;static gainNode=null;static isInitialized=!1;static init(){if(!this.isInitialized)try{(window.AudioContext||window.webkitAudioContext)&&(this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this.isInitialized=!0)}catch(r){console.warn("AudioContext not supported",r)}}static async playChime(){if(this.isInitialized||this.init(),!this.audioContext||!this.gainNode)return;this.audioContext.state==="suspended"&&await this.audioContext.resume();const r=this.audioContext.currentTime,o=this.audioContext.createOscillator();o.type="sine",o.frequency.setValueAtTime(880,r),o.frequency.exponentialRampToValueAtTime(.01,r+1.5);const p=this.audioContext.createGain();p.gain.setValueAtTime(.3,r),p.gain.exponentialRampToValueAtTime(.001,r+1.5),o.connect(p),p.connect(this.gainNode),o.start(r),o.stop(r+1.5);const T=this.audioContext.createOscillator();T.type="triangle",T.frequency.setValueAtTime(1760,r),T.frequency.exponentialRampToValueAtTime(.01,r+1);const R=this.audioContext.createGain();R.gain.setValueAtTime(.1,r),R.gain.exponentialRampToValueAtTime(.001,r+1),T.connect(R),R.connect(this.gainNode),T.start(r),T.stop(r+1)}static vibrate(r=200){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(r)}static async playCompletionAlert(){this.vibrate([500,100,500]),await this.playChime()}static async playTick(){if(this.isInitialized||this.init(),!this.audioContext||!this.gainNode)return;this.audioContext.state==="suspended"&&await this.audioContext.resume();const r=this.audioContext.currentTime,o=this.audioContext.createOscillator();o.type="sine",o.frequency.setValueAtTime(600,r);const p=this.audioContext.createGain();p.gain.setValueAtTime(.05,r),p.gain.exponentialRampToValueAtTime(.001,r+.1),o.connect(p),p.connect(this.gainNode),o.start(r),o.stop(r+.1),this.vibrate(50)}}var Ri=_('<div class="setup-form svelte-18i4gcv"><div class="input-group svelte-18i4gcv"><label for="work-duration" class="svelte-18i4gcv">Work</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv"><label for="rest-duration" class="svelte-18i4gcv">Rest</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv"><label for="num-sets" class="svelte-18i4gcv">Sets</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <button class="start-btn svelte-18i4gcv">▶ Start Interval</button></div>'),Di=_('<div class="finished-state svelte-18i4gcv"><div class="check-icon svelte-18i4gcv">✓</div> <h3>Nicely Done!</h3> <button class="reset-btn svelte-18i4gcv">Back to Setup</button></div>'),Ni=_('<button class="ctl-btn pause svelte-18i4gcv">⏸</button>'),Bi=_('<button class="ctl-btn play svelte-18i4gcv">▶</button>'),Fi=_('<div class="timer-circle svelte-18i4gcv"><svg viewBox="0 0 100 100" class="ring svelte-18i4gcv"><circle class="track svelte-18i4gcv" cx="50" cy="50" r="45"></circle><circle class="progress svelte-18i4gcv" cx="50" cy="50" r="45" stroke-dasharray="283"></circle></svg> <div class="timer-val svelte-18i4gcv"><div class="phase-label svelte-18i4gcv"> </div> <div class="digits svelte-18i4gcv"> </div></div></div> <div class="controls svelte-18i4gcv"><!> <button class="ctl-btn skip svelte-18i4gcv">⏭</button> <button class="ctl-btn stop svelte-18i4gcv" style="font-size: 1rem; padding: 1rem;">Stop</button></div>',1),Ai=_('<div class="overlay svelte-18i4gcv" role="button" tabindex="0"><div><div class="header svelte-18i4gcv"><span class="title svelte-18i4gcv"><!></span> <button class="close-btn svelte-18i4gcv">✕</button></div> <div class="content svelte-18i4gcv"><!></div></div></div>');function ta(P,r){Ft(r,!0);let o=Fe(r,"visible",15,!1),p=Fe(r,"defaultSets",3,3),T=Fe(r,"associatedExerciseId",7,null),R=Fe(r,"onComplete",3,()=>{}),O=Fe(r,"onClose",3,()=>{}),y=g("SETUP"),w=g("PAUSED"),x=g(30),C=g(60),L=g(3),D=g(1),m=g(30),B=g(null),S=g(null);const M="interval_timer_prefs";let q=null;ts(()=>{o()&&(Es.init(),e(y)==="SETUP"&&(N(),p()>0&&t(L,p())))}),bs(()=>(z(),q=setInterval(H,100),()=>clearInterval(q)));function N(){if(T())try{const se=JSON.parse(localStorage.getItem(M)||"{}"),Y=se[T()]||se.default;Y&&(t(x,Y.work||30,!0),t(C,Y.rest||60,!0))}catch(se){console.warn(se)}}function h(){try{const se=JSON.parse(localStorage.getItem(M)||"{}"),Y={work:e(x),rest:e(C)};T()&&(se[T()]=Y),se.default=Y,localStorage.setItem(M,JSON.stringify(se))}catch(se){console.error(se)}}function F(){if(e(y)==="SETUP")return;const se={phase:e(y),runningState:e(w),remaining:e(m),endTimestamp:e(B),configWork:e(x),configRest:e(C),configSets:e(L),currentSet:e(D),associatedExerciseId:T(),pausedTimeRemaining:e(S),timestamp:Date.now()};localStorage.setItem("active_interval_timer",JSON.stringify(se))}function z(){try{const se=localStorage.getItem("active_interval_timer");if(se){const Y=JSON.parse(se);Date.now()-Y.timestamp<36e5&&(t(y,Y.phase,!0),t(w,Y.runningState,!0),t(m,Y.remaining,!0),t(B,Y.endTimestamp,!0),t(x,Y.configWork,!0),t(C,Y.configRest,!0),t(L,Y.configSets,!0),t(D,Y.currentSet,!0),T(Y.associatedExerciseId),t(S,Y.pausedTimeRemaining,!0),e(y)!=="SETUP"&&e(y)!=="FINISHED"&&o(!0))}}catch{}}function A(){localStorage.removeItem("active_interval_timer")}function G(){h(),t(y,"WORK"),t(D,1),Q(e(x))}function Q(se){t(w,"RUNNING"),t(m,se,!0),t(B,Date.now()+se*1e3),F(),Es.playChime()}function ee(){t(w,"PAUSED"),t(S,e(m),!0),t(B,null),F()}function ve(){e(S)&&(t(w,"RUNNING"),t(B,Date.now()+e(S)*1e3),F())}function ce(){ge()}function pe(){t(y,"SETUP"),t(w,"PAUSED"),A()}function ge(){Es.playCompletionAlert(),e(y)==="WORK"?e(D)>=e(L)?(t(y,"FINISHED"),t(w,"PAUSED"),t(B,null),R()(),A()):(t(y,"REST"),Q(e(C))):e(y)==="REST"&&(ga(D),t(y,"WORK"),Q(e(x)))}function H(){if(!(!o()||e(y)==="SETUP"||e(y)==="FINISHED"||e(w)==="PAUSED")&&e(B)){const se=Date.now(),Y=e(B)-se;t(m,Math.ceil(Y/1e3),!0),e(m)<=0&&(t(m,0),ge())}}function Z(se){const Y=Math.floor(se/60),Ge=se%60;return`${Y}:${Ge.toString().padStart(2,"0")}`}function te(){(e(y)==="SETUP"||e(y)==="FINISHED")&&pe(),o(!1),O()&&O()()}var $=Wt(),ue=Pt($);{var ye=se=>{var Y=Ai();Y.__click=re=>{re.target===re.currentTarget&&te()},Y.__keydown=re=>{re.key==="Escape"&&te()};var Ge=i(Y);let nt;var wt=i(Ge),St=i(wt),U=i(St);{var I=re=>{var we=_t("Timer Setup");c(re,we)},ie=re=>{var we=Wt(),Ke=Pt(we);{var Ae=me=>{var xe=_t("Complete");c(me,xe)},Ie=me=>{var xe=_t();E(()=>K(xe,`Set ${e(D)??""} / ${e(L)??""}`)),c(me,xe)};V(Ke,me=>{e(y)==="FINISHED"?me(Ae):me(Ie,!1)},!0)}c(re,we)};V(U,re=>{e(y)==="SETUP"?re(I):re(ie,!1)})}s(St);var We=a(St,2);We.__click=te,s(wt);var Ze=a(wt,2),Re=i(Ze);{var ke=re=>{var we=Ri(),Ke=i(we),Ae=a(i(Ke),2),Ie=i(Ae);Ie.__click=()=>t(x,Math.max(5,e(x)-5),!0);var me=a(Ie,2),xe=i(me,!0);s(me);var Qe=a(me,2);Qe.__click=()=>t(x,e(x)+5),s(Ae),s(Ke);var Oe=a(Ke,2),ct=a(i(Oe),2),ut=i(ct);ut.__click=()=>t(C,Math.max(5,e(C)-5),!0);var je=a(ut,2),Me=i(je,!0);s(je);var Te=a(je,2);Te.__click=()=>t(C,e(C)+5),s(ct),s(Oe);var de=a(Oe,2),Pe=a(i(de),2),Ne=i(Pe);Ne.__click=()=>t(L,Math.max(1,e(L)-1),!0);var $e=a(Ne,2),b=i($e,!0);s($e);var l=a($e,2);l.__click=()=>t(L,e(L)+1),s(Pe),s(de);var d=a(de,2);d.__click=G,s(we),E((k,J)=>{K(xe,k),K(Me,J),K(b,e(L))},[()=>Z(e(x)),()=>Z(e(C))]),c(re,we)},De=re=>{var we=Wt(),Ke=Pt(we);{var Ae=me=>{var xe=Di(),Qe=a(i(xe),4);Qe.__click=()=>t(y,"SETUP"),s(xe),c(me,xe)},Ie=me=>{var xe=Fi(),Qe=Pt(xe),Oe=i(Qe),ct=a(i(Oe));s(Oe);var ut=a(Oe,2),je=i(ut),Me=i(je,!0);s(je);var Te=a(je,2),de=i(Te,!0);s(Te),s(ut),s(Qe);var Pe=a(Qe,2),Ne=i(Pe);{var $e=k=>{var J=Ni();J.__click=ee,c(k,J)},b=k=>{var J=Bi();J.__click=ve,c(k,J)};V(Ne,k=>{e(w)==="RUNNING"?k($e):k(b,!1)})}var l=a(Ne,2);l.__click=ce;var d=a(l,2);d.__click=pe,s(Pe),E(k=>{Mt(ct,"stroke-dashoffset",283*(1-e(m)/(e(y)==="WORK"?e(x):e(C)))),K(Me,e(y)),K(de,k)},[()=>Z(e(m))]),c(me,xe)};V(Ke,me=>{e(y)==="FINISHED"?me(Ae):me(Ie,!1)},!0)}c(re,we)};V(Re,re=>{e(y)==="SETUP"?re(ke):re(De,!1)})}s(Ze),s(Ge),s(Y),E(()=>nt=yt(Ge,1,"timer-card svelte-18i4gcv",null,nt,{work:e(y)==="WORK",rest:e(y)==="REST"})),es(3,Ge,()=>ea,()=>({start:.96,duration:300,easing:qi})),es(3,Y,()=>Vs,()=>({duration:250})),c(se,Y)};V(ue,se=>{o()&&se(ye)})}c(P,$),At()}ss(["click","keydown"]);var Oi=_("<img/>"),Ei=_('<div class="animation-frame svelte-zbmy0k"></div>'),Hi=_('<div class="visual-placeholder svelte-zbmy0k"><span>No animation available</span></div>'),Gi=_("<li> </li>"),Wi=_('<div class="modal-overlay svelte-zbmy0k" role="button" tabindex="0" aria-label="Close modal"><div class="modal-content svelte-zbmy0k" role="dialog" aria-modal="true" tabindex="-1"><div class="header svelte-zbmy0k"><h3 class="svelte-zbmy0k"> </h3> <span class="category svelte-zbmy0k"> </span> <button class="close-btn svelte-zbmy0k" aria-label="Close">×</button></div> <div class="visual-container svelte-zbmy0k"><!> <div class="muscles svelte-zbmy0k"> </div></div> <div class="instructions svelte-zbmy0k"><h4>Instructions</h4> <ol class="svelte-zbmy0k"></ol></div></div></div>');function Ii(P,r){Ft(r,!1);let o=Fe(r,"exercise",8),p=Fe(r,"visible",8,!1);const T=cs();let R=_a(0),O;function y(){o().images&&o().images.length>0&&(t(R,0),O=setInterval(()=>{t(R,(e(R)+1)%o().images.length)},800))}function w(){O&&clearInterval(O)}pa(()=>{w()});function x(){T("close")}ma(()=>(mt(p()),mt(o())),()=>{p()&&o().images?.length?y():w()}),fa(),Bs();var C=Wt(),L=Pt(C);{var D=m=>{var B=Wi(),S=i(B),M=i(S),q=i(M),N=i(q,!0);s(q);var h=a(q,2),F=i(h,!0);s(h);var z=a(h,2);s(M);var A=a(M,2),G=i(A);{var Q=H=>{var Z=Ei();be(Z,5,()=>(mt(o()),vt(()=>o().images)),he,(te,$,ue)=>{var ye=Oi();let se;E(()=>{Mt(ye,"src",`${Ra??""}${e($)??""}`),Mt(ye,"alt",`${mt(o()),vt(()=>o().name)??""} frame ${ue+1}`),se=yt(ye,1,"svelte-zbmy0k",null,se,{active:ue===e(R)})}),c(te,ye)}),s(Z),c(H,Z)},ee=H=>{var Z=Hi();c(H,Z)};V(G,H=>{mt(o()),vt(()=>o().images&&o().images.length>0)?H(Q):H(ee,!1)})}var ve=a(G,2),ce=i(ve);s(ve),s(A);var pe=a(A,2),ge=a(i(pe),2);be(ge,5,()=>(mt(o()),vt(()=>o().instructions)),he,(H,Z)=>{var te=Gi(),$=i(te,!0);s(te),E(()=>K($,e(Z))),c(H,te)}),s(ge),s(pe),s(S),s(B),E(H=>{K(N,(mt(o()),vt(()=>o().name))),K(F,(mt(o()),vt(()=>o().category))),K(ce,`Targets: ${H??""}`)},[()=>(mt(o()),vt(()=>o().targetMuscles.join(", ")))]),Se("click",z,x),es(3,S,()=>Ws,()=>({y:50,duration:300})),Se("click",S,Qs(function(H){xs.call(this,r,H)})),Se("keydown",S,Qs(function(H){xs.call(this,r,H)})),Se("click",B,x),Se("keydown",B,H=>H.key==="Escape"&&x()),c(m,B)};V(L,m=>{p()&&m(D)})}c(P,C),At()}var ji=_('<div class="input-group svelte-12q9g58"><label for="delete-confirm" class="svelte-12q9g58">Type <strong> </strong> to confirm:</label> <input type="text" id="delete-confirm" autocomplete="off" class="svelte-12q9g58"/></div>'),zi=_('<button class="backdrop svelte-12q9g58" aria-label="Close modal"></button> <div class="modal svelte-12q9g58" role="dialog" aria-modal="true"><h3 class="svelte-12q9g58"> </h3> <p class="svelte-12q9g58"> </p> <!> <div class="actions svelte-12q9g58"><button class="btn-cancel svelte-12q9g58">Cancel</button> <button class="btn-delete svelte-12q9g58">Delete</button></div></div>',1);function Vi(P,r){Ft(r,!0);let o=Fe(r,"isOpen",3,!1),p=Fe(r,"title",3,"Confirm Delete"),T=Fe(r,"message",3,"Are you sure you want to delete this item? This action cannot be undone."),R=Fe(r,"confirmKeyword",3,"delete"),O=Fe(r,"requireInput",3,!0),y=g(""),w=ft(()=>!O()||e(y).toLowerCase()===R().toLowerCase());function x(){e(w)&&(r.onConfirm(),t(y,""))}function C(){r.onCancel(),t(y,"")}var L=Wt(),D=Pt(L);{var m=B=>{var S=zi(),M=Pt(S);M.__click=C;var q=a(M,2),N=i(q),h=i(N,!0);s(N);var F=a(N,2),z=i(F,!0);s(F);var A=a(F,2);{var G=ce=>{var pe=ji(),ge=i(pe),H=a(i(ge)),Z=i(H,!0);s(H),lt(),s(ge);var te=a(ge,2);j(te),s(pe),E(()=>{K(Z,R()),Mt(te,"placeholder",R())}),W(te,()=>e(y),$=>t(y,$)),c(ce,pe)};V(A,ce=>{O()&&ce(G)})}var Q=a(A,2),ee=i(Q);ee.__click=C;var ve=a(ee,2);ve.__click=x,s(Q),s(q),E(()=>{K(h,p()),K(z,T()),ve.disabled=!e(w)}),es(3,M,()=>Vs,()=>({duration:200})),es(3,q,()=>ea,()=>({duration:200,start:.9})),c(B,S)};V(D,B=>{o()&&B(m)})}c(P,L),At()}ss(["click"]);var Ui=_('<div class="form-header-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;"><h2 style="margin: 0; font-size: 1.25rem; color: var(--teal-primary);">New Gym Session</h2></div>'),Ki=_("<span>Saved! ✓</span>"),Qi=_("<button><!></button>"),Ji=_("<option> </option>"),Yi=_("<option> </option>"),Xi=_('<div class="filter-row svelte-1w0zsmt"><select class="category-select svelte-1w0zsmt"><option>Select Category...</option><!></select> <select class="subcategory-select svelte-1w0zsmt"><option>Select Subcategory...</option><!></select></div>'),Zi=_('<span class="details svelte-1w0zsmt"> </span>'),$i=_('<button class="exercise-item-simple svelte-1w0zsmt"><span class="name svelte-1w0zsmt"> </span> <!></button>'),er=_('<div class="no-results svelte-1w0zsmt"> </div>'),tr=_('<div class="modal-overlay svelte-1w0zsmt" role="button" tabindex="0" aria-label="Close modal"><div class="picker-modal svelte-1w0zsmt" role="dialog" aria-modal="true" tabindex="-1"><div class="picker-header svelte-1w0zsmt"><h3>Add Exercise</h3> <div class="search-row svelte-1w0zsmt"><input type="text" placeholder="Search exercises..." class="svelte-1w0zsmt"/></div> <!></div> <div class="picker-content svelte-1w0zsmt"><div class="exercise-list-simple svelte-1w0zsmt"><!> <!></div></div></div></div>'),sr=_('<div class="keypad-overlay svelte-1w0zsmt"><div class="keypad-header svelte-1w0zsmt"><span> </span> <button class="svelte-1w0zsmt">Done</button></div> <!></div>'),ar=_('<div class="gym-session-form svelte-1w0zsmt"><div class="session-meta svelte-1w0zsmt"><!> <input type="text" class="session-name svelte-1w0zsmt" placeholder="Workout Name (e.g. Pull Day)"/> <div class="meta-row svelte-1w0zsmt"><label class="svelte-1w0zsmt">Date <div class="date-time-row svelte-1w0zsmt"><input type="date" class="svelte-1w0zsmt"/> <input type="time" class="svelte-1w0zsmt"/></div></label> <label class="svelte-1w0zsmt">Bodyweight (kg) <input type="number" placeholder="Optional" class="svelte-1w0zsmt"/></label> <label class="svelte-1w0zsmt">Block <select class="svelte-1w0zsmt"><option>Strength</option><option>Power</option><option>Power Endurance</option><option>Muscular Endurance</option></select></label></div></div> <div class="exercises-list"></div> <button class="add-exercise-btn svelte-1w0zsmt">+ Add Exercise</button> <!> <!> <!> <!> <!> <!></div>');function Hr(P,r){Ft(r,!0);const o=cs(),p="gym_session_draft";let T=Fe(r,"initialData",3,null),R=ft(()=>!!T()),O=g(""),y=g(void 0),w=g(He([])),x=g(He(new Date().toISOString().split("T")[0])),C=g(He(new Date().toTimeString().split(" ")[0].slice(0,5))),L=g("Strength"),D=g(null),m=g(He([]));bs(async()=>{if(T())t(O,T().name,!0),t(y,T().bodyweight,!0),t(w,T().exercises,!0),t(x,T().date,!0),t(C,T().time||"12:00",!0),t(L,T().trainingBlock||"Strength",!0),t(ve,!0);else{const d=localStorage.getItem(p);if(d)try{const k=JSON.parse(d);k.sessionName&&t(O,k.sessionName,!0),k.bodyweight&&t(y,k.bodyweight,!0),k.startTime&&t(x,k.startTime,!0),k.time&&t(C,k.time,!0),k.trainingBlock&&t(L,k.trainingBlock,!0),k.exercises&&t(w,k.exercises,!0)}catch(k){console.error("Failed to restore draft",k)}t(ve,!0)}const l=await xa();l.ok&&l.data&&t(m,l.data.map(d=>({...d,activityType:"gym_session",syncStatus:"synced"})),!0)}),ts(()=>{const l=e(m).filter(d=>(d.trainingBlock||"Strength")===e(L)&&d.date<e(x));l.sort((d,k)=>new Date(k.date).getTime()-new Date(d.date).getTime()),t(D,l.length>0?l[0]:null,!0)});function B(l){const d={Green:null,Yellow:null,Orange:null,Red:null},k=[...e(m)].sort((J,oe)=>new Date(oe.date).getTime()-new Date(J.date).getTime());for(const J of k){if(d.Green&&d.Yellow&&d.Orange&&d.Red)break;const oe=J.exercises.find(ae=>ae.name===l);if(oe&&oe.difficulty&&!d[oe.difficulty]){let ae=null;for(const Ce of oe.sets)(!ae||Ce.weight>ae.weight||Ce.weight===ae.weight&&Ce.reps>ae.reps)&&(ae=Ce);ae&&(d[oe.difficulty]={weight:ae.weight,reps:ae.reps})}}return d}let S=g(!1),M=g(""),q=g(""),N=g(""),h=g(null),F=g(!1),z=g(null),A=g(null),G=g(!1),Q=g(null),ee=g(3),ve=g(!1);ts(()=>{if(e(ve)&&!e(R)&&typeof localStorage<"u"){const l={sessionName:e(O),bodyweight:e(y),startTime:e(x),time:e(C),trainingBlock:e(L),exercises:e(w)};localStorage.setItem(p,JSON.stringify(l))}});let ce=ft(()=>Ns.filter(l=>{if(e(M))return l.name.toLowerCase().includes(e(M).toLowerCase())||l.targetMuscles.some(J=>J.toLowerCase().includes(e(M).toLowerCase()));const d=e(q)?l.category===e(q):!0,k=e(N)?l.subcategory===e(N):!0;return d&&k}));const pe=Array.from(new Set(Ns.map(l=>l.category))).sort();let ge=ft(()=>e(q)?Array.from(new Set(Ns.filter(l=>l.category===e(q)).map(l=>l.subcategory))).sort():[]);function H(){t(N,"")}function Z(l){const d={id:crypto.randomUUID(),name:l.name,sets:[{weight:0,reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1}]};t(w,[...e(w),d],!0),t(S,!1),t(M,""),t(q,""),t(N,"")}function te(l,d,k){t(h,{exerciseIndex:d,setIndex:k,field:l.detail.field},!0)}function $(l){if(!e(h))return;const{exerciseIndex:d,setIndex:k,field:J}=e(h);e(w)[d].sets[k][J]=l.detail,t(w,[...e(w)],!0)}function ue(l){const d=l.detail;t(Q,d.id,!0),t(ee,d.sets.length,!0),t(F,!0)}function ye(){}async function se(){if(e(w).length===0)return;const l={date:e(x),time:e(C),name:e(O)||"Gym Workout",bodyweight:e(y),trainingBlock:e(L),exercises:e(w)},d=e(R)&&T()?await Ca(T().id,l):await Ta(l);d.ok?(t(G,!0),e(R)||localStorage.removeItem(p),r.onSaved?r.onSaved():setTimeout(()=>{t(G,!1),o("save")},1500)):console.error("Failed to save gym session",d.error)}function Y(){t(h,null)}var Ge=ar(),nt=i(Ge),wt=i(nt);{var St=l=>{var d=Ui();c(l,d)};V(wt,l=>{e(R)||l(St)})}var U=a(wt,2);j(U);var I=a(U,2),ie=i(I),We=a(i(ie)),Ze=i(We);j(Ze);var Re=a(Ze,2);j(Re),s(We),s(ie);var ke=a(ie,2),De=a(i(ke));j(De),s(ke);var re=a(ke,2),we=a(i(re)),Ke=i(we);Ke.value=Ke.__value="Strength";var Ae=a(Ke);Ae.value=Ae.__value="Power";var Ie=a(Ae);Ie.value=Ie.__value="Power Endurance";var me=a(Ie);me.value=me.__value="Muscular Endurance",s(we),s(re),s(I),s(nt);var xe=a(nt,2);be(xe,21,()=>e(w),he,(l,d,k)=>{{let J=ft(()=>B(e(d).name));Ti(l,{get exercise(){return e(d)},get benchmarks(){return e(J)},$$events:{focus:oe=>te(oe,k,e(w)[k].sets.indexOf(oe.detail.set)),complete:ye,timer:ue,delete:()=>{t(A,k,!0)},info:()=>{const oe=Ns.find(ae=>ae.name===e(d).name);oe&&t(z,oe,!0)}}})}}),s(xe);var Qe=a(xe,2);Qe.__click=()=>t(S,!0);var Oe=a(Qe,2);{var ct=l=>{var d=Qi();let k;d.__click=se;var J=i(d);{var oe=Ce=>{var dt=Ki();c(Ce,dt)},ae=Ce=>{var dt=_t("Finish Workout");c(Ce,dt)};V(J,Ce=>{e(G)?Ce(oe):Ce(ae,!1)})}s(d),E(()=>{k=yt(d,1,"save-btn svelte-1w0zsmt",null,k,{success:e(G)}),d.disabled=e(G)}),c(l,d)};V(Oe,l=>{e(w).length>0&&l(ct)})}var ut=a(Oe,2);{var je=l=>{var d=tr();d.__click=()=>t(S,!1),d.__keydown=fe=>fe.key==="Escape"&&t(S,!1);var k=i(d);k.__click=fe=>fe.stopPropagation(),k.__keydown=fe=>fe.stopPropagation();var J=i(k),oe=a(i(J),2),ae=i(oe);j(ae),s(oe);var Ce=a(oe,2);{var dt=fe=>{var Je=Xi(),ze=i(Je);ze.__change=H;var gt=i(ze);gt.value=gt.__value="";var qt=a(gt);be(qt,17,()=>pe,he,(Ve,it)=>{var tt=Ji(),Et=i(tt,!0);s(tt);var bt={};E(()=>{K(Et,e(it)),bt!==(bt=e(it))&&(tt.value=(tt.__value=e(it))??"")}),c(Ve,tt)}),s(ze);var pt=a(ze,2),et=i(pt);et.value=et.__value="";var Ct=a(et);be(Ct,17,()=>e(ge),he,(Ve,it)=>{var tt=Yi(),Et=i(tt,!0);s(tt);var bt={};E(()=>{K(Et,e(it)),bt!==(bt=e(it))&&(tt.value=(tt.__value=e(it))??"")}),c(Ve,tt)}),s(pt),s(Je),E(()=>pt.disabled=!e(q)),ot(ze,()=>e(q),Ve=>t(q,Ve)),ot(pt,()=>e(N),Ve=>t(N,Ve)),c(fe,Je)};V(Ce,fe=>{e(M)||fe(dt)})}s(J);var It=a(J,2),xt=i(It),Nt=i(xt);be(Nt,17,()=>e(ce),he,(fe,Je)=>{var ze=$i();ze.__click=()=>Z(e(Je));var gt=i(ze),qt=i(gt,!0);s(gt);var pt=a(gt,2);{var et=Ct=>{var Ve=Zi(),it=i(Ve);s(Ve),E(()=>K(it,`${e(Je).category??""} - ${e(Je).subcategory??""}`)),c(Ct,Ve)};V(pt,Ct=>{e(M)&&Ct(et)})}s(ze),E(()=>K(qt,e(Je).name)),c(fe,ze)});var Ot=a(Nt,2);{var kt=fe=>{var Je=er(),ze=i(Je,!0);s(Je),E(()=>K(ze,e(M)?"No exercises found":"Select a category and subcategory to view exercises.")),c(fe,Je)};V(Ot,fe=>{e(ce).length===0&&fe(kt)})}s(xt),s(It),s(k),s(d),W(ae,()=>e(M),fe=>t(M,fe)),es(3,k,()=>Ws,()=>({y:100,duration:300})),es(3,d,()=>Vs),c(l,d)};V(ut,l=>{e(S)&&l(je)})}var Me=a(ut,2);{var Te=l=>{Ii(l,{get exercise(){return e(z)},visible:!0,$$events:{close:()=>t(z,null)}})};V(Me,l=>{e(z)&&l(Te)})}var de=a(Me,2);{var Pe=l=>{var d=sr(),k=i(d),J=i(k),oe=i(J);s(J);var ae=a(J,2);ae.__click=Y,s(k);var Ce=a(k,2);{let dt=ft(()=>e(h).field==="weight"?"Weight (kg)":"Reps");Mi(Ce,{get value(){return e(w)[e(h).exerciseIndex].sets[e(h).setIndex][e(h).field]},get label(){return e(dt)},$$events:{change:$}})}s(d),E(()=>K(oe,`Editing ${e(w)[e(h).exerciseIndex].name??""} - Set ${e(h).setIndex+1}`)),es(3,d,()=>Ws,()=>({y:200,duration:300})),c(l,d)};V(de,l=>{e(h)&&l(Pe)})}var Ne=a(de,2);ta(Ne,{get defaultSets(){return e(ee)},get associatedExerciseId(){return e(Q)},get visible(){return e(F)},set visible(l){t(F,l,!0)}});var $e=a(Ne,2);{var b=l=>{Vi(l,{isOpen:!0,title:"Delete Exercise",get message(){return`Are you sure you want to delete ${e(w)[e(A)].name??""}?`},requireInput:!1,onConfirm:()=>{e(A)!==null&&(t(w,e(w).filter((d,k)=>k!==e(A)),!0),t(A,null))},onCancel:()=>t(A,null)})};V($e,l=>{e(A)!==null&&l(b)})}s(Ge),W(U,()=>e(O),l=>t(O,l)),W(Ze,()=>e(x),l=>t(x,l)),W(Re,()=>e(C),l=>t(C,l)),W(De,()=>e(y),l=>t(y,l)),ot(we,()=>e(L),l=>t(L,l)),c(P,Ge),At()}ss(["click","keydown","change"]);var ir=_('<h3 class="svelte-1m63nqt">🤏 Fingerboarding</h3>'),rr=_("<option> </option>"),lr=_("<option> </option>"),or=_('<button class="remove-set-btn svelte-1m63nqt">✕</button>'),nr=_('<div class="set-row svelte-1m63nqt"><div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Weight</label> <input type="number" placeholder="0" class="svelte-1m63nqt"/></div> <div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Reps/Secs</label> <input type="number" placeholder="1" class="svelte-1m63nqt"/></div> <!></div>'),cr=_('<div class="exercise-card svelte-1m63nqt"><div class="card-header svelte-1m63nqt"><div class="header-inputs svelte-1m63nqt"><select class="svelte-1m63nqt"></select> <select class="svelte-1m63nqt"></select></div> <button class="remove-card-btn svelte-1m63nqt" title="Remove Exercise">✕</button></div> <div class="sets-list svelte-1m63nqt"><!> <button class="add-set-btn svelte-1m63nqt">+ Add Set</button> <button class="rest-btn svelte-1m63nqt" title="Interval Timer">⏱ Timer</button></div> <div class="card-footer svelte-1m63nqt"><div class="meta-input svelte-1m63nqt"><label class="svelte-1m63nqt">Total Sets</label> <input type="number" readonly="" disabled class="svelte-1m63nqt"/></div> <div class="notes-input svelte-1m63nqt"><label class="svelte-1m63nqt">Notes</label> <input type="text" placeholder="Notes..." class="svelte-1m63nqt"/></div></div></div>'),ur=_("<div> </div>"),dr=_('<div class="form-content svelte-1m63nqt"><div class="header-row svelte-1m63nqt"><div style="flex: 1; display: flex; justify-content: space-between; align-items: center;"><!></div> <button class="add-row-btn svelte-1m63nqt">+ Add Exercise</button></div> <div class="form-group date-group svelte-1m63nqt"><label for="date">Date</label> <div class="date-time-row svelte-1m63nqt"><input type="date" id="date" class="svelte-1m63nqt"/> <input type="time" id="time" class="svelte-1m63nqt"/></div></div> <div class="cards-container svelte-1m63nqt"></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1m63nqt"><!></button></div> <!></div>');function Gr(P,r){Ft(r,!0),cs();let o=Fe(r,"initialData",3,null),p=ft(()=>!!o());const T=["Max hangs","Recruitment pulls","Max pick-ups"],R=["Full-crimp","Half-crimp","Three finger drag","Pinch","Open hand","Sloper"];let O=g(He(new Date().toISOString().split("T")[0])),y=g(He(new Date().toTimeString().split(" ")[0].slice(0,5))),w=g(He([])),x=g(!1),C=g(null),L=g(3);function D(U){t(C,U.id,!0),t(L,U.sets,!0),t(x,!0)}function m(){t(w,[...e(w),{id:crypto.randomUUID(),name:T[0],gripType:R[1],sets:1,details:[{weight:0,reps:5}],notes:""}],!0)}const B="fingerboard_session_draft";let S=g(!1);bs(()=>{if(o())t(O,o().date,!0),t(y,o().time||"12:00",!0),t(w,o().exercises,!0),t(S,!0);else{const U=localStorage.getItem(B);if(U)try{const I=JSON.parse(U);I.time&&t(y,I.time,!0),I.exercises&&Array.isArray(I.exercises)&&t(w,I.exercises,!0)}catch(I){console.error("Failed to restore draft",I)}e(w).length===0&&m(),t(S,!0)}}),ts(()=>{if(!e(S)||e(p))return;const U={date:e(O),time:e(y),exercises:e(w)};localStorage.setItem(B,JSON.stringify(U))});function M(U){t(w,e(w).filter((I,ie)=>ie!==U),!0)}function q(U){const I=e(w)[U],ie=I.details[I.details.length-1];I.details=[...I.details,{...ie}],I.sets=I.details.length}function N(U,I){const ie=e(w)[U];ie.details.length>1&&(ie.details=ie.details.filter((We,Ze)=>Ze!==I),ie.sets=ie.details.length)}let h=g("idle"),F=g("");async function z(){t(h,"saving");try{const U={date:e(O),time:e(y),location:"N/A",exercises:JSON.parse(JSON.stringify(e(w)))};let I;e(p)&&o()?I=await La(o().id,U):I=await Ma(U),I.ok?(t(h,"success"),t(F,"Session saved!"),e(p)||localStorage.removeItem(B),r.onSaved?r.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{A()},2e3))):(t(h,"error"),t(F,"Failed to save: "+(I.error||"Unknown error")))}catch(U){t(h,"error"),t(F,"Failed to save session"),console.error("Save error:",U)}}function A(){t(O,new Date().toISOString().split("T")[0],!0),t(y,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(w,[],!0),m(),t(h,"idle"),t(F,"")}var G=dr(),Q=i(G),ee=i(Q),ve=i(ee);{var ce=U=>{var I=ir();c(U,I)};V(ve,U=>{e(p)||U(ce)})}s(ee);var pe=a(ee,2);pe.__click=m,s(Q);var ge=a(Q,2),H=a(i(ge),2),Z=i(H);j(Z);var te=a(Z,2);j(te),s(H),s(ge);var $=a(ge,2);be($,21,()=>e(w),he,(U,I,ie)=>{var We=cr(),Ze=i(We),Re=i(Ze),ke=i(Re);be(ke,21,()=>T,he,(Me,Te)=>{var de=rr(),Pe=i(de,!0);s(de);var Ne={};E(()=>{K(Pe,e(Te)),Ne!==(Ne=e(Te))&&(de.value=(de.__value=e(Te))??"")}),c(Me,de)}),s(ke);var De=a(ke,2);be(De,21,()=>R,he,(Me,Te)=>{var de=lr(),Pe=i(de,!0);s(de);var Ne={};E(()=>{K(Pe,e(Te)),Ne!==(Ne=e(Te))&&(de.value=(de.__value=e(Te))??"")}),c(Me,de)}),s(De),s(Re);var re=a(Re,2);re.__click=()=>M(ie),s(Ze);var we=a(Ze,2),Ke=i(we);be(Ke,17,()=>e(I).details,he,(Me,Te,de)=>{var Pe=nr(),Ne=i(Pe),$e=i(Ne);Mt($e,"for",`weight-${ie}-${de}`);var b=a($e,2);j(b),Mt(b,"id",`weight-${ie}-${de}`),s(Ne);var l=a(Ne,2),d=i(l);Mt(d,"for",`reps-${ie}-${de}`);var k=a(d,2);j(k),Mt(k,"id",`reps-${ie}-${de}`),s(l);var J=a(l,2);{var oe=ae=>{var Ce=or();Ce.__click=()=>N(ie,de),c(ae,Ce)};V(J,ae=>{e(I).details.length>1&&ae(oe)})}s(Pe),W(b,()=>e(Te).weight,ae=>e(Te).weight=ae),W(k,()=>e(Te).reps,ae=>e(Te).reps=ae),c(Me,Pe)});var Ae=a(Ke,2);Ae.__click=()=>q(ie);var Ie=a(Ae,2);Ie.__click=()=>D(e(I)),s(we);var me=a(we,2),xe=i(me),Qe=i(xe);Mt(Qe,"for",`total-sets-${ie}`);var Oe=a(Qe,2);j(Oe),Mt(Oe,"id",`total-sets-${ie}`),s(xe);var ct=a(xe,2),ut=i(ct);Mt(ut,"for",`notes-${ie}`);var je=a(ut,2);j(je),Mt(je,"id",`notes-${ie}`),s(ct),s(me),s(We),E(()=>ha(Oe,e(I).sets)),ot(ke,()=>e(I).name,Me=>e(I).name=Me),ot(De,()=>e(I).gripType,Me=>e(I).gripType=Me),W(je,()=>e(I).notes,Me=>e(I).notes=Me),c(U,We)}),s($);var ue=a($,2),ye=i(ue);{var se=U=>{var I=ur();let ie;var We=i(I,!0);s(I),E(()=>{ie=yt(I,1,"save-message svelte-1m63nqt",null,ie,{success:e(h)==="success",error:e(h)==="error"}),K(We,e(F))}),c(U,I)};V(ye,U=>{e(F)&&U(se)})}var Y=a(ye,2);Y.__click=z;var Ge=i(Y);{var nt=U=>{var I=_t("Saving...");c(U,I)},wt=U=>{var I=Wt(),ie=Pt(I);{var We=Re=>{var ke=_t("✓ Saved!");c(Re,ke)},Ze=Re=>{var ke=_t("Save Session");c(Re,ke)};V(ie,Re=>{e(h)==="success"?Re(We):Re(Ze,!1)},!0)}c(U,I)};V(Ge,U=>{e(h)==="saving"?U(nt):U(wt,!1)})}s(Y),s(ue);var St=a(ue,2);ta(St,{get defaultSets(){return e(L)},get associatedExerciseId(){return e(C)},get visible(){return e(x)},set visible(U){t(x,U,!0)}}),s(G),E(()=>Y.disabled=e(h)==="saving"),W(Z,()=>e(O),U=>t(O,U)),W(te,()=>e(y),U=>t(y,U)),c(P,G),At()}ss(["click"]);var vr=_('<h3 style="margin: 0; color: var(--teal-secondary);" class="svelte-1fje4dh">🏆 Competition</h3>'),gr=_("<option> </option>"),pr=_('<input type="text" placeholder="Enter venue name" class="mt-2 svelte-1fje4dh"/>'),mr=_("<option> </option>"),fr=_("<option> </option>"),_r=_('<input type="text" placeholder="Round name" class="mt-2 svelte-1fje4dh"/>'),br=_('<div class="result-mode-content svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="position" class="svelte-1fje4dh">Final Position</label> <input type="number" id="position" placeholder="#" class="large-input svelte-1fje4dh"/></div></div>'),hr=_("<option> </option>"),yr=_('<input type="number" min="1" class="svelte-1fje4dh"/>'),wr=_('<span class="flash-dash">-</span>'),Sr=_('<tr><td class="col-name svelte-1fje4dh"><input type="text" class="svelte-1fje4dh"/></td><td class="col-status svelte-1fje4dh"><select class="svelte-1fje4dh"></select></td><td class="col-attempt svelte-1fje4dh"><!></td><td class="col-notes svelte-1fje4dh"><input type="text" placeholder="..." class="svelte-1fje4dh"/></td><td class="col-action svelte-1fje4dh"><button class="svelte-1fje4dh">✕</button></td></tr>'),kr=_('<div class="load-metrics-compact svelte-1fje4dh"><div class="metric svelte-1fje4dh"><label for="finger">Finger Load</label> <input type="number" id="finger" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div> <div class="metric svelte-1fje4dh"><label for="shoulder">Shoulder Load</label> <input type="number" id="shoulder" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div> <div class="metric svelte-1fje4dh"><label for="forearm">Forearm Load</label> <input type="number" id="forearm" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div></div> <div class="climbs-table-container svelte-1fje4dh"><div class="section-header svelte-1fje4dh"><h4 class="svelte-1fje4dh">Boulders / Routes</h4></div> <table class="climbs-table svelte-1fje4dh"><thead><tr><th class="svelte-1fje4dh">#</th><th class="svelte-1fje4dh">Result</th><th class="svelte-1fje4dh">Att.</th><th class="svelte-1fje4dh">Notes</th><th class="svelte-1fje4dh"></th></tr></thead><tbody></tbody></table> <button class="add-row-btn svelte-1fje4dh">+ Add Row</button></div>',1),xr=_("<div> </div>"),Cr=_('<div class="form-content svelte-1fje4dh"><div style="flex: 1; display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;"><!></div> <div class="form-grid svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="date" class="svelte-1fje4dh">Date</label> <div class="date-time-row svelte-1fje4dh"><input type="date" id="date" class="svelte-1fje4dh"/> <input type="time" id="time" class="svelte-1fje4dh"/></div></div> <div class="form-group svelte-1fje4dh"><label for="venue" class="svelte-1fje4dh">Venue</label> <select id="venue" class="svelte-1fje4dh"><option disabled>Select venue...</option><!></select> <!></div></div> <div class="form-group mb-4 svelte-1fje4dh"><label for="type" class="svelte-1fje4dh">Type</label> <select id="type" class="svelte-1fje4dh"></select></div> <div class="form-group mb-4 svelte-1fje4dh"><label for="session-notes" class="svelte-1fje4dh">Session Notes</label> <textarea id="session-notes" placeholder="How did the comp go? Strategy, mindset, etc." rows="3" class="svelte-1fje4dh"></textarea></div> <div class="round-section svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="round" class="svelte-1fje4dh">Round</label> <select id="round" class="svelte-1fje4dh"></select> <!></div> <!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1fje4dh"><!></button></div></div>');function Wr(P,r){Ft(r,!0),cs();let o=Fe(r,"initialData",3,null),p=ft(()=>!!o());const T=["Flashpoint Bristol","Rockstar Techno","Rockstar Unit 3","Rockstar Unit 5","Bloc","TCA","Other"],R=["Bouldering","Lead","Speed"],O=["Qualifiers","Semi-Finals","Finals","Result","Other"],y=["Flash","Top","Zone","Attempt"];let w=g(He(new Date().toISOString().split("T")[0])),x=g(He(new Date().toTimeString().split(" ")[0].slice(0,5))),C=g(""),L=g(""),D=g("Bouldering"),m=g(4),B=g(4),S=g(4),M=g("Qualifiers"),q=g(""),N=g(null),h=g(He([{name:"#1",status:"Flash",attemptCount:1,notes:""}])),F=g("");const z="competition_session_draft";let A=g(!1);bs(()=>{if(o()){if(t(w,o().date,!0),t(x,o().time||"12:00",!0),t(D,o().type||"Bouldering",!0),t(F,o().notes||"",!0),T.includes(o().venue)?t(C,o().venue,!0):(t(C,"Other"),t(L,o().venue,!0)),t(m,o().fingerLoad??4,!0),t(B,o().shoulderLoad??4,!0),t(S,o().forearmLoad??4,!0),o().rounds&&o().rounds.length>0){const b=o().rounds[0];O.includes(b.name)?t(M,b.name,!0):(t(M,"Other"),t(q,b.name,!0)),t(N,b.position??null,!0),b.climbs&&b.climbs.length>0&&t(h,b.climbs,!0)}t(A,!0)}else{const b=localStorage.getItem(z);if(b)try{const l=JSON.parse(b);l.venue&&t(C,l.venue,!0),l.time&&t(x,l.time,!0),l.customVenue&&t(L,l.customVenue,!0),l.type&&t(D,l.type,!0),l.fingerLoad&&t(m,l.fingerLoad,!0),l.shoulderLoad&&t(B,l.shoulderLoad,!0),l.forearmLoad&&t(S,l.forearmLoad,!0),l.roundName&&t(M,l.roundName,!0),l.customRoundName&&t(q,l.customRoundName,!0),l.finalPosition&&t(N,l.finalPosition,!0),l.climbs&&t(h,l.climbs,!0),l.notes&&t(F,l.notes,!0)}catch(l){console.error("Failed to restore draft",l)}t(A,!0)}}),ts(()=>{if(!e(A)||e(p))return;const b={date:e(w),time:e(x),venue:e(C),customVenue:e(L),type:e(D),fingerLoad:e(m),shoulderLoad:e(B),forearmLoad:e(S),roundName:e(M),customRoundName:e(q),finalPosition:e(N),climbs:e(h),notes:e(F)};localStorage.setItem(z,JSON.stringify(b))});let G=ft(()=>e(M)==="Result"),Q=ft(()=>e(C)==="Other"),ee=ft(()=>e(M)==="Other"),ve=ft(()=>e(M)==="Other"?e(q):e(M));function ce(){const b=e(h).length+1;t(h,[...e(h),{name:`#${b}`,status:"Flash",attemptCount:1,notes:""}],!0)}function pe(b){e(h).length>1?t(h,e(h).filter((l,d)=>d!==b),!0):e(h)[0]={name:"#1",status:"Flash",attemptCount:1,notes:""}}function ge(b,l){e(h)[b].status=l,l==="Flash"&&(e(h)[b].attemptCount=1)}let H=g("idle"),Z=g("");async function te(){if(!e(C)||e(C)==="Other"&&!e(L)){t(H,"error"),t(Z,"Please specify a venue");return}t(H,"saving");try{const b={name:e(ve),position:e(G)?e(N):void 0,climbs:e(G)?void 0:JSON.parse(JSON.stringify(e(h)))},l={date:e(w),time:e(x),venue:e(C)==="Other"?e(L):e(C),customVenue:e(C)==="Other"?e(L):void 0,type:e(D),fingerLoad:e(G)?void 0:e(m),shoulderLoad:e(G)?void 0:e(B),forearmLoad:e(G)?void 0:e(S),rounds:[b],notes:e(F)};let d;e(p)&&o()?d=await Pa(o().id,l):d=await qa(l),d.ok?(t(H,"success"),t(Z,"Competition saved!"),e(p)||localStorage.removeItem(z),r.onSaved?r.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{$()},2e3))):(t(H,"error"),t(Z,"Failed to save: "+(d.error||"Unknown error")))}catch(b){t(H,"error"),t(Z,"Failed to save session"),console.error("Save error:",b)}}function $(){t(w,new Date().toISOString().split("T")[0],!0),t(x,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(C,""),t(L,""),t(N,null),t(h,[{name:"#1",status:"Flash",attemptCount:1,notes:""}],!0),t(F,""),t(H,"idle"),t(Z,"")}var ue=Cr(),ye=i(ue),se=i(ye);{var Y=b=>{var l=vr();c(b,l)};V(se,b=>{e(p)||b(Y)})}s(ye);var Ge=a(ye,2),nt=i(Ge),wt=a(i(nt),2),St=i(wt);j(St);var U=a(St,2);j(U),s(wt),s(nt);var I=a(nt,2),ie=a(i(I),2),We=i(ie);We.value=We.__value="";var Ze=a(We);be(Ze,17,()=>T,he,(b,l)=>{var d=gr(),k=i(d,!0);s(d);var J={};E(()=>{K(k,e(l)),J!==(J=e(l))&&(d.value=(d.__value=e(l))??"")}),c(b,d)}),s(ie);var Re=a(ie,2);{var ke=b=>{var l=pr();j(l),W(l,()=>e(L),d=>t(L,d)),c(b,l)};V(Re,b=>{e(Q)&&b(ke)})}s(I),s(Ge);var De=a(Ge,2),re=a(i(De),2);be(re,21,()=>R,he,(b,l)=>{var d=mr(),k=i(d,!0);s(d);var J={};E(()=>{K(k,e(l)),J!==(J=e(l))&&(d.value=(d.__value=e(l))??"")}),c(b,d)}),s(re),s(De);var we=a(De,2),Ke=a(i(we),2);Cs(Ke),s(we);var Ae=a(we,2),Ie=i(Ae),me=a(i(Ie),2);be(me,21,()=>O,he,(b,l)=>{var d=fr(),k=i(d,!0);s(d);var J={};E(()=>{K(k,e(l)),J!==(J=e(l))&&(d.value=(d.__value=e(l))??"")}),c(b,d)}),s(me);var xe=a(me,2);{var Qe=b=>{var l=_r();j(l),W(l,()=>e(q),d=>t(q,d)),c(b,l)};V(xe,b=>{e(ee)&&b(Qe)})}s(Ie);var Oe=a(Ie,2);{var ct=b=>{var l=br(),d=i(l),k=a(i(d),2);j(k),s(d),s(l),W(k,()=>e(N),J=>t(N,J)),c(b,l)},ut=b=>{var l=kr(),d=Pt(l),k=i(d),J=a(i(k),2);j(J),s(k);var oe=a(k,2),ae=a(i(oe),2);j(ae),s(oe);var Ce=a(oe,2),dt=a(i(Ce),2);j(dt),s(Ce),s(d);var It=a(d,2),xt=a(i(It),2),Nt=a(i(xt));be(Nt,21,()=>e(h),he,(kt,fe,Je)=>{var ze=Sr(),gt=i(ze),qt=i(gt);j(qt),s(gt);var pt=a(gt),et=i(pt);et.__change=Ye=>ge(Je,Ye.target.value),be(et,21,()=>y,he,(Ye,ht)=>{var Rt=hr(),Vt=i(Rt,!0);s(Rt);var Ut={};E(()=>{K(Vt,e(ht)),Ut!==(Ut=e(ht))&&(Rt.value=(Rt.__value=e(ht))??"")}),c(Ye,Rt)}),s(et);var Ct;Is(et),s(pt);var Ve=a(pt),it=i(Ve);{var tt=Ye=>{var ht=yr();j(ht),W(ht,()=>e(fe).attemptCount,Rt=>e(fe).attemptCount=Rt),c(Ye,ht)},Et=Ye=>{var ht=wr();c(Ye,ht)};V(it,Ye=>{e(fe).status!=="Flash"?Ye(tt):Ye(Et,!1)})}s(Ve);var bt=a(Ve),as=i(bt);j(as),s(bt);var Qt=a(bt),is=i(Qt);is.__click=()=>pe(Je),s(Qt),s(ze),E(()=>{Ct!==(Ct=e(fe).status)&&(et.value=(et.__value=e(fe).status)??"",js(et,e(fe).status))}),W(qt,()=>e(fe).name,Ye=>e(fe).name=Ye),W(as,()=>e(fe).notes,Ye=>e(fe).notes=Ye),c(kt,ze)}),s(Nt),s(xt);var Ot=a(xt,2);Ot.__click=ce,s(It),W(J,()=>e(m),kt=>t(m,kt)),W(ae,()=>e(B),kt=>t(B,kt)),W(dt,()=>e(S),kt=>t(S,kt)),c(b,l)};V(Oe,b=>{e(G)?b(ct):b(ut,!1)})}s(Ae);var je=a(Ae,2),Me=i(je);{var Te=b=>{var l=xr();let d;var k=i(l,!0);s(l),E(()=>{d=yt(l,1,"save-message svelte-1fje4dh",null,d,{success:e(H)==="success",error:e(H)==="error"}),K(k,e(Z))}),c(b,l)};V(Me,b=>{e(Z)&&b(Te)})}var de=a(Me,2);de.__click=te;var Pe=i(de);{var Ne=b=>{var l=_t("Saving...");c(b,l)},$e=b=>{var l=Wt(),d=Pt(l);{var k=oe=>{var ae=_t("✓ Saved!");c(oe,ae)},J=oe=>{var ae=_t("Save Session");c(oe,ae)};V(d,oe=>{e(H)==="success"?oe(k):oe(J,!1)},!0)}c(b,l)};V(Pe,b=>{e(H)==="saving"?b(Ne):b($e,!1)})}s(de),s(je),s(ue),E(()=>de.disabled=e(H)==="saving"),W(St,()=>e(w),b=>t(w,b)),W(U,()=>e(x),b=>t(x,b)),ot(ie,()=>e(C),b=>t(C,b)),ot(re,()=>e(D),b=>t(D,b)),W(Ke,()=>e(F),b=>t(F,b)),ot(me,()=>e(M),b=>t(M,b)),c(P,ue),At()}ss(["change","click"]);export{Wr as C,Vi as D,Ns as E,Gr as F,Hr as G,Ar as I,Or as O,ea as a,Js as b,Vs as f,si as g,Er as s,es as t};
