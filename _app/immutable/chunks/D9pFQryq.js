import{g as u,a as s,r as f,u as y,m as l,b as c}from"./nlficZ7S.js";import{g}from"./CXtL9yLC.js";const T="https://func-workout-api-825153765638.europe-west1.run.app";async function o(e,r={}){const n=g();if(!n)return{ok:!1,error:"Not authenticated"};try{const a=await fetch(`${T}${e}`,{...r,headers:{"Content-Type":"application/json","x-api-key":n,...r.headers}});return a.ok?a.status===204?{ok:!0}:{ok:!0,data:await a.json()}:{ok:!1,error:`HTTP ${a.status}: ${a.statusText}`}}catch(a){return{ok:!1,error:a instanceof Error?a.message:"Network error"}}}async function p(e){const r=await o("/indoor_sessions",{method:"POST",body:JSON.stringify(e)});return r.ok&&r.data?{ok:!0,id:r.data.id}:{ok:!1,error:r.error}}async function m(e,r){return o(`/indoor_sessions/${e}`,{method:"PUT",body:JSON.stringify(r)})}async function H(){return o("/indoor_sessions",{method:"GET"})}async function S(e){return o(`/indoor_sessions/${e}`,{method:"DELETE"})}function k(){return typeof navigator<"u"?navigator.onLine:!0}async function W(e){const r=await o("/outdoor_sessions",{method:"POST",body:JSON.stringify(e)});return r.ok&&r.data?{ok:!0,id:r.data.id}:{ok:!1,error:r.error}}async function b(e,r){return o(`/outdoor_sessions/${e}`,{method:"PUT",body:JSON.stringify(r)})}async function I(){return o("/outdoor_sessions",{method:"GET"})}async function L(e){return o(`/outdoor_sessions/${e}`,{method:"DELETE"})}async function C(e){const r=await o("/fingerboard_sessions",{method:"POST",body:JSON.stringify(e)});return r.ok&&r.data?{ok:!0,id:r.data.id}:{ok:!1,error:r.error}}async function B(e,r){return o(`/fingerboard_sessions/${e}`,{method:"PUT",body:JSON.stringify(r)})}async function Q(){return o("/fingerboard_sessions",{method:"GET"})}async function w(e){return o(`/fingerboard_sessions/${e}`,{method:"DELETE"})}async function A(e){const r=await o("/competition_sessions",{method:"POST",body:JSON.stringify(e)});return r.ok&&r.data?{ok:!0,id:r.data.id}:{ok:!1,error:r.error}}async function E(e,r){return o(`/competition_sessions/${e}`,{method:"PUT",body:JSON.stringify(r)})}async function x(){return o("/competition_sessions",{method:"GET"})}async function N(e){return o(`/competition_sessions/${e}`,{method:"DELETE"})}const d={Portland:{"Blacknor Far North":["Far North (Pit Prop Crag - North Wing)","Far North (Pit Prop Crag - South Wing)","Sunstone Wall","Sandcastle Wall","Hidden Wall"],"Blacknor North":["Diamond Slab","The Ledge","Sharpy's Wall","Reptile Smile Area","Wolfgang Forever Area","Captain Klutz Area","Death of Cool Area","Seattle Be The Day Area","Blacknor Heights (Blacknor Quarry Bouldering)","Blacknor Fort Quarry (Sport)","Cliff Top Way Down"],"Blacknor Central":["The Veranda","Medusa Wall","The Battlement","Wave Wall","Mirror Wall"],"Blacknor South":["Fallen Slab","Infidel Slab","Englands Dreaming Area","Sacred Angel Area","The Reach","Shit Happens Wall"],"Blacknor Far South":["Deadman's Bay","The White Hole","Wall of Lament"],"Battleship Edge":["Northern Sector","Main Edge","Battleship Block"],"Battleship Back Cliff":["Zinc Oxide Mountain","The Main Cliff","Sleepy Hollow"],"Wallsend North":["Sweet Smell of Success Wall","The Coastguard Wall (Northern section)"],"Wallsend South":["The Upper Tier","The Lower Tier","Stalker's Zone"],"Coastguard North":["Top Tier","Main Cliff (Beeston Bump)","The Grooves"],"Coastguard South":["The White Wall","Tennessee Wall","The Veranda (South)"],Godnor:["Godnor North","Godnor Far South","The Godnor Gate Area"],Neddyfields:["Neddyfields Main Wall","The Flowstone Wall","Neddyfields Bouldering"],"Cheyne Cliff":["Red Wall","Inception Wall","Road Rage Wall","The Nook","The Block"],"The Cuttings":["The Cuttings (Main Cliff)","The Pulpit","The Bower","Sun Lover's Slab"],"The New Cuttings":["The Gallery","The Annex","The Arches","The Grotto"],"The Cuttings Boulderfield":["The Tractor","The Coffin","The Octagon","Lightning Wall"]},Swanage:{"Dancing Ledge":["The Amphitheatre","The Upper Tier","The Skull","Promenade","The Quarry"],Hedbury:["Hedbury Quarry (Main)","Hedbury Sea Cliff (The Big Wall)"],Winspit:["The West Quarry","The East Quarry (The Playground)","The Sea Walls"]},"Wye Valley":{"Ban-y-Gor":["The Main Wall","The River Wall","The Far Left","The Upper Tier"],"Biblins Cave":["The Main Cave","The Right Wall","The Entrance Area"],"Woodcroft Quarry":["Fly Wall","The Main Quarry","The Retaining Wall"],"Wyndcliff Quarry":["The Main Wall (Left & Right)","The Upper Tier","The Shady Wall"]},"Costa Del Severn":{Brean:["Boulder Cove","The River Face (Main Cliff)","The Fort","The Slab"],Clevedon:["Ladye Bay","Marine Lake (Bouldering)","The Sea Walls"],"Portishead Quarry":["The Main Wall","The Slab","The Upper Tier"]},Bristol:{"Avon Gorge":["Sea Walls","Suspension Bridge Buttress","Morning Slab","Main Wall","New Quarry","The Amphitheatre","Unknown Wall"],"Leigh Woods":["Quarry 1","Quarry 2","The Main Buttress"],"Bickley Wood":["The Main Wall","The Stream Wall"],Hambrook:["The Roadside Wall"]},Cotswolds:{"Sally-in-the-Wood":["The Main Edge","The Boulders"],"Browns Folly":["The Tower","The Main Wall","The Upper Wall","The Far Right"]},Mendips:{"Cheddar Gorge":["High Rock","Sunset Buttress","Lion Rock","The Pinnacles","Acid Rock","Coronation Street","Long Rock"]},Gower:{Rhossili:["Shipwreck Cove","Rhossili Upper Cliff","The Tears Point"],"Trial Wall Area":["Trial Wall","The Terraces"],Foxhole:["The Main Cave","The Slab","The Overhangs"]},"South Wales":{"Dinas Rock":["Kennelgarth Wall","Main Overhang","Roadside Crag","The Inland Slabs"],Ogmore:["The Deep Zawn","Hardy's Bay","The Diamond","Daytona Wall"]},"North Wales":{"Cromlech (Dinas Cromlech)":["The Corner (Cenotaph)","Left Wall","Right Wall"],"Australia (Slate Quarries)":["The Sidings","Looning the Tube Area","Dali's Hole","The Salt Pans"]},"Peak District":{"Burbage South Valley":["The Boulders","The Edge (The Alliance Area)","The Tank"],"Gardoms Edge":["Apple Buttress","The Eye of Faith","Moomin Buttress"],"Raven Tor":["The Main Wall","The Weedkiller Wall"],Stanage:["Popular End","Plantation","High Neb","Stanage North","The End","Stanage Far North"],"Curbar Edge":["The Main Edge","Elder Crack Area"]},Devon:{Dartmoor:["Haytor (Low Man)","Hound Tor","The Dewerstone (Main Cliff)","Bonehill Rocks"],Hartland:["Screda Point","Smoothlands","Blackchurch Rock"],Tintagel:["The Great Cliff","Gull Rock","Ila's Ledge"]}};function q(){return Object.keys(d)}function J(e){return d[e]?Object.keys(d[e]):[]}async function V(){const e={success:0,failed:0,errors:[]};if(!k())return e.errors.push("No network connection"),e;const r=s();for(const a of r)try{let t=!1;(await S(a)).ok&&(t=!0),t||(await L(a)).ok&&(t=!0),t||(await w(a)).ok&&(t=!0),t||(await N(a)).ok&&(t=!0),f(a),e.success++}catch(t){e.errors.push(`Delete ${a}: ${t instanceof Error?t.message:"Unknown error"}`)}const n=u();for(const a of n)try{const t=await F(a);t.ok?(!a.syncedAt&&t.id&&t.id!==a.id?y(a.id,t.id)?l(t.id):l(a.id):l(a.id),e.success++):(c(a.id),e.failed++,e.errors.push(`Session ${a.id}: ${t.error||"Unknown error"}`))}catch(t){c(a.id),e.failed++,e.errors.push(`Session ${a.id}: ${t instanceof Error?t.message:"Unknown error"}`)}return e}async function F(e){const r=!!e.syncedAt;switch(e.activityType){case"indoor_climb":return r?P(e):O(e);case"outdoor_climb":return r?R(e):M(e);case"fingerboarding":return r?D(e):v(e);case"competition":return r?G(e):_(e);default:return{ok:!1,error:`Unknown activity type: ${e.activityType}`}}}async function O(e){const r={date:e.date,location:e.location,customLocation:e.customLocation,climbingType:e.climbingType,trainingTypes:e.trainingTypes,difficulty:e.difficulty,categories:e.categories,energySystems:e.energySystems,techniqueFocuses:e.techniqueFocuses,wallAngles:e.wallAngles,fingerLoad:e.fingerLoad,shoulderLoad:e.shoulderLoad,forearmLoad:e.forearmLoad,climbs:e.climbs};return p(r)}async function P(e){const r={date:e.date,location:e.location,customLocation:e.customLocation,climbingType:e.climbingType,trainingTypes:e.trainingTypes,difficulty:e.difficulty,categories:e.categories,energySystems:e.energySystems,techniqueFocuses:e.techniqueFocuses,wallAngles:e.wallAngles,fingerLoad:e.fingerLoad,shoulderLoad:e.shoulderLoad,forearmLoad:e.forearmLoad,climbs:e.climbs};return m(e.id,r)}async function M(e){const r={date:e.date,area:e.area,crag:e.crag,sector:e.sector,climbingType:e.climbingType,trainingTypes:e.trainingTypes,difficulty:e.difficulty,categories:e.categories,energySystems:e.energySystems,techniqueFocuses:e.techniqueFocuses,fingerLoad:e.fingerLoad,shoulderLoad:e.shoulderLoad,forearmLoad:e.forearmLoad,climbs:e.climbs};return W(r)}async function R(e){const r={date:e.date,area:e.area,crag:e.crag,sector:e.sector,climbingType:e.climbingType,trainingTypes:e.trainingTypes,difficulty:e.difficulty,categories:e.categories,energySystems:e.energySystems,techniqueFocuses:e.techniqueFocuses,fingerLoad:e.fingerLoad,shoulderLoad:e.shoulderLoad,forearmLoad:e.forearmLoad,climbs:e.climbs};return b(e.id,r)}async function v(e){const r={date:e.date,location:e.location,exercises:e.exercises};return C(r)}async function D(e){const r={date:e.date,location:e.location,exercises:e.exercises};return B(e.id,r)}async function _(e){const r={date:e.date,venue:e.venue,customVenue:e.customVenue,type:e.type,fingerLoad:e.fingerLoad,shoulderLoad:e.shoulderLoad,forearmLoad:e.forearmLoad,rounds:e.rounds};return A(r)}async function G(e){const r={date:e.date,venue:e.venue,customVenue:e.customVenue,type:e.type,fingerLoad:e.fingerLoad,shoulderLoad:e.shoulderLoad,forearmLoad:e.forearmLoad,rounds:e.rounds};return E(e.id,r)}function j(){return u().length+s().length}export{W as a,J as b,p as c,C as d,A as e,j as f,q as g,H as h,k as i,I as j,Q as k,x as l,V as s};
