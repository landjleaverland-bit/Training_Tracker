import{H as x,$ as H,aU as I,aw as Q,q,e as V,aV as J,aN as R,aW as j,ai as K,aX as k}from"./QpXzQ7VK.js";import{a as z}from"./BR79ex5r.js";import{g as D,a as G,r as Z,u as X,m as W,b as O}from"./kdj3S9pV.js";import{g as Y}from"./BOayXmp2.js";const ee=()=>performance.now(),S={tick:e=>requestAnimationFrame(e),now:()=>ee(),tasks:new Set};function U(){const e=S.now();S.tasks.forEach(r=>{r.c(e)||(S.tasks.delete(r),r.f())}),S.tasks.size!==0&&S.tick(U)}function re(e){let r;return S.tasks.size===0&&S.tick(U),{promise:new Promise(o=>{S.tasks.add(r={c:e,f:o})}),abort(){S.tasks.delete(r)}}}function _(e,r){R(()=>{e.dispatchEvent(new CustomEvent(r))})}function te(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const r=e.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(o=>o[0].toUpperCase()+o.slice(1)).join("")}function M(e){const r={},o=e.split(";");for(const t of o){const[a,n]=t.split(":");if(!a||n===void 0)break;const s=te(a.trim());r[s]=n.trim()}return r}const ae=e=>e;function Ae(e,r,o,t){var a=(e&J)!==0,n="both",s,u=r.inert,g=r.style.overflow,c,d;function T(){return R(()=>s??=o()(r,t?.()??{},{direction:n}))}var h={is_global:a,in(){r.inert=u,_(r,"introstart"),c=w(r,T(),d,1,()=>{_(r,"introend"),c?.abort(),c=s=void 0,r.style.overflow=g})},out(p){r.inert=!0,_(r,"outrostart"),d=w(r,T(),c,0,()=>{_(r,"outroend"),p?.()})},stop:()=>{c?.abort(),d?.abort()}},m=x;if((m.nodes.t??=[]).push(h),z){var y=a;if(!y){for(var i=m.parent;i&&(i.f&H)!==0;)for(;(i=i.parent)&&(i.f&I)===0;);y=!i||(i.f&Q)!==0}y&&q(()=>{V(()=>h.in())})}}function w(e,r,o,t,a){var n=t===1;if(j(r)){var s,u=!1;return K(()=>{if(!u){var p=r({direction:n?"in":"out"});s=w(e,p,o,t,a)}}),{abort:()=>{u=!0,s?.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(o?.deactivate(),!r?.duration)return a(),{abort:k,deactivate:k,reset:k,t:()=>t};const{delay:g=0,css:c,tick:d,easing:T=ae}=r;var h=[];if(n&&o===void 0&&(d&&d(0,1),c)){var m=M(c(0,1));h.push(m,m)}var y=()=>1-t,i=e.animate(h,{duration:g,fill:"forwards"});return i.onfinish=()=>{i.cancel();var p=o?.t()??1-t;o?.abort();var f=t-p,v=r.duration*Math.abs(f),B=[];if(v>0){var F=!1;if(c)for(var E=Math.ceil(v/16.666666666666668),C=0;C<=E;C+=1){var A=p+f*T(C/E),N=M(c(A,1-A));B.push(N),F||=N.overflow==="hidden"}F&&(e.style.overflow="hidden"),y=()=>{var b=i.currentTime;return p+f*T(b/v)},d&&re(()=>{if(i.playState!=="running")return!1;var b=y();return d(b,1-b),!0})}i=e.animate(B,{duration:v,fill:"forwards"}),i.onfinish=()=>{y=()=>t,d?.(t,1-t),a()}},{abort:()=>{i&&(i.cancel(),i.effect=null,i.onfinish=k)},deactivate:()=>{a=k},reset:()=>{t===0&&d?.(1,0)},t:()=>y()}}const oe="https://func-workout-api-825153765638.europe-west1.run.app";async function l(e,r={}){const o=Y();if(!o)return{ok:!1,error:"Not authenticated"};try{const t=await fetch(`${oe}${e}`,{...r,headers:{"Content-Type":"application/json","x-api-key":o,...r.headers}});return t.ok?t.status===204?{ok:!0}:{ok:!0,data:await t.json()}:{ok:!1,error:`HTTP ${t.status}: ${t.statusText}`}}catch(t){return{ok:!1,error:t instanceof Error?t.message:"Network error"}}}async function ne(e){const r=await l("/indoor_sessions",{method:"POST",body:JSON.stringify(e)});return r.ok&&r.data?{ok:!0,id:r.data.id}:{ok:!1,error:r.error}}async function ie(e,r){return l(`/indoor_sessions/${e}`,{method:"PUT",body:JSON.stringify(r)})}async function Ne(){return l("/indoor_sessions",{method:"GET"})}async function se(e){return l(`/indoor_sessions/${e}`,{method:"DELETE"})}function ce(){return typeof navigator<"u"?navigator.onLine:!0}async function de(e){const r=await l("/outdoor_sessions",{method:"POST",body:JSON.stringify(e)});return r.ok&&r.data?{ok:!0,id:r.data.id}:{ok:!1,error:r.error}}async function le(e,r){return l(`/outdoor_sessions/${e}`,{method:"PUT",body:JSON.stringify(r)})}async function Oe(){return l("/outdoor_sessions",{method:"GET"})}async function ue(e){return l(`/outdoor_sessions/${e}`,{method:"DELETE"})}async function fe(e){const r=await l("/fingerboard_sessions",{method:"POST",body:JSON.stringify(e)});return r.ok&&r.data?{ok:!0,id:r.data.id}:{ok:!1,error:r.error}}async function he(e,r){return l(`/fingerboard_sessions/${e}`,{method:"PUT",body:JSON.stringify(r)})}async function Me(){return l("/fingerboard_sessions",{method:"GET"})}async function ye(e){return l(`/fingerboard_sessions/${e}`,{method:"DELETE"})}async function pe(e){const r=await l("/competition_sessions",{method:"POST",body:JSON.stringify(e)});return r.ok&&r.data?{ok:!0,id:r.data.id}:{ok:!1,error:r.error}}async function ge(e,r){return l(`/competition_sessions/${e}`,{method:"PUT",body:JSON.stringify(r)})}async function Pe(){return l("/competition_sessions",{method:"GET"})}async function Te(e){return l(`/competition_sessions/${e}`,{method:"DELETE"})}async function Re(){return l("/gym_sessions",{method:"GET"})}const L={Portland:{"Blacknor Far North":["Far North (Pit Prop Crag - North Wing)","Far North (Pit Prop Crag - South Wing)","Sunstone Wall","Sandcastle Wall","Hidden Wall"],"Blacknor North":["Diamond Slab","The Ledge","Sharpy's Wall","Reptile Smile Area","Wolfgang Forever Area","Captain Klutz Area","Death of Cool Area","Seattle Be The Day Area","Blacknor Heights (Blacknor Quarry Bouldering)","Blacknor Fort Quarry (Sport)","Cliff Top Way Down"],"Blacknor Central":["The Veranda","Medusa Wall","The Battlement","Wave Wall","Mirror Wall"],"Blacknor South":["Fallen Slab","Infidel Slab","Englands Dreaming Area","Sacred Angel Area","The Reach","Shit Happens Wall"],"Blacknor Far South":["Deadman's Bay","The White Hole","Wall of Lament"],"Battleship Edge":["Northern Sector","Main Edge","Battleship Block"],"Battleship Back Cliff":["Zinc Oxide Mountain","The Main Cliff","Sleepy Hollow"],"Wallsend North":["Sweet Smell of Success Wall","The Coastguard Wall (Northern section)"],"Wallsend South":["The Upper Tier","The Lower Tier","Stalker's Zone"],"Coastguard North":["Top Tier","Main Cliff (Beeston Bump)","The Grooves"],"Coastguard South":["The White Wall","Tennessee Wall","The Veranda (South)"],Godnor:["Godnor North","Godnor Far South","The Godnor Gate Area"],Neddyfields:["Neddyfields Main Wall","The Flowstone Wall","Neddyfields Bouldering"],"Cheyne Cliff":["Red Wall","Inception Wall","Road Rage Wall","The Nook","The Block"],"The Cuttings":["The Cuttings (Main Cliff)","The Pulpit","The Bower","Sun Lover's Slab"],"The New Cuttings":["The Gallery","The Annex","The Arches","The Grotto"],"The Cuttings Boulderfield":["The Tractor","The Coffin","The Octagon","Lightning Wall"]},Swanage:{"Dancing Ledge":["The Amphitheatre","The Upper Tier","The Skull","Promenade","The Quarry"],Hedbury:["Hedbury Quarry (Main)","Hedbury Sea Cliff (The Big Wall)"],Winspit:["The West Quarry","The East Quarry (The Playground)","The Sea Walls"]},"Wye Valley":{"Ban-y-Gor":["The Main Wall","The River Wall","The Far Left","The Upper Tier"],"Biblins Cave":["The Main Cave","The Right Wall","The Entrance Area"],"Woodcroft Quarry":["Fly Wall","The Main Quarry","The Retaining Wall"],"Wyndcliff Quarry":["The Main Wall (Left & Right)","The Upper Tier","The Shady Wall"]},"Costa Del Severn":{Brean:["Boulder Cove","The River Face (Main Cliff)","The Fort","The Slab"],Clevedon:["Ladye Bay","Marine Lake (Bouldering)","The Sea Walls"],"Portishead Quarry":["The Main Wall","The Slab","The Upper Tier"]},Bristol:{"Avon Gorge":["Sea Walls","Suspension Bridge Buttress","Morning Slab","Main Wall","New Quarry","The Amphitheatre","Unknown Wall"],"Leigh Woods":["Quarry 1","Quarry 2","The Main Buttress"],"Bickley Wood":["The Main Wall","The Stream Wall"],Hambrook:["The Roadside Wall"]},Cotswolds:{"Sally-in-the-Wood":["The Main Edge","The Boulders"],"Browns Folly":["The Tower","The Main Wall","The Upper Wall","The Far Right"]},Mendips:{"Cheddar Gorge":["High Rock","Sunset Buttress","Lion Rock","The Pinnacles","Acid Rock","Coronation Street","Long Rock"]},Gower:{Rhossili:["Shipwreck Cove","Rhossili Upper Cliff","The Tears Point"],"Trial Wall Area":["Trial Wall","The Terraces"],Foxhole:["The Main Cave","The Slab","The Overhangs"]},"South Wales":{"Dinas Rock":["Kennelgarth Wall","Main Overhang","Roadside Crag","The Inland Slabs"],Ogmore:["The Deep Zawn","Hardy's Bay","The Diamond","Daytona Wall"]},"North Wales":{"Cromlech (Dinas Cromlech)":["The Corner (Cenotaph)","Left Wall","Right Wall"],"Australia (Slate Quarries)":["The Sidings","Looning the Tube Area","Dali's Hole","The Salt Pans"]},"Peak District":{"Burbage South Valley":["The Boulders","The Edge (The Alliance Area)","The Tank"],"Gardoms Edge":["Apple Buttress","The Eye of Faith","Moomin Buttress"],"Raven Tor":["The Main Wall","The Weedkiller Wall"],Stanage:["Popular End","Plantation","High Neb","Stanage North","The End","Stanage Far North"],"Curbar Edge":["The Main Edge","Elder Crack Area"]},Devon:{Dartmoor:["Haytor (Low Man)","Hound Tor","The Dewerstone (Main Cliff)","Bonehill Rocks"],Hartland:["Screda Point","Smoothlands","Blackchurch Rock"],Tintagel:["The Great Cliff","Gull Rock","Ila's Ledge"]}};function De(){return Object.keys(L)}function Ge(e){return L[e]?Object.keys(L[e]):[]}const me=e=>e;function $(e){const r=e-1;return r*r*r+1}function P(e){const r=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return r?[parseFloat(r[1]),r[2]||"px"]:[e,"px"]}function Ue(e,{delay:r=0,duration:o=400,easing:t=me}={}){const a=+getComputedStyle(e).opacity;return{delay:r,duration:o,easing:t,css:n=>`opacity: ${n*a}`}}function xe(e,{delay:r=0,duration:o=400,easing:t=$,x:a=0,y:n=0,opacity:s=0}={}){const u=getComputedStyle(e),g=+u.opacity,c=u.transform==="none"?"":u.transform,d=g*(1-s),[T,h]=P(a),[m,y]=P(n);return{delay:r,duration:o,easing:t,css:(i,p)=>`
			transform: ${c} translate(${(1-i)*T}${h}, ${(1-i)*m}${y});
			opacity: ${g-d*p}`}}function He(e,{delay:r=0,duration:o=400,easing:t=$,axis:a="y"}={}){const n=getComputedStyle(e),s=+n.opacity,u=a==="y"?"height":"width",g=parseFloat(n[u]),c=a==="y"?["top","bottom"]:["left","right"],d=c.map(f=>`${f[0].toUpperCase()}${f.slice(1)}`),T=parseFloat(n[`padding${d[0]}`]),h=parseFloat(n[`padding${d[1]}`]),m=parseFloat(n[`margin${d[0]}`]),y=parseFloat(n[`margin${d[1]}`]),i=parseFloat(n[`border${d[0]}Width`]),p=parseFloat(n[`border${d[1]}Width`]);return{delay:r,duration:o,easing:t,css:f=>`overflow: hidden;opacity: ${Math.min(f*20,1)*s};${u}: ${f*g}px;padding-${c[0]}: ${f*T}px;padding-${c[1]}: ${f*h}px;margin-${c[0]}: ${f*m}px;margin-${c[1]}: ${f*y}px;border-${c[0]}-width: ${f*i}px;border-${c[1]}-width: ${f*p}px;min-${u}: 0`}}function Ie(e,{delay:r=0,duration:o=400,easing:t=$,start:a=0,opacity:n=0}={}){const s=getComputedStyle(e),u=+s.opacity,g=s.transform==="none"?"":s.transform,c=1-a,d=u*(1-n);return{delay:r,duration:o,easing:t,css:(T,h)=>`
			transform: ${g} scale(${1-c*h});
			opacity: ${u-d*h}
		`}}async function Qe(){const e={success:0,failed:0,errors:[]};if(!ce())return e.errors.push("No network connection"),e;const r=G();for(const t of r)try{let a=!1;(await se(t)).ok&&(a=!0),a||(await ue(t)).ok&&(a=!0),a||(await ye(t)).ok&&(a=!0),a||(await Te(t)).ok&&(a=!0),Z(t),e.success++}catch(a){e.errors.push(`Delete ${t}: ${a instanceof Error?a.message:"Unknown error"}`)}const o=D();for(const t of o)try{const a=await Se(t);a.ok?(!t.syncedAt&&a.id&&a.id!==t.id?X(t.id,a.id)?W(a.id):W(t.id):W(t.id),e.success++):(O(t.id),e.failed++,e.errors.push(`Session ${t.id}: ${a.error||"Unknown error"}`))}catch(a){O(t.id),e.failed++,e.errors.push(`Session ${t.id}: ${a instanceof Error?a.message:"Unknown error"}`)}return e}async function Se(e){const r=!!e.syncedAt;switch(e.activityType){case"indoor_climb":return r?ve(e):ke(e);case"outdoor_climb":return r?_e(e):be(e);case"fingerboarding":return r?We(e):Ce(e);case"competition":return r?Le(e):we(e);default:return{ok:!1,error:`Unknown activity type: ${e.activityType}`}}}async function ke(e){const r={date:e.date,location:e.location,customLocation:e.customLocation,climbingType:e.climbingType,trainingTypes:e.trainingTypes,difficulty:e.difficulty,categories:e.categories,energySystems:e.energySystems,techniqueFocuses:e.techniqueFocuses,wallAngles:e.wallAngles,fingerLoad:e.fingerLoad,shoulderLoad:e.shoulderLoad,forearmLoad:e.forearmLoad,climbs:e.climbs};return ne(r)}async function ve(e){const r={date:e.date,location:e.location,customLocation:e.customLocation,climbingType:e.climbingType,trainingTypes:e.trainingTypes,difficulty:e.difficulty,categories:e.categories,energySystems:e.energySystems,techniqueFocuses:e.techniqueFocuses,wallAngles:e.wallAngles,fingerLoad:e.fingerLoad,shoulderLoad:e.shoulderLoad,forearmLoad:e.forearmLoad,climbs:e.climbs};return ie(e.id,r)}async function be(e){const r={date:e.date,area:e.area,crag:e.crag,sector:e.sector,climbingType:e.climbingType,trainingTypes:e.trainingTypes,difficulty:e.difficulty,categories:e.categories,energySystems:e.energySystems,techniqueFocuses:e.techniqueFocuses,fingerLoad:e.fingerLoad,shoulderLoad:e.shoulderLoad,forearmLoad:e.forearmLoad,climbs:e.climbs};return de(r)}async function _e(e){const r={date:e.date,area:e.area,crag:e.crag,sector:e.sector,climbingType:e.climbingType,trainingTypes:e.trainingTypes,difficulty:e.difficulty,categories:e.categories,energySystems:e.energySystems,techniqueFocuses:e.techniqueFocuses,fingerLoad:e.fingerLoad,shoulderLoad:e.shoulderLoad,forearmLoad:e.forearmLoad,climbs:e.climbs};return le(e.id,r)}async function Ce(e){const r={date:e.date,location:e.location,exercises:e.exercises};return fe(r)}async function We(e){const r={date:e.date,location:e.location,exercises:e.exercises};return he(e.id,r)}async function we(e){const r={date:e.date,venue:e.venue,customVenue:e.customVenue,type:e.type,fingerLoad:e.fingerLoad,shoulderLoad:e.shoulderLoad,forearmLoad:e.forearmLoad,rounds:e.rounds};return pe(r)}async function Le(e){const r={date:e.date,venue:e.venue,customVenue:e.customVenue,type:e.type,fingerLoad:e.fingerLoad,shoulderLoad:e.shoulderLoad,forearmLoad:e.forearmLoad,rounds:e.rounds};return ge(e.id,r)}function qe(){return D().length+G().length}export{de as a,Ge as b,ne as c,Ue as d,fe as e,xe as f,De as g,pe as h,ce as i,qe as j,He as k,Ie as l,Ne as m,Oe as n,Re as o,Me as p,Pe as q,Qe as s,Ae as t};
