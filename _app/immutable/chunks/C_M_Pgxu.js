import{f as k,a as n,c as Kt,t as wt}from"./Daoe3kko.js";import{C as as,X as ss,a$ as rs,a5 as is,a8 as ls,k as _t,b0 as os,az as Ja,b1 as ns,aj as cs,n as wa,aa as us,p as Bt,c as s,r as a,s as r,g as e,t as F,a as Wt,f as Ft,aM as yt,b2 as Ea,e as u,A as Be,o as ma,d as t,j as ra,as as Na,b3 as fa,q as bt,b4 as vs,b5 as ds,b6 as gs,b7 as ps,b8 as ms,aL as fs}from"./BD2jSOmL.js";import{a as _s,d as Zt,s as j,e as Dt}from"./Clw8EWiG.js";import{i as V}from"./CKIECWdo.js";import{e as ne,k as ce,r as oe,j as rt,v as hs}from"./cSC8pg5z.js";import{s as Lt}from"./DU6y904K.js";import{a as ue,n as Fa,o as Ba,b as it,p as Wa,u as bs,q as ys,r as ws,t as Ss,s as Oa,v as ks,w as xs,h as Ts,x as Cs,y as Ls,z as Rs,A as Ps,B as Ns,C as qs}from"./xPE-J_WT.js";import{p as be}from"./9VQmhtgh.js";import{i as Ia}from"./Dp_ruqZb.js";import{b as Ds}from"./Dx3kiJJA.js";const Ms=()=>performance.now(),Xt={tick:N=>requestAnimationFrame(N),now:()=>Ms(),tasks:new Set};function Ya(){const N=Xt.now();Xt.tasks.forEach(i=>{i.c(N)||(Xt.tasks.delete(i),i.f())}),Xt.tasks.size!==0&&Xt.tick(Ya)}function Os(N){let i;return Xt.tasks.size===0&&Xt.tick(Ya),{promise:new Promise(l=>{Xt.tasks.add(i={c:N,f:l})}),abort(){Xt.tasks.delete(i)}}}function La(N,i){Ja(()=>{N.dispatchEvent(new CustomEvent(i))})}function Gs(N){if(N==="float")return"cssFloat";if(N==="offset")return"cssOffset";if(N.startsWith("--"))return N;const i=N.split("-");return i.length===1?i[0]:i[0]+i.slice(1).map(l=>l[0].toUpperCase()+l.slice(1)).join("")}function Va(N){const i={},l=N.split(";");for(const h of l){const[D,G]=h.split(":");if(!D||G===void 0)break;const M=Gs(D.trim());i[M]=G.trim()}return i}const As=N=>N;function na(N,i,l,h){var D=(N&os)!==0,G="both",M,_=i.inert,R=i.style.overflow,x,b;function v(){return Ja(()=>M??=l()(i,h?.()??{},{direction:G}))}var L={is_global:D,in(){i.inert=_,La(i,"introstart"),x=Ga(i,v(),b,1,()=>{La(i,"introend"),x?.abort(),x=M=void 0,i.style.overflow=R})},out(y){i.inert=!0,La(i,"outrostart"),b=Ga(i,v(),x,0,()=>{La(i,"outroend"),y?.()})},stop:()=>{x?.abort(),b?.abort()}},q=as;if((q.nodes.t??=[]).push(L),_s){var w=D;if(!w){for(var T=q.parent;T&&(T.f&ss)!==0;)for(;(T=T.parent)&&(T.f&rs)===0;);w=!T||(T.f&is)!==0}w&&ls(()=>{_t(()=>L.in())})}}function Ga(N,i,l,h,D){var G=h===1;if(ns(i)){var M,_=!1;return cs(()=>{if(!_){var y=i({direction:G?"in":"out"});M=Ga(N,y,l,h,D)}}),{abort:()=>{_=!0,M?.abort()},deactivate:()=>M.deactivate(),reset:()=>M.reset(),t:()=>M.t()}}if(l?.deactivate(),!i?.duration)return D(),{abort:wa,deactivate:wa,reset:wa,t:()=>h};const{delay:R=0,css:x,tick:b,easing:v=As}=i;var L=[];if(G&&l===void 0&&(b&&b(0,1),x)){var q=Va(x(0,1));L.push(q,q)}var w=()=>1-h,T=N.animate(L,{duration:R,fill:"forwards"});return T.onfinish=()=>{T.cancel();var y=l?.t()??1-h;l?.abort();var S=h-y,I=i.duration*Math.abs(S),A=[];if(I>0){var Y=!1;if(x)for(var X=Math.ceil(I/16.666666666666668),B=0;B<=X;B+=1){var W=y+S*v(B/X),Z=Va(x(W,1-W));A.push(Z),Y||=Z.overflow==="hidden"}Y&&(N.style.overflow="hidden"),w=()=>{var ie=T.currentTime;return y+S*v(ie/I)},b&&Os(()=>{if(T.playState!=="running")return!1;var ie=w();return b(ie,1-ie),!0})}T=N.animate(A,{duration:I,fill:"forwards"}),T.onfinish=()=>{w=()=>h,b?.(h,1-h),D()}},{abort:()=>{T&&(T.cancel(),T.effect=null,T.onfinish=wa)},deactivate:()=>{D=wa},reset:()=>{h===0&&b?.(1,0)},t:()=>w()}}function Ua(N){return function(...i){var l=i[0];return l.stopPropagation(),N?.apply(this,i)}}function Pa(N,i){var l=N.$$events?.[i.type],h=us(l)?l.slice():l==null?[]:[l];for(var D of h)D.call(this,i)}var Es=k('<span class="placeholder svelte-1g8x5ph"> </span>'),Fs=k('<span class="chip-display"> </span>'),Bs=k('<button type="button"> </button>'),Ws=k('<div class="multi-select-container svelte-1g8x5ph"><div class="chips svelte-1g8x5ph"><!></div> <div class="options-grid svelte-1g8x5ph"></div></div>');function oa(N,i){Bt(i,!0);let l=be(i,"selected",19,()=>[]),h=be(i,"placeholder",3,"Select options...");function D(v){let L=[...l()];v==="None"?L.includes("None")?L=[]:L=["None"]:(L=L.filter(q=>q!=="None"),L.includes(v)?L=L.filter(q=>q!==v):L.push(v)),i.onChange(L)}var G=Ws(),M=s(G),_=s(M);{var R=v=>{var L=Es(),q=s(L,!0);a(L),F(()=>j(q,h())),n(v,L)},x=v=>{var L=Kt(),q=Ft(L);ne(q,17,l,ce,(w,T)=>{var y=Fs(),S=s(y,!0);a(y),F(()=>j(S,e(T))),n(w,y)}),n(v,L)};V(_,v=>{l().length===0?v(R):v(x,!1)})}a(M);var b=r(M,2);ne(b,21,()=>i.options,ce,(v,L)=>{var q=Bs();q.__click=()=>D(e(L));var w=s(q,!0);a(q),F(T=>{Lt(q,1,`option-chip ${T??""}`,"svelte-1g8x5ph"),j(w,e(L))},[()=>l().includes(e(L))?"selected":""]),n(v,q)}),a(b),a(G),n(N,G),Wt()}Zt(["click"]);const Is=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","6A+","V4","6B","6B+","V5","6C","6C+","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"],za=Is.map(N=>N.toLowerCase());var zs=k('<span class="grade-error svelte-1km774a">Invalid</span>'),js=k('<div class="grade-input-container svelte-1km774a"><input type="text"/> <!></div>');function Xa(N,i){Bt(i,!0);let l=be(i,"value",15),h=be(i,"placeholder",3,"V3");function D(v){return v.trim()?za.includes(v.trim().toLowerCase()):!0}let G=yt(()=>D(l()));var M=js(),_=s(M);oe(_);let R;var x=r(_,2);{var b=v=>{var L=zs();n(v,L)};V(x,v=>{e(G)||v(b)})}a(M),F(()=>{rt(_,"placeholder",h()),R=Lt(_,1,"grade-input svelte-1km774a",null,R,{invalid:!e(G)})}),ue(_,l),n(N,M),Wt()}var Hs=k('<button type="button"> </button>'),Vs=k('<div class="load-row svelte-oe84ev"><label class="load-label svelte-oe84ev"> </label> <div class="button-group svelte-oe84ev" role="group"></div></div>');function Re(N,i){Bt(i,!0);let l=be(i,"value",15);be(i,"min",3,1);let h=be(i,"max",3,5);function D(x){l(x)}var G=Vs(),M=s(G),_=s(M,!0);a(M);var R=r(M,2);ne(R,21,()=>Array.from({length:h()},(x,b)=>b+1),ce,(x,b)=>{var v=Hs();let L;v.__click=()=>D(e(b));var q=s(v,!0);a(v),F(()=>{L=Lt(v,1,"scale-btn svelte-oe84ev",null,L,{active:l()===e(b)}),rt(v,"aria-pressed",l()===e(b)),j(q,e(b))}),n(x,v)}),a(R),a(G),F(()=>{rt(M,"for",i.id),j(_,i.label),rt(R,"aria-label",`${i.label??""} scale selector`)}),n(N,G),Wt()}Zt(["click"]);var Us=k('<div class="notes-group svelte-1kz8zai"><label for="session-notes" class="svelte-1kz8zai"> </label> <textarea id="session-notes" class="session-notes-area svelte-1kz8zai"></textarea></div>');function Sa(N,i){Bt(i,!0);let l=be(i,"value",15),h=be(i,"label",3,"Session Notes"),D=be(i,"placeholder",3,"How did the session feel? Key takeaways..."),G=be(i,"rows",3,3);var M=Us(),_=s(M),R=s(_,!0);a(_);var x=r(_,2);Ea(x),a(M),F(()=>{j(R,h()),rt(x,"placeholder",D()),rt(x,"rows",G())}),ue(x,l),n(N,M),Wt()}var Ks=k('<div class="input-with-action svelte-1lf3qka"><input type="text" id="location-manual" placeholder="Enter custom location..." class="flat-left svelte-1lf3qka"/> <button type="button" class="action-btn flat-right svelte-1lf3qka" title="Back to list">✕</button></div>'),Qs=k("<option> </option>"),Js=k('<select id="location" class="svelte-1lf3qka"><option disabled>Select location...</option><!></select>'),Ys=k("<option> </option>"),Xs=k("<option> </option>"),Zs=k('<th class="svelte-1lf3qka">Sport?</th>'),$s=k('<td class="center svelte-1lf3qka"><input type="checkbox" class="svelte-1lf3qka"/></td>'),er=k("<option> </option>"),tr=k("<option> </option>"),ar=k("<option> </option>"),sr=k('<button type="button" class="remove-btn svelte-1lf3qka">✕</button>'),rr=k('<tr class="svelte-1lf3qka"><!><td class="svelte-1lf3qka"><input type="text" placeholder="Route name..." class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><!></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><input type="number" min="1" class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td><textarea placeholder="Notes..." class="svelte-1lf3qka"></textarea></td><td class="center svelte-1lf3qka"><!></td></tr>'),ir=k("<div> </div>"),lr=k('<button type="button" class="cancel-btn-large svelte-1lf3qka">Cancel</button>'),or=k('<div class="form-content svelte-1lf3qka"><div class="form-row svelte-1lf3qka"><div class="form-group svelte-1lf3qka"><label for="date" class="svelte-1lf3qka">Date</label> <div class="date-time-row svelte-1lf3qka"><input type="date" id="date" class="svelte-1lf3qka"/> <input type="time" id="time" class="svelte-1lf3qka"/></div></div> <div class="form-group svelte-1lf3qka"><label for="location" class="svelte-1lf3qka">Location</label> <!></div></div> <div class="form-group svelte-1lf3qka"><label for="climbing-type" class="svelte-1lf3qka">Climbing Type</label> <select id="climbing-type" class="svelte-1lf3qka"><option disabled>Select type...</option><!></select></div> <div class="training-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Training Details</h4> <div class="training-grid svelte-1lf3qka"><div class="training-item svelte-1lf3qka"><label for="training-type" class="svelte-1lf3qka">Training Type</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="difficulty" class="svelte-1lf3qka">Difficulty</label> <select id="difficulty"></select></div> <div class="training-item svelte-1lf3qka"><label for="category" class="svelte-1lf3qka">Category</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="energy-system" class="svelte-1lf3qka">Energy System</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="wall-angle" class="svelte-1lf3qka">Wall</label> <!></div></div></div> <div class="climbs-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Climbs</h4> <div class="table-container svelte-1lf3qka"><table class="climbs-table svelte-1lf3qka"><thead><tr><!><th class="svelte-1lf3qka">Name</th><th class="svelte-1lf3qka">Grade</th><th class="svelte-1lf3qka">Attempt</th><th class="svelte-1lf3qka">#</th><th class="svelte-1lf3qka">Wall Angle</th><th class="svelte-1lf3qka">Technique Focus</th><th class="svelte-1lf3qka">Notes</th><th class="svelte-1lf3qka"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-1lf3qka">+ Add Climb</button></div> <div class="load-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Load Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div></div> <h4 class="mt-4 svelte-1lf3qka">Grip Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div> <div class="metric-row svelte-1lf3qka"><!></div></div></div> <div class="notes-section"><!></div> <div class="submit-section svelte-1lf3qka"><!> <div class="action-buttons svelte-1lf3qka"><!> <button type="button" class="submit-btn svelte-1lf3qka"><!></button></div></div></div>');function Fi(N,i){Bt(i,!0);const l=["Rockstar Unit 3","Rockstar Unit 5","Rockstar Techno","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","TCA Mothership","TCA Church","TCA Arc","Bloc","270 Climbing","Other"],h=["Bouldering","Sport","Mixed"],D=["Onsight","Flash","Redpoint","Repeat","Dogged","DNF"],G=["None","Projecting","Onsighting","Campusing","Repeaters","Comp Sim"],M=["None","Easy","Medium","Hard","Max","Limit+"],_=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Endurance","Coordination","Slab Technique","Overhang Technique"],R=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],x=["None","Trusting feet","Double-clutch","Standing on volumes","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Pogo","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"],b=["None","Overhang","Vertical","Slab","Roof"],v=["None","Moon Board","Kilter Board","Tension Board","Beast","Circuit Board","Boulder wall","Lead wall","Comp wall","Auto belays"];let L=u(null),q=yt(()=>!!i.initialData),w=u(Be(new Date().toISOString().split("T")[0])),T=u(Be(new Date().toTimeString().split(" ")[0].slice(0,5))),y=u(""),S=u(""),I=u(Be(["None"])),A=u("None"),Y=u(Be(["None"])),X=u(Be(["None"])),B=u(Be(["None"])),W=u(3),Z=u(3),ie=u(3),ve=u(3),re=u(3),ee=u(3),le=u(3),z=u(3),K=u(Be([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}])),te=u(""),ge=u(!1);const Ue="indoor_climb_draft";let Se=u(!1);ma(()=>{if(i.initialData)t(w,i.initialData.date,!0),t(T,i.initialData.time||"12:00",!0),l.includes(i.initialData.location)?(t(y,i.initialData.location,!0),t(ge,!1)):i.initialData.customLocation?(t(y,i.initialData.customLocation,!0),t(ge,!0)):(t(y,i.initialData.location,!0),t(ge,!0)),t(S,i.initialData.climbingType,!0),t(I,i.initialData.trainingTypes||["None"],!0),t(A,i.initialData.difficulty||"None",!0),t(Y,i.initialData.categories||["None"],!0),t(X,i.initialData.energySystems||["None"],!0),t(B,i.initialData.wallAngles||["None"],!0),t(W,i.initialData.fingerLoad||3,!0),t(Z,i.initialData.shoulderLoad||3,!0),t(ie,i.initialData.forearmLoad||3,!0),t(ve,i.initialData.openGrip||3,!0),t(re,i.initialData.crimpGrip||3,!0),t(ee,i.initialData.pinchGrip||3,!0),t(le,i.initialData.sloperGrip||3,!0),t(z,i.initialData.jugGrip||3,!0),i.initialData.climbs&&i.initialData.climbs.length>0?t(K,JSON.parse(JSON.stringify(i.initialData.climbs)),!0):t(K,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0),t(te,i.initialData.notes||"",!0);else{const C=localStorage.getItem(Ue);if(C)try{const d=JSON.parse(C);d.location&&t(y,d.location,!0),d.time&&t(T,d.time,!0),d.isOtherLocation&&t(ge,d.isOtherLocation,!0),d.climbingType&&t(S,d.climbingType,!0),d.trainingTypes&&t(I,d.trainingTypes,!0),d.difficulty&&t(A,d.difficulty,!0),d.categories&&t(Y,d.categories,!0),d.energySystems&&t(X,d.energySystems,!0),d.wallAngles&&t(B,d.wallAngles,!0),d.fingerLoad&&t(W,d.fingerLoad,!0),d.shoulderLoad&&t(Z,d.shoulderLoad,!0),d.forearmLoad&&t(ie,d.forearmLoad,!0),d.openGrip&&t(ve,d.openGrip,!0),d.crimpGrip&&t(re,d.crimpGrip,!0),d.pinchGrip&&t(ee,d.pinchGrip,!0),d.sloperGrip&&t(le,d.sloperGrip,!0),d.jugGrip&&t(z,d.jugGrip,!0),d.climbs&&t(K,d.climbs,!0),d.notes&&t(te,d.notes,!0)}catch(d){console.error("Failed to restore draft",d)}}t(Se,!0)}),ra(()=>{if(!e(Se)||e(q))return;const C={date:e(w),time:e(T),location:e(y),isOtherLocation:e(ge),climbingType:e(S),trainingTypes:e(I),difficulty:e(A),categories:e(Y),energySystems:e(X),fingerLoad:e(W),shoulderLoad:e(Z),forearmLoad:e(ie),openGrip:e(ve),crimpGrip:e(re),pinchGrip:e(ee),sloperGrip:e(le),jugGrip:e(z),climbs:e(K),notes:e(te)};localStorage.setItem(Ue,JSON.stringify(C))});function tt(){e(y)==="Other"&&(t(ge,!0),t(y,""))}function Mt(){t(ge,!1),t(y,"")}function at(){t(K,[...e(K),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0)}function lt(C){t(K,e(K).filter((d,se)=>se!==C),!0)}function St(C,d){e(K)[C].attemptType=d,(d==="Flash"||d==="Onsight")&&(e(K)[C].attemptsNum=1)}function kt(C){t(L,C,!0)}function Rt(){t(L,null)}let H=yt(()=>e(S)==="Mixed");function $(C){return e(S)==="Sport"?!0:e(S)==="Bouldering"?!1:C.isSport}function Te(C){return C.trim()?za.includes(C.trim().toLowerCase()):!0}let Ce=u("idle"),Oe=u("");function qe(){return e(y)?e(S)?e(K).filter(d=>d.grade.trim()&&!Te(d.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a location"}async function We(){const C=qe();if(C){t(Ce,"error"),t(Oe,C,!0);return}t(Ce,"saving");try{const d=e(K).map(Je=>({...Je,isSport:$(Je)})),se={date:e(w),time:e(T),location:e(y),customLocation:e(ge)?e(y):void 0,climbingType:e(S),trainingTypes:e(I),difficulty:e(A),categories:e(Y),energySystems:e(X),wallAngles:e(B),fingerLoad:e(W),shoulderLoad:e(Z),forearmLoad:e(ie),openGrip:e(ve),crimpGrip:e(re),pinchGrip:e(ee),sloperGrip:e(le),jugGrip:e(z),climbs:d,notes:e(te)};let Ve;e(q)?Ve=await bs(i.initialData.id,se):Ve=await ys(se),Ve.ok?(t(Ce,"success"),t(Oe,e(q)?"Session updated!":"Session saved!",!0),e(q)||localStorage.removeItem(Ue),i.onSaved&&setTimeout(()=>{i.onSaved()},500)):(t(Ce,"error"),t(Oe,"Failed to save: "+(Ve.error||"Unknown error"))),e(q)||(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{Pt()},2e3))}catch(d){t(Ce,"error"),t(Oe,"Failed to save session"),console.error("Save error:",d)}}function Pt(){t(w,new Date().toISOString().split("T")[0],!0),t(T,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(y,""),t(ge,!1),t(S,""),t(I,["None"],!0),t(A,"None"),t(Y,["None"],!0),t(X,["None"],!0),t(B,["None"],!0),t(W,3),t(Z,3),t(ie,3),t(ve,3),t(re,3),t(ee,3),t(le,3),t(z,3),t(K,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0),t(te,""),t(Ce,"idle"),t(Oe,"")}var ot=or(),xt=s(ot),Xe=s(xt),nt=r(s(Xe),2),ct=s(nt);oe(ct);var Tt=r(ct,2);oe(Tt),a(nt),a(Xe);var _e=r(Xe,2),Ge=r(s(_e),2);{var Ze=C=>{var d=Ks(),se=s(d);oe(se);var Ve=r(se,2);Ve.__click=Mt,a(d),ue(se,()=>e(y),Je=>t(y,Je)),n(C,d)},ut=C=>{var d=Js();d.__change=tt;var se=s(d);se.value=se.__value="";var Ve=r(se);ne(Ve,17,()=>l,ce,(Je,Gt)=>{var g=Qs(),c=s(g,!0);a(g);var Q={};F(()=>{j(c,e(Gt)),Q!==(Q=e(Gt))&&(g.value=(g.__value=e(Gt))??"")}),n(Je,g)}),a(d),it(d,()=>e(y),Je=>t(y,Je)),n(C,d)};V(Ge,C=>{e(ge)?C(Ze):C(ut,!1)})}a(_e),a(xt);var Ke=r(xt,2),pe=r(s(Ke),2),ke=s(pe);ke.value=ke.__value="";var Ie=r(ke);ne(Ie,17,()=>h,ce,(C,d)=>{var se=Ys(),Ve=s(se,!0);a(se);var Je={};F(()=>{j(Ve,e(d)),Je!==(Je=e(d))&&(se.value=(se.__value=e(d))??"")}),n(C,se)}),a(pe),a(Ke);var ze=r(Ke,2),P=r(s(ze),2),E=s(P),o=r(s(E),2);oa(o,{get options(){return G},get selected(){return e(I)},placeholder:"Select types...",onChange:C=>t(I,C,!0)}),a(E);var m=r(E,2),O=r(s(m),2);ne(O,21,()=>M,ce,(C,d)=>{var se=Xs(),Ve=s(se,!0);a(se);var Je={};F(()=>{j(Ve,e(d)),Je!==(Je=e(d))&&(se.value=(se.__value=e(d))??"")}),n(C,se)}),a(O),a(m);var U=r(m,2),p=r(s(U),2);oa(p,{get options(){return _},get selected(){return e(Y)},placeholder:"Select categories...",onChange:C=>t(Y,C,!0)}),a(U);var f=r(U,2),J=r(s(f),2);oa(J,{get options(){return R},get selected(){return e(X)},placeholder:"Select systems...",onChange:C=>t(X,C,!0)}),a(f);var Ee=r(f,2),je=r(s(Ee),2);oa(je,{get options(){return v},get selected(){return e(B)},placeholder:"Select walls...",onChange:C=>t(B,C,!0)}),a(Ee),a(P),a(ze);var he=r(ze,2),Le=r(s(he),2),me=s(Le),de=s(me),ae=s(de),ye=s(ae);{var It=C=>{var d=Zs();n(C,d)};V(ye,C=>{e(H)&&C(It)})}Na(8),a(ae),a(de);var vt=r(de);ne(vt,21,()=>e(K),ce,(C,d,se)=>{var Ve=rr(),Je=s(Ve);{var Gt=fe=>{var Ye=$s(),Me=s(Ye);oe(Me),a(Ye),Wa(Me,()=>e(d).isSport,Qt=>e(d).isSport=Qt),n(fe,Ye)};V(Je,fe=>{e(H)&&fe(Gt)})}var g=r(Je),c=s(g);oe(c),a(g);var Q=r(g),Ae=s(Q);Xa(Ae,{get value(){return e(d).grade},set value(fe){e(d).grade=fe}}),a(Q);var De=r(Q),mt=s(De);mt.__change=fe=>St(se,fe.target.value),ne(mt,21,()=>D,ce,(fe,Ye)=>{var Me=er(),Qt=s(Me,!0);a(Me);var Jt={};F(()=>{j(Qt,e(Ye)),Jt!==(Jt=e(Ye))&&(Me.value=(Me.__value=e(Ye))??"")}),n(fe,Me)}),a(mt);var Vt;Fa(mt),a(De);var At=r(De),qt=s(At);oe(qt),a(At);var Ut=r(At),Yt=s(Ut);ne(Yt,21,()=>b.filter(fe=>fe!=="None"),ce,(fe,Ye)=>{var Me=tr(),Qt=s(Me,!0);a(Me);var Jt={};F(()=>{j(Qt,e(Ye)),Jt!==(Jt=e(Ye))&&(Me.value=(Me.__value=e(Ye))??"")}),n(fe,Me)}),a(Yt),a(Ut);var Et=r(Ut),da=s(Et);ne(da,21,()=>x,ce,(fe,Ye)=>{var Me=ar(),Qt=s(Me,!0);a(Me);var Jt={};F(()=>{j(Qt,e(Ye)),Jt!==(Jt=e(Ye))&&(Me.value=(Me.__value=e(Ye))??"")}),n(fe,Me)}),a(da),a(Et);var ta=r(Et);let ga;var aa=s(ta);Ea(aa),a(ta);var pa=r(ta),ba=s(pa);{var ya=fe=>{var Ye=sr();Ye.__click=()=>lt(se),n(fe,Ye)};V(ba,fe=>{e(K).length>1&&fe(ya)})}a(pa),a(Ve),F(()=>{Vt!==(Vt=e(d).attemptType)&&(mt.value=(mt.__value=e(d).attemptType)??"",Ba(mt,e(d).attemptType)),qt.disabled=e(d).attemptType==="Flash"||e(d).attemptType==="Onsight",ga=Lt(ta,1,"notes-cell svelte-1lf3qka",null,ga,{expanded:e(L)===se})}),ue(c,()=>e(d).name,fe=>e(d).name=fe),ue(qt,()=>e(d).attemptsNum,fe=>e(d).attemptsNum=fe),it(Yt,()=>e(d).wall,fe=>e(d).wall=fe),it(da,()=>e(d).techniqueFocus,fe=>e(d).techniqueFocus=fe),Dt("focus",aa,()=>kt(se)),Dt("blur",aa,Rt),ue(aa,()=>e(d).notes,fe=>e(d).notes=fe),n(C,Ve)}),a(vt),a(me),a(Le);var Ct=r(Le,2);Ct.__click=at,a(he);var $e=r(he,2),Pe=r(s($e),2),xe=s(Pe),Fe=s(xe);Re(Fe,{id:"finger-load",label:"Finger",get value(){return e(W)},set value(C){t(W,C,!0)}}),a(xe);var ht=r(xe,2),Nt=s(ht);Re(Nt,{id:"shoulder-load",label:"Shoulder",get value(){return e(Z)},set value(C){t(Z,C,!0)}}),a(ht);var dt=r(ht,2),st=s(dt);Re(st,{id:"forearm-load",label:"Forearm",get value(){return e(ie)},set value(C){t(ie,C,!0)}}),a(dt),a(Pe);var Ne=r(Pe,4),gt=s(Ne),pt=s(gt);Re(pt,{id:"open-grip",label:"Open",get value(){return e(ve)},set value(C){t(ve,C,!0)}}),a(gt);var jt=r(gt,2),He=s(jt);Re(He,{id:"crimp-grip",label:"Crimp",get value(){return e(re)},set value(C){t(re,C,!0)}}),a(jt);var Qe=r(jt,2),Ot=s(Qe);Re(Ot,{id:"pinch-grip",label:"Pinch",get value(){return e(ee)},set value(C){t(ee,C,!0)}}),a(Qe);var Ht=r(Qe,2),$t=s(Ht);Re($t,{id:"sloper-grip",label:"Sloper",get value(){return e(le)},set value(C){t(le,C,!0)}}),a(Ht);var ia=r(Ht,2),zt=s(ia);Re(zt,{id:"jug-grip",label:"Jug",get value(){return e(z)},set value(C){t(z,C,!0)}}),a(ia),a(Ne),a($e);var ea=r($e,2),_a=s(ea);Sa(_a,{get value(){return e(te)},set value(C){t(te,C,!0)}}),a(ea);var ka=r(ea,2),ca=s(ka);{var qa=C=>{var d=ir();let se;var Ve=s(d,!0);a(d),F(()=>{se=Lt(d,1,"save-message svelte-1lf3qka",null,se,{success:e(Ce)==="success",error:e(Ce)==="error"}),j(Ve,e(Oe))}),n(C,d)};V(ca,C=>{e(Oe)&&C(qa)})}var ua=r(ca,2),xa=s(ua);{var Ta=C=>{var d=lr();d.__click=function(...se){i.onCancel?.apply(this,se)},F(()=>d.disabled=e(Ce)==="saving"),n(C,d)};V(xa,C=>{e(q)&&C(Ta)})}var va=r(xa,2);va.__click=We;var ha=s(va);{var Da=C=>{var d=wt();F(()=>j(d,e(q)?"Updating...":"Saving...")),n(C,d)},Ca=C=>{var d=Kt(),se=Ft(d);{var Ve=Gt=>{var g=wt();F(()=>j(g,`✓ ${e(q)?"Updated!":"Saved!"}`)),n(Gt,g)},Je=Gt=>{var g=wt();F(()=>j(g,e(q)?"Update Session":"Save Session")),n(Gt,g)};V(se,Gt=>{e(Ce)==="success"?Gt(Ve):Gt(Je,!1)},!0)}n(C,d)};V(ha,C=>{e(Ce)==="saving"?C(Da):C(Ca,!1)})}a(va),a(ua),a(ka),a(ot),F(()=>va.disabled=e(Ce)==="saving"),ue(ct,()=>e(w),C=>t(w,C)),ue(Tt,()=>e(T),C=>t(T,C)),it(pe,()=>e(S),C=>t(S,C)),it(O,()=>e(A),C=>t(A,C)),n(N,ot),Wt()}Zt(["click","change"]);const Aa={Portland:{"Blacknor Far North":["Far North (Pit Prop Crag - North Wing)","Far North (Pit Prop Crag - South Wing)","Sunstone Wall","Sandcastle Wall","Hidden Wall"],"Blacknor North":["Diamond Slab","The Ledge","Sharpy's Wall","Reptile Smile Area","Wolfgang Forever Area","Captain Klutz Area","Death of Cool Area","Seattle Be The Day Area","Blacknor Heights (Blacknor Quarry Bouldering)","Blacknor Fort Quarry (Sport)","Cliff Top Way Down"],"Blacknor Central":["The Veranda","Medusa Wall","The Battlement","Wave Wall","Mirror Wall"],"Blacknor South":["Fallen Slab","Infidel Slab","Englands Dreaming Area","Sacred Angel Area","The Reach","Shit Happens Wall"],"Blacknor Far South":["Deadman's Bay","The White Hole","Wall of Lament"],"Battleship Edge":["Northern Sector","Main Edge","Battleship Block"],"Battleship Back Cliff":["Zinc Oxide Mountain","The Main Cliff","Sleepy Hollow"],"Wallsend North":["Sweet Smell of Success Wall","The Coastguard Wall (Northern section)"],"Wallsend South":["The Upper Tier","The Lower Tier","Stalker's Zone"],"Coastguard North":["Top Tier","Main Cliff (Beeston Bump)","The Grooves"],"Coastguard South":["The White Wall","Tennessee Wall","The Veranda (South)"],Godnor:["Godnor North","Godnor Far South","The Godnor Gate Area"],Neddyfields:["Neddyfields Main Wall","The Flowstone Wall","Neddyfields Bouldering"],"Cheyne Cliff":["Red Wall","Inception Wall","Road Rage Wall","The Nook","The Block"],"The Cuttings":["The Cuttings (Main Cliff)","The Pulpit","The Bower","Sun Lover's Slab"],"The New Cuttings":["The Gallery","The Annex","The Arches","The Grotto"],"The Cuttings Boulderfield":["The Tractor","The Coffin","The Octagon","Lightning Wall"]},Swanage:{"Dancing Ledge":["The Amphitheatre","The Upper Tier","The Skull","Promenade","The Quarry"],Hedbury:["Hedbury Quarry (Main)","Hedbury Sea Cliff (The Big Wall)"],Winspit:["The West Quarry","The East Quarry (The Playground)","The Sea Walls"]},"Wye Valley":{"Ban-y-Gor":["The Main Wall","The River Wall","The Far Left","The Upper Tier"],"Biblins Cave":["The Main Cave","The Right Wall","The Entrance Area"],"Woodcroft Quarry":["Fly Wall","The Main Quarry","The Retaining Wall"],"Wyndcliff Quarry":["The Main Wall (Left & Right)","The Upper Tier","The Shady Wall"]},"Costa Del Severn":{Brean:["Boulder Cove","The River Face (Main Cliff)","The Fort","The Slab"],Clevedon:["Ladye Bay","Marine Lake (Bouldering)","The Sea Walls"],"Portishead Quarry":["The Main Wall","The Slab","The Upper Tier"]},Bristol:{"Avon Gorge":["Sea Walls","Suspension Bridge Buttress","Morning Slab","Main Wall","New Quarry","The Amphitheatre","Unknown Wall"],"Leigh Woods":["Quarry 1","Quarry 2","The Main Buttress"],"Bickley Wood":["The Main Wall","The Stream Wall"],Hambrook:["The Roadside Wall"]},Cotswolds:{"Sally-in-the-Wood":["The Main Edge","The Boulders"],"Browns Folly":["The Tower","The Main Wall","The Upper Wall","The Far Right"]},Mendips:{"Cheddar Gorge":["High Rock","Sunset Buttress","Lion Rock","The Pinnacles","Acid Rock","Coronation Street","Long Rock"]},Gower:{Rhossili:["Shipwreck Cove","Rhossili Upper Cliff","The Tears Point"],"Trial Wall Area":["Trial Wall","The Terraces"],Foxhole:["The Main Cave","The Slab","The Overhangs"]},"South Wales":{"Dinas Rock":["Kennelgarth Wall","Main Overhang","Roadside Crag","The Inland Slabs"],Ogmore:["The Deep Zawn","Hardy's Bay","The Diamond","Daytona Wall"]},"North Wales":{"Cromlech (Dinas Cromlech)":["The Corner (Cenotaph)","Left Wall","Right Wall"],"Australia (Slate Quarries)":["The Sidings","Looning the Tube Area","Dali's Hole","The Salt Pans"]},"Peak District":{"Burbage South Valley":["The Boulders","The Edge (The Alliance Area)","The Tank"],"Gardoms Edge":["Apple Buttress","The Eye of Faith","Moomin Buttress"],"Raven Tor":["The Main Wall","The Weedkiller Wall"],Stanage:["Popular End","Plantation","High Neb","Stanage North","The End","Stanage Far North"],"Curbar Edge":["The Main Edge","Elder Crack Area"]},Devon:{Dartmoor:["Haytor (Low Man)","Hound Tor","The Dewerstone (Main Cliff)","Bonehill Rocks"],Hartland:["Screda Point","Smoothlands","Blackchurch Rock"],Tintagel:["The Great Cliff","Gull Rock","Ila's Ledge"]}};function nr(){return Object.keys(Aa)}function Ka(N){return Aa[N]?Object.keys(Aa[N]):[]}var cr=k('<div class="form-header-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;"><h3 style="margin: 0;" class="svelte-15o2ys1">⛰️ Outdoor Climb</h3></div>'),ur=k("<option> </option>"),vr=k('<div class="input-with-action svelte-15o2ys1"><input type="text" id="crag-manual" placeholder="Enter custom crag name..." class="flat-left svelte-15o2ys1"/> <button type="button" class="action-btn flat-right svelte-15o2ys1" title="Back to list">✕</button></div>'),dr=k("<option> </option>"),gr=k("<option>Other (Manual Entry)</option>"),pr=k('<select id="crag" class="svelte-15o2ys1"><option disabled> </option><!><!></select>'),mr=k("<option> </option>"),fr=k("<option> </option>"),_r=k('<th class="svelte-15o2ys1">Sport?</th>'),hr=k('<td class="center svelte-15o2ys1"><input type="checkbox" class="svelte-15o2ys1"/></td>'),br=k("<option> </option>"),yr=k("<option> </option>"),wr=k("<option> </option>"),Sr=k('<button type="button" class="remove-btn svelte-15o2ys1">✕</button>'),kr=k('<tr><!><td class="svelte-15o2ys1"><input type="text" placeholder="Route name..." class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><!></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><input type="number" min="1" class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td><textarea placeholder="Notes..." class="svelte-15o2ys1"></textarea></td><td class="center svelte-15o2ys1"><!></td></tr>'),xr=k("<div> </div>"),Tr=k('<div class="form-content svelte-15o2ys1"><!> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="date" class="svelte-15o2ys1">Date</label> <div class="date-time-row svelte-15o2ys1"><input type="date" id="date" class="svelte-15o2ys1"/> <input type="time" id="time" class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="area" class="svelte-15o2ys1">Area</label> <select id="area" class="svelte-15o2ys1"><option disabled>Select area...</option><!></select></div></div> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="crag" class="svelte-15o2ys1">Crag</label> <!></div> <div class="form-group svelte-15o2ys1"><label for="sector" class="svelte-15o2ys1">Wall / Sector</label> <input type="text" id="sector" placeholder="Enter sector or wall name..." class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="climbing-type" class="svelte-15o2ys1">Climbing Type</label> <select id="climbing-type" class="svelte-15o2ys1"><option disabled>Select type...</option><!></select></div> <div class="training-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Training Details</h4> <div class="training-grid svelte-15o2ys1"><div class="training-item svelte-15o2ys1"><label for="training-type" class="svelte-15o2ys1">Training Type</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="difficulty" class="svelte-15o2ys1">Difficulty</label> <select id="difficulty" class="svelte-15o2ys1"></select></div> <div class="training-item svelte-15o2ys1"><label for="category" class="svelte-15o2ys1">Category</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="energy-system" class="svelte-15o2ys1">Energy System</label> <!></div></div></div> <div class="climbs-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Climbs</h4> <div class="table-container svelte-15o2ys1"><table class="climbs-table svelte-15o2ys1"><thead><tr><!><th class="svelte-15o2ys1">Name</th><th class="svelte-15o2ys1">Grade</th><th class="svelte-15o2ys1">Attempt</th><th class="svelte-15o2ys1">#</th><th class="svelte-15o2ys1">Wall Angle</th><th class="svelte-15o2ys1">Technique Focus</th><th class="svelte-15o2ys1">Notes</th><th class="svelte-15o2ys1"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-15o2ys1">+ Add Climb</button></div> <div class="load-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Load Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div></div> <h4 class="mt-4 svelte-15o2ys1">Grip Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div> <div class="metric-row svelte-15o2ys1"><!></div></div></div>  <div class="notes-section"><!></div> <div class="submit-section svelte-15o2ys1"><!> <button type="button" class="submit-btn svelte-15o2ys1"><!></button></div></div>');function Bi(N,i){Bt(i,!0);const l=nr(),h=["Boulder","Sport","Trad"],D=["Onsight","Flash","Redpoint","Repeat","Dogged","DNF"],G=["None","Overhang","Vertical","Slab","Roof"],M=["None","Projecting","Onsighting","Campusing","Repeaters","Comp Sim"],_=["None","Easy","Medium","Hard","Max","Limit+"],R=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Endurance","Coordination","Slab Technique","Overhang Technique"],x=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],b=["None","Trusting feet","Double-clutch","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"];let v=be(i,"initialData",3,null),L=yt(()=>!!v()),q=u(null),w=u(Be(new Date().toISOString().split("T")[0])),T=u(Be(new Date().toTimeString().split(" ")[0].slice(0,5))),y=u(""),S=u(""),I=u(""),A=u(""),Y=u(Be(["None"])),X=u("None"),B=u(Be(["None"])),W=u(Be(["None"])),Z=u(3),ie=u(3),ve=u(3),re=u(3),ee=u(3),le=u(3),z=u(3),K=u(3),te=u(Be([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}])),ge=u(""),Ue=yt(()=>e(y)?Ka(e(y)):[]),Se=u(!1);const tt="outdoor_climb_draft";let Mt=u(!1);ma(()=>{if(v()){t(w,v().date,!0),t(T,v().time||"12:00",!0),t(y,v().area,!0),t(S,v().crag,!0);const g=Ka(e(y));e(S)&&!g.includes(e(S))&&t(Se,!0),t(I,v().sector||"",!0),t(A,v().climbingType,!0),t(Y,v().trainingTypes||["None"],!0),t(X,v().difficulty||"Moderate",!0),t(B,v().categories||["None"],!0),t(W,v().energySystems||["None"],!0),t(Z,v().fingerLoad,!0),t(ie,v().shoulderLoad,!0),t(ve,v().forearmLoad,!0),t(re,v().openGrip||3,!0),t(ee,v().crimpGrip||3,!0),t(le,v().pinchGrip||3,!0),t(z,v().sloperGrip||3,!0),t(K,v().jugGrip||3,!0),t(te,v().climbs||[],!0),t(ge,v().notes||"",!0),t(Mt,!0)}else{const g=localStorage.getItem(tt);if(g)try{const c=JSON.parse(g);c.date&&t(w,c.date,!0),c.time&&t(T,c.time,!0),c.area&&t(y,c.area,!0),c.crag&&t(S,c.crag,!0),c.sector&&t(I,c.sector,!0),c.isOtherCrag&&t(Se,c.isOtherCrag,!0),c.climbingType&&t(A,c.climbingType,!0),c.trainingTypes&&t(Y,c.trainingTypes,!0),c.difficulty&&t(X,c.difficulty,!0),c.categories&&t(B,c.categories,!0),c.energySystems&&t(W,c.energySystems,!0),c.fingerLoad&&t(Z,c.fingerLoad,!0),c.shoulderLoad&&t(ie,c.shoulderLoad,!0),c.forearmLoad&&t(ve,c.forearmLoad,!0),c.openGrip&&t(re,c.openGrip,!0),c.crimpGrip&&t(ee,c.crimpGrip,!0),c.pinchGrip&&t(le,c.pinchGrip,!0),c.sloperGrip&&t(z,c.sloperGrip,!0),c.jugGrip&&t(K,c.jugGrip,!0),c.climbs&&t(te,c.climbs,!0),c.notes&&t(ge,c.notes,!0)}catch(c){console.error("Failed to restore draft",c)}t(Mt,!0)}}),ra(()=>{if(!e(Mt)||e(L))return;const g={date:e(w),time:e(T),area:e(y),crag:e(S),sector:e(I),isOtherCrag:e(Se),climbingType:e(A),trainingTypes:e(Y),difficulty:e(X),categories:e(B),energySystems:e(W),fingerLoad:e(Z),shoulderLoad:e(ie),forearmLoad:e(ve),openGrip:e(re),crimpGrip:e(ee),pinchGrip:e(le),sloperGrip:e(z),jugGrip:e(K),climbs:e(te),notes:e(ge)};localStorage.setItem(tt,JSON.stringify(g))}),ra(()=>{e(y)&&(t(S,""),t(Se,!1))});function at(){e(S)==="Other"&&(t(Se,!0),t(S,""))}function lt(){t(Se,!1),t(S,"")}function St(){t(te,[...e(te),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0)}function kt(g){t(te,e(te).filter((c,Q)=>Q!==g),!0)}function Rt(g,c){e(te)[g].attemptType=c,(c==="Flash"||c==="Onsight")&&(e(te)[g].attemptsNum=1)}function H(g){t(q,g,!0)}function $(){t(q,null)}let Te=yt(()=>e(A)==="Trad");function Ce(g){return e(A)==="Sport"?!0:e(A)==="Boulder"?!1:g.isSport}function Oe(g){return g.trim()?za.includes(g.trim().toLowerCase()):!0}let qe=u("idle"),We=u("");function Pt(){return e(y)?e(S)?e(A)?e(te).filter(c=>c.grade.trim()&&!Oe(c.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a crag":"Please select an area"}async function ot(){const g=Pt();if(g){t(qe,"error"),t(We,g,!0);return}t(qe,"saving");try{const c=e(te).map(De=>({...De,isSport:Ce(De)})),Q={date:e(w),time:e(T),area:e(y),crag:e(S),sector:e(I)||void 0,climbingType:e(A),trainingTypes:e(Y),difficulty:e(X),categories:e(B),energySystems:e(W),fingerLoad:e(Z),shoulderLoad:e(ie),forearmLoad:e(ve),openGrip:e(re),crimpGrip:e(ee),pinchGrip:e(le),sloperGrip:e(z),jugGrip:e(K),climbs:c,notes:e(ge)};let Ae;e(L)&&v()?Ae=await ws(v().id,Q):Ae=await Ss(Q),Ae.ok?(t(qe,"success"),t(We,"Session saved!"),e(L)||localStorage.removeItem(tt),i.onSaved?i.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),e(L)||setTimeout(()=>{xt()},2e3))):(t(qe,"error"),t(We,"Failed to save: "+(Ae.error||"Unknown error")))}catch(c){t(qe,"error"),t(We,"Failed to save session"),console.error("Save error:",c)}}function xt(){t(w,new Date().toISOString().split("T")[0],!0),t(T,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(y,""),t(S,""),t(I,""),t(A,""),t(Y,["None"],!0),t(X,"None"),t(B,["None"],!0),t(W,["None"],!0),t(Z,3),t(ie,3),t(ve,3),t(re,3),t(ee,3),t(le,3),t(z,3),t(K,3),t(te,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0),t(ge,""),t(qe,"idle"),t(We,"")}var Xe=Tr(),nt=s(Xe);{var ct=g=>{var c=cr();n(g,c)};V(nt,g=>{e(L)||g(ct)})}var Tt=r(nt,2),_e=s(Tt),Ge=r(s(_e),2),Ze=s(Ge);oe(Ze);var ut=r(Ze,2);oe(ut),a(Ge),a(_e);var Ke=r(_e,2),pe=r(s(Ke),2),ke=s(pe);ke.value=ke.__value="";var Ie=r(ke);ne(Ie,17,()=>l,ce,(g,c)=>{var Q=ur(),Ae=s(Q,!0);a(Q);var De={};F(()=>{j(Ae,e(c)),De!==(De=e(c))&&(Q.value=(Q.__value=e(c))??"")}),n(g,Q)}),a(pe),a(Ke),a(Tt);var ze=r(Tt,2),P=s(ze),E=r(s(P),2);{var o=g=>{var c=vr(),Q=s(c);oe(Q);var Ae=r(Q,2);Ae.__click=lt,a(c),ue(Q,()=>e(S),De=>t(S,De)),n(g,c)},m=g=>{var c=pr();c.__change=at;var Q=s(c),Ae=s(Q,!0);a(Q),Q.value=Q.__value="";var De=r(Q);ne(De,17,()=>e(Ue),ce,(At,qt)=>{var Ut=dr(),Yt=s(Ut,!0);a(Ut);var Et={};F(()=>{j(Yt,e(qt)),Et!==(Et=e(qt))&&(Ut.value=(Ut.__value=e(qt))??"")}),n(At,Ut)});var mt=r(De);{var Vt=At=>{var qt=gr();qt.value=qt.__value="Other",n(At,qt)};V(mt,At=>{e(y)&&At(Vt)})}a(c),F(()=>{c.disabled=!e(y),j(Ae,e(y)?"Select crag...":"Select area first...")}),it(c,()=>e(S),At=>t(S,At)),n(g,c)};V(E,g=>{e(Se)?g(o):g(m,!1)})}a(P);var O=r(P,2),U=r(s(O),2);oe(U),a(O),a(ze);var p=r(ze,2),f=r(s(p),2),J=s(f);J.value=J.__value="";var Ee=r(J);ne(Ee,17,()=>h,ce,(g,c)=>{var Q=mr(),Ae=s(Q,!0);a(Q);var De={};F(()=>{j(Ae,e(c)),De!==(De=e(c))&&(Q.value=(Q.__value=e(c))??"")}),n(g,Q)}),a(f),a(p);var je=r(p,2),he=r(s(je),2),Le=s(he),me=r(s(Le),2);oa(me,{get options(){return M},get selected(){return e(Y)},placeholder:"Select types...",onChange:g=>t(Y,g,!0)}),a(Le);var de=r(Le,2),ae=r(s(de),2);ne(ae,21,()=>_,ce,(g,c)=>{var Q=fr(),Ae=s(Q,!0);a(Q);var De={};F(()=>{j(Ae,e(c)),De!==(De=e(c))&&(Q.value=(Q.__value=e(c))??"")}),n(g,Q)}),a(ae),a(de);var ye=r(de,2),It=r(s(ye),2);oa(It,{get options(){return R},get selected(){return e(B)},placeholder:"Select categories...",onChange:g=>t(B,g,!0)}),a(ye);var vt=r(ye,2),Ct=r(s(vt),2);oa(Ct,{get options(){return x},get selected(){return e(W)},placeholder:"Select systems...",onChange:g=>t(W,g,!0)}),a(vt),a(he),a(je);var $e=r(je,2),Pe=r(s($e),2),xe=s(Pe),Fe=s(xe),ht=s(Fe),Nt=s(ht);{var dt=g=>{var c=_r();n(g,c)};V(Nt,g=>{e(Te)&&g(dt)})}Na(8),a(ht),a(Fe);var st=r(Fe);ne(st,21,()=>e(te),ce,(g,c,Q)=>{var Ae=kr(),De=s(Ae);{var mt=we=>{var ft=hr(),et=s(ft);oe(et),a(ft),Wa(et,()=>e(c).isSport,la=>e(c).isSport=la),n(we,ft)};V(De,we=>{e(Te)&&we(mt)})}var Vt=r(De),At=s(Vt);oe(At),a(Vt);var qt=r(Vt),Ut=s(qt);Xa(Ut,{get value(){return e(c).grade},set value(we){e(c).grade=we}}),a(qt);var Yt=r(qt),Et=s(Yt);Et.__change=we=>Rt(Q,we.target.value),ne(Et,21,()=>D,ce,(we,ft)=>{var et=br(),la=s(et,!0);a(et);var sa={};F(()=>{j(la,e(ft)),sa!==(sa=e(ft))&&(et.value=(et.__value=e(ft))??"")}),n(we,et)}),a(Et);var da;Fa(Et),a(Yt);var ta=r(Yt),ga=s(ta);oe(ga),a(ta);var aa=r(ta),pa=s(aa);ne(pa,21,()=>G.filter(we=>we!=="None"),ce,(we,ft)=>{var et=yr(),la=s(et,!0);a(et);var sa={};F(()=>{j(la,e(ft)),sa!==(sa=e(ft))&&(et.value=(et.__value=e(ft))??"")}),n(we,et)}),a(pa),a(aa);var ba=r(aa),ya=s(ba);ne(ya,21,()=>b,ce,(we,ft)=>{var et=wr(),la=s(et,!0);a(et);var sa={};F(()=>{j(la,e(ft)),sa!==(sa=e(ft))&&(et.value=(et.__value=e(ft))??"")}),n(we,et)}),a(ya),a(ba);var fe=r(ba);let Ye;var Me=s(fe);Ea(Me),a(fe);var Qt=r(fe),Jt=s(Qt);{var ts=we=>{var ft=Sr();ft.__click=()=>kt(Q),n(we,ft)};V(Jt,we=>{e(te).length>1&&we(ts)})}a(Qt),a(Ae),F(()=>{da!==(da=e(c).attemptType)&&(Et.value=(Et.__value=e(c).attemptType)??"",Ba(Et,e(c).attemptType)),ga.disabled=e(c).attemptType==="Flash"||e(c).attemptType==="Onsight",Ye=Lt(fe,1,"notes-cell svelte-15o2ys1",null,Ye,{expanded:e(q)===Q})}),ue(At,()=>e(c).name,we=>e(c).name=we),ue(ga,()=>e(c).attemptsNum,we=>e(c).attemptsNum=we),it(pa,()=>e(c).wall,we=>e(c).wall=we),it(ya,()=>e(c).techniqueFocus,we=>e(c).techniqueFocus=we),Dt("focus",Me,()=>H(Q)),Dt("blur",Me,$),ue(Me,()=>e(c).notes,we=>e(c).notes=we),n(g,Ae)}),a(st),a(xe),a(Pe);var Ne=r(Pe,2);Ne.__click=St,a($e);var gt=r($e,2),pt=r(s(gt),2),jt=s(pt),He=s(jt);Re(He,{id:"finger-load",label:"Finger",get value(){return e(Z)},set value(g){t(Z,g,!0)}}),a(jt);var Qe=r(jt,2),Ot=s(Qe);Re(Ot,{id:"shoulder-load",label:"Shoulder",get value(){return e(ie)},set value(g){t(ie,g,!0)}}),a(Qe);var Ht=r(Qe,2),$t=s(Ht);Re($t,{id:"forearm-load",label:"Forearm",get value(){return e(ve)},set value(g){t(ve,g,!0)}}),a(Ht),a(pt);var ia=r(pt,4),zt=s(ia),ea=s(zt);Re(ea,{id:"open-grip",label:"Open",get value(){return e(re)},set value(g){t(re,g,!0)}}),a(zt);var _a=r(zt,2),ka=s(_a);Re(ka,{id:"crimp-grip",label:"Crimp",get value(){return e(ee)},set value(g){t(ee,g,!0)}}),a(_a);var ca=r(_a,2),qa=s(ca);Re(qa,{id:"pinch-grip",label:"Pinch",get value(){return e(le)},set value(g){t(le,g,!0)}}),a(ca);var ua=r(ca,2),xa=s(ua);Re(xa,{id:"sloper-grip",label:"Sloper",get value(){return e(z)},set value(g){t(z,g,!0)}}),a(ua);var Ta=r(ua,2),va=s(Ta);Re(va,{id:"jug-grip",label:"Jug",get value(){return e(K)},set value(g){t(K,g,!0)}}),a(Ta),a(ia),a(gt);var ha=r(gt,2),Da=s(ha);Sa(Da,{placeholder:"How did the session feel? Weather, conditions, mood...",get value(){return e(ge)},set value(g){t(ge,g,!0)}}),a(ha);var Ca=r(ha,2),C=s(Ca);{var d=g=>{var c=xr();let Q;var Ae=s(c,!0);a(c),F(()=>{Q=Lt(c,1,"save-message svelte-15o2ys1",null,Q,{success:e(qe)==="success",error:e(qe)==="error"}),j(Ae,e(We))}),n(g,c)};V(C,g=>{e(We)&&g(d)})}var se=r(C,2);se.__click=ot;var Ve=s(se);{var Je=g=>{var c=wt("Saving...");n(g,c)},Gt=g=>{var c=Kt(),Q=Ft(c);{var Ae=mt=>{var Vt=wt("✓ Saved!");n(mt,Vt)},De=mt=>{var Vt=wt("Save Session");n(mt,Vt)};V(Q,mt=>{e(qe)==="success"?mt(Ae):mt(De,!1)},!0)}n(g,c)};V(Ve,g=>{e(qe)==="saving"?g(Je):g(Gt,!1)})}a(se),a(Ca),a(Xe),F(()=>se.disabled=e(qe)==="saving"),ue(Ze,()=>e(w),g=>t(w,g)),ue(ut,()=>e(T),g=>t(T,g)),it(pe,()=>e(y),g=>t(y,g)),ue(U,()=>e(I),g=>t(I,g)),it(f,()=>e(A),g=>t(A,g)),it(ae,()=>e(X),g=>t(X,g)),n(N,Xe),Wt()}Zt(["click","change"]);const Ra=[{id:"pull_ups",name:"Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Grip bar wider than shoulders.","Pull chest up toward the bar."],images:["/exercises/pull-ups.webp"]},{id:"weighted_pull_ups",name:"Weighted Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Grip bar wider than shoulders.","Pull chest up toward the bar."],images:["/exercises/weighted_pull_ups.webp"]},{id:"lat_pulldown",name:"Lat Pulldown",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats"],instructions:["Sit in machine.","Pull bar down to upper chest."],images:["/exercises/lat_pulldown.webp"]},{id:"one_arm_assisted_pull_up",name:"1 Arm Assisted Pull-Up",category:"Pull",subcategory:"Vertical Pull",targetMuscles:["Lats","Biceps"],instructions:["Use a pulley or band to assist one arm.","Perform a one-arm pull-up."],images:["/exercises/1_Arm_Assisted_Pull-Up.webp"]},{id:"bent_over_row",name:"Barbell Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Hinge at hips.","Pull weight to hip pocket."],images:["/exercises/bent_over_row.webp"]},{id:"single_arm_db_row",name:"Dumbbell Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Support on bench.","Pull dumbbell to hip."],images:["/exercises/single_arm_db_row.webp"]},{id:"one_arm_negatives",name:"One Arm Negatives",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps","Forearms"],instructions:["Jump or assist up to the top position.","Lower yourself as slowly as possible with one arm."],images:["/exercises/one_arm_negatives.webp"]},{id:"full_lock_offs",name:"Full Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold the top position of a pull-up.","Maintain chin above the bar for time."],images:["/exercises/full_lock_offs.webp"]},{id:"90_degree_lock_offs",name:"90 Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold a pull-up position with elbows at 90 degrees.","Keep core tight and hold for time."],images:["/exercises/90_degree_lock_offs.webp"]},{id:"120_degree_lock_offs",name:"120 Lock-offs",category:"Pull",subcategory:"Lock-offs",targetMuscles:["Lats","Biceps"],instructions:["Hold a pull-up position with elbows at 120 degrees (slightly bent).","Maintain tension for time."],images:["/exercises/120_degree_lock_offs.webp"]},{id:"bicep_curls",name:"Bicep Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps"],instructions:["Hold dumbbells at sides.","Curl weights toward shoulders.","Lower with control."],images:["/exercises/bicep_curls.webp"]},{id:"hammer_curls",name:"Hammer Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps","Forearms"],instructions:["Hold dumbbells with neutral grip (palms facing in).","Curl weights toward shoulders.","Lower with control."],images:["/exercises/hammer_curls.webp"]},{id:"barbell_curls",name:"Barbell Curls",category:"Pull",subcategory:"Curls",targetMuscles:["Biceps"],instructions:["Hold barbell with underhand grip.","Curl bar toward chest.","Lower with control."],images:["/exercises/barbell_curls.webp"]},{id:"front_raises",name:"Front Raises",category:"Pull",subcategory:"Shoulders",targetMuscles:["Front Delts"],instructions:["Hold weights in front of thighs.","Raise arms straight in front to shoulder height."],images:["/exercises/front_raises.webp"]},{id:"kettlebell_swings",name:"Kettlebell Swings",category:"Pull",subcategory:"Shoulders",targetMuscles:["Glutes","Hamstrings","Lower Back"],instructions:["Hinge at hips holding kettlebell.","Snap hips forward to swing weight up."],images:["/exercises/kettlebell_swings.webp"]},{id:"muscle_ups",name:"Muscle Ups",category:"Pull",subcategory:"Shoulders",targetMuscles:["Lats","Triceps","Chest"],instructions:["Explosive pull-up.","Transition wrists over bar.","Press out at top."],images:["/exercises/muscle_ups.webp"]},{id:"seated_row",name:"Seated Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Sit at machine.","Pull handle to torso."],images:["/exercises/Seated_Row.webp"]},{id:"supine_trx_row",name:"Supine TRX Row",category:"Pull",subcategory:"Horizontal Pull",targetMuscles:["Lats","Rhomboids"],instructions:["Feet in TRX straps.","Pull handle to torso."],images:["/exercises/supine_trx_row.webp"]},{id:"barbell_bench_press",name:"Barbell Bench Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Triceps"],instructions:["Lower bar to chest.","Press back up."],images:["/exercises/barbell_bench_press.webp"]},{id:"dumbbell_bench_press",name:"Dumbbell Chest Press",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Upper Chest"],instructions:["Press dumbbells whilst lying on bench."],images:["/exercises/dumbbell_bench_press.webp"]},{id:"chest_press",name:"Chest Press Machine",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Triceps"],instructions:["From seated position, push handles overhead."],images:["/exercises/chest_press.webp"]},{id:"push_up",name:"Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Triceps","Chest"],instructions:["Hands wide, lower to floor.","Press back up."],images:["/exercises/push_up.webp"]},{id:"narrow_push_up",name:"Narrow Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Triceps","Chest"],instructions:["Hands close together.","Keep elbows tucked."],images:["/exercises/narrow_push_up.webp"]},{id:"trx_push_up",name:"TRX Push-Up",category:"Push",subcategory:"Horizontal Push",targetMuscles:["Chest","Global Stabilisers"],instructions:["Feet or hands in TRX straps.","Perform push-up."],images:["/exercises/trx_push_up.webp"]},{id:"overhead_press",name:"Barbell Overhead Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Press bar vertically overhead."],images:["/exercises/overhead_press.webp"]},{id:"dumbbell_overhead_press",name:"Dumbbell Overhead Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Press dumbbells vertically overhead."],images:["/exercises/dumbbell_overhead_press.webp"]},{id:"arnold_press",name:"Arnold Press",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Rotate palms while pressing overhead."],images:["/exercises/arnold_press.webp"]},{id:"shoulder_press_machine",name:"Shoulder Press Machine",category:"Push",subcategory:"Vertical Push",targetMuscles:["Shoulders"],instructions:["Sit in machine.","Press handles overhead."],images:["/exercises/Shoulder_Press_Machine.webp"]},{id:"dumbbell_flies",name:"Dumbbell Flies",category:"Push",subcategory:"Shoulders",targetMuscles:["Chest"],instructions:["Lie on bench.","Open arms wide, then bring together."],images:["/exercises/Dumbbell_Flies.webp"]},{id:"lateral_raises",name:"Lateral Raises",category:"Push",subcategory:"Shoulders",targetMuscles:["Side Delts"],instructions:["Raise arms to sides."],images:["/exercises/dumbbell_lateral_raise.webp"]},{id:"dumbbell_kickbacks",name:"Dumbbell Kickbacks",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Hinge forward.","Extend arm back."],images:["/exercises/dumbbell_kickbacks.webp"]},{id:"cable_pushdown",name:"Cable Pushdown",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Push bar down using triceps."],images:["/exercises/tricep_pulldown.webp"]},{id:"tricep_dips",name:"Tricep Dips",category:"Push",subcategory:"Triceps",targetMuscles:["Triceps"],instructions:["Support body on parallel bars.","Lower until elbows at 90 degrees."],images:["/exercises/Tricep_Dips.webp"]},{id:"barbell_squat",name:"Barbell Squat",category:"Legs",subcategory:"Squats",targetMuscles:["Quads","Glutes"],instructions:["Squat with barbell on back."],images:["/exercises/barbell_squat.webp"]},{id:"leg_press",name:"Leg Press",category:"Legs",subcategory:"Squats",targetMuscles:["Quads"],instructions:["Press weight on machine."],images:["/exercises/leg_press.webp"]},{id:"pistol_squats",name:"Pistol Squats",category:"Legs",subcategory:"Squats",targetMuscles:["Quads","Balance"],instructions:["One-legged squat."],images:["/exercises/Pistol_Squats.webp"]},{id:"goblet_squat",name:"Goblet Squat",category:"Legs",subcategory:"Squats",targetMuscles:["Quads"],instructions:["Hold weight at chest.","Squat."],images:["/exercises/goblet_squat.webp"]},{id:"deadlift",name:"Deadlift",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Posterior Chain"],instructions:["Lift bar from floor."],images:["/exercises/deadlift.webp"]},{id:"rack_pulls",name:"Rack Pulls",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Back","Glutes"],instructions:["Deadlift from rack height."],images:["/exercises/Rack_Pulls.webp"]},{id:"barbell_good_mornings",name:"BarbellGood Mornings",category:"Legs",subcategory:"Hinge Pattern",targetMuscles:["Back","Hamstrings"],instructions:["Deadlift from rack height."],images:["/exercises/barbell_good_mornings.webp"]},{id:"leg_extension",name:"Leg Extension",category:"Legs",subcategory:"Isolation",targetMuscles:["Quads"],instructions:["Extend legs against machine resistance."],images:["/exercises/Leg_Extension.webp"]},{id:"leg_curl",name:"Leg Curl",category:"Legs",subcategory:"Isolation",targetMuscles:["Hamstrings"],instructions:["Curl legs against machine resistance."],images:["/exercises/Leg_Curl.webp"]},{id:"walking_lunge",name:"Walking Lunge",category:"Legs",subcategory:"Isolation",targetMuscles:["Quads","Glutes"],instructions:["Step forward and lower hips."],images:["/exercises/walking_lunge.webp"]},{id:"calf_raises",name:"Calf Raises",category:"Legs",subcategory:"Calves",targetMuscles:["Calves"],instructions:["Raise heels."],images:["/exercises/calf_raise.webp"]},{id:"glute_bridges",name:"Glute Bridges",category:"Legs",subcategory:"Glutes",targetMuscles:["Glutes"],instructions:["Lie on back.","Lift hips."],images:["/exercises/Glute_Bridges.webp"]},{id:"reverse_wrist_curl",name:"Reverse Wrist Curl",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearm Extensors"],instructions:["Curl wrist up with palm down."],images:["/exercises/reverse_wrist_curl.webp"]},{id:"radial_wrist_tilts",name:"Radial Wrist Tilts",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearms"],instructions:["Tilt wrist thumb-side up."],images:["/exercises/Radial_Wrist_Tilts.webp"]},{id:"wrist_rotations",name:"Wrist Rotations",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearms"],instructions:["Rotate wrists with weight."],images:["/exercises/Wrist_Rotations.webp"]},{id:"wrist_curls",name:"Wrist Curls",category:"Stabilisers",subcategory:"Wrists",targetMuscles:["Forearm Flexors"],instructions:["Curl wrist up with palm up."],images:["/exercises/Wrist_Curls.webp"]},{id:"dumbbell_rear_delt_flies",name:"Dumbbell Rear Delt Flies",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Rear Delts"],instructions:["Hinge forward.","Raise arms to sides."],images:["/exercises/dumbbell_rear_delt_flies.webp"]},{id:"cable_face_pulls",name:"Cable Face Pulls",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Rear Delts"],instructions:["Pull rope to face."],images:["/exercises/face_pull.webp"]},{id:"archer_rows",name:"Archer Rows",category:"Stabilisers",subcategory:"Rear Delts",targetMuscles:["Back","Rear Delts"],instructions:["Row with one arm while other stays straight."],images:["/exercises/Archer_Rows.webp"]},{id:"one_arm_dumbbell_shrugs",name:"One Arm Dumbbell Shrugs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Traps"],instructions:["Shrug shoulder up."],images:["/exercises/One_Arm_Dumbbell_Shrugs.webp"]},{id:"prone_overhead_db_press",name:"Prone Overhead Dumbbell Press",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Lower Traps"],instructions:["Lie prone.","Press light weights overhead."],images:["/exercises/Prone_Overhead_Dumbbell_Press.webp"]},{id:"incline_bench_db_iyts",name:"Incline Bench Dumbbell IYTs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Lower Traps","Rear Delts"],instructions:["Form I, Y, T shapes with arms."],images:["/exercises/i-y-t_raises.webp"]},{id:"scapular_holds",name:"Scapular Holds",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hold scapular retraction."],images:["/exercises/Scapular_Holds.webp"]},{id:"scapular_pull_ups",name:"Scapular Pull-Ups",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hang from bar.","Depress and retract scapula without bending elbows."],images:["/exercises/Scapular_Pull-ups.webp"]},{id:"one_arm_scapular_holds",name:"1 Arm Scapular Holds",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["Hang from one arm.","Engage scapula."],images:["/exercises/one_arm_scapular_holds.webp"]},{id:"one_arm_scapular_pull_ups",name:"1 Arm Scapular Pull-Ups",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Scapula"],instructions:["One arm hang.","Depress scapula."],images:["/exercises/one_arm_scapular_pull_ups.webp"]},{id:"trx_iyts",name:"TRX IYTs",category:"Stabilisers",subcategory:"Scapular Control",targetMuscles:["Back"],instructions:["Use TRX to perform I, Y, T raises."],images:["/exercises/trx_iyts.webp"]},{id:"dumbbell_overhead_rotations",name:"Dumbbell Overhead Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Press overhead.","Rotate shoulders."],images:["/exercises/Dumbbell_Overhead_Rotations.webp"]},{id:"external_side_lying_rotations",name:"External Side Lying Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Lie on side.","Rotate arm up."],images:["/exercises/External_Side_Lying_Rotations.webp"]},{id:"prone_bench_rotations",name:"Prone Bench Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Lie prone.","Rotate arms."],images:["/exercises/Prone_Bench_Rotations.webp"]},{id:"cable_external_rotations",name:"Cable External Rotations",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Use cable.","Rotate arm away from body."],images:["/exercises/Cable_External_Rotations.webp"]},{id:"cable_internal_rotation",name:"Cable Internal Rotation",category:"Stabilisers",subcategory:"Rotator Cuff",targetMuscles:["Rotator Cuff"],instructions:["Use cable.","Rotate arm across body."],images:["/exercises/Cable_Internal_Rotation.webp"]},{id:"internal_side_lying_rotations",name:"Internal Side Lying Rotations",category:"Stabilisers",subcategory:"Internal Rotation/Flexors",targetMuscles:["Rotator Cuff"],instructions:["Lie on side.","Rotate arm inward."],images:["/exercises/Internal_Side_Lying_Rotations.webp"]},{id:"hanging_l_hold",name:"Hanging L Hold",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Hang from bar.","Hold legs horizontal."],images:["/exercises/Hanging_L_Hold.webp"]},{id:"supine_leg_raises",name:"Supine Leg Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Lie on back.","Raise legs."],images:["/exercises/Supine_Leg_Raises.webp"]},{id:"hanging_leg_raises",name:"Hanging Leg Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Hang from bar.","Raise legs to bar."],images:["/exercises/hanging_leg_raise.webp"]},{id:"lever_raises_tucked",name:"Lever Raises (tucked)",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Front lever progression tucked."],images:["/exercises/Lever_Raises_tucked.webp"]},{id:"lever_raises_90",name:"Lever Raises (90)",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Front lever progression to 90 degrees."]},{id:"lever_raises",name:"Lever Raises",category:"Core",subcategory:"Leg Raise",targetMuscles:["Abs"],instructions:["Full front lever raises."]},{id:"crunches",name:"Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Upper Abs"],instructions:["Crunch up off floor."],images:["/exercises/crunch.webp"]},{id:"lower_ab_crunches",name:"Lower Ab Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Lower Abs"],instructions:["Reverse crunch movement."],images:["/exercises/Lower_Ab_Crunches.webp"]},{id:"weighted_crunches",name:"Weighted Crunches",category:"Core",subcategory:"Crunches",targetMuscles:["Abs"],instructions:["Crunch with weight."],images:["/exercises/Weighted_Crunches.webp"]},{id:"dead_bug",name:"Dead Bug",category:"Core",subcategory:"Crunches",targetMuscles:["Core"],instructions:["Opposite arm and leg extension lying on back."],images:["/exercises/Dead_Bug.webp"]},{id:"boat_pose",name:"Boat Pose",category:"Core",subcategory:"Crunches",targetMuscles:["Core"],instructions:["Static V hold on floor."],images:["/exercises/Boat_Pose.webp"]},{id:"v_sits",name:"V Sits",category:"Core",subcategory:"Crunches",targetMuscles:["Abs"],instructions:["Explosive sit up to V position."],images:["/exercises/V_Sits.webp"]},{id:"kettle_bell_twists",name:"Kettle Bell Twists",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Russian twist with KB."],images:["/exercises/russian_twists.webp"]},{id:"twisting_crunches",name:"Twisting Crunches",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Crunch with rotation."],images:["/exercises/Twisting_Crunches.webp"]},{id:"supine_windscreen_wipers",name:"Supine Windscreen Wipers",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Lie on back.","Rotate legs side to side."],images:["/exercises/Supine_Windscreen_Wipers.webp"]},{id:"hanging_windscreen_wipers",name:"Hanging Windscreen Wipers",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques"],instructions:["Hang from bar.","Rotate legs side to side."],images:["/exercises/Hanging_Windscreen_Wipers.webp"]},{id:"thread_the_needle",name:"Thread the Needle",category:"Core",subcategory:"Rotation",targetMuscles:["Obliques","Mobility"],instructions:["Plank position.","Reach under body."],images:["/exercises/Thread_the_Needle.webp"]}];var Cr=k('<div><div class="col set-num svelte-ow8x7m"> </div> <div class="col weight svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col reps svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col check svelte-ow8x7m"><button><!></button></div></div>');function Lr(N,i){Bt(i,!1);let l=be(i,"setNumber",8),h=be(i,"set",12);const D=fa();function G(){h(h().completed=!h().completed,!0),D("change",h()),h().completed&&D("complete")}Ia();var M=Cr();let _;var R=s(M),x=s(R,!0);a(R);var b=r(R,2),v=s(b);oe(v),a(b);var L=r(b,2),q=s(L);oe(q),a(L);var w=r(L,2),T=s(w);let y;var S=s(T);{var I=A=>{var Y=wt("✓");n(A,Y)};V(S,A=>{bt(h()),_t(()=>h().completed)&&A(I)})}a(T),a(w),a(M),F(()=>{_=Lt(M,1,"set-row svelte-ow8x7m",null,_,{completed:h().completed}),j(x,l()),y=Lt(T,1,"check-btn svelte-ow8x7m",null,y,{checked:h().completed})}),ue(v,()=>h().weight,A=>h(h().weight=A,!0)),ue(q,()=>h().reps,A=>h(h().reps=A,!0)),Dt("click",T,G),n(N,M),Wt()}var Rr=k('<div><span class="dot svelte-1ni79z8"></span> <span class="text"> </span></div>'),Pr=k("<button></button>"),Nr=k('<div class="exercise-card svelte-1ni79z8"><div class="header svelte-1ni79z8"><div class="title-group svelte-1ni79z8"><button class="icon-btn info-btn svelte-1ni79z8" aria-label="Exercise Info"><div class="info-icon svelte-1ni79z8">?</div></button> <div><h4 class="svelte-1ni79z8"> </h4> <button class="icon-btn timer-btn svelte-1ni79z8" aria-label="Open Timer" title="Interval Timer">⏱</button> <div class="benchmarks svelte-1ni79z8"></div></div></div> <button class="icon-btn delete-btn svelte-1ni79z8" aria-label="Delete Exercise">🗑️</button></div> <div class="table-header svelte-1ni79z8"><div class="col">Set</div> <div class="col">kg</div> <div class="col">Reps</div> <div class="col">✓</div></div> <div class="sets"></div> <button class="add-set-btn svelte-1ni79z8">+ Add Set</button> <div class="difficulty-footer svelte-1ni79z8"><span class="diff-label svelte-1ni79z8">How did it feel?</span> <div class="diff-circles svelte-1ni79z8"></div></div></div>');function qr(N,i){Bt(i,!1);let l=be(i,"exercise",12),h=be(i,"benchmarks",24,()=>({}));const D=fa();function G(){const X=l().sets[l().sets.length-1],B={weight:X?X.weight:0,reps:X?X.reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1};l(l().sets=[...l().sets,B],!0)}const M=["Green","Yellow","Orange","Red"];Ia();var _=Nr(),R=s(_),x=s(R),b=s(x),v=r(b,2),L=s(v),q=s(L,!0);a(L);var w=r(L,2),T=r(w,2);ne(T,5,()=>M,ce,(X,B)=>{var W=Kt(),Z=Ft(W);{var ie=ve=>{var re=Rr();Lt(re,1,"benchmark-pill svelte-1ni79z8",null,{},{"has-data":!0});var ee=r(s(re),2),le=s(ee);a(ee),a(re),F(z=>{Oa(re,`--pill-color: var(--color-${z??""})`),j(le,`${bt(h()),e(B),_t(()=>h()[e(B)]?.weight)??""}kg x ${bt(h()),e(B),_t(()=>h()[e(B)]?.reps)??""}`)},[()=>(e(B),_t(()=>e(B).toLowerCase()))]),n(ve,re)};V(Z,ve=>{bt(h()),e(B),_t(()=>h()[e(B)])&&ve(ie)})}n(X,W)}),a(T),a(v),a(x);var y=r(x,2);a(R);var S=r(R,4);ne(S,5,()=>(bt(l()),_t(()=>l().sets)),ce,(X,B,W)=>{Lr(X,{setNumber:W+1,get set(){return(bt(l()),_t(()=>l().sets))[W]},set set(Z){(bt(l()),_t(()=>l().sets))[W]=Z,vs(()=>l())},$$events:{complete(Z){Pa.call(this,i,Z)},change(Z){Pa.call(this,i,Z)}},$$legacy:!0})}),a(S);var I=r(S,2),A=r(I,2),Y=r(s(A),2);ne(Y,5,()=>M,ce,(X,B)=>{var W=Pr();let Z;F(ie=>{Z=Lt(W,1,"diff-circle svelte-1ni79z8",null,Z,{selected:l().difficulty===e(B)}),Oa(W,`--circle-color: var(--color-${ie??""})`),rt(W,"aria-label",`Mark as ${e(B)??""}`)},[()=>(e(B),_t(()=>e(B).toLowerCase()))]),Dt("click",W,()=>l(l().difficulty=e(B),!0)),n(X,W)}),a(Y),a(A),a(_),F(()=>j(q,(bt(l()),_t(()=>l().name)))),Dt("click",b,()=>D("info",l())),Dt("click",w,()=>D("timer",l())),Dt("click",y,()=>D("delete",l())),Dt("click",I,G),n(N,_),Wt()}const Dr=N=>N;function ja(N){const i=N-1;return i*i*i+1}function Qa(N){const i=typeof N=="string"&&N.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return i?[parseFloat(i[1]),i[2]||"px"]:[N,"px"]}function Ha(N,{delay:i=0,duration:l=400,easing:h=Dr}={}){const D=+getComputedStyle(N).opacity;return{delay:i,duration:l,easing:h,css:G=>`opacity: ${G*D}`}}function Za(N,{delay:i=0,duration:l=400,easing:h=ja,x:D=0,y:G=0,opacity:M=0}={}){const _=getComputedStyle(N),R=+_.opacity,x=_.transform==="none"?"":_.transform,b=R*(1-M),[v,L]=Qa(D),[q,w]=Qa(G);return{delay:i,duration:l,easing:h,css:(T,y)=>`
			transform: ${x} translate(${(1-T)*v}${L}, ${(1-T)*q}${w});
			opacity: ${R-b*y}`}}function Wi(N,{delay:i=0,duration:l=400,easing:h=ja,axis:D="y"}={}){const G=getComputedStyle(N),M=+G.opacity,_=D==="y"?"height":"width",R=parseFloat(G[_]),x=D==="y"?["top","bottom"]:["left","right"],b=x.map(S=>`${S[0].toUpperCase()}${S.slice(1)}`),v=parseFloat(G[`padding${b[0]}`]),L=parseFloat(G[`padding${b[1]}`]),q=parseFloat(G[`margin${b[0]}`]),w=parseFloat(G[`margin${b[1]}`]),T=parseFloat(G[`border${b[0]}Width`]),y=parseFloat(G[`border${b[1]}Width`]);return{delay:i,duration:l,easing:h,css:S=>`overflow: hidden;opacity: ${Math.min(S*20,1)*M};${_}: ${S*R}px;padding-${x[0]}: ${S*v}px;padding-${x[1]}: ${S*L}px;margin-${x[0]}: ${S*q}px;margin-${x[1]}: ${S*w}px;border-${x[0]}-width: ${S*T}px;border-${x[1]}-width: ${S*y}px;min-${_}: 0`}}function $a(N,{delay:i=0,duration:l=400,easing:h=ja,start:D=0,opacity:G=0}={}){const M=getComputedStyle(N),_=+M.opacity,R=M.transform==="none"?"":M.transform,x=1-D,b=_*(1-G);return{delay:i,duration:l,easing:h,css:(v,L)=>`
			transform: ${R} scale(${1-x*L});
			opacity: ${_-b*L}
		`}}function Mr(N){const i=N-1;return i*i*i+1}class Ma{static audioContext=null;static gainNode=null;static isInitialized=!1;static init(){if(!this.isInitialized)try{(window.AudioContext||window.webkitAudioContext)&&(this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.gainNode.connect(this.audioContext.destination),this.isInitialized=!0)}catch(i){console.warn("AudioContext not supported",i)}}static async playChime(){if(this.isInitialized||this.init(),!this.audioContext||!this.gainNode)return;this.audioContext.state==="suspended"&&await this.audioContext.resume();const i=this.audioContext.currentTime,l=this.audioContext.createOscillator();l.type="sine",l.frequency.setValueAtTime(880,i),l.frequency.exponentialRampToValueAtTime(.01,i+1.5);const h=this.audioContext.createGain();h.gain.setValueAtTime(.3,i),h.gain.exponentialRampToValueAtTime(.001,i+1.5),l.connect(h),h.connect(this.gainNode),l.start(i),l.stop(i+1.5);const D=this.audioContext.createOscillator();D.type="triangle",D.frequency.setValueAtTime(1760,i),D.frequency.exponentialRampToValueAtTime(.01,i+1);const G=this.audioContext.createGain();G.gain.setValueAtTime(.1,i),G.gain.exponentialRampToValueAtTime(.001,i+1),D.connect(G),G.connect(this.gainNode),D.start(i),D.stop(i+1)}static vibrate(i=200){typeof navigator<"u"&&navigator.vibrate&&navigator.vibrate(i)}static async playCompletionAlert(){this.vibrate([500,100,500]),await this.playChime()}static async playTick(){if(this.isInitialized||this.init(),!this.audioContext||!this.gainNode)return;this.audioContext.state==="suspended"&&await this.audioContext.resume();const i=this.audioContext.currentTime,l=this.audioContext.createOscillator();l.type="sine",l.frequency.setValueAtTime(600,i);const h=this.audioContext.createGain();h.gain.setValueAtTime(.05,i),h.gain.exponentialRampToValueAtTime(.001,i+.1),l.connect(h),h.connect(this.gainNode),l.start(i),l.stop(i+.1),this.vibrate(50)}}var Or=k('<div class="setup-form svelte-18i4gcv"><div class="input-group svelte-18i4gcv"><label for="work-duration" class="svelte-18i4gcv">Work</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv"><label for="rest-duration" class="svelte-18i4gcv">Rest</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv"><label for="num-sets" class="svelte-18i4gcv">Sets</label> <div class="time-adjuster svelte-18i4gcv"><button class="svelte-18i4gcv">−</button> <span class="val svelte-18i4gcv"> </span> <button class="svelte-18i4gcv">+</button></div></div> <div class="input-group svelte-18i4gcv" style="flex-direction: row; align-items: center; justify-content: space-between;"><label for="allow-overtime" style="margin: 0;" class="svelte-18i4gcv">Overtime</label> <label class="toggle-switch svelte-18i4gcv"><input type="checkbox" id="allow-overtime" class="svelte-18i4gcv"/> <span class="slider svelte-18i4gcv"></span></label></div> <button class="start-btn svelte-18i4gcv">▶ Start Interval</button></div>'),Gr=k('<div class="finished-state svelte-18i4gcv"><div class="check-icon svelte-18i4gcv">✓</div> <h3>Nicely Done!</h3> <button class="reset-btn svelte-18i4gcv">Back to Setup</button></div>'),Ar=k('<button class="ctl-btn pause svelte-18i4gcv">⏸</button>'),Er=k('<button class="ctl-btn play svelte-18i4gcv">▶</button>'),Fr=k('<div class="timer-circle svelte-18i4gcv"><svg viewBox="0 0 100 100" class="ring svelte-18i4gcv"><circle class="track svelte-18i4gcv" cx="50" cy="50" r="45"></circle><circle class="progress svelte-18i4gcv" cx="50" cy="50" r="45" stroke-dasharray="283"></circle></svg> <div class="timer-val svelte-18i4gcv"><div class="phase-label svelte-18i4gcv"> </div> <div class="digits svelte-18i4gcv"> </div></div></div> <div class="controls svelte-18i4gcv"><!> <button class="ctl-btn skip svelte-18i4gcv"> </button> <button class="ctl-btn stop svelte-18i4gcv" style="font-size: 1rem; padding: 1rem;">Stop</button></div>',1),Br=k('<div class="overlay svelte-18i4gcv" role="button" tabindex="0"><div><div class="header svelte-18i4gcv"><span class="title svelte-18i4gcv"><!></span> <button class="close-btn svelte-18i4gcv">✕</button></div> <div class="content svelte-18i4gcv"><!></div></div></div>');function es(N,i){Bt(i,!0);let l=be(i,"visible",15,!1),h=be(i,"defaultSets",3,3),D=be(i,"associatedExerciseId",7,null),G=be(i,"onComplete",3,()=>{}),M=be(i,"onClose",3,()=>{}),_=u("SETUP"),R=u("PAUSED"),x=u(30),b=u(60),v=u(3),L=u(!1),q=u(1),w=u(30),T=u(null),y=u(null),S=u(!1),I=u(null),A=null;ra(()=>{l()&&(Ma.init(),e(_)==="SETUP"&&(ie(),h()>0&&t(v,h())))}),ma(()=>(ee(),A=setInterval(Mt,100),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("message",H=>{H.data&&H.data.type==="TIMER_ACTION"&&Z(H.data.action)}),document.addEventListener("visibilitychange",Y),()=>{clearInterval(A),document.removeEventListener("visibilitychange",Y)}));function Y(){document.hidden&&e(R)==="RUNNING"&&X()}function X(){const H=e(_)==="WORK"?"Work":"Rest",Te=`${e(w)<0?"Overtime":"Remaining"}: ${at(Math.abs(e(w)))}`;e(w)>=0?W(`${H} Timer`,Te,[],!1):e(L)&&e(S)&&W("Interval Finished",`Overtime: ${at(Math.abs(e(w)))}`,[{action:"next-set",title:"Next Set"},{action:"extend-10",title:"+10s"}],!1)}async function B(){"Notification"in window&&Notification.permission!=="granted"&&await Notification.requestPermission()}function W(H,$,Te=[],Ce=!0){"serviceWorker"in navigator&&Notification.permission==="granted"&&navigator.serviceWorker.ready.then(Oe=>{Oe.showNotification(H,{body:$,icon:"/favicon.png",vibrate:Ce?[200,100,200]:[],actions:Te,tag:"rest-timer",renotify:Ce})})}function Z(H){H==="extend-10"?(t(w,e(w)+10),e(T)&&t(T,e(T)+1e4),e(w)>0&&t(S,!1),re()):H==="next-set"&&Ue()}async function ie(){if(D())try{const H=await ks(D());H.ok&&H.data&&(t(x,H.data.workDuration,!0),t(b,H.data.restDuration,!0),t(L,H.data.allowOvertime,!0))}catch(H){console.warn(H)}}async function ve(){if(D())try{await xs(D(),{workDuration:e(x),restDuration:e(b),allowOvertime:e(L)})}catch(H){console.error(H)}}function re(){if(e(_)==="SETUP")return;const H={phase:e(_),runningState:e(R),remaining:e(w),endTimestamp:e(T),configWork:e(x),configRest:e(b),configSets:e(v),configSetsOverridden:e(v),allowOvertime:e(L),currentSet:e(q),associatedExerciseId:D(),pausedTimeRemaining:e(y),timestamp:Date.now()};localStorage.setItem("active_interval_timer",JSON.stringify(H))}function ee(){try{const H=localStorage.getItem("active_interval_timer");if(H){const $=JSON.parse(H);Date.now()-$.timestamp<36e5&&(t(_,$.phase,!0),t(R,$.runningState,!0),t(w,$.remaining,!0),t(T,$.endTimestamp,!0),t(x,$.configWork,!0),t(b,$.configRest,!0),$.configSets&&t(v,$.configSets,!0),$.allowOvertime!==void 0&&t(L,$.allowOvertime,!0),t(q,$.currentSet,!0),D($.associatedExerciseId),t(y,$.pausedTimeRemaining,!0),e(_)!=="SETUP"&&e(_)!=="FINISHED"&&l(!0))}}catch{}}function le(){localStorage.removeItem("active_interval_timer")}function z(){B(),ve(),t(_,"WORK"),t(q,1),K(e(x))}function K(H){t(R,"RUNNING"),t(w,H,!0),t(T,Date.now()+H*1e3),t(S,!1),re(),Ma.playChime()}function te(){t(R,"PAUSED"),t(y,e(w),!0),t(T,null),re()}function ge(){e(y)&&(t(R,"RUNNING"),t(T,Date.now()+e(y)*1e3),re())}function Ue(){tt()}function Se(){t(_,"SETUP"),t(R,"PAUSED"),le()}function tt(){e(_)==="WORK"?e(q)>=e(v)?(t(_,"FINISHED"),t(R,"PAUSED"),t(T,null),G()(),le()):(t(_,"REST"),K(e(b)),W("Work Complete",`Resting for ${e(b)}s`)):e(_)==="REST"&&(ds(q),t(_,"WORK"),K(e(x)),W("Rest Complete",`Starting Set ${e(q)}/${e(v)}`))}function Mt(){if(!(!l()||e(_)==="SETUP"||e(_)==="FINISHED"||e(R)==="PAUSED")&&e(T)){const H=Date.now(),$=e(T)-H;t(w,Math.ceil($/1e3),!0),document.hidden&&e(I)!==e(w)&&(X(),t(I,e(w),!0)),e(w)<=0&&(e(S)||(t(S,!0),Ma.playCompletionAlert(),e(L)?W("Interval Finished","Overtime started",[{action:"next-set",title:"Next Set"},{action:"extend-10",title:"+10s"}],!0):(t(w,0),tt())))}}function at(H){const $=Math.floor(H/60),Te=H%60;return`${$}:${Te.toString().padStart(2,"0")}`}function lt(){(e(_)==="SETUP"||e(_)==="FINISHED")&&Se(),l(!1),M()&&M()()}var St=Kt(),kt=Ft(St);{var Rt=H=>{var $=Br();$.__click=_e=>{_e.target===_e.currentTarget&&lt()},$.__keydown=_e=>{_e.key==="Escape"&&lt()};var Te=s($);let Ce;var Oe=s(Te),qe=s(Oe),We=s(qe);{var Pt=_e=>{var Ge=wt("Timer Setup");n(_e,Ge)},ot=_e=>{var Ge=Kt(),Ze=Ft(Ge);{var ut=pe=>{var ke=wt("Complete");n(pe,ke)},Ke=pe=>{var ke=wt();F(()=>j(ke,`Set ${e(q)??""} / ${e(v)??""}`)),n(pe,ke)};V(Ze,pe=>{e(_)==="FINISHED"?pe(ut):pe(Ke,!1)},!0)}n(_e,Ge)};V(We,_e=>{e(_)==="SETUP"?_e(Pt):_e(ot,!1)})}a(qe);var xt=r(qe,2);xt.__click=lt,a(Oe);var Xe=r(Oe,2),nt=s(Xe);{var ct=_e=>{var Ge=Or(),Ze=s(Ge),ut=r(s(Ze),2),Ke=s(ut);Ke.__click=()=>t(x,Math.max(5,e(x)-5),!0);var pe=r(Ke,2),ke=s(pe,!0);a(pe);var Ie=r(pe,2);Ie.__click=()=>t(x,e(x)+5),a(ut),a(Ze);var ze=r(Ze,2),P=r(s(ze),2),E=s(P);E.__click=()=>t(b,Math.max(5,e(b)-5),!0);var o=r(E,2),m=s(o,!0);a(o);var O=r(o,2);O.__click=()=>t(b,e(b)+5),a(P),a(ze);var U=r(ze,2),p=r(s(U),2),f=s(p);f.__click=()=>t(v,Math.max(1,e(v)-1),!0);var J=r(f,2),Ee=s(J,!0);a(J);var je=r(J,2);je.__click=()=>t(v,e(v)+1),a(p),a(U);var he=r(U,2),Le=r(s(he),2),me=s(Le);oe(me),Na(2),a(Le),a(he);var de=r(he,2);de.__click=z,a(Ge),F((ae,ye)=>{j(ke,ae),j(m,ye),j(Ee,e(v))},[()=>at(e(x)),()=>at(e(b))]),Wa(me,()=>e(L),ae=>t(L,ae)),n(_e,Ge)},Tt=_e=>{var Ge=Kt(),Ze=Ft(Ge);{var ut=pe=>{var ke=Gr(),Ie=r(s(ke),4);Ie.__click=()=>t(_,"SETUP"),a(ke),n(pe,ke)},Ke=pe=>{var ke=Fr(),Ie=Ft(ke),ze=s(Ie),P=r(s(ze));a(ze);var E=r(ze,2),o=s(E),m=s(o,!0);a(o);var O=r(o,2);let U;var p=s(O,!0);a(O),a(E),a(Ie);var f=r(Ie,2),J=s(f);{var Ee=de=>{var ae=Ar();ae.__click=te,n(de,ae)},je=de=>{var ae=Er();ae.__click=ge,n(de,ae)};V(J,de=>{e(R)==="RUNNING"?de(Ee):de(je,!1)})}var he=r(J,2);he.__click=Ue;var Le=s(he,!0);a(he);var me=r(he,2);me.__click=Se,a(f),F(de=>{rt(P,"stroke-dashoffset",283*(1-e(w)/(e(_)==="WORK"?e(x):e(b)))),j(m,e(w)<0?"OVERTIME":e(_)),U=Oa(O,"",U,{color:e(w)<0?"#ef4444":"inherit"}),j(p,de),j(Le,e(w)<0?"Next":"⏭")},[()=>at(Math.abs(e(w)))]),n(pe,ke)};V(Ze,pe=>{e(_)==="FINISHED"?pe(ut):pe(Ke,!1)},!0)}n(_e,Ge)};V(nt,_e=>{e(_)==="SETUP"?_e(ct):_e(Tt,!1)})}a(Xe),a(Te),a($),F(()=>Ce=Lt(Te,1,"timer-card svelte-18i4gcv",null,Ce,{work:e(_)==="WORK",rest:e(_)==="REST"})),na(3,Te,()=>$a,()=>({start:.96,duration:300,easing:Mr})),na(3,$,()=>Ha,()=>({duration:250})),n(H,$)};V(kt,H=>{l()&&H(Rt)})}n(N,St),Wt()}Zt(["click","keydown"]);var Wr=k("<img/>"),Ir=k('<div class="animation-frame svelte-zbmy0k"></div>'),zr=k('<div class="visual-placeholder svelte-zbmy0k"><span>No animation available</span></div>'),jr=k("<li> </li>"),Hr=k('<div class="modal-overlay svelte-zbmy0k" role="button" tabindex="0" aria-label="Close modal"><div class="modal-content svelte-zbmy0k" role="dialog" aria-modal="true" tabindex="-1"><div class="header svelte-zbmy0k"><h3 class="svelte-zbmy0k"> </h3> <span class="category svelte-zbmy0k"> </span> <button class="close-btn svelte-zbmy0k" aria-label="Close">×</button></div> <div class="visual-container svelte-zbmy0k"><!> <div class="muscles svelte-zbmy0k"> </div></div> <div class="instructions svelte-zbmy0k"><h4>Instructions</h4> <ol class="svelte-zbmy0k"></ol></div></div></div>');function Vr(N,i){Bt(i,!1);let l=be(i,"exercise",8),h=be(i,"visible",8,!1);const D=fa();let G=fs(0),M;function _(){l().images&&l().images.length>0&&(t(G,0),M=setInterval(()=>{t(G,(e(G)+1)%l().images.length)},800))}function R(){M&&clearInterval(M)}gs(()=>{R()});function x(){D("close")}ps(()=>(bt(h()),bt(l())),()=>{h()&&l().images?.length?_():R()}),ms(),Ia();var b=Kt(),v=Ft(b);{var L=q=>{var w=Hr(),T=s(w),y=s(T),S=s(y),I=s(S,!0);a(S);var A=r(S,2),Y=s(A,!0);a(A);var X=r(A,2);a(y);var B=r(y,2),W=s(B);{var Z=z=>{var K=Ir();ne(K,5,()=>(bt(l()),_t(()=>l().images)),ce,(te,ge,Ue)=>{var Se=Wr();let tt;F(()=>{rt(Se,"src",`${Ds??""}${e(ge)??""}`),rt(Se,"alt",`${bt(l()),_t(()=>l().name)??""} frame ${Ue+1}`),tt=Lt(Se,1,"svelte-zbmy0k",null,tt,{active:Ue===e(G)})}),n(te,Se)}),a(K),n(z,K)},ie=z=>{var K=zr();n(z,K)};V(W,z=>{bt(l()),_t(()=>l().images&&l().images.length>0)?z(Z):z(ie,!1)})}var ve=r(W,2),re=s(ve);a(ve),a(B);var ee=r(B,2),le=r(s(ee),2);ne(le,5,()=>(bt(l()),_t(()=>l().instructions)),ce,(z,K)=>{var te=jr(),ge=s(te,!0);a(te),F(()=>j(ge,e(K))),n(z,te)}),a(le),a(ee),a(T),a(w),F(z=>{j(I,(bt(l()),_t(()=>l().name))),j(Y,(bt(l()),_t(()=>l().category))),j(re,`Targets: ${z??""}`)},[()=>(bt(l()),_t(()=>l().targetMuscles.join(", ")))]),Dt("click",X,x),na(3,T,()=>Za,()=>({y:50,duration:300})),Dt("click",T,Ua(function(z){Pa.call(this,i,z)})),Dt("keydown",T,Ua(function(z){Pa.call(this,i,z)})),Dt("click",w,x),Dt("keydown",w,z=>z.key==="Escape"&&x()),n(q,w)};V(v,q=>{h()&&q(L)})}n(N,b),Wt()}var Ur=k('<div class="input-group svelte-12q9g58"><label for="delete-confirm" class="svelte-12q9g58">Type <strong> </strong> to confirm:</label> <input type="text" id="delete-confirm" autocomplete="off" class="svelte-12q9g58"/></div>'),Kr=k('<button class="backdrop svelte-12q9g58" aria-label="Close modal"></button> <div class="modal svelte-12q9g58" role="dialog" aria-modal="true"><h3 class="svelte-12q9g58"> </h3> <p class="svelte-12q9g58"> </p> <!> <div class="actions svelte-12q9g58"><button class="btn-cancel svelte-12q9g58">Cancel</button> <button class="btn-delete svelte-12q9g58">Delete</button></div></div>',1);function Qr(N,i){Bt(i,!0);let l=be(i,"isOpen",3,!1),h=be(i,"title",3,"Confirm Delete"),D=be(i,"message",3,"Are you sure you want to delete this item? This action cannot be undone."),G=be(i,"confirmKeyword",3,"delete"),M=be(i,"requireInput",3,!0),_=u(""),R=yt(()=>!M()||e(_).toLowerCase()===G().toLowerCase());function x(){e(R)&&(i.onConfirm(),t(_,""))}function b(){i.onCancel(),t(_,"")}var v=Kt(),L=Ft(v);{var q=w=>{var T=Kr(),y=Ft(T);y.__click=b;var S=r(y,2),I=s(S),A=s(I,!0);a(I);var Y=r(I,2),X=s(Y,!0);a(Y);var B=r(Y,2);{var W=re=>{var ee=Ur(),le=s(ee),z=r(s(le)),K=s(z,!0);a(z),Na(),a(le);var te=r(le,2);oe(te),a(ee),F(()=>{j(K,G()),rt(te,"placeholder",G())}),ue(te,()=>e(_),ge=>t(_,ge)),n(re,ee)};V(B,re=>{M()&&re(W)})}var Z=r(B,2),ie=s(Z);ie.__click=b;var ve=r(ie,2);ve.__click=x,a(Z),a(S),F(()=>{j(A,h()),j(X,D()),ve.disabled=!e(R)}),na(3,y,()=>Ha,()=>({duration:200})),na(3,S,()=>$a,()=>({duration:200,start:.9})),n(w,T)};V(L,w=>{l()&&w(q)})}n(N,v),Wt()}Zt(["click"]);var Jr=k('<div class="form-header-row" style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;"><h2 style="margin: 0; font-size: 1.25rem; color: var(--teal-primary);">New Gym Session</h2></div>'),Yr=k("<span>Saved! ✓</span>"),Xr=k("<button><!></button>"),Zr=k("<option> </option>"),$r=k("<option> </option>"),ei=k('<div class="filter-row svelte-1w0zsmt"><select class="category-select svelte-1w0zsmt"><option>Select Category...</option><!></select> <select class="subcategory-select svelte-1w0zsmt"><option>Select Subcategory...</option><!></select></div>'),ti=k('<span class="details svelte-1w0zsmt"> </span>'),ai=k('<button class="exercise-item-simple svelte-1w0zsmt"><span class="name svelte-1w0zsmt"> </span> <!></button>'),si=k('<div class="no-results svelte-1w0zsmt"> </div>'),ri=k('<div class="modal-overlay svelte-1w0zsmt" role="button" tabindex="0" aria-label="Close modal"><div class="picker-modal svelte-1w0zsmt" role="dialog" aria-modal="true" tabindex="-1"><div class="picker-header svelte-1w0zsmt"><h3>Add Exercise</h3> <div class="search-row svelte-1w0zsmt"><input type="text" placeholder="Search exercises..." class="svelte-1w0zsmt"/></div> <!></div> <div class="picker-content svelte-1w0zsmt"><div class="exercise-list-simple svelte-1w0zsmt"><!> <!></div></div></div></div>'),ii=k('<div class="gym-session-form svelte-1w0zsmt"><div class="session-meta svelte-1w0zsmt"><!> <input type="text" class="session-name svelte-1w0zsmt" placeholder="Workout Name (e.g. Pull Day)"/> <div class="meta-row svelte-1w0zsmt"><label class="svelte-1w0zsmt">Date <div class="date-time-row svelte-1w0zsmt"><input type="date" class="svelte-1w0zsmt"/> <input type="time" class="svelte-1w0zsmt"/></div></label> <label class="svelte-1w0zsmt">Bodyweight (kg) <input type="number" placeholder="Optional" class="svelte-1w0zsmt"/></label> <label class="svelte-1w0zsmt">Block <select class="svelte-1w0zsmt"><option>Strength</option><option>Power</option><option>Power Endurance</option><option>Muscular Endurance</option></select></label></div></div> <div class="exercises-list"></div> <button class="add-exercise-btn svelte-1w0zsmt">+ Add Exercise</button> <div class="session-notes-container svelte-1w0zsmt"><!></div> <!> <!> <!> <!> <!></div>');function Ii(N,i){Bt(i,!0);const l=fa(),h="gym_session_draft";let D=be(i,"initialData",3,null),G=yt(()=>!!D()),M=u(""),_=u(void 0),R=u(Be([])),x=u(Be(new Date().toISOString().split("T")[0])),b=u(Be(new Date().toTimeString().split(" ")[0].slice(0,5))),v=u("Strength"),L=u(null),q=u(Be([])),w=u("");ma(async()=>{if(D())t(M,D().name,!0),t(_,D().bodyweight,!0),t(R,D().exercises,!0),t(x,D().date,!0),t(b,D().time||"12:00",!0),t(v,D().trainingBlock||"Strength",!0),t(w,D().notes||"",!0),t(ve,!0);else{const E=localStorage.getItem(h);if(E)try{const o=JSON.parse(E);o.sessionName&&t(M,o.sessionName,!0),o.bodyweight&&t(_,o.bodyweight,!0),o.startTime&&t(x,o.startTime,!0),o.time&&t(b,o.time,!0),o.trainingBlock&&t(v,o.trainingBlock,!0),o.exercises&&t(R,o.exercises,!0),o.notes&&t(w,o.notes,!0)}catch(o){console.error("Failed to restore draft",o)}t(ve,!0)}const P=await Ts();P.ok&&P.data&&t(q,P.data.map(E=>({...E,activityType:"gym_session",syncStatus:"synced"})),!0)}),ra(()=>{const P=e(q).filter(E=>(E.trainingBlock||"Strength")===e(v)&&E.date<e(x));P.sort((E,o)=>new Date(o.date).getTime()-new Date(E.date).getTime()),t(L,P.length>0?P[0]:null,!0)});function T(P){const E={Green:null,Yellow:null,Orange:null,Red:null},o=[...e(q)].sort((m,O)=>new Date(O.date).getTime()-new Date(m.date).getTime());for(const m of o){if(E.Green&&E.Yellow&&E.Orange&&E.Red)break;const O=m.exercises.find(U=>U.name===P);if(O&&O.difficulty&&!E[O.difficulty]){let U=null;for(const p of O.sets)(!U||p.weight>U.weight||p.weight===U.weight&&p.reps>U.reps)&&(U=p);U&&(E[O.difficulty]={weight:U.weight,reps:U.reps})}}return E}let y=u(!1),S=u(""),I=u(""),A=u(""),Y=u(!1),X=u(null),B=u(null),W=u(!1),Z=u(null),ie=u(3),ve=u(!1);ra(()=>{if(e(ve)&&!e(G)&&typeof localStorage<"u"){const P={sessionName:e(M),bodyweight:e(_),startTime:e(x),time:e(b),trainingBlock:e(v),exercises:e(R),notes:e(w)};localStorage.setItem(h,JSON.stringify(P))}});let re=yt(()=>Ra.filter(P=>{if(e(S))return P.name.toLowerCase().includes(e(S).toLowerCase())||P.targetMuscles.some(m=>m.toLowerCase().includes(e(S).toLowerCase()));const E=e(I)?P.category===e(I):!0,o=e(A)?P.subcategory===e(A):!0;return E&&o}));const ee=Array.from(new Set(Ra.map(P=>P.category))).sort();let le=yt(()=>e(I)?Array.from(new Set(Ra.filter(P=>P.category===e(I)).map(P=>P.subcategory))).sort():[]);function z(){t(A,"")}function K(P){const E={id:crypto.randomUUID(),name:P.name,sets:[{weight:0,reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1}]};t(R,[...e(R),E],!0),t(y,!1),t(S,""),t(I,""),t(A,"")}function te(P){const E=P.detail;t(Z,E.id,!0),t(ie,E.sets.length,!0),t(Y,!0)}function ge(){}async function Ue(){if(e(R).length===0)return;const P={date:e(x),time:e(b),name:e(M)||"Gym Workout",bodyweight:e(_),trainingBlock:e(v),exercises:e(R),notes:e(w)},E=e(G)&&D()?await Cs(D().id,P):await Ls(P);E.ok?(t(W,!0),e(G)||localStorage.removeItem(h),i.onSaved?i.onSaved():setTimeout(()=>{t(W,!1),l("save")},1500)):console.error("Failed to save gym session",E.error)}var Se=ii(),tt=s(Se),Mt=s(tt);{var at=P=>{var E=Jr();n(P,E)};V(Mt,P=>{e(G)||P(at)})}var lt=r(Mt,2);oe(lt);var St=r(lt,2),kt=s(St),Rt=r(s(kt)),H=s(Rt);oe(H);var $=r(H,2);oe($),a(Rt),a(kt);var Te=r(kt,2),Ce=r(s(Te));oe(Ce),a(Te);var Oe=r(Te,2),qe=r(s(Oe)),We=s(qe);We.value=We.__value="Strength";var Pt=r(We);Pt.value=Pt.__value="Power";var ot=r(Pt);ot.value=ot.__value="Power Endurance";var xt=r(ot);xt.value=xt.__value="Muscular Endurance",a(qe),a(Oe),a(St),a(tt);var Xe=r(tt,2);ne(Xe,21,()=>e(R),ce,(P,E,o)=>{{let m=yt(()=>T(e(E).name));qr(P,{get exercise(){return e(E)},get benchmarks(){return e(m)},$$events:{complete:ge,timer:te,delete:()=>{t(B,o,!0)},info:()=>{const O=Ra.find(U=>U.name===e(E).name);O&&t(X,O,!0)}}})}}),a(Xe);var nt=r(Xe,2);nt.__click=()=>t(y,!0);var ct=r(nt,2),Tt=s(ct);Sa(Tt,{placeholder:"How did the workout feel? Energy, sleep, stress...",get value(){return e(w)},set value(P){t(w,P,!0)}}),a(ct);var _e=r(ct,2);{var Ge=P=>{var E=Xr();let o;E.__click=Ue;var m=s(E);{var O=p=>{var f=Yr();n(p,f)},U=p=>{var f=wt("Finish Workout");n(p,f)};V(m,p=>{e(W)?p(O):p(U,!1)})}a(E),F(()=>{o=Lt(E,1,"save-btn svelte-1w0zsmt",null,o,{success:e(W)}),E.disabled=e(W)}),n(P,E)};V(_e,P=>{e(R).length>0&&P(Ge)})}var Ze=r(_e,2);{var ut=P=>{var E=ri();E.__click=()=>t(y,!1),E.__keydown=me=>me.key==="Escape"&&t(y,!1);var o=s(E);o.__click=me=>me.stopPropagation(),o.__keydown=me=>me.stopPropagation();var m=s(o),O=r(s(m),2),U=s(O);oe(U),a(O);var p=r(O,2);{var f=me=>{var de=ei(),ae=s(de);ae.__change=z;var ye=s(ae);ye.value=ye.__value="";var It=r(ye);ne(It,17,()=>ee,ce,(Pe,xe)=>{var Fe=Zr(),ht=s(Fe,!0);a(Fe);var Nt={};F(()=>{j(ht,e(xe)),Nt!==(Nt=e(xe))&&(Fe.value=(Fe.__value=e(xe))??"")}),n(Pe,Fe)}),a(ae);var vt=r(ae,2),Ct=s(vt);Ct.value=Ct.__value="";var $e=r(Ct);ne($e,17,()=>e(le),ce,(Pe,xe)=>{var Fe=$r(),ht=s(Fe,!0);a(Fe);var Nt={};F(()=>{j(ht,e(xe)),Nt!==(Nt=e(xe))&&(Fe.value=(Fe.__value=e(xe))??"")}),n(Pe,Fe)}),a(vt),a(de),F(()=>vt.disabled=!e(I)),it(ae,()=>e(I),Pe=>t(I,Pe)),it(vt,()=>e(A),Pe=>t(A,Pe)),n(me,de)};V(p,me=>{e(S)||me(f)})}a(m);var J=r(m,2),Ee=s(J),je=s(Ee);ne(je,17,()=>e(re),ce,(me,de)=>{var ae=ai();ae.__click=()=>K(e(de));var ye=s(ae),It=s(ye,!0);a(ye);var vt=r(ye,2);{var Ct=$e=>{var Pe=ti(),xe=s(Pe);a(Pe),F(()=>j(xe,`${e(de).category??""} - ${e(de).subcategory??""}`)),n($e,Pe)};V(vt,$e=>{e(S)&&$e(Ct)})}a(ae),F(()=>j(It,e(de).name)),n(me,ae)});var he=r(je,2);{var Le=me=>{var de=si(),ae=s(de,!0);a(de),F(()=>j(ae,e(S)?"No exercises found":"Select a category and subcategory to view exercises.")),n(me,de)};V(he,me=>{e(re).length===0&&me(Le)})}a(Ee),a(J),a(o),a(E),ue(U,()=>e(S),me=>t(S,me)),na(3,o,()=>Za,()=>({y:100,duration:300})),na(3,E,()=>Ha),n(P,E)};V(Ze,P=>{e(y)&&P(ut)})}var Ke=r(Ze,2);{var pe=P=>{Vr(P,{get exercise(){return e(X)},visible:!0,$$events:{close:()=>t(X,null)}})};V(Ke,P=>{e(X)&&P(pe)})}var ke=r(Ke,2);es(ke,{get defaultSets(){return e(ie)},get associatedExerciseId(){return e(Z)},get visible(){return e(Y)},set visible(P){t(Y,P,!0)}});var Ie=r(ke,2);{var ze=P=>{Qr(P,{isOpen:!0,title:"Delete Exercise",get message(){return`Are you sure you want to delete ${e(R)[e(B)].name??""}?`},requireInput:!1,onConfirm:()=>{e(B)!==null&&(t(R,e(R).filter((E,o)=>o!==e(B)),!0),t(B,null))},onCancel:()=>t(B,null)})};V(Ie,P=>{e(B)!==null&&P(ze)})}a(Se),ue(lt,()=>e(M),P=>t(M,P)),ue(H,()=>e(x),P=>t(x,P)),ue($,()=>e(b),P=>t(b,P)),ue(Ce,()=>e(_),P=>t(_,P)),it(qe,()=>e(v),P=>t(v,P)),n(N,Se),Wt()}Zt(["click","keydown","change"]);var li=k('<h3 class="svelte-1m63nqt">🤏 Fingerboarding</h3>'),oi=k("<option> </option>"),ni=k("<option> </option>"),ci=k('<button class="remove-set-btn svelte-1m63nqt">✕</button>'),ui=k('<div class="set-row svelte-1m63nqt"><div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Weight</label> <input type="number" placeholder="0" class="svelte-1m63nqt"/></div> <div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Reps/Secs</label> <input type="number" placeholder="1" class="svelte-1m63nqt"/></div> <!></div>'),vi=k('<div class="exercise-card svelte-1m63nqt"><div class="card-header svelte-1m63nqt"><div class="header-inputs svelte-1m63nqt"><select class="svelte-1m63nqt"></select> <select class="svelte-1m63nqt"></select></div> <button class="remove-card-btn svelte-1m63nqt" title="Remove Exercise">✕</button></div> <div class="sets-list svelte-1m63nqt"><!> <button class="add-set-btn svelte-1m63nqt">+ Add Set</button> <button class="rest-btn svelte-1m63nqt" title="Interval Timer">⏱ Timer</button></div> <div class="card-footer svelte-1m63nqt"><div class="meta-input svelte-1m63nqt"><label class="svelte-1m63nqt">Total Sets</label> <input type="number" readonly="" disabled class="svelte-1m63nqt"/></div> <div class="notes-input svelte-1m63nqt"><label class="svelte-1m63nqt">Notes</label> <input type="text" placeholder="Notes..." class="svelte-1m63nqt"/></div></div></div>'),di=k("<div> </div>"),gi=k('<div class="form-content svelte-1m63nqt"><div class="header-row svelte-1m63nqt"><div style="flex: 1; display: flex; justify-content: space-between; align-items: center;"><!></div> <button class="add-row-btn svelte-1m63nqt">+ Add Exercise</button></div> <div class="form-group date-group svelte-1m63nqt"><label for="date">Date</label> <div class="date-time-row svelte-1m63nqt"><input type="date" id="date" class="svelte-1m63nqt"/> <input type="time" id="time" class="svelte-1m63nqt"/></div></div> <div class="cards-container svelte-1m63nqt"></div> <div class="load-section svelte-1m63nqt"><h4 class="svelte-1m63nqt">Load Metrics</h4> <div class="load-metrics svelte-1m63nqt"><div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div></div> <h4 class="mt-4 svelte-1m63nqt">Grip Metrics</h4> <div class="load-metrics svelte-1m63nqt"><div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div> <div class="metric-row svelte-1m63nqt"><!></div></div></div> <div class="notes-section"><!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1m63nqt"><!></button></div> <!></div>');function zi(N,i){Bt(i,!0),fa();let l=be(i,"initialData",3,null),h=yt(()=>!!l());const D=["Max hangs","Recruitment pulls","Max pick-ups"],G=["Full-crimp","Half-crimp","Three finger drag","Pinch","Open hand","Sloper"];let M=u(Be(new Date().toISOString().split("T")[0])),_=u(Be(new Date().toTimeString().split(" ")[0].slice(0,5))),R=u(Be([])),x=u(3),b=u(3),v=u(3),L=u(3),q=u(3),w=u(3),T=u(3),y=u(3),S=u(""),I=u(!1),A=u(null),Y=u(3);function X(p){t(A,p.id,!0),t(Y,p.sets,!0),t(I,!0)}function B(){t(R,[...e(R),{id:crypto.randomUUID(),name:D[0],gripType:G[1],sets:1,details:[{weight:0,reps:5}],notes:""}],!0)}const W="fingerboard_session_draft";let Z=u(!1);ma(()=>{if(l())t(M,l().date,!0),t(_,l().time||"12:00",!0),t(R,l().exercises,!0),t(x,l().fingerLoad||3,!0),t(b,l().shoulderLoad||3,!0),t(v,l().forearmLoad||3,!0),t(L,l().openGrip||3,!0),t(q,l().crimpGrip||3,!0),t(w,l().pinchGrip||3,!0),t(T,l().sloperGrip||3,!0),t(y,l().jugGrip||3,!0),t(S,l().notes||"",!0),t(Z,!0);else{const p=localStorage.getItem(W);if(p)try{const f=JSON.parse(p);f.time&&t(_,f.time,!0),f.exercises&&Array.isArray(f.exercises)&&t(R,f.exercises,!0),f.fingerLoad&&t(x,f.fingerLoad,!0),f.shoulderLoad&&t(b,f.shoulderLoad,!0),f.forearmLoad&&t(v,f.forearmLoad,!0),f.openGrip&&t(L,f.openGrip,!0),f.crimpGrip&&t(q,f.crimpGrip,!0),f.pinchGrip&&t(w,f.pinchGrip,!0),f.sloperGrip&&t(T,f.sloperGrip,!0),f.jugGrip&&t(y,f.jugGrip,!0),f.notes&&t(S,f.notes,!0)}catch(f){console.error("Failed to restore draft",f)}e(R).length===0&&B(),t(Z,!0)}}),ra(()=>{if(!e(Z)||e(h))return;const p={date:e(M),time:e(_),exercises:e(R),fingerLoad:e(x),shoulderLoad:e(b),forearmLoad:e(v),openGrip:e(L),crimpGrip:e(q),pinchGrip:e(w),sloperGrip:e(T),jugGrip:e(y),notes:e(S)};localStorage.setItem(W,JSON.stringify(p))});function ie(p){t(R,e(R).filter((f,J)=>J!==p),!0)}function ve(p){const f=e(R)[p],J=f.details[f.details.length-1];f.details=[...f.details,{...J}],f.sets=f.details.length}function re(p,f){const J=e(R)[p];J.details.length>1&&(J.details=J.details.filter((Ee,je)=>je!==f),J.sets=J.details.length)}let ee=u("idle"),le=u("");async function z(){t(ee,"saving");try{const p={date:e(M),time:e(_),location:"N/A",exercises:JSON.parse(JSON.stringify(e(R))),fingerLoad:e(x),shoulderLoad:e(b),forearmLoad:e(v),openGrip:e(L),crimpGrip:e(q),pinchGrip:e(w),sloperGrip:e(T),jugGrip:e(y),notes:e(S)};let f;e(h)&&l()?f=await Rs(l().id,p):f=await Ps(p),f.ok?(t(ee,"success"),t(le,"Session saved!"),e(h)||localStorage.removeItem(W),i.onSaved?i.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{K()},2e3))):(t(ee,"error"),t(le,"Failed to save: "+(f.error||"Unknown error")))}catch(p){t(ee,"error"),t(le,"Failed to save session"),console.error("Save error:",p)}}function K(){t(M,new Date().toISOString().split("T")[0],!0),t(_,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(R,[],!0),B(),t(x,3),t(b,3),t(v,3),t(L,3),t(q,3),t(w,3),t(T,3),t(y,3),t(S,""),t(ee,"idle"),t(le,"")}var te=gi(),ge=s(te),Ue=s(ge),Se=s(Ue);{var tt=p=>{var f=li();n(p,f)};V(Se,p=>{e(h)||p(tt)})}a(Ue);var Mt=r(Ue,2);Mt.__click=B,a(ge);var at=r(ge,2),lt=r(s(at),2),St=s(lt);oe(St);var kt=r(St,2);oe(kt),a(lt),a(at);var Rt=r(at,2);ne(Rt,21,()=>e(R),ce,(p,f,J)=>{var Ee=vi(),je=s(Ee),he=s(je),Le=s(he);ne(Le,21,()=>D,ce,(dt,st)=>{var Ne=oi(),gt=s(Ne,!0);a(Ne);var pt={};F(()=>{j(gt,e(st)),pt!==(pt=e(st))&&(Ne.value=(Ne.__value=e(st))??"")}),n(dt,Ne)}),a(Le);var me=r(Le,2);ne(me,21,()=>G,ce,(dt,st)=>{var Ne=ni(),gt=s(Ne,!0);a(Ne);var pt={};F(()=>{j(gt,e(st)),pt!==(pt=e(st))&&(Ne.value=(Ne.__value=e(st))??"")}),n(dt,Ne)}),a(me),a(he);var de=r(he,2);de.__click=()=>ie(J),a(je);var ae=r(je,2),ye=s(ae);ne(ye,17,()=>e(f).details,ce,(dt,st,Ne)=>{var gt=ui(),pt=s(gt),jt=s(pt);rt(jt,"for",`weight-${J}-${Ne}`);var He=r(jt,2);oe(He),rt(He,"id",`weight-${J}-${Ne}`),a(pt);var Qe=r(pt,2),Ot=s(Qe);rt(Ot,"for",`reps-${J}-${Ne}`);var Ht=r(Ot,2);oe(Ht),rt(Ht,"id",`reps-${J}-${Ne}`),a(Qe);var $t=r(Qe,2);{var ia=zt=>{var ea=ci();ea.__click=()=>re(J,Ne),n(zt,ea)};V($t,zt=>{e(f).details.length>1&&zt(ia)})}a(gt),ue(He,()=>e(st).weight,zt=>e(st).weight=zt),ue(Ht,()=>e(st).reps,zt=>e(st).reps=zt),n(dt,gt)});var It=r(ye,2);It.__click=()=>ve(J);var vt=r(It,2);vt.__click=()=>X(e(f)),a(ae);var Ct=r(ae,2),$e=s(Ct),Pe=s($e);rt(Pe,"for",`total-sets-${J}`);var xe=r(Pe,2);oe(xe),rt(xe,"id",`total-sets-${J}`),a($e);var Fe=r($e,2),ht=s(Fe);rt(ht,"for",`notes-${J}`);var Nt=r(ht,2);oe(Nt),rt(Nt,"id",`notes-${J}`),a(Fe),a(Ct),a(Ee),F(()=>hs(xe,e(f).sets)),it(Le,()=>e(f).name,dt=>e(f).name=dt),it(me,()=>e(f).gripType,dt=>e(f).gripType=dt),ue(Nt,()=>e(f).notes,dt=>e(f).notes=dt),n(p,Ee)}),a(Rt);var H=r(Rt,2),$=r(s(H),2),Te=s($),Ce=s(Te);Re(Ce,{id:"finger-load",label:"Finger",get value(){return e(x)},set value(p){t(x,p,!0)}}),a(Te);var Oe=r(Te,2),qe=s(Oe);Re(qe,{id:"shoulder-load",label:"Shoulder",get value(){return e(b)},set value(p){t(b,p,!0)}}),a(Oe);var We=r(Oe,2),Pt=s(We);Re(Pt,{id:"forearm-load",label:"Forearm",get value(){return e(v)},set value(p){t(v,p,!0)}}),a(We),a($);var ot=r($,4),xt=s(ot),Xe=s(xt);Re(Xe,{id:"open-grip",label:"Open",get value(){return e(L)},set value(p){t(L,p,!0)}}),a(xt);var nt=r(xt,2),ct=s(nt);Re(ct,{id:"crimp-grip",label:"Crimp",get value(){return e(q)},set value(p){t(q,p,!0)}}),a(nt);var Tt=r(nt,2),_e=s(Tt);Re(_e,{id:"pinch-grip",label:"Pinch",get value(){return e(w)},set value(p){t(w,p,!0)}}),a(Tt);var Ge=r(Tt,2),Ze=s(Ge);Re(Ze,{id:"sloper-grip",label:"Sloper",get value(){return e(T)},set value(p){t(T,p,!0)}}),a(Ge);var ut=r(Ge,2),Ke=s(ut);Re(Ke,{id:"jug-grip",label:"Jug",get value(){return e(y)},set value(p){t(y,p,!0)}}),a(ut),a(ot),a(H);var pe=r(H,2),ke=s(pe);Sa(ke,{placeholder:"How did the session feel? Energy levels, mood, etc.",get value(){return e(S)},set value(p){t(S,p,!0)}}),a(pe);var Ie=r(pe,2),ze=s(Ie);{var P=p=>{var f=di();let J;var Ee=s(f,!0);a(f),F(()=>{J=Lt(f,1,"save-message svelte-1m63nqt",null,J,{success:e(ee)==="success",error:e(ee)==="error"}),j(Ee,e(le))}),n(p,f)};V(ze,p=>{e(le)&&p(P)})}var E=r(ze,2);E.__click=z;var o=s(E);{var m=p=>{var f=wt("Saving...");n(p,f)},O=p=>{var f=Kt(),J=Ft(f);{var Ee=he=>{var Le=wt("✓ Saved!");n(he,Le)},je=he=>{var Le=wt("Save Session");n(he,Le)};V(J,he=>{e(ee)==="success"?he(Ee):he(je,!1)},!0)}n(p,f)};V(o,p=>{e(ee)==="saving"?p(m):p(O,!1)})}a(E),a(Ie);var U=r(Ie,2);es(U,{get defaultSets(){return e(Y)},get associatedExerciseId(){return e(A)},get visible(){return e(I)},set visible(p){t(I,p,!0)}}),a(te),F(()=>E.disabled=e(ee)==="saving"),ue(St,()=>e(M),p=>t(M,p)),ue(kt,()=>e(_),p=>t(_,p)),n(N,te),Wt()}Zt(["click"]);var pi=k('<h3 style="margin: 0; color: var(--teal-secondary);" class="svelte-1fje4dh">🏆 Competition</h3>'),mi=k("<option> </option>"),fi=k('<input type="text" placeholder="Enter venue name" class="mt-2 svelte-1fje4dh"/>'),_i=k("<option> </option>"),hi=k("<option> </option>"),bi=k('<input type="text" placeholder="Round name" class="mt-2 svelte-1fje4dh"/>'),yi=k('<div class="result-mode-content svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="position" class="svelte-1fje4dh">Final Position</label> <input type="number" id="position" placeholder="#" class="large-input svelte-1fje4dh"/></div></div>'),wi=k("<option> </option>"),Si=k('<input type="number" min="1" class="svelte-1fje4dh"/>'),ki=k('<span class="flash-dash">-</span>'),xi=k('<tr><td class="col-name svelte-1fje4dh"><input type="text" class="svelte-1fje4dh"/></td><td class="col-status svelte-1fje4dh"><select class="svelte-1fje4dh"></select></td><td class="col-attempt svelte-1fje4dh"><!></td><td class="col-notes svelte-1fje4dh"><input type="text" placeholder="..." class="svelte-1fje4dh"/></td><td class="col-action svelte-1fje4dh"><button class="svelte-1fje4dh">✕</button></td></tr>'),Ti=k('<div class="section-header centered svelte-1fje4dh"><h4 class="svelte-1fje4dh">Load Metrics</h4></div> <div class="load-metrics-column svelte-1fje4dh"><div class="metric-row svelte-1fje4dh"><!></div> <div class="metric-row svelte-1fje4dh"><!></div> <div class="metric-row svelte-1fje4dh"><!></div></div> <div class="climbs-table-container svelte-1fje4dh"><div class="section-header svelte-1fje4dh"><h4 class="svelte-1fje4dh">Boulders / Routes</h4></div> <table class="climbs-table svelte-1fje4dh"><thead><tr><th class="svelte-1fje4dh">#</th><th class="svelte-1fje4dh">Result</th><th class="svelte-1fje4dh">Att.</th><th class="svelte-1fje4dh">Notes</th><th class="svelte-1fje4dh"></th></tr></thead><tbody></tbody></table> <button class="add-row-btn svelte-1fje4dh">+ Add Row</button></div>',1),Ci=k("<div> </div>"),Li=k('<div class="form-content svelte-1fje4dh"><div style="flex: 1; display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;"><!></div> <div class="form-grid svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="date" class="svelte-1fje4dh">Date</label> <div class="date-time-row svelte-1fje4dh"><input type="date" id="date" class="svelte-1fje4dh"/> <input type="time" id="time" class="svelte-1fje4dh"/></div></div> <div class="form-group svelte-1fje4dh"><label for="venue" class="svelte-1fje4dh">Venue</label> <select id="venue" class="svelte-1fje4dh"><option disabled>Select venue...</option><!></select> <!></div></div> <div class="form-group mb-4 svelte-1fje4dh"><label for="type" class="svelte-1fje4dh">Type</label> <select id="type" class="svelte-1fje4dh"></select></div> <div class="form-group mb-4 svelte-1fje4dh"><!></div> <div class="round-section svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="round" class="svelte-1fje4dh">Round</label> <select id="round" class="svelte-1fje4dh"></select> <!></div> <!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1fje4dh"><!></button></div></div>');function ji(N,i){Bt(i,!0),fa();let l=be(i,"initialData",3,null),h=yt(()=>!!l());const D=["Flashpoint Bristol","Rockstar Techno","Rockstar Unit 3","Rockstar Unit 5","Bloc","TCA","Other"],G=["Bouldering","Lead","Speed"],M=["Qualifiers","Semi-Finals","Finals","Result","Other"],_=["Flash","Top","Zone","Attempt"];let R=u(Be(new Date().toISOString().split("T")[0])),x=u(Be(new Date().toTimeString().split(" ")[0].slice(0,5))),b=u(""),v=u(""),L=u("Bouldering"),q=u(4),w=u(4),T=u(4),y=u("Qualifiers"),S=u(""),I=u(null),A=u(Be([{name:"#1",status:"Flash",attemptCount:1,notes:""}])),Y=u("");const X="competition_session_draft";let B=u(!1);ma(()=>{if(l()){if(t(R,l().date,!0),t(x,l().time||"12:00",!0),t(L,l().type||"Bouldering",!0),t(Y,l().notes||"",!0),D.includes(l().venue)?t(b,l().venue,!0):(t(b,"Other"),t(v,l().venue,!0)),t(q,l().fingerLoad??4,!0),t(w,l().shoulderLoad??4,!0),t(T,l().forearmLoad??4,!0),l().rounds&&l().rounds.length>0){const o=l().rounds[0];M.includes(o.name)?t(y,o.name,!0):(t(y,"Other"),t(S,o.name,!0)),t(I,o.position??null,!0),o.climbs&&o.climbs.length>0&&t(A,o.climbs,!0)}t(B,!0)}else{const o=localStorage.getItem(X);if(o)try{const m=JSON.parse(o);m.venue&&t(b,m.venue,!0),m.time&&t(x,m.time,!0),m.customVenue&&t(v,m.customVenue,!0),m.type&&t(L,m.type,!0),m.fingerLoad&&t(q,m.fingerLoad,!0),m.shoulderLoad&&t(w,m.shoulderLoad,!0),m.forearmLoad&&t(T,m.forearmLoad,!0),m.roundName&&t(y,m.roundName,!0),m.customRoundName&&t(S,m.customRoundName,!0),m.finalPosition&&t(I,m.finalPosition,!0),m.climbs&&t(A,m.climbs,!0),m.notes&&t(Y,m.notes,!0)}catch(m){console.error("Failed to restore draft",m)}t(B,!0)}}),ra(()=>{if(!e(B)||e(h))return;const o={date:e(R),time:e(x),venue:e(b),customVenue:e(v),type:e(L),fingerLoad:e(q),shoulderLoad:e(w),forearmLoad:e(T),roundName:e(y),customRoundName:e(S),finalPosition:e(I),climbs:e(A),notes:e(Y)};localStorage.setItem(X,JSON.stringify(o))});let W=yt(()=>e(y)==="Result"),Z=yt(()=>e(b)==="Other"),ie=yt(()=>e(y)==="Other"),ve=yt(()=>e(y)==="Other"?e(S):e(y));function re(){const o=e(A).length+1;t(A,[...e(A),{name:`#${o}`,status:"Flash",attemptCount:1,notes:""}],!0)}function ee(o){e(A).length>1?t(A,e(A).filter((m,O)=>O!==o),!0):e(A)[0]={name:"#1",status:"Flash",attemptCount:1,notes:""}}function le(o,m){e(A)[o].status=m,m==="Flash"&&(e(A)[o].attemptCount=1)}let z=u("idle"),K=u("");async function te(){if(!e(b)||e(b)==="Other"&&!e(v)){t(z,"error"),t(K,"Please specify a venue");return}t(z,"saving");try{const o={name:e(ve),position:e(W)?e(I):void 0,climbs:e(W)?void 0:JSON.parse(JSON.stringify(e(A)))},m={date:e(R),time:e(x),venue:e(b)==="Other"?e(v):e(b),customVenue:e(b)==="Other"?e(v):void 0,type:e(L),fingerLoad:e(W)?void 0:e(q),shoulderLoad:e(W)?void 0:e(w),forearmLoad:e(W)?void 0:e(T),rounds:[o],notes:e(Y)};let O;e(h)&&l()?O=await Ns(l().id,m):O=await qs(m),O.ok?(t(z,"success"),t(K,"Competition saved!"),e(h)||localStorage.removeItem(X),i.onSaved?i.onSaved():(window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{ge()},2e3))):(t(z,"error"),t(K,"Failed to save: "+(O.error||"Unknown error")))}catch(o){t(z,"error"),t(K,"Failed to save session"),console.error("Save error:",o)}}function ge(){t(R,new Date().toISOString().split("T")[0],!0),t(x,new Date().toTimeString().split(" ")[0].slice(0,5),!0),t(b,""),t(v,""),t(I,null),t(A,[{name:"#1",status:"Flash",attemptCount:1,notes:""}],!0),t(Y,""),t(z,"idle"),t(K,"")}var Ue=Li(),Se=s(Ue),tt=s(Se);{var Mt=o=>{var m=pi();n(o,m)};V(tt,o=>{e(h)||o(Mt)})}a(Se);var at=r(Se,2),lt=s(at),St=r(s(lt),2),kt=s(St);oe(kt);var Rt=r(kt,2);oe(Rt),a(St),a(lt);var H=r(lt,2),$=r(s(H),2),Te=s($);Te.value=Te.__value="";var Ce=r(Te);ne(Ce,17,()=>D,ce,(o,m)=>{var O=mi(),U=s(O,!0);a(O);var p={};F(()=>{j(U,e(m)),p!==(p=e(m))&&(O.value=(O.__value=e(m))??"")}),n(o,O)}),a($);var Oe=r($,2);{var qe=o=>{var m=fi();oe(m),ue(m,()=>e(v),O=>t(v,O)),n(o,m)};V(Oe,o=>{e(Z)&&o(qe)})}a(H),a(at);var We=r(at,2),Pt=r(s(We),2);ne(Pt,21,()=>G,ce,(o,m)=>{var O=_i(),U=s(O,!0);a(O);var p={};F(()=>{j(U,e(m)),p!==(p=e(m))&&(O.value=(O.__value=e(m))??"")}),n(o,O)}),a(Pt),a(We);var ot=r(We,2),xt=s(ot);Sa(xt,{placeholder:"How did the comp go? Strategy, mindset, etc.",get value(){return e(Y)},set value(o){t(Y,o,!0)}}),a(ot);var Xe=r(ot,2),nt=s(Xe),ct=r(s(nt),2);ne(ct,21,()=>M,ce,(o,m)=>{var O=hi(),U=s(O,!0);a(O);var p={};F(()=>{j(U,e(m)),p!==(p=e(m))&&(O.value=(O.__value=e(m))??"")}),n(o,O)}),a(ct);var Tt=r(ct,2);{var _e=o=>{var m=bi();oe(m),ue(m,()=>e(S),O=>t(S,O)),n(o,m)};V(Tt,o=>{e(ie)&&o(_e)})}a(nt);var Ge=r(nt,2);{var Ze=o=>{var m=yi(),O=s(m),U=r(s(O),2);oe(U),a(O),a(m),ue(U,()=>e(I),p=>t(I,p)),n(o,m)},ut=o=>{var m=Ti(),O=r(Ft(m),2),U=s(O),p=s(U);Re(p,{id:"finger",label:"Finger Load",max:5,get value(){return e(q)},set value(ae){t(q,ae,!0)}}),a(U);var f=r(U,2),J=s(f);Re(J,{id:"shoulder",label:"Shoulder Load",max:5,get value(){return e(w)},set value(ae){t(w,ae,!0)}}),a(f);var Ee=r(f,2),je=s(Ee);Re(je,{id:"forearm",label:"Forearm Load",max:5,get value(){return e(T)},set value(ae){t(T,ae,!0)}}),a(Ee),a(O);var he=r(O,2),Le=r(s(he),2),me=r(s(Le));ne(me,21,()=>e(A),ce,(ae,ye,It)=>{var vt=xi(),Ct=s(vt),$e=s(Ct);oe($e),a(Ct);var Pe=r(Ct),xe=s(Pe);xe.__change=He=>le(It,He.target.value),ne(xe,21,()=>_,ce,(He,Qe)=>{var Ot=wi(),Ht=s(Ot,!0);a(Ot);var $t={};F(()=>{j(Ht,e(Qe)),$t!==($t=e(Qe))&&(Ot.value=(Ot.__value=e(Qe))??"")}),n(He,Ot)}),a(xe);var Fe;Fa(xe),a(Pe);var ht=r(Pe),Nt=s(ht);{var dt=He=>{var Qe=Si();oe(Qe),ue(Qe,()=>e(ye).attemptCount,Ot=>e(ye).attemptCount=Ot),n(He,Qe)},st=He=>{var Qe=ki();n(He,Qe)};V(Nt,He=>{e(ye).status!=="Flash"?He(dt):He(st,!1)})}a(ht);var Ne=r(ht),gt=s(Ne);oe(gt),a(Ne);var pt=r(Ne),jt=s(pt);jt.__click=()=>ee(It),a(pt),a(vt),F(()=>{Fe!==(Fe=e(ye).status)&&(xe.value=(xe.__value=e(ye).status)??"",Ba(xe,e(ye).status))}),ue($e,()=>e(ye).name,He=>e(ye).name=He),ue(gt,()=>e(ye).notes,He=>e(ye).notes=He),n(ae,vt)}),a(me),a(Le);var de=r(Le,2);de.__click=re,a(he),n(o,m)};V(Ge,o=>{e(W)?o(Ze):o(ut,!1)})}a(Xe);var Ke=r(Xe,2),pe=s(Ke);{var ke=o=>{var m=Ci();let O;var U=s(m,!0);a(m),F(()=>{O=Lt(m,1,"save-message svelte-1fje4dh",null,O,{success:e(z)==="success",error:e(z)==="error"}),j(U,e(K))}),n(o,m)};V(pe,o=>{e(K)&&o(ke)})}var Ie=r(pe,2);Ie.__click=te;var ze=s(Ie);{var P=o=>{var m=wt("Saving...");n(o,m)},E=o=>{var m=Kt(),O=Ft(m);{var U=f=>{var J=wt("✓ Saved!");n(f,J)},p=f=>{var J=wt("Save Session");n(f,J)};V(O,f=>{e(z)==="success"?f(U):f(p,!1)},!0)}n(o,m)};V(ze,o=>{e(z)==="saving"?o(P):o(E,!1)})}a(Ie),a(Ke),a(Ue),F(()=>Ie.disabled=e(z)==="saving"),ue(kt,()=>e(R),o=>t(R,o)),ue(Rt,()=>e(x),o=>t(x,o)),it($,()=>e(b),o=>t(b,o)),it(Pt,()=>e(L),o=>t(L,o)),it(ct,()=>e(y),o=>t(y,o)),n(N,Ue),Wt()}Zt(["change","click"]);export{ji as C,Qr as D,Ra as E,zi as F,Ii as G,Fi as I,Bi as O,Ka as a,Za as f,nr as g,Wi as s,na as t};
