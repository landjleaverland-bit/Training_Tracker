import{f as n,a as r,c as Me,t as wa}from"../chunks/hEwPTBaB.js";import{H as st,$ as it,aZ as rt,aw as lt,q as nt,e as vt,a_ as ot,aN as Za,a$ as dt,ai as ct,b0 as Na,p as va,c as t,s as i,i as a,aV as B,r as e,t as y,a as oa,F as v,f as ke,aG as Ca,aW as ba,E as pa,o as Ja,d as _t}from"../chunks/Tby4OOB_.js";import{a as ut,d as la,s as d}from"../chunks/D84B0qqg.js";import{i as c}from"../chunks/LqCk1W0q.js";import{s as Ve,r as ia,e as ye,i as Ce,b as ra}from"../chunks/6Wlf1kil.js";import{c as Sa,j as Pa,k as Ya,l as Ra,n as Ba,o as Wa,p as Ua,q as ft}from"../chunks/nlficZ7S.js";import{s as Qe}from"../chunks/CXtL9yLC.js";import{s as We}from"../chunks/uVXOVgOA.js";import{p as Ea}from"../chunks/B8Lev88E.js";import{s as Va,h as pt,g as gt,b as mt,j as ht,k as bt,l as yt}from"../chunks/D9pFQryq.js";import"../chunks/BqIY3V_s.js";const xt=()=>performance.now(),ha={tick:T=>requestAnimationFrame(T),now:()=>xt(),tasks:new Set};function Qa(){const T=ha.now();ha.tasks.forEach(s=>{s.c(T)||(ha.tasks.delete(s),s.f())}),ha.tasks.size!==0&&ha.tick(Qa)}function wt(T){let s;return ha.tasks.size===0&&ha.tick(Qa),{promise:new Promise(x=>{ha.tasks.add(s={c:T,f:x})}),abort(){ha.tasks.delete(s)}}}function Ma(T,s){Za(()=>{T.dispatchEvent(new CustomEvent(s))})}function St(T){if(T==="float")return"cssFloat";if(T==="offset")return"cssOffset";if(T.startsWith("--"))return T;const s=T.split("-");return s.length===1?s[0]:s[0]+s.slice(1).map(x=>x[0].toUpperCase()+x.slice(1)).join("")}function Ka(T){const s={},x=T.split(";");for(const f of x){const[w,p]=f.split(":");if(!w||p===void 0)break;const _=St(w.trim());s[_]=p.trim()}return s}const qt=T=>T;function Je(T,s,x,f){var w=(T&ot)!==0,p="both",_,q=s.inert,g=s.style.overflow,h,F;function j(){return Za(()=>_??=x()(s,f?.()??{},{direction:p}))}var Z={is_global:w,in(){s.inert=q,Ma(s,"introstart"),h=Ha(s,j(),F,1,()=>{Ma(s,"introend"),h?.abort(),h=_=void 0,s.style.overflow=g})},out(U){s.inert=!0,Ma(s,"outrostart"),F=Ha(s,j(),h,0,()=>{Ma(s,"outroend"),U?.()})},stop:()=>{h?.abort(),F?.abort()}},O=st;if((O.nodes.t??=[]).push(Z),ut){var P=w;if(!P){for(var D=O.parent;D&&(D.f&it)!==0;)for(;(D=D.parent)&&(D.f&rt)===0;);P=!D||(D.f&lt)!==0}P&&nt(()=>{vt(()=>Z.in())})}}function Ha(T,s,x,f,w){var p=f===1;if(dt(s)){var _,q=!1;return ct(()=>{if(!q){var U=s({direction:p?"in":"out"});_=Ha(T,U,x,f,w)}}),{abort:()=>{q=!0,_?.abort()},deactivate:()=>_.deactivate(),reset:()=>_.reset(),t:()=>_.t()}}if(x?.deactivate(),!s?.duration)return w(),{abort:Na,deactivate:Na,reset:Na,t:()=>f};const{delay:g=0,css:h,tick:F,easing:j=qt}=s;var Z=[];if(p&&x===void 0&&(F&&F(0,1),h)){var O=Ka(h(0,1));Z.push(O,O)}var P=()=>1-f,D=T.animate(Z,{duration:g,fill:"forwards"});return D.onfinish=()=>{D.cancel();var U=x?.t()??1-f;x?.abort();var H=f-U,ne=s.duration*Math.abs(H),re=[];if(ne>0){var Y=!1;if(h)for(var X=Math.ceil(ne/16.666666666666668),ve=0;ve<=X;ve+=1){var J=U+H*j(ve/X),_e=Ka(h(J,1-J));re.push(_e),Y||=_e.overflow==="hidden"}Y&&(T.style.overflow="hidden"),P=()=>{var m=D.currentTime;return U+H*j(m/ne)},F&&wt(()=>{if(D.playState!=="running")return!1;var m=P();return F(m,1-m),!0})}D=T.animate(re,{duration:ne,fill:"forwards"}),D.onfinish=()=>{P=()=>f,F?.(f,1-f),w()}},{abort:()=>{D&&(D.cancel(),D.effect=null,D.onfinish=Na)},deactivate:()=>{w=Na},reset:()=>{f===0&&F?.(1,0)},t:()=>P()}}const Dt=T=>T;function Xa(T){const s=T-1;return s*s*s+1}function $a(T,{delay:s=0,duration:x=400,easing:f=Dt}={}){const w=+getComputedStyle(T).opacity;return{delay:s,duration:x,easing:f,css:p=>`opacity: ${p*w}`}}function ua(T,{delay:s=0,duration:x=400,easing:f=Xa,axis:w="y"}={}){const p=getComputedStyle(T),_=+p.opacity,q=w==="y"?"height":"width",g=parseFloat(p[q]),h=w==="y"?["top","bottom"]:["left","right"],F=h.map(H=>`${H[0].toUpperCase()}${H.slice(1)}`),j=parseFloat(p[`padding${F[0]}`]),Z=parseFloat(p[`padding${F[1]}`]),O=parseFloat(p[`margin${F[0]}`]),P=parseFloat(p[`margin${F[1]}`]),D=parseFloat(p[`border${F[0]}Width`]),U=parseFloat(p[`border${F[1]}Width`]);return{delay:s,duration:x,easing:f,css:H=>`overflow: hidden;opacity: ${Math.min(H*20,1)*_};${q}: ${H*g}px;padding-${h[0]}: ${H*j}px;padding-${h[1]}: ${H*Z}px;margin-${h[0]}: ${H*O}px;margin-${h[1]}: ${H*P}px;border-${h[0]}-width: ${H*D}px;border-${h[1]}-width: ${H*U}px;min-${q}: 0`}}function et(T,{delay:s=0,duration:x=400,easing:f=Xa,start:w=0,opacity:p=0}={}){const _=getComputedStyle(T),q=+_.opacity,g=_.transform==="none"?"":_.transform,h=1-w,F=q*(1-p);return{delay:s,duration:x,easing:f,css:(j,Z)=>`
			transform: ${g} scale(${1-h*Z});
			opacity: ${q-F*Z}
		`}}var Tt=n('<span class="chevron svelte-12crvy">‚ñ≤</span>'),kt=n('<span class="chevron svelte-12crvy">‚ñº</span>'),Ct=n('<div class="input-with-action svelte-12crvy"><input type="text" id="location-manual" placeholder="Custom location..." class="flat-left svelte-12crvy"/> <button type="button" class="action-btn flat-right svelte-12crvy" title="Back to list">‚úï</button></div>'),Ft=n("<option> </option>"),Lt=n('<select id="location-filter" class="svelte-12crvy"><option>Any Location</option><!></select>'),zt=n("<option> </option>"),Gt=n("<option> </option>"),Et=n('<div class="filter-body svelte-12crvy"><div class="filter-grid svelte-12crvy"><div class="filter-item svelte-12crvy"><label for="start-date" class="svelte-12crvy">Start Date</label> <input type="date" id="start-date" class="svelte-12crvy"/></div> <div class="filter-item svelte-12crvy"><label for="end-date" class="svelte-12crvy">End Date</label> <input type="date" id="end-date" class="svelte-12crvy"/></div> <div class="filter-item svelte-12crvy"><label for="location-filter" class="svelte-12crvy">Location</label> <!></div> <div class="filter-item svelte-12crvy"><label for="climbing-type-filter" class="svelte-12crvy">Climb Type</label> <select id="climbing-type-filter" class="svelte-12crvy"><option>Any Type</option><!></select></div> <div class="filter-item svelte-12crvy"><label for="session-type-filter" class="svelte-12crvy">Session Type</label> <select id="session-type-filter" class="svelte-12crvy"><option>Any Type</option><!></select></div> <div class="filter-item svelte-12crvy"><label for="grade-filter" class="svelte-12crvy">Grade (Exact)</label> <input type="text" id="grade-filter" placeholder="e.g. V4" class="svelte-12crvy"/></div></div> <div class="filter-actions svelte-12crvy"><button class="reset-btn svelte-12crvy">Reset Filters</button></div></div>'),Ot=n('<div class="filter-container svelte-12crvy"><button class="filter-header svelte-12crvy"><div class="header-content svelte-12crvy"><span class="icon svelte-12crvy">üîç</span> <span class="title svelte-12crvy">Filters</span> <!></div></button> <!></div>');function At(T,s){va(s,!0);const x=["Rockstar Swindon","Flashpoint Swindon","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","Other"],f=["Bouldering","Sport","Mixed"],w=["Projecting","Onsighting","Campusing","Repeaters"];let p=B(!1),_=B(""),q=B(""),g=B(""),h=B(""),F=B(""),j=B(""),Z=B(!1);function O(){v(p,!a(p))}function P(){v(_,""),v(q,""),v(g,""),v(h,""),v(Z,!1),v(F,""),v(j,""),D()}function D(){s.onFilterParamsChange({startDate:a(_),endDate:a(q),location:a(g),climbingType:a(h),sessionType:a(F),grade:a(j)})}function U(){a(g)==="Other"?(v(Z,!0),v(g,"")):D()}function H(){v(Z,!1),v(g,""),D()}var ne=Ot(),re=t(ne);re.__click=O;var Y=t(re),X=i(t(Y),4);{var ve=k=>{var N=Tt();r(k,N)},J=k=>{var N=kt();r(k,N)};c(X,k=>{a(p)?k(ve):k(J,!1)})}e(Y),e(re);var _e=i(re,2);{var m=k=>{var N=Et(),$=t(N),K=t($),le=i(t(K),2);ia(le),le.__change=D,e(K);var fe=i(K,2),C=i(t(fe),2);ia(C),C.__change=D,e(fe);var z=i(fe,2),b=i(t(z),2);{var l=E=>{var V=Ct(),de=t(V);ia(de),de.__input=D;var we=i(de,2);we.__click=H,e(V),ra(de,()=>a(g),L=>v(g,L)),r(E,V)},o=E=>{var V=Lt();V.__change=U;var de=t(V);de.value=de.__value="";var we=i(de);ye(we,17,()=>x,Ce,(L,ae)=>{var Se=Ft(),Q=t(Se,!0);e(Se);var se={};y(()=>{d(Q,a(ae)),se!==(se=a(ae))&&(Se.value=(Se.__value=a(ae))??"")}),r(L,Se)}),e(V),Sa(V,()=>a(g),L=>v(g,L)),r(E,V)};c(b,E=>{a(Z)?E(l):E(o,!1)})}e(z);var I=i(z,2),M=i(t(I),2);M.__change=D;var te=t(M);te.value=te.__value="";var pe=i(te);ye(pe,17,()=>f,Ce,(E,V)=>{var de=zt(),we=t(de,!0);e(de);var L={};y(()=>{d(we,a(V)),L!==(L=a(V))&&(de.value=(de.__value=a(V))??"")}),r(E,de)}),e(M),e(I);var Fe=i(I,2),ge=i(t(Fe),2);ge.__change=D;var ue=t(ge);ue.value=ue.__value="";var me=i(ue);ye(me,17,()=>w,Ce,(E,V)=>{var de=Gt(),we=t(de,!0);e(de);var L={};y(()=>{d(we,a(V)),L!==(L=a(V))&&(de.value=(de.__value=a(V))??"")}),r(E,de)}),e(ge),e(Fe);var ee=i(Fe,2),qe=i(t(ee),2);ia(qe),qe.__input=D,e(ee),e($);var Oe=i($,2),je=t(Oe);je.__click=P,e(Oe),e(N),ra(le,()=>a(_),E=>v(_,E)),ra(C,()=>a(q),E=>v(q,E)),Sa(M,()=>a(h),E=>v(h,E)),Sa(ge,()=>a(F),E=>v(F,E)),ra(qe,()=>a(j),E=>v(j,E)),Je(3,N,()=>ua,()=>({duration:200})),r(k,N)};c(_e,k=>{a(p)&&k(m)})}e(ne),y(()=>Ve(re,"aria-expanded",a(p))),r(T,ne),oa()}la(["click","change","input"]);var jt=n('<span class="climb-type-tag svelte-yz0xxt"> </span>'),Nt=n('<span class="notes-preview svelte-yz0xxt"> </span>'),It=n('<span class="attempts-count svelte-yz0xxt"> </span>'),Mt=n('<div class="detail-row svelte-yz0xxt"><span class="label svelte-yz0xxt">Notes:</span> <p class="notes svelte-yz0xxt"> </p></div>'),Rt=n('<p class="empty-notes svelte-yz0xxt">No notes for this climb.</p>'),Pt=n('<div class="climb-details svelte-yz0xxt"><!> <div class="tags svelte-yz0xxt"><span class="tag type svelte-yz0xxt"> </span> <span class="tag attempt-text svelte-yz0xxt"> </span></div></div>'),Bt=n('<div><div class="climb-header svelte-yz0xxt" role="button" tabindex="0"><div class="climb-main-info svelte-yz0xxt"><span> </span> <span class="climb-name svelte-yz0xxt"> </span> <!> <!></div> <div class="climb-meta svelte-yz0xxt"><span><span class="icon svelte-yz0xxt"> </span> <!></span> <button class="delete-btn svelte-yz0xxt" aria-label="Delete climb" title="Delete climb">üóëÔ∏è</button> <span class="chevron svelte-yz0xxt"> </span></div></div> <!></div>');function Vt(T,s){va(s,!0);let x=Ea(s,"showClimbType",3,!1),f=B(!1);function w(){v(f,!a(f))}function p(C){C.stopPropagation(),s.onDelete()}const _={Flash:"‚ö°",Onsight:"üëÅÔ∏è",Redpoint:"üî¥",Dogged:"üõ†Ô∏è",DNF:"‚ùå"};var q=Bt();let g;var h=t(q);h.__click=w,h.__keydown=C=>(C.key==="Enter"||C.key===" ")&&w();var F=t(h),j=t(F);let Z;var O=t(j,!0);e(j);var P=i(j,2),D=t(P,!0);e(P);var U=i(P,2);{var H=C=>{var z=jt(),b=t(z,!0);e(z),y(()=>d(b,s.climb.isSport?"Sport":"Boulder")),r(C,z)};c(U,C=>{x()&&C(H)})}var ne=i(U,2);{var re=C=>{var z=Nt(),b=t(z);e(z),y(()=>d(b,`- ${s.climb.notes??""}`)),r(C,z)};c(ne,C=>{!a(f)&&s.climb.notes&&C(re)})}e(F);var Y=i(F,2),X=t(Y);let ve;var J=t(X),_e=t(J,!0);e(J);var m=i(J,2);{var k=C=>{var z=It(),b=t(z,!0);e(z),y(()=>d(b,s.climb.attemptsNum)),r(C,z)};c(m,C=>{s.climb.attemptType!=="Flash"&&s.climb.attemptType!=="Onsight"&&C(k)})}e(X);var N=i(X,2);N.__click=p;var $=i(N,2),K=t($,!0);e($),e(Y),e(h);var le=i(h,2);{var fe=C=>{var z=Pt(),b=t(z);{var l=ge=>{var ue=Mt(),me=i(t(ue),2),ee=t(me,!0);e(me),e(ue),y(()=>d(ee,s.climb.notes)),r(ge,ue)},o=ge=>{var ue=Rt();r(ge,ue)};c(b,ge=>{s.climb.notes?ge(l):ge(o,!1)})}var I=i(b,2),M=t(I),te=t(M,!0);e(M);var pe=i(M,2),Fe=t(pe,!0);e(pe),e(I),e(z),y(()=>{d(te,s.climb.isSport?"Sport":"Boulder"),d(Fe,s.climb.attemptType)}),Je(3,z,()=>ua,()=>({duration:150})),r(C,z)};c(le,C=>{a(f)&&C(fe)})}e(q),y(()=>{g=Qe(q,1,"climb-entry svelte-yz0xxt",null,g,{expanded:a(f)}),Ve(h,"aria-expanded",a(f)),Z=Qe(j,1,"grade-badge svelte-yz0xxt",null,Z,{sport:s.climb.isSport}),d(O,s.climb.grade),d(D,s.climb.name||"Unnamed Route"),ve=Qe(X,1,"attempt-type svelte-yz0xxt",null,ve,{flash:s.climb.attemptType==="Flash"}),d(_e,_[s.climb.attemptType]||s.climb.attemptType),d(K,a(f)?"‚ñ≤":"‚ñº")}),r(T,q),oa()}la(["click","keydown"]);var Wt=n('<button class="backdrop svelte-12q9g58" aria-label="Close modal"></button> <div class="modal svelte-12q9g58" role="dialog" aria-modal="true"><h3 class="svelte-12q9g58"> </h3> <p class="svelte-12q9g58"> </p> <div class="input-group svelte-12q9g58"><label for="delete-confirm" class="svelte-12q9g58">Type <strong> </strong> to confirm:</label> <input type="text" id="delete-confirm" autocomplete="off" class="svelte-12q9g58"/></div> <div class="actions svelte-12q9g58"><button class="btn-cancel svelte-12q9g58">Cancel</button> <button class="btn-delete svelte-12q9g58">Delete</button></div></div>',1);function Ia(T,s){va(s,!0);let x=Ea(s,"isOpen",3,!1),f=Ea(s,"title",3,"Confirm Delete"),w=Ea(s,"message",3,"Are you sure you want to delete this item? This action cannot be undone."),p=Ea(s,"confirmKeyword",3,"delete"),_=B(""),q=ba(()=>a(_).toLowerCase()===p().toLowerCase());function g(){a(q)&&(s.onConfirm(),v(_,""))}function h(){s.onCancel(),v(_,"")}var F=Me(),j=ke(F);{var Z=O=>{var P=Wt(),D=ke(P);D.__click=h;var U=i(D,2),H=t(U),ne=t(H,!0);e(H);var re=i(H,2),Y=t(re,!0);e(re);var X=i(re,2),ve=t(X),J=i(t(ve)),_e=t(J,!0);e(J),Ca(),e(ve);var m=i(ve,2);ia(m),e(X);var k=i(X,2),N=t(k);N.__click=h;var $=i(N,2);$.__click=g,e(k),e(U),y(()=>{d(ne,f()),d(Y,w()),d(_e,p()),Ve(m,"placeholder",p()),$.disabled=!a(q)}),Je(3,D,()=>$a,()=>({duration:200})),ra(m,()=>a(_),K=>v(_,K)),Je(3,U,()=>et,()=>({duration:200,start:.9})),r(O,P)};c(j,O=>{x()&&O(Z)})}r(T,F),oa()}la(["click"]);var Ut=n('<span class="stat svelte-7vqogn"> </span>'),Ht=n('<span class="status-icon pending svelte-7vqogn" title="Waiting to sync">üîÑ</span>'),Kt=n('<span class="status-icon error svelte-7vqogn" title="Sync error">‚ö†Ô∏è</span>'),Zt=n('<span class="chip svelte-7vqogn"> </span>'),Jt=n('<span class="text-none svelte-7vqogn">None</span>'),Yt=n('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Difficulty</span> <span class="value svelte-7vqogn"> </span></div>'),Qt=n('<span class="chip svelte-7vqogn"> </span>'),Xt=n('<span class="text-none svelte-7vqogn">None</span>'),$t=n('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Category</span> <div class="value-chips svelte-7vqogn"><!></div></div>'),es=n('<span class="chip svelte-7vqogn"> </span>'),as=n('<span class="text-none svelte-7vqogn">None</span>'),ts=n('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Focus</span> <div class="value-chips svelte-7vqogn"><!></div></div>'),ss=n('<span class="chip svelte-7vqogn"> </span>'),is=n('<span class="text-none svelte-7vqogn">None</span>'),rs=n('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Energy System</span> <div class="value-chips svelte-7vqogn"><!></div></div>'),ls=n('<span class="chip svelte-7vqogn"> </span>'),ns=n('<span class="text-none svelte-7vqogn">None</span>'),vs=n('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Wall Angle</span> <div class="value-chips svelte-7vqogn"><!></div></div>'),os=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Open Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),ds=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Crimp Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),cs=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Pinch Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),_s=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Sloper Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),us=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Jug Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),fs=n('<p class="no-climbs svelte-7vqogn">No climbs logged for this session.</p>'),ps=n('<div class="card-body svelte-7vqogn"><div class="details-grid svelte-7vqogn"><div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Training Type</span> <div class="value-chips svelte-7vqogn"><!></div></div> <!> <!> <!> <!> <!></div> <div class="metrics-container svelte-7vqogn"><div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Finger Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div> <div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Shoulder Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div> <div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Forearm Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div> <!> <!> <!> <!> <!></div> <div class="climbs-list svelte-7vqogn"><h4 class="svelte-7vqogn">Climbs</h4> <div class="climbs-container svelte-7vqogn"><!> <!></div></div></div>'),gs=n('<div><div class="card-header svelte-7vqogn" role="button" tabindex="0"><div class="header-main svelte-7vqogn"><div class="date-badge svelte-7vqogn"><span class="day svelte-7vqogn"> </span> <span class="month svelte-7vqogn"> </span></div> <div class="session-info svelte-7vqogn"><div class="session-text svelte-7vqogn"><h3 class="location svelte-7vqogn"> </h3> <div class="session-meta svelte-7vqogn"><span class="type-tag svelte-7vqogn"> </span> <span class="stat svelte-7vqogn"> </span> <!></div></div> <div class="load-summary svelte-7vqogn"><div class="load-badge finger svelte-7vqogn"> </div> <div class="load-badge shoulder svelte-7vqogn"> </div> <div class="load-badge forearm svelte-7vqogn"> </div></div></div></div> <div class="header-actions"><div class="header-status svelte-7vqogn"><!></div>  <button class="btn-icon delete-session" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-7vqogn"> </span></div></div> <!></div> <!>',1);function ms(T,s){va(s,!0);let x=B(!1),f=B(!1);function w(){v(x,!a(x))}function p(){v(f,!0)}function _(){Pa(s.session.id),v(f,!1),s.onDelete()}function q(E){const V=[...s.session.climbs];V.splice(E,1),Ya(s.session.id,{climbs:V}),s.onDelete()}let g=ba(()=>s.session.climbs?.length??0),h=ba(()=>(s.session.climbs||[]).reduce((E,V)=>{const de=parseInt(V.grade.replace(/\D/g,""))||0,we=parseInt(E.replace(/\D/g,""))||0;return de>we?V.grade:E},"V0"));var F=gs(),j=ke(F);let Z;var O=t(j);O.__click=w,O.__keydown=E=>E.key==="Enter"&&w();var P=t(O),D=t(P),U=t(D),H=t(U,!0);e(U);var ne=i(U,2),re=t(ne,!0);e(ne),e(D);var Y=i(D,2),X=t(Y),ve=t(X),J=t(ve,!0);e(ve);var _e=i(ve,2),m=t(_e),k=t(m,!0);e(m);var N=i(m,2),$=t(N);e(N);var K=i(N,2);{var le=E=>{var V=Ut(),de=t(V);e(V),y(()=>d(de,`Max: ${a(h)??""}`)),r(E,V)};c(K,E=>{a(g)>0&&E(le)})}e(_e),e(X);var fe=i(X,2),C=t(fe),z=t(C,!0);e(C);var b=i(C,2),l=t(b,!0);e(b);var o=i(b,2),I=t(o,!0);e(o),e(fe),e(Y),e(P);var M=i(P,2),te=t(M),pe=t(te);{var Fe=E=>{var V=Ht();r(E,V)},ge=E=>{var V=Me(),de=ke(V);{var we=L=>{var ae=Kt();r(L,ae)};c(de,L=>{s.session.syncStatus==="error"&&L(we)},!0)}r(E,V)};c(pe,E=>{s.session.syncStatus==="pending"?E(Fe):E(ge,!1)})}e(te);var ue=i(te,2);ue.__click=E=>{E.stopPropagation(),p()};var me=i(ue,2),ee=t(me,!0);e(me),e(M),e(O);var qe=i(O,2);{var Oe=E=>{var V=ps(),de=t(V),we=t(de),L=i(t(we),2),ae=t(L);{var Se=R=>{var A=Me(),u=ke(A);ye(u,17,()=>s.session.trainingTypes,Ce,(S,G)=>{var ie=Zt(),W=t(ie,!0);e(ie),y(()=>d(W,a(G))),r(S,ie)}),r(R,A)},Q=R=>{var A=Jt();r(R,A)};c(ae,R=>{s.session.trainingTypes&&s.session.trainingTypes.length>0&&!s.session.trainingTypes.includes("None")?R(Se):R(Q,!1)})}e(L),e(we);var se=i(we,2);{var ce=R=>{var A=Yt(),u=i(t(A),2),S=t(u,!0);e(u),e(A),y(()=>d(S,s.session.difficulty)),r(R,A)};c(se,R=>{s.session.difficulty&&R(ce)})}var ze=i(se,2);{var he=R=>{var A=$t(),u=i(t(A),2),S=t(u);{var G=W=>{var oe=Me(),be=ke(oe);ye(be,17,()=>s.session.categories,Ce,(Ee,ta)=>{var Ae=Qt(),sa=t(Ae,!0);e(Ae),y(()=>d(sa,a(ta))),r(Ee,Ae)}),r(W,oe)},ie=W=>{var oe=Xt();r(W,oe)};c(S,W=>{s.session.categories.length>0&&!s.session.categories.includes("None")?W(G):W(ie,!1)})}e(u),e(A),r(R,A)};c(ze,R=>{s.session.categories?.length&&R(he)})}var De=i(ze,2);{var xe=R=>{var A=ts(),u=i(t(A),2),S=t(u);{var G=W=>{var oe=Me(),be=ke(oe);ye(be,17,()=>s.session.techniqueFocuses,Ce,(Ee,ta)=>{var Ae=es(),sa=t(Ae,!0);e(Ae),y(()=>d(sa,a(ta))),r(Ee,Ae)}),r(W,oe)},ie=W=>{var oe=as();r(W,oe)};c(S,W=>{s.session.techniqueFocuses.length>0&&!s.session.techniqueFocuses.includes("None")?W(G):W(ie,!1)})}e(u),e(A),r(R,A)};c(De,R=>{s.session.techniqueFocuses?.length&&R(xe)})}var Le=i(De,2);{var Te=R=>{var A=rs(),u=i(t(A),2),S=t(u);{var G=W=>{var oe=Me(),be=ke(oe);ye(be,17,()=>s.session.energySystems,Ce,(Ee,ta)=>{var Ae=ss(),sa=t(Ae,!0);e(Ae),y(()=>d(sa,a(ta))),r(Ee,Ae)}),r(W,oe)},ie=W=>{var oe=is();r(W,oe)};c(S,W=>{s.session.energySystems.length>0&&!s.session.energySystems.includes("None")?W(G):W(ie,!1)})}e(u),e(A),r(R,A)};c(Le,R=>{s.session.energySystems?.length&&R(Te)})}var Ge=i(Le,2);{var Ue=R=>{var A=vs(),u=i(t(A),2),S=t(u);{var G=W=>{var oe=Me(),be=ke(oe);ye(be,17,()=>s.session.wallAngles,Ce,(Ee,ta)=>{var Ae=ls(),sa=t(Ae,!0);e(Ae),y(()=>d(sa,a(ta))),r(Ee,Ae)}),r(W,oe)},ie=W=>{var oe=ns();r(W,oe)};c(S,W=>{s.session.wallAngles.length>0&&!s.session.wallAngles.includes("None")?W(G):W(ie,!1)})}e(u),e(A),r(R,A)};c(Ge,R=>{s.session.wallAngles?.length&&R(Ue)})}e(de);var Pe=i(de,2),Ne=t(Pe),He=i(t(Ne),2),Ie=t(He);e(He);var Re=i(He,2),fa=t(Re);e(Re),e(Ne);var Be=i(Ne,2),da=i(t(Be),2),Xe=t(da);e(da);var na=i(da,2),qa=t(na);e(na),e(Be);var Ye=i(Be,2),Ke=i(t(Ye),2),$e=t(Ke);e(Ke);var ca=i(Ke,2),ea=t(ca);e(ca),e(Ye);var aa=i(Ye,2);{var Da=R=>{var A=os(),u=i(t(A),2),S=t(u);e(u);var G=i(u,2),ie=t(G);e(G),e(A),y(()=>{We(S,`width: ${s.session.openGrip/5*100}%`),d(ie,`${s.session.openGrip??""}/5`)}),r(R,A)};c(aa,R=>{s.session.openGrip&&R(Da)})}var Ze=i(aa,2);{var Fa=R=>{var A=ds(),u=i(t(A),2),S=t(u);e(u);var G=i(u,2),ie=t(G);e(G),e(A),y(()=>{We(S,`width: ${s.session.crimpGrip/5*100}%`),d(ie,`${s.session.crimpGrip??""}/5`)}),r(R,A)};c(Ze,R=>{s.session.crimpGrip&&R(Fa)})}var ga=i(Ze,2);{var Ta=R=>{var A=cs(),u=i(t(A),2),S=t(u);e(u);var G=i(u,2),ie=t(G);e(G),e(A),y(()=>{We(S,`width: ${s.session.pinchGrip/5*100}%`),d(ie,`${s.session.pinchGrip??""}/5`)}),r(R,A)};c(ga,R=>{s.session.pinchGrip&&R(Ta)})}var ma=i(ga,2);{var Oa=R=>{var A=_s(),u=i(t(A),2),S=t(u);e(u);var G=i(u,2),ie=t(G);e(G),e(A),y(()=>{We(S,`width: ${s.session.sloperGrip/5*100}%`),d(ie,`${s.session.sloperGrip??""}/5`)}),r(R,A)};c(ma,R=>{s.session.sloperGrip&&R(Oa)})}var La=i(ma,2);{var Aa=R=>{var A=us(),u=i(t(A),2),S=t(u);e(u);var G=i(u,2),ie=t(G);e(G),e(A),y(()=>{We(S,`width: ${s.session.jugGrip/5*100}%`),d(ie,`${s.session.jugGrip??""}/5`)}),r(R,A)};c(La,R=>{s.session.jugGrip&&R(Aa)})}e(Pe);var ka=i(Pe,2),ya=i(t(ka),2),xa=t(ya);ye(xa,17,()=>s.session.climbs||[],Ce,(R,A,u)=>{{let S=ba(()=>s.session.climbingType==="Mixed");Vt(R,{get climb(){return a(A)},onDelete:()=>q(u),get showClimbType(){return a(S)}})}});var za=i(xa,2);{var Ga=R=>{var A=fs();r(R,A)};c(za,R=>{(s.session.climbs||[]).length===0&&R(Ga)})}e(ya),e(ka),e(V),y(()=>{We(Ie,`width: ${s.session.fingerLoad/5*100}%`),d(fa,`${s.session.fingerLoad??""}/5`),We(Xe,`width: ${s.session.shoulderLoad/5*100}%`),d(qa,`${s.session.shoulderLoad??""}/5`),We($e,`width: ${s.session.forearmLoad/5*100}%`),d(ea,`${s.session.forearmLoad??""}/5`)}),Je(3,V,()=>ua,()=>({duration:150})),r(E,V)};c(qe,E=>{a(x)&&E(Oe)})}e(j);var je=i(j,2);Ia(je,{get isOpen(){return a(f)},title:"Delete Session",message:"Are you sure you want to delete this session and all its climbs? This cannot be undone.",onConfirm:_,onCancel:()=>v(f,!1)}),y((E,V)=>{Z=Qe(j,1,"session-card svelte-7vqogn",null,Z,{expanded:a(x)}),Ve(O,"aria-expanded",a(x)),d(H,E),d(re,V),d(J,s.session.location),d(k,s.session.climbingType),d($,`${a(g)??""} climbs`),Ve(C,"title",`Finger Load: ${s.session.fingerLoad??""}`),d(z,s.session.fingerLoad),Ve(b,"title",`Shoulder Load: ${s.session.shoulderLoad??""}`),d(l,s.session.shoulderLoad),Ve(o,"title",`Forearm Load: ${s.session.forearmLoad??""}`),d(I,s.session.forearmLoad),d(ee,a(x)?"‚ñ≤":"‚ñº")},[()=>new Date(s.session.date).getDate(),()=>new Date(s.session.date).toLocaleDateString("en-GB",{month:"short"})]),r(T,F),oa()}la(["click","keydown"]);var hs=n('<div class="legend-item svelte-11p9lqi"><span class="l-icon svelte-11p9lqi"> </span> <span class="l-label svelte-11p9lqi"> </span></div>'),bs=n('<div class="legend-content svelte-11p9lqi"><div class="legend-grid svelte-11p9lqi"></div></div>'),ys=n('<div class="legend-container svelte-11p9lqi"><button class="legend-toggle svelte-11p9lqi"><span class="icon">‚ÑπÔ∏è</span> <span class="text">Icon Legend</span> <span class="chevron svelte-11p9lqi"> </span></button> <!></div>');function at(T){let s=B(!1);const x=[{icon:"üëÅÔ∏è",label:"Onsight"},{icon:"‚ö°",label:"Flash"},{icon:"üî¥",label:"Redpoint"},{icon:"üõ†Ô∏è",label:"Dogged"},{icon:"‚ùå",label:"DNF"}];var f=ys(),w=t(f);w.__click=()=>v(s,!a(s));var p=i(t(w),4),_=t(p,!0);e(p),e(w);var q=i(w,2);{var g=h=>{var F=bs(),j=t(F);ye(j,21,()=>x,Ce,(Z,O)=>{var P=hs(),D=t(P),U=t(D,!0);e(D);var H=i(D,2),ne=t(H,!0);e(H),e(P),y(()=>{d(U,a(O).icon),d(ne,a(O).label)}),r(Z,P)}),e(j),e(F),Je(3,F,()=>ua),r(h,F)};c(q,h=>{a(s)&&h(g)})}e(f),y(()=>{Ve(w,"aria-expanded",a(s)),d(_,a(s)?"‚ñº":"‚ñ∂")}),r(T,f)}la(["click"]);function tt(T,s){if(!T||T.length===0){alert("No data to export");return}const x=Array.from(new Set(T.flatMap(Object.keys))),f=[x.join(","),...T.map(_=>x.map(q=>{let g=_[q];if(g==null)return"";if(typeof g=="object"){if(g instanceof Date)return g.toISOString();g=JSON.stringify(g).replace(/"/g,'""')}else typeof g=="string"&&(g=g.replace(/"/g,'""'));return typeof g=="string"&&(g.includes(",")||g.includes('"')||g.includes(`
`))?`"${g}"`:g}).join(","))].join(`
`),w=new Blob([f],{type:"text/csv;charset=utf-8;"}),p=document.createElement("a");if(p.download!==void 0){const _=URL.createObjectURL(w);p.setAttribute("href",_),p.setAttribute("download",s.endsWith(".csv")?s:`${s}.csv`),p.style.visibility="hidden",document.body.appendChild(p),p.click(),document.body.removeChild(p)}}var xs=n('<span class="spinner svelte-14fqz8w"></span> Fetching...',1),ws=n('<div class="error-banner svelte-14fqz8w"> </div>'),Ss=n('<small class="svelte-14fqz8w">Try adjusting your filters.</small>'),qs=n('<div class="empty-state svelte-14fqz8w"><p class="svelte-14fqz8w">No indoor climbing sessions found.</p> <!></div>'),Ds=n('<div class="load-more-container svelte-14fqz8w"><button class="load-more-btn svelte-14fqz8w"> </button></div>'),Ts=n('<div class="view-container svelte-14fqz8w"><div class="view-header svelte-14fqz8w"><h2 class="view-title svelte-14fqz8w">üßó Indoor Climbing History</h2> <div class="header-actions svelte-14fqz8w"><button class="action-btn secondary svelte-14fqz8w" title="Export filtered data to CSV">üì• Export</button> <button class="action-btn svelte-14fqz8w" title="Fetch data from cloud"><!></button></div></div> <!> <!> <div class="info-bar svelte-14fqz8w"><div class="legend-wrapper svelte-14fqz8w"><!></div> <div class="load-key svelte-14fqz8w"><span class="key-label svelte-14fqz8w">Load:</span> <div class="key-item svelte-14fqz8w"><span class="dot finger svelte-14fqz8w"></span> Finger</div> <div class="key-item svelte-14fqz8w"><span class="dot shoulder svelte-14fqz8w"></span> Shoulder</div> <div class="key-item svelte-14fqz8w"><span class="dot forearm svelte-14fqz8w"></span> Forearm</div></div></div> <div class="sessions-list"><!> <!> <!></div></div>');function ks(T,s){va(s,!0);let x=B(pa([])),f=B(pa([])),w=B(!1),p=B(""),_=B(pa({startDate:"",endDate:"",location:"",climbingType:"",sessionType:"",grade:""})),q=B(20);const g=20;Ja(()=>{h()});function h(){const l=Ra("indoor_climb");v(x,l.sort((o,I)=>new Date(I.date).getTime()-new Date(o.date).getTime()),!0),O()}async function F(){v(w,!0),v(p,"");try{await Va();const l=await pt();l.ok&&l.data?j(l.data):v(p,l.error||"Failed to fetch data",!0)}catch(l){v(p,l instanceof Error?l.message:"Unknown error",!0)}finally{v(w,!1)}}function j(l){const o=l.map(M=>({...M,activityType:"indoor_climb",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),syncStatus:"synced",syncedAt:new Date().toISOString(),openGrip:0,crimpGrip:0,pinchGrip:0,sloperGrip:0,jugGrip:0}));Ba(o);const I=Ra("indoor_climb");v(x,I.sort((M,te)=>new Date(te.date).getTime()-new Date(M.date).getTime()),!0),O()}function Z(l){v(_,l,!0),O()}function O(){v(q,g),v(f,a(x).filter(l=>{if(a(_).startDate&&l.date<a(_).startDate||a(_).endDate&&l.date>a(_).endDate||a(_).location&&l.location!==a(_).location)return!1;if(a(_).climbingType&&l.climbingType!==a(_).climbingType)if(l.climbingType==="Mixed")if(a(_).climbingType==="Bouldering"){if(!l.climbs.some(o=>!o.isSport))return!1}else if(a(_).climbingType==="Sport"){if(!l.climbs.some(o=>o.isSport))return!1}else return!1;else return!1;if(a(_).sessionType&&!l.trainingTypes?.includes(a(_).sessionType))return!1;if(a(_).grade){const o=a(_).grade.trim().toLowerCase();if(!l.climbs.some(M=>M.grade.trim().toLowerCase()===o))return!1}return!0}),!0)}function P(){v(q,a(q)+g)}var D=Ts(),U=t(D),H=i(t(U),2),ne=t(H);ne.__click=()=>tt(a(f),"indoor_climbs");var re=i(ne,2);re.__click=F;var Y=t(re);{var X=l=>{var o=xs();Ca(),r(l,o)},ve=l=>{var o=wa("‚òÅÔ∏è Fetch Data");r(l,o)};c(Y,l=>{a(w)?l(X):l(ve,!1)})}e(re),e(H),e(U);var J=i(U,2);{var _e=l=>{var o=ws(),I=t(o,!0);e(o),y(()=>d(I,a(p))),Je(3,o,()=>ua),r(l,o)};c(J,l=>{a(p)&&l(_e)})}var m=i(J,2);At(m,{onFilterParamsChange:Z});var k=i(m,2),N=t(k),$=t(N);at($),e(N),Ca(2),e(k);var K=i(k,2),le=t(K);ye(le,17,()=>a(f).slice(0,a(q)),l=>l.id,(l,o)=>{ms(l,{get session(){return a(o)},onDelete:h})});var fe=i(le,2);{var C=l=>{var o=qs(),I=i(t(o),2);{var M=te=>{var pe=Ss();r(te,pe)};c(I,te=>{a(x).length>0&&te(M)})}e(o),r(l,o)};c(fe,l=>{a(f).length===0&&l(C)})}var z=i(fe,2);{var b=l=>{var o=Ds(),I=t(o);I.__click=P;var M=t(I);e(I),e(o),y(()=>d(M,`Load More (${a(f).length-a(q)} remaining)`)),r(l,o)};c(z,l=>{a(q)<a(f).length&&l(b)})}e(K),e(D),y(()=>re.disabled=a(w)),r(T,D),oa()}la(["click"]);var Cs=n('<span class="chevron svelte-1frtlim">‚ñ≤</span>'),Fs=n('<span class="chevron svelte-1frtlim">‚ñº</span>'),Ls=n('<div class="input-with-action svelte-1frtlim"><input type="text" id="area-filter-text" placeholder="Type area name..." class="flat-left svelte-1frtlim"/> <button class="action-btn flat-right svelte-1frtlim" title="Back to list">‚úï</button></div>'),zs=n("<option> </option>"),Gs=n('<select id="area-filter" class="svelte-1frtlim"><option>All Areas</option><!><option>Other (Manual Entry)</option></select>'),Es=n('<div class="input-with-action svelte-1frtlim"><input type="text" id="crag-filter-text" placeholder="Type crag name..." class="flat-left svelte-1frtlim"/> <button class="action-btn flat-right svelte-1frtlim" title="Back to list">‚úï</button></div>'),Os=n("<option> </option>"),As=n('<select id="crag-filter" class="svelte-1frtlim"><option>All Crags</option><!><option>Other (Manual Entry)</option></select>'),js=n('<input type="text" id="crag-filter-text" class="svelte-1frtlim"/>'),Ns=n("<option> </option>"),Is=n("<option> </option>"),Ms=n('<div class="filter-body svelte-1frtlim"><div class="filter-grid svelte-1frtlim"><div class="filter-item svelte-1frtlim"><label for="start-date" class="svelte-1frtlim">Start Date</label> <input type="date" id="start-date" class="svelte-1frtlim"/></div> <div class="filter-item svelte-1frtlim"><label for="end-date" class="svelte-1frtlim">End Date</label> <input type="date" id="end-date" class="svelte-1frtlim"/></div> <div class="filter-item svelte-1frtlim"><label for="area-filter" class="svelte-1frtlim">Area</label> <!></div> <div class="filter-item svelte-1frtlim"><label for="crag-filter" class="svelte-1frtlim">Crag</label> <!></div> <div class="filter-item svelte-1frtlim"><label for="climbing-type-filter" class="svelte-1frtlim">Climb Type</label> <select id="climbing-type-filter" class="svelte-1frtlim"><option>Any Type</option><!></select></div> <div class="filter-item svelte-1frtlim"><label for="session-type-filter" class="svelte-1frtlim">Session Type</label> <select id="session-type-filter" class="svelte-1frtlim"><option>Any Type</option><!></select></div> <div class="filter-item svelte-1frtlim"><label for="grade-filter" class="svelte-1frtlim">Grade (Exact)</label> <input type="text" id="grade-filter" placeholder="e.g. 7a" class="svelte-1frtlim"/></div></div> <div class="filter-actions svelte-1frtlim"><button class="reset-btn svelte-1frtlim">Reset Filters</button></div></div>'),Rs=n('<div class="filter-container svelte-1frtlim"><button class="filter-header svelte-1frtlim"><div class="header-content svelte-1frtlim"><span class="icon svelte-1frtlim">üîç</span> <span class="title svelte-1frtlim">Filters</span> <!></div></button> <!></div>');function Ps(T,s){va(s,!0);const x=gt(),f=["Bouldering","Sport","Mixed","Trad"],w=["Projecting","Onsighting","Campusing","Repeaters","Fun","Volume"];let p=B(!1),_=B(""),q=B(""),g=B(""),h=B(""),F=B(""),j=B(""),Z=B(""),O=B(!1),P=B(!1),D=ba(()=>a(g)&&a(g)!=="Other"?mt(a(g)):[]);function U(){a(g)==="Other"?(v(O,!0),v(g,"")):v(O,!1),v(h,""),v(P,!1),Y()}function H(){a(h)==="Other"?(v(P,!0),v(h,"")):v(P,!1),Y()}function ne(){v(p,!a(p))}function re(){v(_,""),v(q,""),v(g,""),v(h,""),v(F,""),v(j,""),v(Z,""),v(O,!1),v(P,!1),Y()}function Y(){s.onFilterParamsChange({startDate:a(_),endDate:a(q),area:a(g),crag:a(h),climbingType:a(F),sessionType:a(j),grade:a(Z)})}var X=Rs(),ve=t(X);ve.__click=ne;var J=t(ve),_e=i(t(J),4);{var m=K=>{var le=Cs();r(K,le)},k=K=>{var le=Fs();r(K,le)};c(_e,K=>{a(p)?K(m):K(k,!1)})}e(J),e(ve);var N=i(ve,2);{var $=K=>{var le=Ms(),fe=t(le),C=t(fe),z=i(t(C),2);ia(z),z.__change=Y,e(C);var b=i(C,2),l=i(t(b),2);ia(l),l.__change=Y,e(b);var o=i(b,2),I=i(t(o),2);{var M=Q=>{var se=Ls(),ce=t(se);ia(ce),ce.__input=Y;var ze=i(ce,2);ze.__click=()=>{v(O,!1),v(g,""),Y()},e(se),ra(ce,()=>a(g),he=>v(g,he)),r(Q,se)},te=Q=>{var se=Gs();se.__change=U;var ce=t(se);ce.value=ce.__value="";var ze=i(ce);ye(ze,17,()=>x,Ce,(De,xe)=>{var Le=zs(),Te=t(Le,!0);e(Le);var Ge={};y(()=>{d(Te,a(xe)),Ge!==(Ge=a(xe))&&(Le.value=(Le.__value=a(xe))??"")}),r(De,Le)});var he=i(ze);he.value=he.__value="Other",e(se),Sa(se,()=>a(g),De=>v(g,De)),r(Q,se)};c(I,Q=>{a(O)?Q(M):Q(te,!1)})}e(o);var pe=i(o,2),Fe=i(t(pe),2);{var ge=Q=>{var se=Es(),ce=t(se);ia(ce),ce.__input=Y;var ze=i(ce,2);ze.__click=()=>{v(P,!1),v(h,""),Y()},e(se),ra(ce,()=>a(h),he=>v(h,he)),r(Q,se)},ue=Q=>{var se=Me(),ce=ke(se);{var ze=De=>{var xe=As();xe.__change=H;var Le=t(xe);Le.value=Le.__value="";var Te=i(Le);ye(Te,17,()=>a(D),Ce,(Ue,Pe)=>{var Ne=Os(),He=t(Ne,!0);e(Ne);var Ie={};y(()=>{d(He,a(Pe)),Ie!==(Ie=a(Pe))&&(Ne.value=(Ne.__value=a(Pe))??"")}),r(Ue,Ne)});var Ge=i(Te);Ge.value=Ge.__value="Other",e(xe),Sa(xe,()=>a(h),Ue=>v(h,Ue)),r(De,xe)},he=De=>{var xe=js();ia(xe),xe.__input=Y,y(()=>{Ve(xe,"placeholder",a(g)?"Filter crag...":"Select area first"),xe.disabled=!a(O)&&!a(g)}),ra(xe,()=>a(h),Le=>v(h,Le)),r(De,xe)};c(ce,De=>{!a(O)&&a(g)&&a(D).length>0?De(ze):De(he,!1)},!0)}r(Q,se)};c(Fe,Q=>{a(P)?Q(ge):Q(ue,!1)})}e(pe);var me=i(pe,2),ee=i(t(me),2);ee.__change=Y;var qe=t(ee);qe.value=qe.__value="";var Oe=i(qe);ye(Oe,17,()=>f,Ce,(Q,se)=>{var ce=Ns(),ze=t(ce,!0);e(ce);var he={};y(()=>{d(ze,a(se)),he!==(he=a(se))&&(ce.value=(ce.__value=a(se))??"")}),r(Q,ce)}),e(ee),e(me);var je=i(me,2),E=i(t(je),2);E.__change=Y;var V=t(E);V.value=V.__value="";var de=i(V);ye(de,17,()=>w,Ce,(Q,se)=>{var ce=Is(),ze=t(ce,!0);e(ce);var he={};y(()=>{d(ze,a(se)),he!==(he=a(se))&&(ce.value=(ce.__value=a(se))??"")}),r(Q,ce)}),e(E),e(je);var we=i(je,2),L=i(t(we),2);ia(L),L.__input=Y,e(we),e(fe);var ae=i(fe,2),Se=t(ae);Se.__click=re,e(ae),e(le),ra(z,()=>a(_),Q=>v(_,Q)),ra(l,()=>a(q),Q=>v(q,Q)),Sa(ee,()=>a(F),Q=>v(F,Q)),Sa(E,()=>a(j),Q=>v(j,Q)),ra(L,()=>a(Z),Q=>v(Z,Q)),Je(3,le,()=>ua,()=>({duration:200})),r(K,le)};c(N,K=>{a(p)&&K($)})}e(X),y(()=>Ve(ve,"aria-expanded",a(p))),r(T,X),oa()}la(["click","change","input"]);var Bs=n('<span class="climb-type-tag svelte-1k6anfh"> </span>'),Vs=n('<span class="notes-preview svelte-1k6anfh"> </span>'),Ws=n('<span class="attempts-count svelte-1k6anfh"> </span>'),Us=n('<div class="detail-row svelte-1k6anfh"><span class="label svelte-1k6anfh">Notes:</span> <p class="notes svelte-1k6anfh"> </p></div>'),Hs=n('<p class="empty-notes svelte-1k6anfh">No notes for this climb.</p>'),Ks=n('<div class="climb-details svelte-1k6anfh"><!> <div class="tags svelte-1k6anfh"><span class="tag type svelte-1k6anfh"> </span> <span class="tag attempt-text svelte-1k6anfh"> </span></div></div>'),Zs=n('<div><div class="climb-header svelte-1k6anfh" role="button" tabindex="0"><div class="climb-main-info svelte-1k6anfh"><span> </span> <span class="climb-name svelte-1k6anfh"> </span> <!> <!></div> <div class="climb-meta svelte-1k6anfh"><span><span class="icon svelte-1k6anfh"> </span> <!></span> <button class="delete-btn svelte-1k6anfh" aria-label="Delete climb" title="Delete climb">üóëÔ∏è</button> <span class="chevron svelte-1k6anfh"> </span></div></div> <!></div>');function Js(T,s){va(s,!0);let x=Ea(s,"showClimbType",3,!1),f=B(!1);function w(){v(f,!a(f))}function p(C){C.stopPropagation(),s.onDelete()}const _={Flash:"‚ö°",Onsight:"üëÅÔ∏è",Redpoint:"üî¥",Dogged:"üõ†Ô∏è",DNF:"‚ùå"};var q=Zs();let g;var h=t(q);h.__click=w,h.__keydown=C=>(C.key==="Enter"||C.key===" ")&&w();var F=t(h),j=t(F);let Z;var O=t(j,!0);e(j);var P=i(j,2),D=t(P,!0);e(P);var U=i(P,2);{var H=C=>{var z=Bs(),b=t(z,!0);e(z),y(()=>d(b,s.climb.isSport?"Sport":"Boulder")),r(C,z)};c(U,C=>{x()&&C(H)})}var ne=i(U,2);{var re=C=>{var z=Vs(),b=t(z);e(z),y(()=>d(b,`- ${s.climb.notes??""}`)),r(C,z)};c(ne,C=>{!a(f)&&s.climb.notes&&C(re)})}e(F);var Y=i(F,2),X=t(Y);let ve;var J=t(X),_e=t(J,!0);e(J);var m=i(J,2);{var k=C=>{var z=Ws(),b=t(z,!0);e(z),y(()=>d(b,s.climb.attemptsNum)),r(C,z)};c(m,C=>{s.climb.attemptType!=="Flash"&&s.climb.attemptType!=="Onsight"&&C(k)})}e(X);var N=i(X,2);N.__click=p;var $=i(N,2),K=t($,!0);e($),e(Y),e(h);var le=i(h,2);{var fe=C=>{var z=Ks(),b=t(z);{var l=ge=>{var ue=Us(),me=i(t(ue),2),ee=t(me,!0);e(me),e(ue),y(()=>d(ee,s.climb.notes)),r(ge,ue)},o=ge=>{var ue=Hs();r(ge,ue)};c(b,ge=>{s.climb.notes?ge(l):ge(o,!1)})}var I=i(b,2),M=t(I),te=t(M,!0);e(M);var pe=i(M,2),Fe=t(pe,!0);e(pe),e(I),e(z),y(()=>{d(te,s.climb.isSport?"Sport":"Boulder"),d(Fe,s.climb.attemptType)}),Je(3,z,()=>ua,()=>({duration:150})),r(C,z)};c(le,C=>{a(f)&&C(fe)})}e(q),y(()=>{g=Qe(q,1,"climb-entry svelte-1k6anfh",null,g,{expanded:a(f)}),Ve(h,"aria-expanded",a(f)),Z=Qe(j,1,"grade-badge svelte-1k6anfh",null,Z,{sport:s.climb.isSport}),d(O,s.climb.grade),d(D,s.climb.name||"Unnamed Route"),ve=Qe(X,1,"attempt-type svelte-1k6anfh",null,ve,{flash:s.climb.attemptType==="Flash"}),d(_e,_[s.climb.attemptType]||s.climb.attemptType),d(K,a(f)?"‚ñ≤":"‚ñº")}),r(T,q),oa()}la(["click","keydown"]);var Ys=n('<div class="sector-meta svelte-d5hg2r"> </div>'),Qs=n('<span class="stat svelte-d5hg2r"> </span>'),Xs=n('<span class="status-icon pending svelte-d5hg2r" title="Waiting to sync">üîÑ</span>'),$s=n('<span class="status-icon error svelte-d5hg2r" title="Sync error">‚ö†Ô∏è</span>'),ei=n('<span class="chip svelte-d5hg2r"> </span>'),ai=n('<span class="text-none svelte-d5hg2r">None</span>'),ti=n('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Difficulty</span> <span class="value svelte-d5hg2r"> </span></div>'),si=n('<span class="chip svelte-d5hg2r"> </span>'),ii=n('<span class="text-none svelte-d5hg2r">None</span>'),ri=n('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Category</span> <div class="value-chips svelte-d5hg2r"><!></div></div>'),li=n('<span class="chip svelte-d5hg2r"> </span>'),ni=n('<span class="text-none svelte-d5hg2r">None</span>'),vi=n('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Focus</span> <div class="value-chips svelte-d5hg2r"><!></div></div>'),oi=n('<span class="chip svelte-d5hg2r"> </span>'),di=n('<span class="text-none svelte-d5hg2r">None</span>'),ci=n('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Energy System</span> <div class="value-chips svelte-d5hg2r"><!></div></div>'),_i=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Open Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),ui=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Crimp Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),fi=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Pinch Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),pi=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Sloper Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),gi=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Jug Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),mi=n('<p class="no-climbs svelte-d5hg2r">No climbs logged for this session.</p>'),hi=n('<div class="card-body svelte-d5hg2r"><div class="details-grid svelte-d5hg2r"><div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Training Type</span> <div class="value-chips svelte-d5hg2r"><!></div></div> <!> <!> <!> <!></div> <div class="metrics-container svelte-d5hg2r"><div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Finger Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div> <div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Shoulder Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div> <div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Forearm Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div> <!> <!> <!> <!> <!></div> <div class="climbs-list svelte-d5hg2r"><h4 class="svelte-d5hg2r">Climbs</h4> <div class="climbs-container svelte-d5hg2r"><!> <!></div></div></div>'),bi=n('<div><div class="card-header svelte-d5hg2r" role="button" tabindex="0"><div class="header-main svelte-d5hg2r"><div class="date-badge svelte-d5hg2r"><span class="day svelte-d5hg2r"> </span> <span class="month svelte-d5hg2r"> </span></div> <div class="session-info svelte-d5hg2r"><div class="session-text svelte-d5hg2r"><h3 class="location svelte-d5hg2r"> <!></h3> <!> <div class="session-meta svelte-d5hg2r"><span class="type-tag svelte-d5hg2r"> </span> <span class="stat svelte-d5hg2r"> </span> <!></div></div> <div class="load-summary svelte-d5hg2r"><div class="load-badge finger svelte-d5hg2r"> </div> <div class="load-badge shoulder svelte-d5hg2r"> </div> <div class="load-badge forearm svelte-d5hg2r"> </div></div></div></div> <div class="header-actions svelte-d5hg2r"><div class="header-status svelte-d5hg2r"><!></div> <button class="btn-icon delete-session svelte-d5hg2r" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-d5hg2r"> </span></div></div> <!></div> <!>',1);function yi(T,s){va(s,!0);let x=B(!1),f=B(!1);function w(){v(x,!a(x))}function p(){v(f,!0)}function _(){Pa(s.session.id),v(f,!1),s.onDelete()}function q(L){const ae=[...s.session.climbs];ae.splice(L,1),Ya(s.session.id,{climbs:ae}),s.onDelete()}let g=ba(()=>s.session.climbs?.length??0),h=ba(()=>(s.session.climbs||[]).reduce((L,ae)=>{const Se=parseInt(ae.grade.replace(/\D/g,""))||0,Q=parseInt(L.replace(/\D/g,""))||0;return Se>Q?ae.grade:L},"V0/4a"));var F=bi(),j=ke(F);let Z;var O=t(j);O.__click=w,O.__keydown=L=>L.key==="Enter"&&w();var P=t(O),D=t(P),U=t(D),H=t(U,!0);e(U);var ne=i(U,2),re=t(ne,!0);e(ne),e(D);var Y=i(D,2),X=t(Y),ve=t(X),J=t(ve),_e=i(J);{var m=L=>{var ae=wa();y(()=>d(ae,`- ${s.session.crag??""}`)),r(L,ae)};c(_e,L=>{s.session.crag&&L(m)})}e(ve);var k=i(ve,2);{var N=L=>{var ae=Ys(),Se=t(ae);e(ae),y(()=>d(Se,`üìç ${s.session.sector??""}`)),r(L,ae)};c(k,L=>{s.session.sector&&L(N)})}var $=i(k,2),K=t($),le=t(K,!0);e(K);var fe=i(K,2),C=t(fe);e(fe);var z=i(fe,2);{var b=L=>{var ae=Qs(),Se=t(ae);e(ae),y(()=>d(Se,`Max: ${a(h)??""}`)),r(L,ae)};c(z,L=>{a(g)>0&&L(b)})}e($),e(X);var l=i(X,2),o=t(l),I=t(o,!0);e(o);var M=i(o,2),te=t(M,!0);e(M);var pe=i(M,2),Fe=t(pe,!0);e(pe),e(l),e(Y),e(P);var ge=i(P,2),ue=t(ge),me=t(ue);{var ee=L=>{var ae=Xs();r(L,ae)},qe=L=>{var ae=Me(),Se=ke(ae);{var Q=se=>{var ce=$s();r(se,ce)};c(Se,se=>{s.session.syncStatus==="error"&&se(Q)},!0)}r(L,ae)};c(me,L=>{s.session.syncStatus==="pending"?L(ee):L(qe,!1)})}e(ue);var Oe=i(ue,2);Oe.__click=L=>{L.stopPropagation(),p()};var je=i(Oe,2),E=t(je,!0);e(je),e(ge),e(O);var V=i(O,2);{var de=L=>{var ae=hi(),Se=t(ae),Q=t(Se),se=i(t(Q),2),ce=t(se);{var ze=u=>{var S=Me(),G=ke(S);ye(G,17,()=>s.session.trainingTypes,Ce,(ie,W)=>{var oe=ei(),be=t(oe,!0);e(oe),y(()=>d(be,a(W))),r(ie,oe)}),r(u,S)},he=u=>{var S=ai();r(u,S)};c(ce,u=>{s.session.trainingTypes&&s.session.trainingTypes.length>0&&!s.session.trainingTypes.includes("None")?u(ze):u(he,!1)})}e(se),e(Q);var De=i(Q,2);{var xe=u=>{var S=ti(),G=i(t(S),2),ie=t(G,!0);e(G),e(S),y(()=>d(ie,s.session.difficulty)),r(u,S)};c(De,u=>{s.session.difficulty&&u(xe)})}var Le=i(De,2);{var Te=u=>{var S=ri(),G=i(t(S),2),ie=t(G);{var W=be=>{var Ee=Me(),ta=ke(Ee);ye(ta,17,()=>s.session.categories,Ce,(Ae,sa)=>{var _a=si(),ja=t(_a,!0);e(_a),y(()=>d(ja,a(sa))),r(Ae,_a)}),r(be,Ee)},oe=be=>{var Ee=ii();r(be,Ee)};c(ie,be=>{s.session.categories.length>0&&!s.session.categories.includes("None")?be(W):be(oe,!1)})}e(G),e(S),r(u,S)};c(Le,u=>{s.session.categories?.length&&u(Te)})}var Ge=i(Le,2);{var Ue=u=>{var S=vi(),G=i(t(S),2),ie=t(G);{var W=be=>{var Ee=Me(),ta=ke(Ee);ye(ta,17,()=>s.session.techniqueFocuses,Ce,(Ae,sa)=>{var _a=li(),ja=t(_a,!0);e(_a),y(()=>d(ja,a(sa))),r(Ae,_a)}),r(be,Ee)},oe=be=>{var Ee=ni();r(be,Ee)};c(ie,be=>{s.session.techniqueFocuses.length>0&&!s.session.techniqueFocuses.includes("None")?be(W):be(oe,!1)})}e(G),e(S),r(u,S)};c(Ge,u=>{s.session.techniqueFocuses?.length&&u(Ue)})}var Pe=i(Ge,2);{var Ne=u=>{var S=ci(),G=i(t(S),2),ie=t(G);{var W=be=>{var Ee=Me(),ta=ke(Ee);ye(ta,17,()=>s.session.energySystems,Ce,(Ae,sa)=>{var _a=oi(),ja=t(_a,!0);e(_a),y(()=>d(ja,a(sa))),r(Ae,_a)}),r(be,Ee)},oe=be=>{var Ee=di();r(be,Ee)};c(ie,be=>{s.session.energySystems.length>0&&!s.session.energySystems.includes("None")?be(W):be(oe,!1)})}e(G),e(S),r(u,S)};c(Pe,u=>{s.session.energySystems?.length&&u(Ne)})}e(Se);var He=i(Se,2),Ie=t(He),Re=i(t(Ie),2),fa=t(Re);e(Re);var Be=i(Re,2),da=t(Be);e(Be),e(Ie);var Xe=i(Ie,2),na=i(t(Xe),2),qa=t(na);e(na);var Ye=i(na,2),Ke=t(Ye);e(Ye),e(Xe);var $e=i(Xe,2),ca=i(t($e),2),ea=t(ca);e(ca);var aa=i(ca,2),Da=t(aa);e(aa),e($e);var Ze=i($e,2);{var Fa=u=>{var S=_i(),G=i(t(S),2),ie=t(G);e(G);var W=i(G,2),oe=t(W);e(W),e(S),y(()=>{We(ie,`width: ${s.session.openGrip/5*100}%`),d(oe,`${s.session.openGrip??""}/5`)}),r(u,S)};c(Ze,u=>{s.session.openGrip&&u(Fa)})}var ga=i(Ze,2);{var Ta=u=>{var S=ui(),G=i(t(S),2),ie=t(G);e(G);var W=i(G,2),oe=t(W);e(W),e(S),y(()=>{We(ie,`width: ${s.session.crimpGrip/5*100}%`),d(oe,`${s.session.crimpGrip??""}/5`)}),r(u,S)};c(ga,u=>{s.session.crimpGrip&&u(Ta)})}var ma=i(ga,2);{var Oa=u=>{var S=fi(),G=i(t(S),2),ie=t(G);e(G);var W=i(G,2),oe=t(W);e(W),e(S),y(()=>{We(ie,`width: ${s.session.pinchGrip/5*100}%`),d(oe,`${s.session.pinchGrip??""}/5`)}),r(u,S)};c(ma,u=>{s.session.pinchGrip&&u(Oa)})}var La=i(ma,2);{var Aa=u=>{var S=pi(),G=i(t(S),2),ie=t(G);e(G);var W=i(G,2),oe=t(W);e(W),e(S),y(()=>{We(ie,`width: ${s.session.sloperGrip/5*100}%`),d(oe,`${s.session.sloperGrip??""}/5`)}),r(u,S)};c(La,u=>{s.session.sloperGrip&&u(Aa)})}var ka=i(La,2);{var ya=u=>{var S=gi(),G=i(t(S),2),ie=t(G);e(G);var W=i(G,2),oe=t(W);e(W),e(S),y(()=>{We(ie,`width: ${s.session.jugGrip/5*100}%`),d(oe,`${s.session.jugGrip??""}/5`)}),r(u,S)};c(ka,u=>{s.session.jugGrip&&u(ya)})}e(He);var xa=i(He,2),za=i(t(xa),2),Ga=t(za);ye(Ga,17,()=>s.session.climbs||[],Ce,(u,S,G)=>{{let ie=ba(()=>s.session.climbingType==="Mixed");Js(u,{get climb(){return a(S)},onDelete:()=>q(G),get showClimbType(){return a(ie)}})}});var R=i(Ga,2);{var A=u=>{var S=mi();r(u,S)};c(R,u=>{(s.session.climbs||[]).length===0&&u(A)})}e(za),e(xa),e(ae),y(()=>{We(fa,`width: ${s.session.fingerLoad/5*100}%`),d(da,`${s.session.fingerLoad??""}/5`),We(qa,`width: ${s.session.shoulderLoad/5*100}%`),d(Ke,`${s.session.shoulderLoad??""}/5`),We(ea,`width: ${s.session.forearmLoad/5*100}%`),d(Da,`${s.session.forearmLoad??""}/5`)}),Je(3,ae,()=>ua,()=>({duration:150})),r(L,ae)};c(V,L=>{a(x)&&L(de)})}e(j);var we=i(j,2);Ia(we,{get isOpen(){return a(f)},title:"Delete Session",message:"Are you sure you want to delete this session and all its climbs? This cannot be undone.",onConfirm:_,onCancel:()=>v(f,!1)}),y((L,ae)=>{Z=Qe(j,1,"session-card svelte-d5hg2r",null,Z,{expanded:a(x)}),Ve(O,"aria-expanded",a(x)),d(H,L),d(re,ae),d(J,`${s.session.area??""} `),d(le,s.session.climbingType),d(C,`${a(g)??""} climbs`),Ve(o,"title",`Finger Load: ${s.session.fingerLoad??""}`),d(I,s.session.fingerLoad),Ve(M,"title",`Shoulder Load: ${s.session.shoulderLoad??""}`),d(te,s.session.shoulderLoad),Ve(pe,"title",`Forearm Load: ${s.session.forearmLoad??""}`),d(Fe,s.session.forearmLoad),d(E,a(x)?"‚ñ≤":"‚ñº")},[()=>new Date(s.session.date).getDate(),()=>new Date(s.session.date).toLocaleDateString(void 0,{month:"short"})]),r(T,F),oa()}la(["click","keydown"]);var xi=n('<span class="spinner svelte-1s7jdlh"></span> Fetching...',1),wi=n('<div class="error-banner svelte-1s7jdlh"> </div>'),Si=n('<small class="svelte-1s7jdlh">Try adjusting your filters.</small>'),qi=n('<div class="empty-state svelte-1s7jdlh"><p class="svelte-1s7jdlh">No outdoor climbing sessions found.</p> <!></div>'),Di=n('<div class="load-more-container svelte-1s7jdlh"><button class="load-more-btn svelte-1s7jdlh"> </button></div>'),Ti=n('<div class="view-container svelte-1s7jdlh"><div class="view-header svelte-1s7jdlh"><h2 class="view-title svelte-1s7jdlh">‚õ∞Ô∏è Outdoor Climbing History</h2> <div class="header-actions svelte-1s7jdlh"><button class="action-btn secondary svelte-1s7jdlh" title="Export filtered data to CSV">üì• Export</button> <button class="action-btn svelte-1s7jdlh" title="Fetch data from cloud"><!></button></div></div> <!> <!> <div class="info-bar svelte-1s7jdlh"><div class="legend-wrapper svelte-1s7jdlh"><!></div> <div class="load-key svelte-1s7jdlh"><span class="key-label svelte-1s7jdlh">Load:</span> <div class="key-item svelte-1s7jdlh"><span class="dot finger svelte-1s7jdlh"></span> Finger</div> <div class="key-item svelte-1s7jdlh"><span class="dot shoulder svelte-1s7jdlh"></span> Shoulder</div> <div class="key-item svelte-1s7jdlh"><span class="dot forearm svelte-1s7jdlh"></span> Forearm</div></div></div> <div class="sessions-list"><!> <!> <!></div></div>');function ki(T,s){va(s,!0);let x=B(pa([])),f=B(pa([])),w=B(!1),p=B(""),_=B(pa({startDate:"",endDate:"",area:"",crag:"",climbingType:"",sessionType:"",grade:""})),q=B(20);const g=20;Ja(()=>{h()});function h(){const l=Ra("outdoor_climb");v(x,l.sort((o,I)=>new Date(I.date).getTime()-new Date(o.date).getTime()),!0),O()}async function F(){v(w,!0),v(p,"");try{await Va();const l=await ht();l.ok&&l.data?j(l.data):v(p,l.error||"Failed to fetch data",!0)}catch(l){v(p,l instanceof Error?l.message:"Unknown error",!0)}finally{v(w,!1)}}function j(l){const o=l.map(M=>({...M,activityType:"outdoor_climb",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),syncStatus:"synced",syncedAt:new Date().toISOString(),openGrip:0,crimpGrip:0,pinchGrip:0,sloperGrip:0,jugGrip:0}));Ba(o);const I=Ra("outdoor_climb");v(x,I.sort((M,te)=>new Date(te.date).getTime()-new Date(M.date).getTime()),!0),O()}function Z(l){v(_,l,!0),O()}function O(){v(q,g),v(f,a(x).filter(l=>{if(a(_).startDate&&l.date<a(_).startDate||a(_).endDate&&l.date>a(_).endDate||a(_).area&&!l.area.toLowerCase().includes(a(_).area.toLowerCase())||a(_).crag&&!l.crag.toLowerCase().includes(a(_).crag.toLowerCase()))return!1;if(a(_).climbingType&&l.climbingType!==a(_).climbingType)if(l.climbingType==="Mixed")if(a(_).climbingType==="Bouldering"){if(!l.climbs.some(o=>!o.isSport))return!1}else if(a(_).climbingType==="Sport"||a(_).climbingType==="Trad"){if(!l.climbs.some(o=>o.isSport))return!1}else return!1;else return!1;if(a(_).sessionType&&!l.trainingTypes?.includes(a(_).sessionType))return!1;if(a(_).grade){const o=a(_).grade.trim().toLowerCase();if(!l.climbs.some(M=>M.grade.trim().toLowerCase()===o))return!1}return!0}),!0)}function P(){v(q,a(q)+g)}var D=Ti(),U=t(D),H=i(t(U),2),ne=t(H);ne.__click=()=>tt(a(f),"outdoor_climbs");var re=i(ne,2);re.__click=F;var Y=t(re);{var X=l=>{var o=xi();Ca(),r(l,o)},ve=l=>{var o=wa("‚òÅÔ∏è Fetch Data");r(l,o)};c(Y,l=>{a(w)?l(X):l(ve,!1)})}e(re),e(H),e(U);var J=i(U,2);{var _e=l=>{var o=wi(),I=t(o,!0);e(o),y(()=>d(I,a(p))),Je(3,o,()=>ua),r(l,o)};c(J,l=>{a(p)&&l(_e)})}var m=i(J,2);Ps(m,{onFilterParamsChange:Z});var k=i(m,2),N=t(k),$=t(N);at($),e(N),Ca(2),e(k);var K=i(k,2),le=t(K);ye(le,17,()=>a(f).slice(0,a(q)),l=>l.id,(l,o)=>{yi(l,{get session(){return a(o)},onDelete:h})});var fe=i(le,2);{var C=l=>{var o=qi(),I=i(t(o),2);{var M=te=>{var pe=Si();r(te,pe)};c(I,te=>{a(x).length>0&&te(M)})}e(o),r(l,o)};c(fe,l=>{a(f).length===0&&l(C)})}var z=i(fe,2);{var b=l=>{var o=Di(),I=t(o);I.__click=P;var M=t(I);e(I),e(o),y(()=>d(M,`Load More (${a(f).length-a(q)} remaining)`)),r(l,o)};c(z,l=>{a(q)<a(f).length&&l(b)})}e(K),e(D),y(()=>re.disabled=a(w)),r(T,D),oa()}la(["click"]);var Ci=n('<div class="view-container svelte-133enjd"><h2 class="view-title svelte-133enjd">üèãÔ∏è Gym Session History</h2> <p class="placeholder-text svelte-133enjd">Your gym sessions will appear here</p></div>');function Fi(T){var s=Ci();r(T,s)}var Li=n('<span class="spinner svelte-1szs0u9"></span> Fetching...',1),zi=n('<div class="loading svelte-1szs0u9">Loading sessions...</div>'),Gi=n('<div class="empty-state svelte-1szs0u9"><!></div>'),Ei=n('<span class="set-tag svelte-1szs0u9"> <span class="x svelte-1szs0u9">x</span> </span>'),Oi=n('<div class="ex-notes svelte-1szs0u9"> </div>'),Ai=n('<div class="exercise-item svelte-1szs0u9"><div class="ex-header svelte-1szs0u9"><span class="ex-name svelte-1szs0u9"> </span> <span class="ex-grip svelte-1szs0u9"> </span></div> <div class="ex-sets svelte-1szs0u9"></div> <!></div>'),ji=n('<div class="card-body svelte-1szs0u9"><div class="exercises-list svelte-1szs0u9"></div></div>'),Ni=n('<div><div class="card-header svelte-1szs0u9" role="button" tabindex="0"><div class="header-main"><span class="session-date svelte-1szs0u9"> </span> <span class="meta svelte-1szs0u9"><!> </span></div> <div class="header-status svelte-1szs0u9"><span>‚óè</span> <button class="btn-icon delete-btn svelte-1szs0u9" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-1szs0u9"> </span></div></div> <!></div>'),Ii=n('<div class="load-more-container svelte-1szs0u9"><button class="load-more-btn svelte-1szs0u9"> </button></div>'),Mi=n('<div class="timeline svelte-1szs0u9"><!> <!></div>'),Ri=n('<div class="view-content svelte-1szs0u9"><div class="header svelte-1szs0u9"><h3 class="svelte-1szs0u9">ü§è Fingerboarding Log</h3> <button class="fetch-btn svelte-1szs0u9" title="Fetch data from cloud"><!></button></div> <div class="filters svelte-1szs0u9"><div class="filter-group svelte-1szs0u9"><label for="start-date" class="svelte-1szs0u9">From</label> <input type="date" id="start-date" class="svelte-1szs0u9"/></div> <div class="filter-group svelte-1szs0u9"><label for="end-date" class="svelte-1szs0u9">To</label> <input type="date" id="end-date" class="svelte-1szs0u9"/></div></div> <!></div> <!>',1);function Pi(T,s){va(s,!0);let x=B(pa([])),f=B(!0),w=B(""),p=B(""),_=B(pa(new Set)),q=B(20);const g=20;_t(()=>{a(w),a(p),v(q,g)});let h=B(!1),F=B(null);function j(b){v(F,b,!0),v(h,!0)}function Z(){a(F)&&(Pa(a(F)),v(F,null),v(h,!1),v(x,Wa().sort((b,l)=>new Date(l.date).getTime()-new Date(b.date).getTime()),!0))}async function O(){v(f,!0),v(x,Wa().sort((b,l)=>new Date(l.date).getTime()-new Date(b.date).getTime()),!0);try{await Va();const b=await bt();if(b.ok&&b.data){const l=b.data.map(o=>({...o,activityType:"fingerboarding",createdAt:o.createdAt||new Date().toISOString(),updatedAt:o.updatedAt||new Date().toISOString(),syncStatus:"synced"}));Ba(l),v(x,Wa().sort((o,I)=>new Date(I.date).getTime()-new Date(o.date).getTime()),!0)}}catch(b){console.error("Failed to sync",b)}finally{v(f,!1)}}O();let P=ba(()=>a(x).filter(b=>!(a(w)&&new Date(b.date)<new Date(a(w))||a(p)&&new Date(b.date)>new Date(a(p)))));function D(){v(q,a(q)+g)}function U(b){a(_).has(b)?a(_).delete(b):a(_).add(b),v(_,new Set(a(_)),!0)}function H(b){return b.exercises.reduce((l,o)=>l+o.details.length,0)}var ne=Ri(),re=ke(ne),Y=t(re),X=i(t(Y),2);X.__click=O;var ve=t(X);{var J=b=>{var l=Li();Ca(),r(b,l)},_e=b=>{var l=wa("‚òÅÔ∏è Fetch Data");r(b,l)};c(ve,b=>{a(f)?b(J):b(_e,!1)})}e(X),e(Y);var m=i(Y,2),k=t(m),N=i(t(k),2);ia(N),e(k);var $=i(k,2),K=i(t($),2);ia(K),e($),e(m);var le=i(m,2);{var fe=b=>{var l=zi();r(b,l)},C=b=>{var l=Me(),o=ke(l);{var I=te=>{var pe=Gi(),Fe=t(pe);{var ge=me=>{var ee=wa("No sessions match filter.");r(me,ee)},ue=me=>{var ee=wa("No fingerboarding sessions logged yet.");r(me,ee)};c(Fe,me=>{a(x).length>0?me(ge):me(ue,!1)})}e(pe),r(te,pe)},M=te=>{var pe=Mi(),Fe=t(pe);ye(Fe,17,()=>a(P).slice(0,a(q)),Ce,(me,ee)=>{var qe=Ni();let Oe;var je=t(qe);je.__click=()=>U(a(ee).id),je.__keydown=Te=>Te.key==="Enter"&&U(a(ee).id);var E=t(je),V=t(E),de=t(V,!0);e(V);var we=i(V,2),L=t(we);{var ae=Te=>{var Ge=wa();y(()=>d(Ge,`${a(ee).location??""} ¬∑`)),r(Te,Ge)};c(L,Te=>{a(ee).location&&a(ee).location!=="N/A"&&a(ee).location!=="Home"&&Te(ae)})}var Se=i(L);e(we),e(E);var Q=i(E,2),se=t(Q);let ce;var ze=i(se,2);ze.__click=Te=>{Te.stopPropagation(),j(a(ee).id)};var he=i(ze,2),De=t(he,!0);e(he),e(Q),e(je);var xe=i(je,2);{var Le=Te=>{var Ge=ji(),Ue=t(Ge);ye(Ue,21,()=>a(ee).exercises||[],Ce,(Pe,Ne)=>{var He=Ai(),Ie=t(He),Re=t(Ie),fa=t(Re,!0);e(Re);var Be=i(Re,2),da=t(Be,!0);e(Be),e(Ie);var Xe=i(Ie,2);ye(Xe,21,()=>a(Ne).details,Ce,(Ye,Ke)=>{var $e=Ei(),ca=t($e),ea=i(ca,2);e($e),y(()=>{d(ca,`${a(Ke).weight>0?`+${a(Ke).weight}kg`:"BW"} `),d(ea,` ${a(Ke).reps??""}s/reps`)}),r(Ye,$e)}),e(Xe);var na=i(Xe,2);{var qa=Ye=>{var Ke=Oi(),$e=t(Ke);e(Ke),y(()=>d($e,`"${a(Ne).notes??""}"`)),r(Ye,Ke)};c(na,Ye=>{a(Ne).notes&&Ye(qa)})}e(He),y(()=>{d(fa,a(Ne).name),d(da,a(Ne).gripType)}),r(Pe,He)}),e(Ue),e(Ge),Je(3,Ge,()=>ua,()=>({duration:150})),r(Te,Ge)};c(xe,Te=>{a(_).has(a(ee).id)&&Te(Le)})}e(qe),y((Te,Ge,Ue,Pe)=>{Oe=Qe(qe,1,"session-card svelte-1szs0u9",null,Oe,Te),d(de,Ge),d(Se,` ${a(ee).exercises.length??""} Exercises ¬∑ ${Ue??""} Sets`),ce=Qe(se,1,"sync-dot svelte-1szs0u9",null,ce,{synced:a(ee).syncStatus==="synced"}),Ve(se,"title",a(ee).syncStatus==="synced"?"Synced":"Local"),d(De,Pe)},[()=>({expanded:a(_).has(a(ee).id)}),()=>new Date(a(ee).date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}),()=>H(a(ee)),()=>a(_).has(a(ee).id)?"‚ñ≤":"‚ñº"]),r(me,qe)});var ge=i(Fe,2);{var ue=me=>{var ee=Ii(),qe=t(ee);qe.__click=D;var Oe=t(qe);e(qe),e(ee),y(()=>d(Oe,`Load More (${a(P).length-a(q)} remaining)`)),r(me,ee)};c(ge,me=>{a(q)<a(P).length&&me(ue)})}e(pe),r(te,pe)};c(o,te=>{a(P).length===0?te(I):te(M,!1)},!0)}r(b,l)};c(le,b=>{a(f)&&a(x).length===0?b(fe):b(C,!1)})}e(re);var z=i(re,2);Ia(z,{get isOpen(){return a(h)},title:"Delete Fingerboard Session",message:"Are you sure you want to delete this session? This cannot be undone.",onConfirm:Z,onCancel:()=>v(h,!1)}),y(()=>X.disabled=a(f)),ra(N,()=>a(w),b=>v(w,b)),ra(K,()=>a(p),b=>v(p,b)),r(T,ne),oa()}la(["click","keydown"]);var Bi=n('<span class="spinner svelte-xyvf5r"></span> Fetching...',1),Vi=n('<div class="loading svelte-xyvf5r">Loading sessions...</div>'),Wi=n('<div class="empty-state svelte-xyvf5r">No competitions logged yet.</div>'),Ui=n('<span class="round-pos svelte-xyvf5r"> </span>'),Hi=n('<span class="c-attempts svelte-xyvf5r"> </span>'),Ki=n('<div class="climb-notes svelte-xyvf5r"> </div>'),Zi=n('<div class="climb-row svelte-xyvf5r"><div class="climb-info svelte-xyvf5r"><span class="c-name svelte-xyvf5r"> </span> <!></div> <div class="climb-result"><span> </span></div></div> <!>',1),Ji=n('<div class="climbs-list"></div>'),Yi=n('<div class="round-item svelte-xyvf5r"><div class="round-header svelte-xyvf5r"><span class="round-name"> </span> <!></div> <!></div>'),Qi=n('<div class="rounds-list svelte-xyvf5r"></div>'),Xi=n('<div class="load-meta svelte-xyvf5r"><span> </span></div>'),$i=n('<div class="card-body svelte-xyvf5r"><!> <!> <div class="session-footer svelte-xyvf5r"><span> </span></div></div>'),er=n('<div><div class="card-header svelte-xyvf5r" role="button" tabindex="0"><div class="header-main svelte-xyvf5r"><div class="left-col svelte-xyvf5r"><span class="venue svelte-xyvf5r"> </span> <span class="date svelte-xyvf5r"> </span></div> <div class="right-col svelte-xyvf5r"><div class="badges svelte-xyvf5r"><span class="type-tag svelte-xyvf5r"> </span> <span class="result-tag svelte-xyvf5r"> </span></div></div></div> <div class="header-status svelte-xyvf5r"><span>‚óè</span> <button class="btn-icon delete-btn svelte-xyvf5r" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-xyvf5r"> </span></div></div> <!></div>'),ar=n('<div class="load-more-container svelte-xyvf5r"><button class="load-more-btn svelte-xyvf5r"> </button></div>'),tr=n('<div class="timeline svelte-xyvf5r"><!> <!></div>'),sr=n('<div class="view-content svelte-xyvf5r"><div class="header svelte-xyvf5r"><h3 class="svelte-xyvf5r">üèÜ Competition Log</h3> <button class="fetch-btn svelte-xyvf5r" title="Fetch data from cloud"><!></button></div> <!> <!></div>');function ir(T,s){va(s,!0);let x=B(pa([])),f=B(!0),w=B(pa(new Set)),p=B(20);const _=20;let q=B(!1),g=B(null);function h(m){v(g,m,!0),v(q,!0)}function F(){a(g)&&(Pa(a(g)),v(g,null),v(q,!1),v(x,Ua().sort((m,k)=>new Date(k.date).getTime()-new Date(m.date).getTime()),!0))}async function j(){v(f,!0),v(p,_),v(x,Ua().sort((m,k)=>new Date(k.date).getTime()-new Date(m.date).getTime()),!0);try{await Va();const m=await yt();if(m.ok&&m.data){const k=m.data.map(N=>({...N,activityType:"competition",type:N.type,rounds:N.rounds.map($=>({...$,climbs:$.climbs?.map(K=>({...K,status:K.status}))})),createdAt:N.createdAt||new Date().toISOString(),updatedAt:N.updatedAt||new Date().toISOString(),syncStatus:"synced"}));Ba(k),v(x,Ua().sort((N,$)=>new Date($.date).getTime()-new Date(N.date).getTime()),!0)}}catch(m){console.error("Failed to sync",m)}finally{v(f,!1)}}j();function Z(m){a(w).has(m)?a(w).delete(m):a(w).add(m),v(w,new Set(a(w)),!0)}function O(){v(p,a(p)+_)}function P(m){if(!m.rounds||m.rounds.length===0)return"No rounds";const k=m.rounds[m.rounds.length-1];if(k.position)return`#${k.position} ${k.name}`;if(k.climbs){const N=k.climbs.filter(K=>K.status==="Top"||K.status==="Flash").length,$=k.climbs.filter(K=>K.status==="Zone").length;return`${m.rounds.length} Rnds ¬∑ Final: ${N}T ${$+N}Z`}return k.name}var D=sr(),U=t(D),H=i(t(U),2);H.__click=j;var ne=t(H);{var re=m=>{var k=Bi();Ca(),r(m,k)},Y=m=>{var k=wa("‚òÅÔ∏è Fetch Data");r(m,k)};c(ne,m=>{a(f)?m(re):m(Y,!1)})}e(H),e(U);var X=i(U,2);{var ve=m=>{var k=Vi();r(m,k)},J=m=>{var k=Me(),N=ke(k);{var $=le=>{var fe=Wi();r(le,fe)},K=le=>{var fe=tr(),C=t(fe);ye(C,17,()=>a(x).slice(0,a(p)),Ce,(l,o)=>{var I=er();let M;var te=t(I);te.__click=()=>Z(a(o).id),te.__keydown=he=>he.key==="Enter"&&Z(a(o).id);var pe=t(te),Fe=t(pe),ge=t(Fe),ue=t(ge,!0);e(ge);var me=i(ge,2),ee=t(me,!0);e(me),e(Fe);var qe=i(Fe,2),Oe=t(qe),je=t(Oe),E=t(je,!0);e(je);var V=i(je,2),de=t(V,!0);e(V),e(Oe),e(qe),e(pe);var we=i(pe,2),L=t(we);let ae;var Se=i(L,2);Se.__click=he=>{he.stopPropagation(),h(a(o).id)};var Q=i(Se,2),se=t(Q,!0);e(Q),e(we),e(te);var ce=i(te,2);{var ze=he=>{var De=$i(),xe=t(De);{var Le=Ie=>{var Re=Qi();ye(Re,21,()=>a(o).rounds||[],Ce,(fa,Be)=>{var da=Yi(),Xe=t(da),na=t(Xe),qa=t(na,!0);e(na);var Ye=i(na,2);{var Ke=ea=>{var aa=Ui(),Da=t(aa);e(aa),y(()=>d(Da,`#${a(Be).position??""}`)),r(ea,aa)};c(Ye,ea=>{a(Be).position&&ea(Ke)})}e(Xe);var $e=i(Xe,2);{var ca=ea=>{var aa=Ji();ye(aa,21,()=>a(Be).climbs||[],Ce,(Da,Ze)=>{var Fa=Zi(),ga=ke(Fa),Ta=t(ga),ma=t(Ta),Oa=t(ma,!0);e(ma);var La=i(ma,2);{var Aa=A=>{var u=Hi(),S=t(u);e(u),y(()=>d(S,`(${a(Ze).attemptCount??""} tries)`)),r(A,u)};c(La,A=>{a(Ze).attemptCount>1&&A(Aa)})}e(Ta);var ka=i(Ta,2),ya=t(ka);let xa;var za=t(ya,!0);e(ya),e(ka),e(ga);var Ga=i(ga,2);{var R=A=>{var u=Ki(),S=t(u);e(u),y(()=>d(S,`"${a(Ze).notes??""}"`)),r(A,u)};c(Ga,A=>{a(Ze).notes&&A(R)})}y(()=>{d(Oa,a(Ze).name),xa=Qe(ya,1,"status-badge svelte-xyvf5r",null,xa,{top:a(Ze).status==="Top"||a(Ze).status==="Flash",zone:a(Ze).status==="Zone"}),d(za,a(Ze).status)}),r(Da,Fa)}),e(aa),r(ea,aa)};c($e,ea=>{a(Be).climbs&&ea(ca)})}e(da),y(()=>d(qa,a(Be).name)),r(fa,da)}),e(Re),r(Ie,Re)};c(xe,Ie=>{a(o).rounds&&Ie(Le)})}var Te=i(xe,2);{var Ge=Ie=>{var Re=Xi(),fa=t(Re),Be=t(fa);e(fa),e(Re),y(()=>d(Be,`Detailed Load: Fingers ${a(o).fingerLoad??""}/5, Shoulders ${a(o).shoulderLoad??""}/5, Forearms ${a(o).forearmLoad??""}/5`)),r(Ie,Re)};c(Te,Ie=>{(a(o).fingerLoad||a(o).shoulderLoad)&&Ie(Ge)})}var Ue=i(Te,2),Pe=t(Ue);let Ne;var He=t(Pe,!0);e(Pe),e(Ue),e(De),y(()=>{Ne=Qe(Pe,1,"sync-status svelte-xyvf5r",null,Ne,{synced:a(o).syncStatus==="synced"}),d(He,a(o).syncStatus==="synced"?"‚úì Synced":"‚òÅ Local")}),Je(3,De,()=>ua,()=>({duration:150})),r(he,De)};c(ce,he=>{a(w).has(a(o).id)&&he(ze)})}e(I),y((he,De,xe,Le)=>{M=Qe(I,1,"session-card svelte-xyvf5r",null,M,he),d(ue,a(o).customVenue||a(o).venue),d(ee,De),d(E,a(o).type),d(de,xe),ae=Qe(L,1,"sync-dot",null,ae,{synced:a(o).syncStatus==="synced"}),Ve(L,"title",a(o).syncStatus==="synced"?"Synced":"Local"),d(se,Le)},[()=>({expanded:a(w).has(a(o).id)}),()=>new Date(a(o).date).toLocaleDateString(void 0,{weekday:"short",day:"numeric",month:"short"}),()=>P(a(o)),()=>a(w).has(a(o).id)?"‚ñ≤":"‚ñº"]),r(l,I)});var z=i(C,2);{var b=l=>{var o=ar(),I=t(o);I.__click=O;var M=t(I);e(I),e(o),y(()=>d(M,`Load More (${a(x).length-a(p)} remaining)`)),r(l,o)};c(z,l=>{a(p)<a(x).length&&l(b)})}e(fe),r(le,fe)};c(N,le=>{a(x).length===0?le($):le(K,!1)},!0)}r(m,k)};c(X,m=>{a(f)&&a(x).length===0?m(ve):m(J,!1)})}var _e=i(X,2);Ia(_e,{get isOpen(){return a(q)},title:"Delete Competition",message:"Are you sure you want to delete this competition session? This action cannot be undone.",onConfirm:F,onCancel:()=>v(q,!1)}),e(D),y(()=>H.disabled=a(f)),r(T,D),oa()}la(["click","keydown"]);var rr=n('<button class="backdrop svelte-108px9u" aria-label="Close settings"></button> <div class="settings-modal svelte-108px9u" role="dialog" aria-modal="true"><div class="settings-header svelte-108px9u"><h3 class="svelte-108px9u">Settings</h3> <button class="close-btn svelte-108px9u">‚úï</button></div> <div class="settings-content"><div class="setting-item svelte-108px9u"><div class="setting-info svelte-108px9u"><span class="setting-label svelte-108px9u">Local Data</span> <span class="setting-desc svelte-108px9u">Clear all cached data on this device</span></div> <button class="btn-clear-cache svelte-108px9u">Clear Cache</button></div></div></div>',1),lr=n("<option> </option>"),nr=n('<div class="view-container svelte-108px9u"><!></div>'),vr=n('<div class="page svelte-108px9u"><div class="page-header svelte-108px9u"><div><h1 class="svelte-108px9u">üìä View Data</h1> <p class="subtitle svelte-108px9u">Browse your training history</p></div> <button class="settings-btn svelte-108px9u" aria-label="Settings">‚öôÔ∏è</button></div> <!> <!> <div class="content-card svelte-108px9u"><div class="form-group svelte-108px9u"><label for="activity-type" class="svelte-108px9u">Activity Type</label> <select id="activity-type" class="svelte-108px9u"><option disabled>Select an activity...</option><!></select></div> <!></div></div>');function yr(T,s){va(s,!0);const x=[{value:"indoor_climb",label:"Indoor Climb",icon:"üßó"},{value:"outdoor_climb",label:"Outdoor Climb",icon:"‚õ∞Ô∏è"},{value:"gym_session",label:"Gym Session",icon:"üèãÔ∏è"},{value:"fingerboarding",label:"Fingerboarding",icon:"ü§è"},{value:"competition",label:"Competition",icon:"üèÜ"}];let f=B(""),w=B(!1),p=B(!1);function _(){v(w,!0)}function q(){v(w,!1)}function g(){v(w,!1),v(p,!0)}function h(){ft()}var F=vr(),j=t(F),Z=i(t(j),2);Z.__click=_,e(j);var O=i(j,2);{var P=J=>{var _e=rr(),m=ke(_e);m.__click=q;var k=i(m,2),N=t(k),$=i(t(N),2);$.__click=q,e(N);var K=i(N,2),le=t(K),fe=i(t(le),2);fe.__click=g,e(le),e(K),e(k),Je(3,m,()=>$a,()=>({duration:200})),Je(3,k,()=>et,()=>({duration:200,start:.9})),r(J,_e)};c(O,J=>{a(w)&&J(P)})}var D=i(O,2);Ia(D,{get isOpen(){return a(p)},title:"Clear all local data?",message:"Are you sure you want to clear all locally cached data? This will remove all sessions stored on this device. Data already synced to the cloud will be preserved.",confirmKeyword:"clear",onConfirm:h,onCancel:()=>v(p,!1)});var U=i(D,2),H=t(U),ne=i(t(H),2),re=t(ne);re.value=re.__value="";var Y=i(re);ye(Y,17,()=>x,J=>J.value,(J,_e)=>{var m=lr(),k=t(m);e(m);var N={};y(()=>{d(k,`${a(_e).icon??""} ${a(_e).label??""}`),N!==(N=a(_e).value)&&(m.value=(m.__value=a(_e).value)??"")}),r(J,m)}),e(ne),e(H);var X=i(H,2);{var ve=J=>{var _e=nr(),m=t(_e);{var k=$=>{ks($,{})},N=$=>{var K=Me(),le=ke(K);{var fe=z=>{ki(z,{})},C=z=>{var b=Me(),l=ke(b);{var o=M=>{Fi(M)},I=M=>{var te=Me(),pe=ke(te);{var Fe=ue=>{Pi(ue,{})},ge=ue=>{var me=Me(),ee=ke(me);{var qe=Oe=>{ir(Oe,{})};c(ee,Oe=>{a(f)==="competition"&&Oe(qe)},!0)}r(ue,me)};c(pe,ue=>{a(f)==="fingerboarding"?ue(Fe):ue(ge,!1)},!0)}r(M,te)};c(l,M=>{a(f)==="gym_session"?M(o):M(I,!1)},!0)}r(z,b)};c(le,z=>{a(f)==="outdoor_climb"?z(fe):z(C,!1)},!0)}r($,K)};c(m,$=>{a(f)==="indoor_climb"?$(k):$(N,!1)})}e(_e),r(J,_e)};c(X,J=>{a(f)&&J(ve)})}e(U),e(F),Sa(ne,()=>a(f),J=>v(f,J)),r(T,F),oa()}la(["click"]);export{yr as component};
