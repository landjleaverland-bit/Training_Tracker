import{n as ye,f as Ll,r as Qe,s as Xe,h as we,i as jl,e as zl,y as Il,c as Sl,o as Gl}from"../chunks/GsYGQhEn.js";import{y as Wl,z as Kl,A as Yl,B as Jl,l as pe,k as Ae,S as xe,i as Ze,d as _,C as Ye,D as M,E as ze,a as z,b as i,F as W,G as Ql,w as a,c as d,e as y,H as j,g as S,h as v,j as O,s as Be,f as fe,t as de,I as He,J as Ie,K as Ve,m as Ge,n as We,L as Ol,M as je,N as Ke,o as mt,p as bt,q as ft,r as dt,u as vt,v as yt,O as ut,P as ht,Q as Xl}from"../chunks/BD0eBpJ7.js";import{w as Nl}from"../chunks/ZG84kFMr.js";function ql(n,e,t,s){if(!e)return ye;const l=n.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return ye;const{delay:o=0,duration:c=300,easing:r=Ll,start:f=Wl()+o,end:m=f+c,tick:u=ye,css:b}=t(n,{from:e,to:l},s);let g=!0,h=!1,k;function p(){b&&(k=Jl(n,0,1,c,o,r,b)),o||(h=!0)}function C(){b&&Yl(n,k),g=!1}return Kl(T=>{if(!h&&T>=f&&(h=!0),h&&T>=m&&(u(1,0),C()),!g)return!1;if(h){const E=T-f,w=0+1*r(E/c);u(w,1-w)}return!0}),p(),u(0,1),C}function Al(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:s}=e,l=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=s,Et(n,l)}}function Et(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const s=getComputedStyle(n),l=s.transform==="none"?"":s.transform;n.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function ce(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Bl(n,e){n.d(1),e.delete(n.key)}function xl(n,e){Ae(n,1,1,()=>{e.delete(n.key)})}function Vl(n,e){n.f(),xl(n,e)}function kt(n,e,t,s,l,o,c,r,f,m,u,b){let g=n.length,h=o.length,k=g;const p={};for(;k--;)p[n[k].key]=k;const C=[],T=new Map,E=new Map,w=[];for(k=h;k--;){const q=b(l,o,k),L=t(q);let U=c.get(L);U?w.push(()=>U.p(q,e)):(U=m(L,q),U.c()),T.set(L,C[k]=U),L in p&&E.set(L,Math.abs(k-p[L]))}const I=new Set,D=new Set;function A(q){pe(q,1),q.m(r,u),c.set(q.key,q),u=q.first,h--}for(;g&&h;){const q=C[h-1],L=n[g-1],U=q.key,H=L.key;q===L?(u=q.first,g--,h--):T.has(H)?!c.has(U)||I.has(U)?A(q):D.has(H)?g--:E.get(U)>E.get(H)?(D.add(U),A(q)):(I.add(H),g--):(f(L,c),g--)}for(;g--;){const q=n[g];T.has(q.key)||f(q,c)}for(;h;)A(C[h-1]);return Qe(w),C}const Ct="training_tracker_api_key",Zl="c2fb788c7deedbeaa296e424d4c2921b871a4f6cb4cf393c1c1105653ab399b4",$l=localStorage.getItem(Ct),ct=Nl($l);ct.subscribe(n=>{n?localStorage.setItem(Ct,n):localStorage.removeItem(Ct)});async function es(n){const e=new TextEncoder().encode(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(l=>l.toString(16).padStart(2,"0")).join("")}async function ts(n){return await es(n)===Zl?(ct.set(n),!0):!1}function ls(){ct.set(null)}function Pl(n){const e=n-1;return e*e*e+1}function Me(n,{delay:e=0,duration:t=400,easing:s=Ll}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:o=>`opacity: ${o*l}`}}function ot(n,{delay:e=0,duration:t=400,easing:s=Pl,axis:l="y"}={}){const o=getComputedStyle(n),c=+o.opacity,r=l==="y"?"height":"width",f=parseFloat(o[r]),m=l==="y"?["top","bottom"]:["left","right"],u=m.map(T=>`${T[0].toUpperCase()}${T.slice(1)}`),b=parseFloat(o[`padding${u[0]}`]),g=parseFloat(o[`padding${u[1]}`]),h=parseFloat(o[`margin${u[0]}`]),k=parseFloat(o[`margin${u[1]}`]),p=parseFloat(o[`border${u[0]}Width`]),C=parseFloat(o[`border${u[1]}Width`]);return{delay:e,duration:t,easing:s,css:T=>`overflow: hidden;opacity: ${Math.min(T*20,1)*c};${r}: ${T*f}px;padding-${m[0]}: ${T*b}px;padding-${m[1]}: ${T*g}px;margin-${m[0]}: ${T*h}px;margin-${m[1]}: ${T*k}px;border-${m[0]}-width: ${T*p}px;border-${m[1]}-width: ${T*C}px;`}}function Lt(n){let e,t;return{c(){e=v("span"),t=de(n[1]),this.h()},l(s){e=d(s,"SPAN",{class:!0});var l=y(e);t=fe(l,n[1]),l.forEach(_),this.h()},h(){a(e,"class","error-text svelte-9dby7l")},m(s,l){z(s,e,l),i(e,t)},p(s,l){l&2&&Be(t,s[1])},d(s){s&&_(e)}}}function ss(n){let e,t,s='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',l,o,c="Access Restricted",r,f,m="Please enter your password to unlock the application.",u,b,g,h,k,p,C,T="Unlock App",E,w,I,D=n[1]&&Lt(n);return{c(){e=v("div"),t=v("div"),t.innerHTML=s,l=O(),o=v("h2"),o.textContent=c,r=O(),f=v("p"),f.textContent=m,u=O(),b=v("form"),g=v("div"),h=v("input"),k=O(),D&&D.c(),p=O(),C=v("button"),C.textContent=T,this.h()},l(A){e=d(A,"DIV",{class:!0});var q=y(e);t=d(q,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1lmknyl"&&(t.innerHTML=s),l=S(q),o=d(q,"H2",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-r8hgrj"&&(o.textContent=c),r=S(q),f=d(q,"P",{class:!0,"data-svelte-h":!0}),j(f)!=="svelte-1ix94go"&&(f.textContent=m),u=S(q),b=d(q,"FORM",{class:!0});var L=y(b);g=d(L,"DIV",{class:!0});var U=y(g);h=d(U,"INPUT",{type:!0,placeholder:!0,class:!0}),k=S(U),D&&D.l(U),U.forEach(_),p=S(L),C=d(L,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(C)!=="svelte-6e23ii"&&(C.textContent=T),L.forEach(_),q.forEach(_),this.h()},h(){a(t,"class","lock-icon svelte-9dby7l"),a(o,"class","svelte-9dby7l"),a(f,"class","svelte-9dby7l"),a(h,"type","password"),a(h,"placeholder","Enter Password"),h.disabled=n[2],a(h,"class","svelte-9dby7l"),ze(h,"error",n[1]),a(g,"class","input-group svelte-9dby7l"),a(C,"type","submit"),a(C,"class","unlock-button svelte-9dby7l"),a(b,"class","svelte-9dby7l"),a(e,"class","login-container svelte-9dby7l")},m(A,q){z(A,e,q),i(e,t),i(e,l),i(e,o),i(e,r),i(e,f),i(e,u),i(e,b),i(b,g),i(g,h),M(h,n[0]),i(g,k),D&&D.m(g,null),i(b,p),i(b,C),w||(I=[W(h,"input",n[4]),W(b,"submit",Ql(n[3]))],w=!0)},p(A,[q]){q&4&&(h.disabled=A[2]),q&1&&h.value!==A[0]&&M(h,A[0]),q&2&&ze(h,"error",A[1]),A[1]?D?D.p(A,q):(D=Lt(A),D.c(),D.m(g,null)):D&&(D.d(1),D=null)},i(A){A&&(E||we(()=>{E=Ye(e,Me,{}),E.start()}))},o:ye,d(A){A&&_(e),D&&D.d(),w=!1,Qe(I)}}}function ns(n,e,t){let s="",l="",o=!1;async function c(){if(!s.trim()){t(1,l="Please enter a password");return}t(2,o=!0),t(1,l="");try{await ts(s.trim())||t(1,l="Incorrect password")}catch{t(1,l="An error occurred")}finally{t(2,o=!1)}}function r(){s=this.value,t(0,s)}return[s,l,o,c,r]}class os extends xe{constructor(e){super(),Ze(this,e,ns,ss,Xe,{})}}function Ml(n,{from:e,to:t},s={}){const l=getComputedStyle(n),o=l.transform==="none"?"":l.transform,[c,r]=l.transformOrigin.split(" ").map(parseFloat),f=e.left+e.width*c/t.width-(t.left+c),m=e.top+e.height*r/t.height-(t.top+r),{delay:u=0,duration:b=h=>Math.sqrt(h)*120,easing:g=Pl}=s;return{delay:u,duration:jl(b)?b(Math.sqrt(f*f+m*m)):b,easing:g,css:(h,k)=>{const p=k*f,C=k*m,T=h+k*e.width/t.width,E=h+k*e.height/t.height;return`transform: ${o} translate(${p}px, ${C}px) scale(${T}, ${E});`}}}function It(n,e,t){const s=n.slice();return s[21]=e[t],s[22]=e,s[23]=t,s}function St(n,e,t){const s=n.slice();return s[24]=e[t],s}function Ot(n,e,t){const s=n.slice();return s[24]=e[t],s}function Nt(n){let e,t=n[24]+"",s;return{c(){e=v("option"),s=de(t),this.h()},l(l){e=d(l,"OPTION",{});var o=y(e);s=fe(o,t),o.forEach(_),this.h()},h(){e.__value=n[24],M(e,e.__value)},m(l,o){z(l,e,o),i(e,s)},p:ye,d(l){l&&_(e)}}}function qt(n){let e,t=n[24]+"",s;return{c(){e=v("option"),s=de(t),this.h()},l(l){e=d(l,"OPTION",{});var o=y(e);s=fe(o,t),o.forEach(_),this.h()},h(){e.__value=n[24],M(e,e.__value)},m(l,o){z(l,e,o),i(e,s)},p:ye,d(l){l&&_(e)}}}function At(n,e){let t,s,l,o,c,r,f,m,u,b,g,h,k,p,C,T='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',E,w,I,D=ye,A,q,L;function U(){e[16].call(l,e[22],e[23])}function H(){e[17].call(r,e[22],e[23])}function Y(){e[18].call(u,e[22],e[23])}function te(){e[19].call(h,e[22],e[23])}function Ee(){return e[20](e[21])}return{key:n,first:null,c(){t=v("tr"),s=v("td"),l=v("input"),o=O(),c=v("td"),r=v("input"),f=O(),m=v("td"),u=v("input"),b=O(),g=v("td"),h=v("textarea"),k=O(),p=v("td"),C=v("button"),C.innerHTML=T,E=O(),this.h()},l(B){t=d(B,"TR",{});var N=y(t);s=d(N,"TD",{class:!0});var x=y(s);l=d(x,"INPUT",{type:!0,class:!0}),x.forEach(_),o=S(N),c=d(N,"TD",{class:!0});var re=y(c);r=d(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(_),f=S(N),m=d(N,"TD",{class:!0});var $=y(m);u=d($,"INPUT",{type:!0,placeholder:!0,class:!0}),$.forEach(_),b=S(N),g=d(N,"TD",{class:!0});var ae=y(g);h=d(ae,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),y(h).forEach(_),ae.forEach(_),k=S(N),p=d(N,"TD",{class:!0});var X=y(p);C=d(X,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(C)!=="svelte-zfon6j"&&(C.innerHTML=T),X.forEach(_),E=S(N),N.forEach(_),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-89kcbh"),a(s,"class","checkbox-col svelte-89kcbh"),a(r,"type","text"),a(r,"placeholder","e.g. Blue"),a(r,"class","svelte-89kcbh"),a(c,"class","svelte-89kcbh"),a(u,"type","text"),a(u,"placeholder","e.g. 6b+"),a(u,"class","svelte-89kcbh"),a(m,"class","svelte-89kcbh"),a(h,"placeholder","e.g. Smooth"),a(h,"rows","1"),a(h,"class","svelte-89kcbh"),a(g,"class","svelte-89kcbh"),a(C,"class","delete-btn svelte-89kcbh"),a(C,"title","Remove row"),a(p,"class","actions-col svelte-89kcbh"),this.first=t},m(B,N){z(B,t,N),i(t,s),i(s,l),l.checked=e[21].isRopes,i(t,o),i(t,c),i(c,r),M(r,e[21].name),i(t,f),i(t,m),i(m,u),M(u,e[21].grade),i(t,b),i(t,g),i(g,h),M(h,e[21].notes),i(t,k),i(t,p),i(p,C),i(t,E),A=!0,q||(L=[W(l,"change",U),W(r,"input",H),W(u,"input",Y),W(h,"input",te),W(C,"click",Ee)],q=!0)},p(B,N){e=B,N&32&&(l.checked=e[21].isRopes),N&32&&r.value!==e[21].name&&M(r,e[21].name),N&32&&u.value!==e[21].grade&&M(u,e[21].grade),N&32&&M(h,e[21].notes)},r(){I=t.getBoundingClientRect()},f(){Al(t),D(),Et(t,I)},a(){D(),D=ql(t,I,Ml,{duration:300})},i(B){A||(w&&w.end(1),A=!0)},o(B){B&&(w=Ol(t,ot,{duration:200})),A=!1},d(B){B&&_(t),B&&w&&w.end(),q=!1,Qe(L)}}}function rs(n){let e,t,s,l,o="Location",c,r,f,m="Select Location",u,b,g,h="Session Focus",k,p,C,T="Select Focus",E,w,I,D,A="Finger Load (0-5)",q,L,U,H,Y,te="Shoulder Load (0-5)",Ee,B,N,x,re,$="Forearm Load (0-5)",ae,X,De,_e,ge,ee,be="Exercises / Routes",ne,ie,ve=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,Le,oe,le,K,he='<tr><th class="checkbox-col svelte-89kcbh">Ropes?</th> <th class="svelte-89kcbh">Route</th> <th class="svelte-89kcbh">Grade</th> <th class="svelte-89kcbh">Notes</th> <th class="actions-col svelte-89kcbh"></th></tr>',Z,V,R=[],F=new Map,me,Se,ue,Re,Oe=ce(n[6]),ke=[];for(let P=0;P<Oe.length;P+=1)ke[P]=Nt(Ot(n,Oe,P));let Pe=ce(n[7]),Te=[];for(let P=0;P<Pe.length;P+=1)Te[P]=qt(St(n,Pe,P));let Fe=ce(n[5]);const Ne=P=>P[21].id;for(let P=0;P<Fe.length;P+=1){let Q=It(n,Fe,P),G=Ne(Q);F.set(G,R[P]=At(G,Q))}return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=o,c=O(),r=v("select"),f=v("option"),f.textContent=m;for(let P=0;P<ke.length;P+=1)ke[P].c();u=O(),b=v("div"),g=v("label"),g.textContent=h,k=O(),p=v("select"),C=v("option"),C.textContent=T;for(let P=0;P<Te.length;P+=1)Te[P].c();E=O(),w=v("div"),I=v("div"),D=v("label"),D.textContent=A,q=O(),L=v("input"),U=O(),H=v("div"),Y=v("label"),Y.textContent=te,Ee=O(),B=v("input"),N=O(),x=v("div"),re=v("label"),re.textContent=$,ae=O(),X=v("input"),De=O(),_e=v("div"),ge=v("div"),ee=v("h3"),ee.textContent=be,ne=O(),ie=v("button"),ie.innerHTML=ve,Le=O(),oe=v("div"),le=v("table"),K=v("thead"),K.innerHTML=he,Z=O(),V=v("tbody");for(let P=0;P<R.length;P+=1)R[P].c();this.h()},l(P){e=d(P,"DIV",{class:!0});var Q=y(e);t=d(Q,"DIV",{class:!0});var G=y(t);s=d(G,"DIV",{class:!0});var qe=y(s);l=d(qe,"LABEL",{for:!0,"data-svelte-h":!0}),j(l)!=="svelte-1ij7h26"&&(l.textContent=o),c=S(qe),r=d(qe,"SELECT",{id:!0,class:!0});var $e=y(r);f=d($e,"OPTION",{"data-svelte-h":!0}),j(f)!=="svelte-mwu9va"&&(f.textContent=m);for(let Ue=0;Ue<ke.length;Ue+=1)ke[Ue].l($e);$e.forEach(_),qe.forEach(_),u=S(G),b=d(G,"DIV",{class:!0});var rt=y(b);g=d(rt,"LABEL",{for:!0,"data-svelte-h":!0}),j(g)!=="svelte-tg5qne"&&(g.textContent=h),k=S(rt),p=d(rt,"SELECT",{id:!0,class:!0});var J=y(p);C=d(J,"OPTION",{"data-svelte-h":!0}),j(C)!=="svelte-1ni71k3"&&(C.textContent=T);for(let Ue=0;Ue<Te.length;Ue+=1)Te[Ue].l(J);J.forEach(_),rt.forEach(_),G.forEach(_),E=S(Q),w=d(Q,"DIV",{class:!0});var se=y(w);I=d(se,"DIV",{class:!0});var Ce=y(I);D=d(Ce,"LABEL",{for:!0,"data-svelte-h":!0}),j(D)!=="svelte-oda77g"&&(D.textContent=A),q=S(Ce),L=d(Ce,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Ce.forEach(_),U=S(se),H=d(se,"DIV",{class:!0});var Je=y(H);Y=d(Je,"LABEL",{for:!0,"data-svelte-h":!0}),j(Y)!=="svelte-1vtbxrq"&&(Y.textContent=te),Ee=S(Je),B=d(Je,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Je.forEach(_),N=S(se),x=d(se,"DIV",{class:!0});var nt=y(x);re=d(nt,"LABEL",{for:!0,"data-svelte-h":!0}),j(re)!=="svelte-198js8s"&&(re.textContent=$),ae=S(nt),X=d(nt,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),nt.forEach(_),se.forEach(_),De=S(Q),_e=d(Q,"DIV",{class:!0});var et=y(_e);ge=d(et,"DIV",{class:!0});var tt=y(ge);ee=d(tt,"H3",{class:!0,"data-svelte-h":!0}),j(ee)!=="svelte-10xktbo"&&(ee.textContent=be),ne=S(tt),ie=d(tt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(ie)!=="svelte-psf54d"&&(ie.innerHTML=ve),tt.forEach(_),Le=S(et),oe=d(et,"DIV",{class:!0});var lt=y(oe);le=d(lt,"TABLE",{class:!0});var st=y(le);K=d(st,"THEAD",{"data-svelte-h":!0}),j(K)!=="svelte-3ucy7b"&&(K.innerHTML=he),Z=S(st),V=d(st,"TBODY",{});var at=y(V);for(let Ue=0;Ue<R.length;Ue+=1)R[Ue].l(at);at.forEach(_),st.forEach(_),lt.forEach(_),et.forEach(_),Q.forEach(_),this.h()},h(){a(l,"for","climb-location"),f.__value="",M(f,f.__value),f.disabled=!0,f.selected=!0,a(r,"id","climb-location"),a(r,"class","svelte-89kcbh"),n[0]===void 0&&we(()=>n[11].call(r)),a(s,"class","input-group svelte-89kcbh"),a(g,"for","climb-session"),C.__value="",M(C,C.__value),C.disabled=!0,C.selected=!0,a(p,"id","climb-session"),a(p,"class","svelte-89kcbh"),n[1]===void 0&&we(()=>n[12].call(p)),a(b,"class","input-group svelte-89kcbh"),a(t,"class","form-grid svelte-89kcbh"),a(D,"for","finger-load"),a(L,"id","finger-load"),a(L,"type","number"),a(L,"min","0"),a(L,"max","5"),a(L,"class","svelte-89kcbh"),a(I,"class","load-group svelte-89kcbh"),a(Y,"for","shoulder-load"),a(B,"id","shoulder-load"),a(B,"type","number"),a(B,"min","0"),a(B,"max","5"),a(B,"class","svelte-89kcbh"),a(H,"class","load-group svelte-89kcbh"),a(re,"for","forearm-load"),a(X,"id","forearm-load"),a(X,"type","number"),a(X,"min","0"),a(X,"max","5"),a(X,"class","svelte-89kcbh"),a(x,"class","load-group svelte-89kcbh"),a(w,"class","load-metrics svelte-89kcbh"),a(ee,"class","svelte-89kcbh"),a(ie,"class","add-row-btn svelte-89kcbh"),a(ie,"title","Add Exercise"),a(ge,"class","section-header svelte-89kcbh"),a(le,"class","svelte-89kcbh"),a(oe,"class","table-container svelte-89kcbh"),a(_e,"class","exercise-section svelte-89kcbh"),a(e,"class","indoor-config svelte-89kcbh")},m(P,Q){z(P,e,Q),i(e,t),i(t,s),i(s,l),i(s,c),i(s,r),i(r,f);for(let G=0;G<ke.length;G+=1)ke[G]&&ke[G].m(r,null);Ie(r,n[0],!0),i(t,u),i(t,b),i(b,g),i(b,k),i(b,p),i(p,C);for(let G=0;G<Te.length;G+=1)Te[G]&&Te[G].m(p,null);Ie(p,n[1],!0),i(e,E),i(e,w),i(w,I),i(I,D),i(I,q),i(I,L),M(L,n[2]),i(w,U),i(w,H),i(H,Y),i(H,Ee),i(H,B),M(B,n[3]),i(w,N),i(w,x),i(x,re),i(x,ae),i(x,X),M(X,n[4]),i(e,De),i(e,_e),i(_e,ge),i(ge,ee),i(ge,ne),i(ge,ie),i(_e,Le),i(_e,oe),i(oe,le),i(le,K),i(le,Z),i(le,V);for(let G=0;G<R.length;G+=1)R[G]&&R[G].m(V,null);Se=!0,ue||(Re=[W(r,"change",n[11]),W(p,"change",n[12]),W(L,"input",n[13]),W(B,"input",n[14]),W(X,"input",n[15]),W(ie,"click",n[8])],ue=!0)},p(P,[Q]){if(Q&64){Oe=ce(P[6]);let G;for(G=0;G<Oe.length;G+=1){const qe=Ot(P,Oe,G);ke[G]?ke[G].p(qe,Q):(ke[G]=Nt(qe),ke[G].c(),ke[G].m(r,null))}for(;G<ke.length;G+=1)ke[G].d(1);ke.length=Oe.length}if(Q&65&&Ie(r,P[0]),Q&128){Pe=ce(P[7]);let G;for(G=0;G<Pe.length;G+=1){const qe=St(P,Pe,G);Te[G]?Te[G].p(qe,Q):(Te[G]=qt(qe),Te[G].c(),Te[G].m(p,null))}for(;G<Te.length;G+=1)Te[G].d(1);Te.length=Pe.length}if(Q&130&&Ie(p,P[1]),Q&4&&Ve(L.value)!==P[2]&&M(L,P[2]),Q&8&&Ve(B.value)!==P[3]&&M(B,P[3]),Q&16&&Ve(X.value)!==P[4]&&M(X,P[4]),Q&544){Fe=ce(P[5]),Ge();for(let G=0;G<R.length;G+=1)R[G].r();R=kt(R,Q,Ne,1,P,Fe,F,V,Vl,At,null,It);for(let G=0;G<R.length;G+=1)R[G].a();We()}},i(P){if(!Se){for(let Q=0;Q<Fe.length;Q+=1)pe(R[Q]);P&&(me||we(()=>{me=Ye(e,Me,{}),me.start()})),Se=!0}},o(P){for(let Q=0;Q<R.length;Q+=1)Ae(R[Q]);Se=!1},d(P){P&&_(e),He(ke,P),He(Te,P);for(let Q=0;Q<R.length;Q+=1)R[Q].d();ue=!1,Qe(Re)}}}function as(n,e,t){let s="",l="",o=0,c=0,r=0,f=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];const m=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],u=["Strength","Endurance","Power","Recovery"];function b(){t(5,f=[...f,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function g(L){f.length>1?t(5,f=f.filter(U=>U.id!==L)):t(5,f=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function h(){return{location:s,session:l,fingerLoad:o,shoulderLoad:c,forearmLoad:r,exercises:f}}function k(){s=je(this),t(0,s),t(6,m)}function p(){l=je(this),t(1,l),t(7,u)}function C(){o=Ve(this.value),t(2,o)}function T(){c=Ve(this.value),t(3,c)}function E(){r=Ve(this.value),t(4,r)}function w(L,U){L[U].isRopes=this.checked,t(5,f)}function I(L,U){L[U].name=this.value,t(5,f)}function D(L,U){L[U].grade=this.value,t(5,f)}function A(L,U){L[U].notes=this.value,t(5,f)}return[s,l,o,c,r,f,m,u,b,g,h,k,p,C,T,E,w,I,D,A,L=>g(L.id)]}class is extends xe{constructor(e){super(),Ze(this,e,as,rs,Xe,{getData:10})}get getData(){return this.$$.ctx[10]}}function cs(n){let e,t=`<h3 class="svelte-fh7bet">Gym Session Config</h3> <p class="svelte-fh7bet">Specific fields for gym sessions will go here (e.g., Focus, Exercises,
        Sets/Reps).</p> <div class="placeholder-box svelte-fh7bet"></div>`,s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-gs8whu"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,o){z(l,e,o)},p:ye,i(l){l&&(s||we(()=>{s=Ye(e,Me,{}),s.start()}))},o:ye,d(l){l&&_(e)}}}let us="",hs="";function fs(n,e,t){let s=[];function l(){return{location:us,session:hs,exercises:s,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class ds extends xe{constructor(e){super(),Ze(this,e,fs,cs,Xe,{getData:0})}get getData(){return this.$$.ctx[0]}}const Rl=["Portland","Swanage","Bristol","Costa Del Severn","Cotswolds","Mendips","Wye Valley","Gower","South Wales","North Wales","Peak District","Devon","Fontainebleau","Switzerland","Other"],Ul={Portland:["Blacknor Far North","Blacknor North","Blacknor Central","Blacknor South","Blacknor Far South","Battleship Edge","Battleship Back Cliff","Wallsend North","Wallsend South","Coastguard North","Coastguard South","Godnor","Neddyfields","Cheyne Cliff","The Cuttings","The New Cuttings","The Cuttings Boulderfield"],Swanage:["Dancing Ledge","Hedbury","Winspit"],"Wye Valley":["Ban-y-Gor","Biblins Cave","Woodcroft Quarry","Wyndcliff Quarry"],"Costa Del Severn":["Brean","Clevedon","Portishead Quarry"],Bristol:["Avon Gorge","Leigh Woods","Bickley Wood","Hambrook"],Cotswolds:["Sally-in-the-Wood","Browns Folly"],Mendips:["Cheddar Gorge"],Gower:["Rhossili","Trial Wall Area","Foxhole"],"South Wales":["Dinas Rock","Ogmore"],"North Wales":["Cromlech","Australia"],"Peak District":["Burbage South Valley","Gardoms Edge","Raven Tor","Stanage","Curbar Edge"],Devon:["Dartmoor","Hartland","Tintagel"],Fontainebleau:["Bas Cuvier","Apremont","Franchard Isatis","Roche aux Sabots","Cul de Chien","Elephant"],Switzerland:["Magic Wood","Chironico","Cresciano","Brione","San Carlo"]};function Bt(n,e,t){const s=n.slice();return s[28]=e[t],s[29]=e,s[30]=t,s}function Vt(n,e,t){const s=n.slice();return s[31]=e[t],s}function vs(n,e,t){const s=n.slice();return s[34]=e[t],s}function ps(n){let e,t;return{c(){e=v("option"),t=de(n[34]),this.h()},l(s){e=d(s,"OPTION",{});var l=y(e);t=fe(l,n[34]),l.forEach(_),this.h()},h(){e.__value=n[34],M(e,e.__value)},m(s,l){z(s,e,l),i(e,t)},p:ye,d(s){s&&_(e)}}}function Pt(n){let e,t,s,l,o,c;return{c(){e=v("div"),t=v("input"),this.h()},l(r){e=d(r,"DIV",{});var f=y(e);t=d(f,"INPUT",{type:!0,placeholder:!0,class:!0}),f.forEach(_),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Area..."),a(t,"class","custom-input svelte-dcgklv")},m(r,f){z(r,e,f),i(e,t),M(t,n[1]),l=!0,o||(c=W(t,"input",n[15]),o=!0)},p(r,f){f[0]&2&&t.value!==r[1]&&M(t,r[1])},i(r){l||(r&&we(()=>{l&&(s||(s=Ke(e,ot,{},!0)),s.run(1))}),l=!0)},o(r){r&&(s||(s=Ke(e,ot,{},!1)),s.run(0)),l=!1},d(r){r&&_(e),r&&s&&s.end(),o=!1,c()}}}function _s(n){let e,t,s,l,o;return{c(){e=v("input"),this.h()},l(c){e=d(c,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","climb-crag"),a(e,"type","text"),a(e,"placeholder",t=n[0]==="Other"?"Enter Crag Name":"Select area first..."),e.disabled=s=!n[0],a(e,"class","svelte-dcgklv")},m(c,r){z(c,e,r),M(e,n[2]),l||(o=W(e,"input",n[18]),l=!0)},p(c,r){r[0]&1&&t!==(t=c[0]==="Other"?"Enter Crag Name":"Select area first...")&&a(e,"placeholder",t),r[0]&1&&s!==(s=!c[0])&&(e.disabled=s),r[0]&516&&e.value!==c[2]&&M(e,c[2])},d(c){c&&_(e),l=!1,o()}}}function gs(n){let e,t,s="Select Crag",l,o="Other (Custom)",c,r,f,m,u=ce(n[9]),b=[];for(let h=0;h<u.length;h+=1)b[h]=Mt(Vt(n,u,h));let g=n[2]==="Other"&&Rt(n);return{c(){e=v("select"),t=v("option"),t.textContent=s;for(let h=0;h<b.length;h+=1)b[h].c();l=v("option"),l.textContent=o,c=O(),g&&g.c(),r=mt(),this.h()},l(h){e=d(h,"SELECT",{id:!0,class:!0});var k=y(e);t=d(k,"OPTION",{"data-svelte-h":!0}),j(t)!=="svelte-1bf8330"&&(t.textContent=s);for(let p=0;p<b.length;p+=1)b[p].l(k);l=d(k,"OPTION",{"data-svelte-h":!0}),j(l)!=="svelte-1ws39oy"&&(l.textContent=o),k.forEach(_),c=S(h),g&&g.l(h),r=mt(),this.h()},h(){t.__value="",M(t,t.__value),t.disabled=!0,t.selected=!0,l.__value="Other",M(l,l.__value),a(e,"id","climb-crag"),a(e,"class","svelte-dcgklv"),n[2]===void 0&&we(()=>n[16].call(e))},m(h,k){z(h,e,k),i(e,t);for(let p=0;p<b.length;p+=1)b[p]&&b[p].m(e,null);i(e,l),Ie(e,n[2],!0),z(h,c,k),g&&g.m(h,k),z(h,r,k),f||(m=W(e,"change",n[16]),f=!0)},p(h,k){if(k[0]&512){u=ce(h[9]);let p;for(p=0;p<u.length;p+=1){const C=Vt(h,u,p);b[p]?b[p].p(C,k):(b[p]=Mt(C),b[p].c(),b[p].m(e,l))}for(;p<b.length;p+=1)b[p].d(1);b.length=u.length}k[0]&516&&Ie(e,h[2]),h[2]==="Other"?g?(g.p(h,k),k[0]&4&&pe(g,1)):(g=Rt(h),g.c(),pe(g,1),g.m(r.parentNode,r)):g&&(Ge(),Ae(g,1,1,()=>{g=null}),We())},d(h){h&&(_(e),_(c),_(r)),He(b,h),g&&g.d(h),f=!1,m()}}}function Mt(n){let e,t=n[31]+"",s,l;return{c(){e=v("option"),s=de(t),this.h()},l(o){e=d(o,"OPTION",{});var c=y(e);s=fe(c,t),c.forEach(_),this.h()},h(){e.__value=l=n[31],M(e,e.__value)},m(o,c){z(o,e,c),i(e,s)},p(o,c){c[0]&512&&t!==(t=o[31]+"")&&Be(s,t),c[0]&512&&l!==(l=o[31])&&(e.__value=l,M(e,e.__value))},d(o){o&&_(e)}}}function Rt(n){let e,t,s,l,o,c;return{c(){e=v("div"),t=v("input"),this.h()},l(r){e=d(r,"DIV",{});var f=y(e);t=d(f,"INPUT",{type:!0,placeholder:!0,class:!0}),f.forEach(_),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Crag..."),a(t,"class","custom-input svelte-dcgklv")},m(r,f){z(r,e,f),i(e,t),M(t,n[3]),l=!0,o||(c=W(t,"input",n[17]),o=!0)},p(r,f){f[0]&8&&t.value!==r[3]&&M(t,r[3])},i(r){l||(r&&we(()=>{l&&(s||(s=Ke(e,ot,{},!0)),s.run(1))}),l=!0)},o(r){r&&(s||(s=Ke(e,ot,{},!1)),s.run(0)),l=!1},d(r){r&&_(e),r&&s&&s.end(),o=!1,c()}}}function Ut(n,e){let t,s,l,o,c,r,f,m,u,b,g,h,k,p,C,T='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',E,w,I,D=ye,A,q,L;function U(){e[23].call(l,e[29],e[30])}function H(){e[24].call(r,e[29],e[30])}function Y(){e[25].call(u,e[29],e[30])}function te(){e[26].call(h,e[29],e[30])}function Ee(){return e[27](e[28])}return{key:n,first:null,c(){t=v("tr"),s=v("td"),l=v("input"),o=O(),c=v("td"),r=v("input"),f=O(),m=v("td"),u=v("input"),b=O(),g=v("td"),h=v("textarea"),k=O(),p=v("td"),C=v("button"),C.innerHTML=T,E=O(),this.h()},l(B){t=d(B,"TR",{});var N=y(t);s=d(N,"TD",{class:!0});var x=y(s);l=d(x,"INPUT",{type:!0,class:!0}),x.forEach(_),o=S(N),c=d(N,"TD",{class:!0});var re=y(c);r=d(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(_),f=S(N),m=d(N,"TD",{class:!0});var $=y(m);u=d($,"INPUT",{type:!0,placeholder:!0,class:!0}),$.forEach(_),b=S(N),g=d(N,"TD",{class:!0});var ae=y(g);h=d(ae,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),y(h).forEach(_),ae.forEach(_),k=S(N),p=d(N,"TD",{class:!0});var X=y(p);C=d(X,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(C)!=="svelte-zfon6j"&&(C.innerHTML=T),X.forEach(_),E=S(N),N.forEach(_),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-dcgklv"),a(s,"class","checkbox-col svelte-dcgklv"),a(r,"type","text"),a(r,"placeholder","e.g. Deliverance"),a(r,"class","svelte-dcgklv"),a(c,"class","svelte-dcgklv"),a(u,"type","text"),a(u,"placeholder","e.g. 7a+"),a(u,"class","svelte-dcgklv"),a(m,"class","svelte-dcgklv"),a(h,"placeholder","e.g. 2nd go"),a(h,"rows","1"),a(h,"class","svelte-dcgklv"),a(g,"class","svelte-dcgklv"),a(C,"class","delete-btn svelte-dcgklv"),a(C,"title","Remove row"),a(p,"class","actions-col svelte-dcgklv"),this.first=t},m(B,N){z(B,t,N),i(t,s),i(s,l),l.checked=e[28].isRopes,i(t,o),i(t,c),i(c,r),M(r,e[28].name),i(t,f),i(t,m),i(m,u),M(u,e[28].grade),i(t,b),i(t,g),i(g,h),M(h,e[28].notes),i(t,k),i(t,p),i(p,C),i(t,E),A=!0,q||(L=[W(l,"change",U),W(r,"input",H),W(u,"input",Y),W(h,"input",te),W(C,"click",Ee)],q=!0)},p(B,N){e=B,N[0]&256&&(l.checked=e[28].isRopes),N[0]&256&&r.value!==e[28].name&&M(r,e[28].name),N[0]&256&&u.value!==e[28].grade&&M(u,e[28].grade),N[0]&256&&M(h,e[28].notes)},r(){I=t.getBoundingClientRect()},f(){Al(t),D(),Et(t,I)},a(){D(),D=ql(t,I,Ml,{duration:300})},i(B){A||(w&&w.end(1),A=!0)},o(B){B&&(w=Ol(t,ot,{duration:200})),A=!1},d(B){B&&_(t),B&&w&&w.end(),q=!1,Qe(L)}}}function ms(n){let e,t,s,l,o="Area",c,r,f,m="Select Area",u,b,g,h,k="Crag",p,C,T,E,w="Wall / Sector",I,D,A,q,L,U,H="Finger Load (0-5)",Y,te,Ee,B,N,x="Shoulder Load (0-5)",re,$,ae,X,De,_e="Forearm Load (0-5)",ge,ee,be,ne,ie,ve,Le="Routes",oe,le,K=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,he,Z,V,R,F='<tr><th class="checkbox-col svelte-dcgklv">Ropes?</th> <th class="svelte-dcgklv">Route</th> <th class="svelte-dcgklv">Grade</th> <th class="svelte-dcgklv">Notes</th> <th class="actions-col svelte-dcgklv"></th></tr>',me,Se,ue=[],Re=new Map,Oe,ke,Pe,Te,Fe=ce(Rl),Ne=[];for(let J=0;J<Fe.length;J+=1)Ne[J]=ps(vs(n,Fe,J));let P=n[0]==="Other"&&Pt(n);function Q(J,se){return J[0]&&J[0]!=="Other"?gs:_s}let G=Q(n),qe=G(n),$e=ce(n[8]);const rt=J=>J[28].id;for(let J=0;J<$e.length;J+=1){let se=Bt(n,$e,J),Ce=rt(se);Re.set(Ce,ue[J]=Ut(Ce,se))}return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=o,c=O(),r=v("select"),f=v("option"),f.textContent=m;for(let J=0;J<Ne.length;J+=1)Ne[J].c();u=O(),P&&P.c(),b=O(),g=v("div"),h=v("label"),h.textContent=k,p=O(),qe.c(),C=O(),T=v("div"),E=v("label"),E.textContent=w,I=O(),D=v("input"),A=O(),q=v("div"),L=v("div"),U=v("label"),U.textContent=H,Y=O(),te=v("input"),Ee=O(),B=v("div"),N=v("label"),N.textContent=x,re=O(),$=v("input"),ae=O(),X=v("div"),De=v("label"),De.textContent=_e,ge=O(),ee=v("input"),be=O(),ne=v("div"),ie=v("div"),ve=v("h3"),ve.textContent=Le,oe=O(),le=v("button"),le.innerHTML=K,he=O(),Z=v("div"),V=v("table"),R=v("thead"),R.innerHTML=F,me=O(),Se=v("tbody");for(let J=0;J<ue.length;J+=1)ue[J].c();this.h()},l(J){e=d(J,"DIV",{class:!0});var se=y(e);t=d(se,"DIV",{class:!0});var Ce=y(t);s=d(Ce,"DIV",{class:!0});var Je=y(s);l=d(Je,"LABEL",{for:!0,"data-svelte-h":!0}),j(l)!=="svelte-10bxq12"&&(l.textContent=o),c=S(Je),r=d(Je,"SELECT",{id:!0,class:!0});var nt=y(r);f=d(nt,"OPTION",{"data-svelte-h":!0}),j(f)!=="svelte-18hyx00"&&(f.textContent=m);for(let it=0;it<Ne.length;it+=1)Ne[it].l(nt);nt.forEach(_),u=S(Je),P&&P.l(Je),Je.forEach(_),b=S(Ce),g=d(Ce,"DIV",{class:!0});var et=y(g);h=d(et,"LABEL",{for:!0,"data-svelte-h":!0}),j(h)!=="svelte-1d1q4si"&&(h.textContent=k),p=S(et),qe.l(et),et.forEach(_),C=S(Ce),T=d(Ce,"DIV",{class:!0});var tt=y(T);E=d(tt,"LABEL",{for:!0,"data-svelte-h":!0}),j(E)!=="svelte-2wtmd"&&(E.textContent=w),I=S(tt),D=d(tt,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),tt.forEach(_),Ce.forEach(_),A=S(se),q=d(se,"DIV",{class:!0});var lt=y(q);L=d(lt,"DIV",{class:!0});var st=y(L);U=d(st,"LABEL",{for:!0,"data-svelte-h":!0}),j(U)!=="svelte-oda77g"&&(U.textContent=H),Y=S(st),te=d(st,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),st.forEach(_),Ee=S(lt),B=d(lt,"DIV",{class:!0});var at=y(B);N=d(at,"LABEL",{for:!0,"data-svelte-h":!0}),j(N)!=="svelte-1vtbxrq"&&(N.textContent=x),re=S(at),$=d(at,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),at.forEach(_),ae=S(lt),X=d(lt,"DIV",{class:!0});var Ue=y(X);De=d(Ue,"LABEL",{for:!0,"data-svelte-h":!0}),j(De)!=="svelte-198js8s"&&(De.textContent=_e),ge=S(Ue),ee=d(Ue,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Ue.forEach(_),lt.forEach(_),be=S(se),ne=d(se,"DIV",{class:!0});var pt=y(ne);ie=d(pt,"DIV",{class:!0});var _t=y(ie);ve=d(_t,"H3",{class:!0,"data-svelte-h":!0}),j(ve)!=="svelte-1nagf2u"&&(ve.textContent=Le),oe=S(_t),le=d(_t,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(le)!=="svelte-uzzlti"&&(le.innerHTML=K),_t.forEach(_),he=S(pt),Z=d(pt,"DIV",{class:!0});var Tt=y(Z);V=d(Tt,"TABLE",{class:!0});var gt=y(V);R=d(gt,"THEAD",{"data-svelte-h":!0}),j(R)!=="svelte-3ucy7b"&&(R.innerHTML=F),me=S(gt),Se=d(gt,"TBODY",{});var Dt=y(Se);for(let it=0;it<ue.length;it+=1)ue[it].l(Dt);Dt.forEach(_),gt.forEach(_),Tt.forEach(_),pt.forEach(_),se.forEach(_),this.h()},h(){a(l,"for","climb-area"),f.__value="",M(f,f.__value),f.disabled=!0,f.selected=!0,a(r,"id","climb-area"),a(r,"class","svelte-dcgklv"),n[0]===void 0&&we(()=>n[14].call(r)),a(s,"class","input-group svelte-dcgklv"),a(h,"for","climb-crag"),a(g,"class","input-group svelte-dcgklv"),a(E,"for","climb-wall"),a(D,"id","climb-wall"),a(D,"type","text"),a(D,"placeholder","e.g. Popular End"),a(D,"class","svelte-dcgklv"),a(T,"class","input-group svelte-dcgklv"),a(t,"class","form-grid svelte-dcgklv"),a(U,"for","finger-load"),a(te,"id","finger-load"),a(te,"type","number"),a(te,"min","0"),a(te,"max","5"),a(te,"class","svelte-dcgklv"),a(L,"class","load-group svelte-dcgklv"),a(N,"for","shoulder-load"),a($,"id","shoulder-load"),a($,"type","number"),a($,"min","0"),a($,"max","5"),a($,"class","svelte-dcgklv"),a(B,"class","load-group svelte-dcgklv"),a(De,"for","forearm-load"),a(ee,"id","forearm-load"),a(ee,"type","number"),a(ee,"min","0"),a(ee,"max","5"),a(ee,"class","svelte-dcgklv"),a(X,"class","load-group svelte-dcgklv"),a(q,"class","load-metrics svelte-dcgklv"),a(ve,"class","svelte-dcgklv"),a(le,"class","add-row-btn svelte-dcgklv"),a(le,"title","Add Route"),a(ie,"class","section-header svelte-dcgklv"),a(V,"class","svelte-dcgklv"),a(Z,"class","table-container svelte-dcgklv"),a(ne,"class","exercise-section svelte-dcgklv"),a(e,"class","outdoor-config svelte-dcgklv")},m(J,se){z(J,e,se),i(e,t),i(t,s),i(s,l),i(s,c),i(s,r),i(r,f);for(let Ce=0;Ce<Ne.length;Ce+=1)Ne[Ce]&&Ne[Ce].m(r,null);Ie(r,n[0],!0),i(s,u),P&&P.m(s,null),i(t,b),i(t,g),i(g,h),i(g,p),qe.m(g,null),i(t,C),i(t,T),i(T,E),i(T,I),i(T,D),M(D,n[4]),i(e,A),i(e,q),i(q,L),i(L,U),i(L,Y),i(L,te),M(te,n[5]),i(q,Ee),i(q,B),i(B,N),i(B,re),i(B,$),M($,n[6]),i(q,ae),i(q,X),i(X,De),i(X,ge),i(X,ee),M(ee,n[7]),i(e,be),i(e,ne),i(ne,ie),i(ie,ve),i(ie,oe),i(ie,le),i(ne,he),i(ne,Z),i(Z,V),i(V,R),i(V,me),i(V,Se);for(let Ce=0;Ce<ue.length;Ce+=1)ue[Ce]&&ue[Ce].m(Se,null);ke=!0,Pe||(Te=[W(r,"change",n[14]),W(r,"change",n[10]),W(D,"input",n[19]),W(te,"input",n[20]),W($,"input",n[21]),W(ee,"input",n[22]),W(le,"click",n[11])],Pe=!0)},p(J,se){if(se[0]&1&&Ie(r,J[0]),J[0]==="Other"?P?(P.p(J,se),se[0]&1&&pe(P,1)):(P=Pt(J),P.c(),pe(P,1),P.m(s,null)):P&&(Ge(),Ae(P,1,1,()=>{P=null}),We()),G===(G=Q(J))&&qe?qe.p(J,se):(qe.d(1),qe=G(J),qe&&(qe.c(),qe.m(g,null))),se[0]&16&&D.value!==J[4]&&M(D,J[4]),se[0]&32&&Ve(te.value)!==J[5]&&M(te,J[5]),se[0]&64&&Ve($.value)!==J[6]&&M($,J[6]),se[0]&128&&Ve(ee.value)!==J[7]&&M(ee,J[7]),se[0]&4352){$e=ce(J[8]),Ge();for(let Ce=0;Ce<ue.length;Ce+=1)ue[Ce].r();ue=kt(ue,se,rt,1,J,$e,Re,Se,Vl,Ut,null,Bt);for(let Ce=0;Ce<ue.length;Ce+=1)ue[Ce].a();We()}},i(J){if(!ke){pe(P);for(let se=0;se<$e.length;se+=1)pe(ue[se]);J&&(Oe||we(()=>{Oe=Ye(e,Me,{}),Oe.start()})),ke=!0}},o(J){Ae(P);for(let se=0;se<ue.length;se+=1)Ae(ue[se]);ke=!1},d(J){J&&_(e),He(Ne,J),P&&P.d(),qe.d();for(let se=0;se<ue.length;se+=1)ue[se].d();Pe=!1,Qe(Te)}}}function bs(n,e,t){let s,l="",o="",c="",r="",f="",m=0,u=0,b=0;function g(){t(2,c=""),t(3,r="")}let h=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];function k(){t(8,h=[...h,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function p(N){h.length>1?t(8,h=h.filter(x=>x.id!==N)):t(8,h=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function C(){return{location:{area:l==="Other"?o:l,crag:c==="Other"?r:c,wall:f},session:"Outdoor",fingerLoad:m,shoulderLoad:u,forearmLoad:b,exercises:h}}function T(){l=je(this),t(0,l)}function E(){o=this.value,t(1,o)}function w(){c=je(this),t(2,c),t(9,s),t(0,l)}function I(){r=this.value,t(3,r)}function D(){c=this.value,t(2,c),t(9,s),t(0,l)}function A(){f=this.value,t(4,f)}function q(){m=Ve(this.value),t(5,m)}function L(){u=Ve(this.value),t(6,u)}function U(){b=Ve(this.value),t(7,b)}function H(N,x){N[x].isRopes=this.checked,t(8,h)}function Y(N,x){N[x].name=this.value,t(8,h)}function te(N,x){N[x].grade=this.value,t(8,h)}function Ee(N,x){N[x].notes=this.value,t(8,h)}const B=N=>p(N.id);return n.$$.update=()=>{n.$$.dirty[0]&1&&t(9,s=Ul[l]||[])},[l,o,c,r,f,m,u,b,h,s,g,k,p,C,T,E,w,I,D,A,q,L,U,H,Y,te,Ee,B]}class ks extends xe{constructor(e){super(),Ze(this,e,bs,ms,Xe,{getData:13},null,[-1,-1])}get getData(){return this.$$.ctx[13]}}function Cs(n){let e,t='<h3 class="svelte-fh7bet">Other Activity Config</h3> <p class="svelte-fh7bet">Generic fields for other activities will go here.</p> <div class="placeholder-box svelte-fh7bet"></div>',s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-kjirec"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,o){z(l,e,o)},p:ye,i(l){l&&(s||we(()=>{s=Ye(e,Me,{}),s.start()}))},o:ye,d(l){l&&_(e)}}}let ys="",Es="";function ws(n,e,t){let s=[];function l(){return{location:ys,session:Es,exercises:s,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class Ts extends xe{constructor(e){super(),Ze(this,e,ws,Cs,Xe,{getData:0})}get getData(){return this.$$.ctx[0]}}function Ht(n,e,t){const s=n.slice();return s[18]=e[t],s[19]=e,s[20]=t,s}function Ft(n,e,t){const s=n.slice();return s[21]=e[t],s}function jt(n,e,t){const s=n.slice();return s[24]=e[t],s}function zt(n){let e,t=n[24]+"",s;return{c(){e=v("option"),s=de(t),this.h()},l(l){e=d(l,"OPTION",{});var o=y(e);s=fe(o,t),o.forEach(_),this.h()},h(){e.__value=n[24],M(e,e.__value)},m(l,o){z(l,e,o),i(e,s)},p:ye,d(l){l&&_(e)}}}function Gt(n){let e,t=n[21]+"",s;return{c(){e=v("option"),s=de(t),this.h()},l(l){e=d(l,"OPTION",{});var o=y(e);s=fe(o,t),o.forEach(_),this.h()},h(){e.__value=n[21],M(e,e.__value)},m(l,o){z(l,e,o),i(e,s)},p:ye,d(l){l&&_(e)}}}function Wt(n,e){let t,s,l,o,c,r,f,m,u,b,g,h,k,p,C,T,E,w,I="Ã—",D,A,q;function L(){e[12].call(l,e[19],e[20])}function U(){e[13].call(r,e[19],e[20])}function H(){e[14].call(u,e[19],e[20])}function Y(){e[15].call(h,e[19],e[20])}function te(){e[16].call(C,e[19],e[20])}function Ee(){return e[17](e[18])}return{key:n,first:null,c(){t=v("tr"),s=v("td"),l=v("input"),o=O(),c=v("td"),r=v("input"),f=O(),m=v("td"),u=v("input"),b=O(),g=v("td"),h=v("input"),k=O(),p=v("td"),C=v("input"),T=O(),E=v("td"),w=v("button"),w.textContent=I,D=O(),this.h()},l(B){t=d(B,"TR",{});var N=y(t);s=d(N,"TD",{class:!0});var x=y(s);l=d(x,"INPUT",{type:!0,placeholder:!0,class:!0}),x.forEach(_),o=S(N),c=d(N,"TD",{class:!0});var re=y(c);r=d(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(_),f=S(N),m=d(N,"TD",{class:!0});var $=y(m);u=d($,"INPUT",{type:!0,placeholder:!0,class:!0}),$.forEach(_),b=S(N),g=d(N,"TD",{class:!0});var ae=y(g);h=d(ae,"INPUT",{type:!0,placeholder:!0,class:!0}),ae.forEach(_),k=S(N),p=d(N,"TD",{class:!0});var X=y(p);C=d(X,"INPUT",{type:!0,placeholder:!0,class:!0}),X.forEach(_),T=S(N),E=d(N,"TD",{class:!0});var De=y(E);w=d(De,"BUTTON",{class:!0,"data-svelte-h":!0}),j(w)!=="svelte-rn69i5"&&(w.textContent=I),De.forEach(_),D=S(N),N.forEach(_),this.h()},h(){a(l,"type","text"),a(l,"placeholder","Hang"),a(l,"class","svelte-152m2bn"),a(s,"class","svelte-152m2bn"),a(r,"type","number"),a(r,"placeholder","0"),a(r,"class","svelte-152m2bn"),a(c,"class","svelte-152m2bn"),a(u,"type","number"),a(u,"placeholder","1"),a(u,"class","svelte-152m2bn"),a(m,"class","svelte-152m2bn"),a(h,"type","number"),a(h,"placeholder","1"),a(h,"class","svelte-152m2bn"),a(g,"class","svelte-152m2bn"),a(C,"type","text"),a(C,"placeholder","Notes"),a(C,"class","svelte-152m2bn"),a(p,"class","svelte-152m2bn"),a(w,"class","delete-btn svelte-152m2bn"),a(E,"class","actions-col svelte-152m2bn"),this.first=t},m(B,N){z(B,t,N),i(t,s),i(s,l),M(l,e[18].name),i(t,o),i(t,c),i(c,r),M(r,e[18].weight),i(t,f),i(t,m),i(m,u),M(u,e[18].sets),i(t,b),i(t,g),i(g,h),M(h,e[18].reps),i(t,k),i(t,p),i(p,C),M(C,e[18].notes),i(t,T),i(t,E),i(E,w),i(t,D),A||(q=[W(l,"input",L),W(r,"input",U),W(u,"input",H),W(h,"input",Y),W(C,"input",te),W(w,"click",Ee)],A=!0)},p(B,N){e=B,N&8&&l.value!==e[18].name&&M(l,e[18].name),N&8&&Ve(r.value)!==e[18].weight&&M(r,e[18].weight),N&8&&Ve(u.value)!==e[18].sets&&M(u,e[18].sets),N&8&&Ve(h.value)!==e[18].reps&&M(h,e[18].reps),N&8&&C.value!==e[18].notes&&M(C,e[18].notes)},d(B){B&&_(t),A=!1,Qe(q)}}}function Ds(n){let e,t,s,l,o="Location",c,r,f,m="Select Location",u,b,g,h="Session Type",k,p,C,T="Select Session",E,w,I,D,A="Finger Load (0-5)",q,L,U,H,Y,te,Ee="Sets / Exercises",B,N,x="Add Row",re,$,ae,X,De='<tr><th class="svelte-152m2bn">Exercise</th> <th class="svelte-152m2bn">Weight (+/-)</th> <th class="svelte-152m2bn">Sets</th> <th class="svelte-152m2bn">Reps</th> <th class="svelte-152m2bn">Notes</th> <th class="actions-col svelte-152m2bn"></th></tr>',_e,ge,ee=[],be=new Map,ne,ie,ve,Le=ce(n[6]),oe=[];for(let V=0;V<Le.length;V+=1)oe[V]=zt(jt(n,Le,V));let le=ce(n[7]),K=[];for(let V=0;V<le.length;V+=1)K[V]=Gt(Ft(n,le,V));let he=ce(n[3]);const Z=V=>V[18].id;for(let V=0;V<he.length;V+=1){let R=Ht(n,he,V),F=Z(R);be.set(F,ee[V]=Wt(F,R))}return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=o,c=O(),r=v("select"),f=v("option"),f.textContent=m;for(let V=0;V<oe.length;V+=1)oe[V].c();u=O(),b=v("div"),g=v("label"),g.textContent=h,k=O(),p=v("select"),C=v("option"),C.textContent=T;for(let V=0;V<K.length;V+=1)K[V].c();E=O(),w=v("div"),I=v("div"),D=v("label"),D.textContent=A,q=O(),L=v("input"),U=O(),H=v("div"),Y=v("div"),te=v("h3"),te.textContent=Ee,B=O(),N=v("button"),N.textContent=x,re=O(),$=v("div"),ae=v("table"),X=v("thead"),X.innerHTML=De,_e=O(),ge=v("tbody");for(let V=0;V<ee.length;V+=1)ee[V].c();this.h()},l(V){e=d(V,"DIV",{class:!0});var R=y(e);t=d(R,"DIV",{class:!0});var F=y(t);s=d(F,"DIV",{class:!0});var me=y(s);l=d(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1dxgp9b"&&(l.textContent=o),c=S(me),r=d(me,"SELECT",{id:!0,class:!0});var Se=y(r);f=d(Se,"OPTION",{"data-svelte-h":!0}),j(f)!=="svelte-mwu9va"&&(f.textContent=m);for(let Q=0;Q<oe.length;Q+=1)oe[Q].l(Se);Se.forEach(_),me.forEach(_),u=S(F),b=d(F,"DIV",{class:!0});var ue=y(b);g=d(ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(g)!=="svelte-h0spd7"&&(g.textContent=h),k=S(ue),p=d(ue,"SELECT",{id:!0,class:!0});var Re=y(p);C=d(Re,"OPTION",{"data-svelte-h":!0}),j(C)!=="svelte-1ekya2v"&&(C.textContent=T);for(let Q=0;Q<K.length;Q+=1)K[Q].l(Re);Re.forEach(_),ue.forEach(_),F.forEach(_),E=S(R),w=d(R,"DIV",{class:!0});var Oe=y(w);I=d(Oe,"DIV",{class:!0});var ke=y(I);D=d(ke,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(D)!=="svelte-1w9evqp"&&(D.textContent=A),q=S(ke),L=d(ke,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),ke.forEach(_),Oe.forEach(_),U=S(R),H=d(R,"DIV",{class:!0});var Pe=y(H);Y=d(Pe,"DIV",{class:!0});var Te=y(Y);te=d(Te,"H3",{class:!0,"data-svelte-h":!0}),j(te)!=="svelte-rv2rcn"&&(te.textContent=Ee),B=S(Te),N=d(Te,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(N)!=="svelte-tawc64"&&(N.textContent=x),Te.forEach(_),re=S(Pe),$=d(Pe,"DIV",{class:!0});var Fe=y($);ae=d(Fe,"TABLE",{class:!0});var Ne=y(ae);X=d(Ne,"THEAD",{"data-svelte-h":!0}),j(X)!=="svelte-163hj14"&&(X.innerHTML=De),_e=S(Ne),ge=d(Ne,"TBODY",{});var P=y(ge);for(let Q=0;Q<ee.length;Q+=1)ee[Q].l(P);P.forEach(_),Ne.forEach(_),Fe.forEach(_),Pe.forEach(_),R.forEach(_),this.h()},h(){a(l,"for","fb-location"),a(l,"class","svelte-152m2bn"),f.__value="",M(f,f.__value),f.disabled=!0,f.selected=!0,a(r,"id","fb-location"),a(r,"class","svelte-152m2bn"),n[0]===void 0&&we(()=>n[9].call(r)),a(s,"class","input-group svelte-152m2bn"),a(g,"for","fb-session"),a(g,"class","svelte-152m2bn"),C.__value="",M(C,C.__value),C.disabled=!0,C.selected=!0,a(p,"id","fb-session"),a(p,"class","svelte-152m2bn"),n[1]===void 0&&we(()=>n[10].call(p)),a(b,"class","input-group svelte-152m2bn"),a(t,"class","form-grid svelte-152m2bn"),a(D,"for","fb-finger-load"),a(D,"class","svelte-152m2bn"),a(L,"id","fb-finger-load"),a(L,"type","number"),a(L,"min","0"),a(L,"max","5"),a(L,"class","svelte-152m2bn"),a(I,"class","load-group svelte-152m2bn"),a(w,"class","load-metrics svelte-152m2bn"),a(te,"class","svelte-152m2bn"),a(N,"class","add-row-btn svelte-152m2bn"),a(N,"title","Add Row"),a(Y,"class","section-header svelte-152m2bn"),a(ae,"class","svelte-152m2bn"),a($,"class","table-container svelte-152m2bn"),a(H,"class","exercise-section"),a(e,"class","fingerboard-config svelte-152m2bn")},m(V,R){z(V,e,R),i(e,t),i(t,s),i(s,l),i(s,c),i(s,r),i(r,f);for(let F=0;F<oe.length;F+=1)oe[F]&&oe[F].m(r,null);Ie(r,n[0],!0),i(t,u),i(t,b),i(b,g),i(b,k),i(b,p),i(p,C);for(let F=0;F<K.length;F+=1)K[F]&&K[F].m(p,null);Ie(p,n[1],!0),i(e,E),i(e,w),i(w,I),i(I,D),i(I,q),i(I,L),M(L,n[2]),i(e,U),i(e,H),i(H,Y),i(Y,te),i(Y,B),i(Y,N),i(H,re),i(H,$),i($,ae),i(ae,X),i(ae,_e),i(ae,ge);for(let F=0;F<ee.length;F+=1)ee[F]&&ee[F].m(ge,null);ie||(ve=[W(r,"change",n[9]),W(p,"change",n[10]),W(L,"input",n[11]),W(N,"click",n[4])],ie=!0)},p(V,[R]){if(R&64){Le=ce(V[6]);let F;for(F=0;F<Le.length;F+=1){const me=jt(V,Le,F);oe[F]?oe[F].p(me,R):(oe[F]=zt(me),oe[F].c(),oe[F].m(r,null))}for(;F<oe.length;F+=1)oe[F].d(1);oe.length=Le.length}if(R&65&&Ie(r,V[0]),R&128){le=ce(V[7]);let F;for(F=0;F<le.length;F+=1){const me=Ft(V,le,F);K[F]?K[F].p(me,R):(K[F]=Gt(me),K[F].c(),K[F].m(p,null))}for(;F<K.length;F+=1)K[F].d(1);K.length=le.length}R&130&&Ie(p,V[1]),R&4&&Ve(L.value)!==V[2]&&M(L,V[2]),R&40&&(he=ce(V[3]),ee=kt(ee,R,Z,1,V,he,be,ge,Bl,Wt,null,Ht))},i(V){V&&(ne||we(()=>{ne=Ye(e,Me,{}),ne.start()}))},o:ye,d(V){V&&_(e),He(oe,V),He(K,V);for(let R=0;R<ee.length;R+=1)ee[R].d();ie=!1,Qe(ve)}}}function Ls(n,e,t){let s="",l="",o=0,c=[{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}];function r(){return{location:s,session:l,fingerLoad:o,exercises:c}}function f(){t(3,c=[...c,{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}])}function m(D){c.length>1&&t(3,c=c.filter(A=>A.id!==D))}const u=["Home","Gym","Crag"],b=["Strength","Endurance","Recovery"];function g(){s=je(this),t(0,s),t(6,u)}function h(){l=je(this),t(1,l),t(7,b)}function k(){o=Ve(this.value),t(2,o)}function p(D,A){D[A].name=this.value,t(3,c)}function C(D,A){D[A].weight=Ve(this.value),t(3,c)}function T(D,A){D[A].sets=Ve(this.value),t(3,c)}function E(D,A){D[A].reps=Ve(this.value),t(3,c)}function w(D,A){D[A].notes=this.value,t(3,c)}return[s,l,o,c,f,m,u,b,r,g,h,k,p,C,T,E,w,D=>m(D.id)]}class Is extends xe{constructor(e){super(),Ze(this,e,Ls,Ds,Xe,{getData:8})}get getData(){return this.$$.ctx[8]}}const Hl="training_history_cache",Ss=JSON.parse(localStorage.getItem(Hl)||"{}"),wt=Nl(Ss);wt.subscribe(n=>{localStorage.setItem(Hl,JSON.stringify(n))});function Fl(n,e){wt.update(t=>{const s=t[n]||[],l=[...e,...s],o=new Map;return l.forEach(c=>{var u;const r=((u=c.date)==null?void 0:u.value)||c.date,m=`${r?new Date(r).toISOString():""}|${c.location}|${c.session_type}|${JSON.stringify(c.climbs)}`;o.has(m)||o.set(m,c)}),{...t,[n]:Array.from(o.values()).sort((c,r)=>{var u,b;const f=new Date(((u=c.date)==null?void 0:u.value)||c.date);return new Date(((b=r.date)==null?void 0:b.value)||r.date).getTime()-f.getTime()})}})}function Os(n,e){Fl(n,[e])}function Kt(n,e,t){const s=n.slice();return s[10]=e[t],s}function Yt(n){let e,t=n[10].text+"",s,l;return{c(){e=v("option"),s=de(t),l=O(),this.h()},l(o){e=d(o,"OPTION",{});var c=y(e);s=fe(c,t),l=S(c),c.forEach(_),this.h()},h(){e.__value=n[10].id,M(e,e.__value)},m(o,c){z(o,e,c),i(e,s),i(e,l)},p:ye,d(o){o&&_(e)}}}function Jt(n){let e,t,s,l,o,c=n[2]?"Saving...":"Save Log",r,f,m,u,b;var g=n[5].component;function h(p,C){return{props:{}}}g&&(t=bt(g,h()),n[9](t));let k=n[3]&&Qt(n);return{c(){e=v("div"),t&&dt(t.$$.fragment),s=O(),k&&k.c(),l=O(),o=v("button"),r=de(c),this.h()},l(p){e=d(p,"DIV",{class:!0});var C=y(e);t&&yt(t.$$.fragment,C),s=S(C),k&&k.l(C),l=S(C),o=d(C,"BUTTON",{class:!0});var T=y(o);r=fe(T,c),T.forEach(_),C.forEach(_),this.h()},h(){a(o,"class","save-button svelte-148fipo"),o.disabled=n[2],a(e,"class","config-wrapper svelte-148fipo")},m(p,C){z(p,e,C),t&&vt(t,e,null),i(e,s),k&&k.m(e,null),i(e,l),i(e,o),i(o,r),m=!0,u||(b=W(o,"click",n[7]),u=!0)},p(p,C){if(C&32&&g!==(g=p[5].component)){if(t){Ge();const T=t;Ae(T.$$.fragment,1,0,()=>{ft(T,1)}),We()}g?(t=bt(g,h()),p[9](t),dt(t.$$.fragment),pe(t.$$.fragment,1),vt(t,e,s)):t=null}else if(g){const T={};t.$set(T)}p[3]?k?(k.p(p,C),C&8&&pe(k,1)):(k=Qt(p),k.c(),pe(k,1),k.m(e,l)):k&&(Ge(),Ae(k,1,1,()=>{k=null}),We()),(!m||C&4)&&c!==(c=p[2]?"Saving...":"Save Log")&&Be(r,c),(!m||C&4)&&(o.disabled=p[2])},i(p){m||(t&&pe(t.$$.fragment,p),pe(k),p&&(f||we(()=>{f=Ye(e,Me,{}),f.start()})),m=!0)},o(p){t&&Ae(t.$$.fragment,p),Ae(k),m=!1},d(p){p&&_(e),n[9](null),t&&ft(t),k&&k.d(),u=!1,b()}}}function Qt(n){let e,t,s,l;return{c(){e=v("div"),t=de(n[3]),this.h()},l(o){e=d(o,"DIV",{class:!0});var c=y(e);t=fe(c,n[3]),c.forEach(_),this.h()},h(){a(e,"class","message svelte-148fipo"),ze(e,"success",n[4]),ze(e,"error",!n[4])},m(o,c){z(o,e,c),i(e,t),l=!0},p(o,c){(!l||c&8)&&Be(t,o[3]),(!l||c&16)&&ze(e,"success",o[4]),(!l||c&16)&&ze(e,"error",!o[4])},i(o){l||(o&&we(()=>{l&&(s||(s=Ke(e,Me,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=Ke(e,Me,{},!1)),s.run(0)),l=!1},d(o){o&&_(e),o&&s&&s.end()}}}function Ns(n){let e,t,s="Log Exercise",l,o,c,r="What did you do today?",f,m,u,b="Select activity type...",g,h,k,p,C=ce(n[6]),T=[];for(let w=0;w<C.length;w+=1)T[w]=Yt(Kt(n,C,w));let E=n[5]&&Jt(n);return{c(){e=v("div"),t=v("h2"),t.textContent=s,l=O(),o=v("div"),c=v("label"),c.textContent=r,f=O(),m=v("select"),u=v("option"),u.textContent=b;for(let w=0;w<T.length;w+=1)T[w].c();g=O(),E&&E.c(),this.h()},l(w){e=d(w,"DIV",{class:!0});var I=y(e);t=d(I,"H2",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1eeau7i"&&(t.textContent=s),l=S(I),o=d(I,"DIV",{class:!0});var D=y(o);c=d(D,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(c)!=="svelte-1ndwsee"&&(c.textContent=r),f=S(D),m=d(D,"SELECT",{id:!0,class:!0});var A=y(m);u=d(A,"OPTION",{"data-svelte-h":!0}),j(u)!=="svelte-11gchci"&&(u.textContent=b);for(let q=0;q<T.length;q+=1)T[q].l(A);A.forEach(_),D.forEach(_),g=S(I),E&&E.l(I),I.forEach(_),this.h()},h(){a(t,"class","svelte-148fipo"),a(c,"for","exercise-type"),a(c,"class","svelte-148fipo"),u.__value="",M(u,u.__value),u.disabled=!0,u.selected=!0,a(m,"id","exercise-type"),a(m,"class","svelte-148fipo"),n[0]===void 0&&we(()=>n[8].call(m)),a(o,"class","dropdown-wrapper svelte-148fipo"),a(e,"class","tab-content svelte-148fipo")},m(w,I){z(w,e,I),i(e,t),i(e,l),i(e,o),i(o,c),i(o,f),i(o,m),i(m,u);for(let D=0;D<T.length;D+=1)T[D]&&T[D].m(m,null);Ie(m,n[0],!0),i(e,g),E&&E.m(e,null),h=!0,k||(p=W(m,"change",n[8]),k=!0)},p(w,[I]){if(I&64){C=ce(w[6]);let D;for(D=0;D<C.length;D+=1){const A=Kt(w,C,D);T[D]?T[D].p(A,I):(T[D]=Yt(A),T[D].c(),T[D].m(m,null))}for(;D<T.length;D+=1)T[D].d(1);T.length=C.length}I&65&&Ie(m,w[0]),w[5]?E?(E.p(w,I),I&32&&pe(E,1)):(E=Jt(w),E.c(),pe(E,1),E.m(e,null)):E&&(Ge(),Ae(E,1,1,()=>{E=null}),We())},i(w){h||(pe(E),h=!0)},o(w){Ae(E),h=!1},d(w){w&&_(e),He(T,w),E&&E.d(),k=!1,p()}}}const qs="https://save-log-825153765638.europe-west1.run.app";function As(n,e,t){let s,l="";const o=[{id:"indoor",text:"Indoor Climb",component:is},{id:"fingerboard",text:"Fingerboarding",component:Is},{id:"gym",text:"Gym Session",component:ds},{id:"outdoor",text:"Outdoor Climb",component:ks},{id:"other",text:"Other",component:Ts}];let c,r=!1,f="",m=!1;async function u(){if(!c||!c.getData){console.error("Component does not support data export");return}const h=c.getData(),k=Il(ct);if(!h.location||!h.session||h.exercises&&h.exercises.length===0){t(3,f="Please select a Location, Session, and add at least one exercise."),t(4,m=!1);return}if(!k){t(3,f="Authentication error. Please log in again."),t(4,m=!1);return}t(2,r=!0),t(3,f="");try{const p={activity_type:l,location:h.location,session_type:h.session,finger_load:h.fingerLoad||0,shoulder_load:h.shoulderLoad||0,forearm_load:h.forearmLoad||0,climbs:h.exercises,date:new Date().toISOString()},C=await fetch(qs,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(p)});if(!C.ok){const T=await C.text();throw new Error(`Server error (${C.status}): ${T}`)}t(3,f="Log saved successfully!"),t(4,m=!0),Os(l,p)}catch(p){console.error("Save Error:",p),t(3,f="Failed to save log. Check console for details."),t(4,m=!1)}finally{t(2,r=!1)}}function b(){l=je(this),t(0,l),t(6,o)}function g(h){zl[h?"unshift":"push"](()=>{c=h,t(1,c)})}return n.$$.update=()=>{n.$$.dirty&1&&t(5,s=o.find(h=>h.id===l)),n.$$.dirty&1&&l&&t(3,f="")},[l,c,r,f,m,s,o,u,b,g]}class Bs extends xe{constructor(e){super(),Ze(this,e,As,Ns,Xe,{})}}function Xt(n,e,t){const s=n.slice();return s[38]=e[t],s}function xt(n,e,t){const s=n.slice();return s[41]=e[t],s}function Zt(n,e,t){const s=n.slice();return s[44]=e[t],s}function $t(n,e,t){const s=n.slice();return s[44]=e[t],s}function el(n,e,t){const s=n.slice();return s[49]=e[t],s}function tl(n,e,t){const s=n.slice();return s[58]=e[t],s}function ll(n,e,t){const s=n.slice();return s[52]=e[t],s}function Vs(n,e,t){const s=n.slice();return s[55]=e[t],s}function sl(n,e,t){const s=n.slice();return s[61]=e[t],s}function Ps(n){let e,t,s;return{c(){e=ht("svg"),t=ht("path"),s=ht("path"),this.h()},l(l){e=ut(l,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var o=y(e);t=ut(o,"path",{d:!0}),y(t).forEach(_),s=ut(o,"path",{d:!0}),y(s).forEach(_),o.forEach(_),this.h()},h(){a(t,"d","M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"),a(s,"d","M21 3v5h-5"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","16"),a(e,"height","16"),a(e,"viewBox","0 0 24 24"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"stroke-width","2"),a(e,"stroke-linecap","round"),a(e,"stroke-linejoin","round")},m(l,o){z(l,e,o),i(e,t),i(e,s)},d(l){l&&_(e)}}}function Ms(n){let e;return{c(){e=v("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),y(e).forEach(_),this.h()},h(){a(e,"class","spinner-small svelte-1g91phq")},m(t,s){z(t,e,s)},d(t){t&&_(e)}}}function nl(n){let e,t=n[61].label+"",s;return{c(){e=v("option"),s=de(t),this.h()},l(l){e=d(l,"OPTION",{class:!0});var o=y(e);s=fe(o,t),o.forEach(_),this.h()},h(){e.__value=n[61].id,M(e,e.__value),a(e,"class","svelte-1g91phq")},m(l,o){z(l,e,o),i(e,s)},p:ye,d(l){l&&_(e)}}}function ol(n){let e,t,s,l,o="Start Date",c,r,f,m,u,b="End Date",g,h,k,p,C,T="Location",E,w,I,D,A,q="Session / Type",L,U,H,Y,te="Grade (Exact)",Ee,B,N,x,re,$="Clear",ae,X,De="Apply",_e,ge,ee,be;function ne(K,he){return K[0]==="outdoor"?Us:Rs}let ie=ne(n),ve=ie(n);function Le(K,he){return K[0]==="outdoor"?js:Fs}let oe=Le(n),le=oe(n);return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=o,c=O(),r=v("input"),f=O(),m=v("div"),u=v("label"),u.textContent=b,g=O(),h=v("input"),k=O(),p=v("div"),C=v("label"),C.textContent=T,E=O(),ve.c(),w=O(),I=v("div"),D=v("div"),A=v("label"),A.textContent=q,L=O(),le.c(),U=O(),H=v("div"),Y=v("label"),Y.textContent=te,Ee=O(),B=v("input"),N=O(),x=v("div"),re=v("button"),re.textContent=$,ae=O(),X=v("button"),X.textContent=De,this.h()},l(K){e=d(K,"DIV",{class:!0});var he=y(e);t=d(he,"DIV",{class:!0});var Z=y(t);s=d(Z,"DIV",{class:!0});var V=y(s);l=d(V,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1kxlpsi"&&(l.textContent=o),c=S(V),r=d(V,"INPUT",{id:!0,type:!0,class:!0}),V.forEach(_),f=S(Z),m=d(Z,"DIV",{class:!0});var R=y(m);u=d(R,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(u)!=="svelte-j60kik"&&(u.textContent=b),g=S(R),h=d(R,"INPUT",{id:!0,type:!0,class:!0}),R.forEach(_),k=S(Z),p=d(Z,"DIV",{class:!0});var F=y(p);C=d(F,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(C)!=="svelte-3cwczo"&&(C.textContent=T),E=S(F),ve.l(F),F.forEach(_),Z.forEach(_),w=S(he),I=d(he,"DIV",{class:!0});var me=y(I);D=d(me,"DIV",{class:!0});var Se=y(D);A=d(Se,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(A)!=="svelte-jb3f35"&&(A.textContent=q),L=S(Se),le.l(Se),Se.forEach(_),U=S(me),H=d(me,"DIV",{class:!0});var ue=y(H);Y=d(ue,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(Y)!=="svelte-f1ofpo"&&(Y.textContent=te),Ee=S(ue),B=d(ue,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),ue.forEach(_),N=S(me),x=d(me,"DIV",{class:!0});var Re=y(x);re=d(Re,"BUTTON",{class:!0,"data-svelte-h":!0}),j(re)!=="svelte-1hjrww8"&&(re.textContent=$),ae=S(Re),X=d(Re,"BUTTON",{class:!0,"data-svelte-h":!0}),j(X)!=="svelte-1ch465z"&&(X.textContent=De),Re.forEach(_),me.forEach(_),he.forEach(_),this.h()},h(){a(l,"for","startDate"),a(l,"class","svelte-1g91phq"),a(r,"id","startDate"),a(r,"type","date"),a(r,"class","svelte-1g91phq"),a(s,"class","filter-group svelte-1g91phq"),a(u,"for","endDate"),a(u,"class","svelte-1g91phq"),a(h,"id","endDate"),a(h,"type","date"),a(h,"class","svelte-1g91phq"),a(m,"class","filter-group svelte-1g91phq"),a(C,"for","filterLocation"),a(C,"class","svelte-1g91phq"),a(p,"class","filter-group svelte-1g91phq"),a(t,"class","filter-row svelte-1g91phq"),a(A,"for","filterSession"),a(A,"class","svelte-1g91phq"),a(D,"class","filter-group svelte-1g91phq"),a(Y,"for","filterGrade"),a(Y,"class","svelte-1g91phq"),a(B,"id","filterGrade"),a(B,"type","text"),a(B,"placeholder","e.g. 7a+"),a(B,"class","svelte-1g91phq"),a(H,"class","filter-group svelte-1g91phq"),a(re,"class","clear-btn svelte-1g91phq"),a(X,"class","apply-btn svelte-1g91phq"),a(x,"class","filter-actions svelte-1g91phq"),a(I,"class","filter-row svelte-1g91phq"),a(e,"class","filters-panel svelte-1g91phq")},m(K,he){z(K,e,he),i(e,t),i(t,s),i(s,l),i(s,c),i(s,r),M(r,n[8]),i(t,f),i(t,m),i(m,u),i(m,g),i(m,h),M(h,n[9]),i(t,k),i(t,p),i(p,C),i(p,E),ve.m(p,null),i(e,w),i(e,I),i(I,D),i(D,A),i(D,L),le.m(D,null),i(I,U),i(I,H),i(H,Y),i(H,Ee),i(H,B),M(B,n[12]),i(I,N),i(I,x),i(x,re),i(x,ae),i(x,X),ge=!0,ee||(be=[W(r,"input",n[28]),W(h,"input",n[29]),W(B,"input",n[36]),W(re,"click",n[22]),W(X,"click",n[21])],ee=!0)},p(K,he){he[0]&256&&M(r,K[8]),he[0]&512&&M(h,K[9]),ie===(ie=ne(K))&&ve?ve.p(K,he):(ve.d(1),ve=ie(K),ve&&(ve.c(),ve.m(p,null))),oe===(oe=Le(K))&&le?le.p(K,he):(le.d(1),le=oe(K),le&&(le.c(),le.m(D,null))),he[0]&4096&&B.value!==K[12]&&M(B,K[12])},i(K){ge||(K&&we(()=>{ge&&(_e||(_e=Ke(e,Me,{},!0)),_e.run(1))}),ge=!0)},o(K){K&&(_e||(_e=Ke(e,Me,{},!1)),_e.run(0)),ge=!1},d(K){K&&_(e),ve.d(),le.d(),K&&_e&&_e.end(),ee=!1,Qe(be)}}}function Rs(n){let e,t,s="Any Location",l,o,c=ce(n[18]),r=[];for(let f=0;f<c.length;f+=1)r[f]=rl(tl(n,c,f));return{c(){e=v("select"),t=v("option"),t.textContent=s;for(let f=0;f<r.length;f+=1)r[f].c();this.h()},l(f){e=d(f,"SELECT",{id:!0,class:!0});var m=y(e);t=d(m,"OPTION",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-vg9lqd"&&(t.textContent=s);for(let u=0;u<r.length;u+=1)r[u].l(m);m.forEach(_),this.h()},h(){t.__value="",M(t,t.__value),a(t,"class","svelte-1g91phq"),a(e,"id","filterLocation"),a(e,"class","svelte-1g91phq"),n[10]===void 0&&we(()=>n[33].call(e))},m(f,m){z(f,e,m),i(e,t);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);Ie(e,n[10],!0),l||(o=W(e,"change",n[33]),l=!0)},p(f,m){if(m[0]&262144){c=ce(f[18]);let u;for(u=0;u<c.length;u+=1){const b=tl(f,c,u);r[u]?r[u].p(b,m):(r[u]=rl(b),r[u].c(),r[u].m(e,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=c.length}m[0]&263168&&Ie(e,f[10])},d(f){f&&_(e),He(r,f),l=!1,o()}}}function Us(n){let e,t,s,l="Any Area",o,c,r,f="Any Crag",m,u,b,g=ce(Rl),h=[];for(let C=0;C<g.length;C+=1)h[C]=Hs(Vs(n,g,C));let k=ce(n[14]),p=[];for(let C=0;C<k.length;C+=1)p[C]=al(ll(n,k,C));return{c(){e=v("div"),t=v("select"),s=v("option"),s.textContent=l;for(let C=0;C<h.length;C+=1)h[C].c();o=O(),c=v("select"),r=v("option"),r.textContent=f;for(let C=0;C<p.length;C+=1)p[C].c();this.h()},l(C){e=d(C,"DIV",{class:!0});var T=y(e);t=d(T,"SELECT",{id:!0,class:!0});var E=y(t);s=d(E,"OPTION",{class:!0,"data-svelte-h":!0}),j(s)!=="svelte-1a0ocwf"&&(s.textContent=l);for(let I=0;I<h.length;I+=1)h[I].l(E);E.forEach(_),o=S(T),c=d(T,"SELECT",{id:!0,class:!0});var w=y(c);r=d(w,"OPTION",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-1fifq8b"&&(r.textContent=f);for(let I=0;I<p.length;I+=1)p[I].l(w);w.forEach(_),T.forEach(_),this.h()},h(){s.__value="",M(s,s.__value),a(s,"class","svelte-1g91phq"),a(t,"id","filterArea"),a(t,"class","svelte-1g91phq"),n[1]===void 0&&we(()=>n[30].call(t)),r.__value="",M(r,r.__value),a(r,"class","svelte-1g91phq"),a(c,"id","filterCrag"),c.disabled=m=!n[1],a(c,"class","svelte-1g91phq"),n[2]===void 0&&we(()=>n[32].call(c)),a(e,"class","outdoor-filters svelte-1g91phq")},m(C,T){z(C,e,T),i(e,t),i(t,s);for(let E=0;E<h.length;E+=1)h[E]&&h[E].m(t,null);Ie(t,n[1],!0),i(e,o),i(e,c),i(c,r);for(let E=0;E<p.length;E+=1)p[E]&&p[E].m(c,null);Ie(c,n[2],!0),u||(b=[W(t,"change",n[30]),W(t,"change",n[31]),W(c,"change",n[32])],u=!0)},p(C,T){if(T[0]&2&&Ie(t,C[1]),T[0]&16384){k=ce(C[14]);let E;for(E=0;E<k.length;E+=1){const w=ll(C,k,E);p[E]?p[E].p(w,T):(p[E]=al(w),p[E].c(),p[E].m(c,null))}for(;E<p.length;E+=1)p[E].d(1);p.length=k.length}T[0]&2&&m!==(m=!C[1])&&(c.disabled=m),T[0]&16388&&Ie(c,C[2])},d(C){C&&_(e),He(h,C),He(p,C),u=!1,Qe(b)}}}function rl(n){let e,t=n[58]+"",s;return{c(){e=v("option"),s=de(t),this.h()},l(l){e=d(l,"OPTION",{class:!0});var o=y(e);s=fe(o,t),o.forEach(_),this.h()},h(){e.__value=n[58],M(e,e.__value),a(e,"class","svelte-1g91phq")},m(l,o){z(l,e,o),i(e,s)},p:ye,d(l){l&&_(e)}}}function Hs(n){let e,t;return{c(){e=v("option"),t=de(n[55]),this.h()},l(s){e=d(s,"OPTION",{class:!0});var l=y(e);t=fe(l,n[55]),l.forEach(_),this.h()},h(){e.__value=n[55],M(e,e.__value),a(e,"class","svelte-1g91phq")},m(s,l){z(s,e,l),i(e,t)},p:ye,d(s){s&&_(e)}}}function al(n){let e,t=n[52]+"",s,l;return{c(){e=v("option"),s=de(t),this.h()},l(o){e=d(o,"OPTION",{class:!0});var c=y(e);s=fe(c,t),c.forEach(_),this.h()},h(){e.__value=l=n[52],M(e,e.__value),a(e,"class","svelte-1g91phq")},m(o,c){z(o,e,c),i(e,s)},p(o,c){c[0]&16384&&t!==(t=o[52]+"")&&Be(s,t),c[0]&16384&&l!==(l=o[52])&&(e.__value=l,M(e,e.__value))},d(o){o&&_(e)}}}function Fs(n){let e,t,s="Any Session",l,o,c=ce(n[19]),r=[];for(let f=0;f<c.length;f+=1)r[f]=il(el(n,c,f));return{c(){e=v("select"),t=v("option"),t.textContent=s;for(let f=0;f<r.length;f+=1)r[f].c();this.h()},l(f){e=d(f,"SELECT",{id:!0,class:!0});var m=y(e);t=d(m,"OPTION",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-178oehu"&&(t.textContent=s);for(let u=0;u<r.length;u+=1)r[u].l(m);m.forEach(_),this.h()},h(){t.__value="",M(t,t.__value),a(t,"class","svelte-1g91phq"),a(e,"id","filterSession"),a(e,"class","svelte-1g91phq"),n[11]===void 0&&we(()=>n[35].call(e))},m(f,m){z(f,e,m),i(e,t);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);Ie(e,n[11],!0),l||(o=W(e,"change",n[35]),l=!0)},p(f,m){if(m[0]&524288){c=ce(f[19]);let u;for(u=0;u<c.length;u+=1){const b=el(f,c,u);r[u]?r[u].p(b,m):(r[u]=il(b),r[u].c(),r[u].m(e,null))}for(;u<r.length;u+=1)r[u].d(1);r.length=c.length}m[0]&526336&&Ie(e,f[11])},d(f){f&&_(e),He(r,f),l=!1,o()}}}function js(n){let e,t,s="Any Type",l,o="Bouldering",c,r="Ropes",f,m;return{c(){e=v("select"),t=v("option"),t.textContent=s,l=v("option"),l.textContent=o,c=v("option"),c.textContent=r,this.h()},l(u){e=d(u,"SELECT",{id:!0,class:!0});var b=y(e);t=d(b,"OPTION",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-c7i2yo"&&(t.textContent=s),l=d(b,"OPTION",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-ffaje2"&&(l.textContent=o),c=d(b,"OPTION",{class:!0,"data-svelte-h":!0}),j(c)!=="svelte-78wj0c"&&(c.textContent=r),b.forEach(_),this.h()},h(){t.__value="",M(t,t.__value),a(t,"class","svelte-1g91phq"),l.__value="Bouldering",M(l,l.__value),a(l,"class","svelte-1g91phq"),c.__value="Ropes",M(c,c.__value),a(c,"class","svelte-1g91phq"),a(e,"id","filterSession"),a(e,"class","svelte-1g91phq"),n[11]===void 0&&we(()=>n[34].call(e))},m(u,b){z(u,e,b),i(e,t),i(e,l),i(e,c),Ie(e,n[11],!0),f||(m=W(e,"change",n[34]),f=!0)},p(u,b){b[0]&526336&&Ie(e,u[11])},d(u){u&&_(e),f=!1,m()}}}function il(n){let e,t=n[49]+"",s;return{c(){e=v("option"),s=de(t),this.h()},l(l){e=d(l,"OPTION",{class:!0});var o=y(e);s=fe(o,t),o.forEach(_),this.h()},h(){e.__value=n[49],M(e,e.__value),a(e,"class","svelte-1g91phq")},m(l,o){z(l,e,o),i(e,s)},p:ye,d(l){l&&_(e)}}}function zs(n){let e,t,s,l=[],o=new Map,c,r,f,m=n[15].length>0&&cl(),u=n[15].length===0&&n[3].length>0&&ul(),b=ce(n[15]);const g=k=>k[38].key;for(let k=0;k<b.length;k+=1){let p=Xt(n,b,k),C=g(p);o.set(C,l[k]=bl(C,p))}let h=n[15].length>0&&kl(n);return{c(){m&&m.c(),e=O(),t=v("div"),u&&u.c(),s=O();for(let k=0;k<l.length;k+=1)l[k].c();r=O(),h&&h.c(),f=mt(),this.h()},l(k){m&&m.l(k),e=S(k),t=d(k,"DIV",{class:!0});var p=y(t);u&&u.l(p),s=S(p);for(let C=0;C<l.length;C+=1)l[C].l(p);p.forEach(_),r=S(k),h&&h.l(k),f=mt(),this.h()},h(){a(t,"class","sessions-list svelte-1g91phq")},m(k,p){m&&m.m(k,p),z(k,e,p),z(k,t,p),u&&u.m(t,null),i(t,s);for(let C=0;C<l.length;C+=1)l[C]&&l[C].m(t,null);z(k,r,p),h&&h.m(k,p),z(k,f,p)},p(k,p){k[15].length>0?m?p[0]&32768&&pe(m,1):(m=cl(),m.c(),pe(m,1),m.m(e.parentNode,e)):m&&(Ge(),Ae(m,1,1,()=>{m=null}),We()),k[15].length===0&&k[3].length>0?u||(u=ul(),u.c(),u.m(t,s)):u&&(u.d(1),u=null),p[0]&106560&&(b=ce(k[15]),l=kt(l,p,g,1,k,b,o,t,Bl,bl,null,Xt)),k[15].length>0?h?(h.p(k,p),p[0]&32768&&pe(h,1)):(h=kl(k),h.c(),pe(h,1),h.m(f.parentNode,f)):h&&(h.d(1),h=null)},i(k){pe(m),k&&(c||we(()=>{c=Ye(t,Me,{}),c.start()})),pe(h)},o(k){Ae(m)},d(k){k&&(_(e),_(t),_(r),_(f)),m&&m.d(k),u&&u.d();for(let p=0;p<l.length;p+=1)l[p].d();h&&h.d(k)}}}function Gs(n){let e,t=`<p>No data cached for this activity. Click &quot;Fetch Data&quot; to sync
                from the server.</p> <div class="empty-state"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg></div>`,s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-h6ex8u"&&(e.innerHTML=t),this.h()},h(){a(e,"class","placeholder svelte-1g91phq")},m(l,o){z(l,e,o)},p:ye,i(l){l&&(s||we(()=>{s=Ye(e,Me,{}),s.start()}))},o:ye,d(l){l&&_(e)}}}function Ws(n){let e,t,s,l,o,c,r="Retry",f,m,u;return{c(){e=v("div"),t=v("p"),s=de("Error: "),l=de(n[5]),o=O(),c=v("button"),c.textContent=r,this.h()},l(b){e=d(b,"DIV",{class:!0});var g=y(e);t=d(g,"P",{});var h=y(t);s=fe(h,"Error: "),l=fe(h,n[5]),h.forEach(_),o=S(g),c=d(g,"BUTTON",{class:!0,"data-svelte-h":!0}),j(c)!=="svelte-1n0rt7s"&&(c.textContent=r),g.forEach(_),this.h()},h(){a(c,"class","retry-btn svelte-1g91phq"),a(e,"class","status-msg error svelte-1g91phq")},m(b,g){z(b,e,g),i(e,t),i(t,s),i(t,l),i(e,o),i(e,c),m||(u=W(c,"click",n[20]),m=!0)},p(b,g){g[0]&32&&Be(l,b[5])},i(b){b&&(f||we(()=>{f=Ye(e,Me,{}),f.start()}))},o:ye,d(b){b&&_(e),m=!1,u()}}}function Ks(n){let e,t=`<div class="spinner svelte-1g91phq"></div>
            Loading your training history...`,s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-7ltysi"&&(e.innerHTML=t),this.h()},h(){a(e,"class","status-msg svelte-1g91phq")},m(l,o){z(l,e,o)},p:ye,i(l){l&&(s||we(()=>{s=Ye(e,Me,{}),s.start()}))},o:ye,d(l){l&&_(e)}}}function cl(n){let e,t='<div class="legend-item finger svelte-1g91phq"><span class="dot svelte-1g91phq"></span> Finger</div> <div class="legend-item shoulder svelte-1g91phq"><span class="dot svelte-1g91phq"></span> Shoulder</div> <div class="legend-item forearm svelte-1g91phq"><span class="dot svelte-1g91phq"></span> Forearm</div> <span class="legend-note">(0-5 Scale)</span>',s,l;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(o){e=d(o,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-s8a0lt"&&(e.innerHTML=t),this.h()},h(){a(e,"class","legend-row svelte-1g91phq")},m(o,c){z(o,e,c),l=!0},i(o){l||(o&&we(()=>{l&&(s||(s=Ke(e,Me,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=Ke(e,Me,{},!1)),s.run(0)),l=!1},d(o){o&&_(e),o&&s&&s.end()}}}function ul(n){let e,t="No results match your filters.";return{c(){e=v("div"),e.textContent=t,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1m70tcd"&&(e.textContent=t),this.h()},h(){a(e,"class","no-results svelte-1g91phq")},m(s,l){z(s,e,l)},d(s){s&&_(e)}}}function hl(n){let e,t,s,l,o,c,r,f,m=ce(n[13].filter(yl)),u=[];for(let h=0;h<m.length;h+=1)u[h]=fl($t(n,m,h));let b=ce(n[38].items),g=[];for(let h=0;h<b.length;h+=1)g[h]=ml(xt(n,b,h));return{c(){e=v("div"),t=v("table"),s=v("thead"),l=v("tr");for(let h=0;h<u.length;h+=1)u[h].c();o=O(),c=v("tbody");for(let h=0;h<g.length;h+=1)g[h].c();this.h()},l(h){e=d(h,"DIV",{class:!0});var k=y(e);t=d(k,"TABLE",{class:!0});var p=y(t);s=d(p,"THEAD",{});var C=y(s);l=d(C,"TR",{});var T=y(l);for(let w=0;w<u.length;w+=1)u[w].l(T);T.forEach(_),C.forEach(_),o=S(p),c=d(p,"TBODY",{});var E=y(c);for(let w=0;w<g.length;w+=1)g[w].l(E);E.forEach(_),p.forEach(_),k.forEach(_),this.h()},h(){a(t,"class","details-table svelte-1g91phq"),a(e,"class","session-details svelte-1g91phq")},m(h,k){z(h,e,k),i(e,t),i(t,s),i(s,l);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(l,null);i(t,o),i(t,c);for(let p=0;p<g.length;p+=1)g[p]&&g[p].m(c,null);f=!0},p(h,k){if(k[0]&8192){m=ce(h[13].filter(yl));let p;for(p=0;p<m.length;p+=1){const C=$t(h,m,p);u[p]?u[p].p(C,k):(u[p]=fl(C),u[p].c(),u[p].m(l,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=m.length}if(k[0]&40960){b=ce(h[38].items);let p;for(p=0;p<b.length;p+=1){const C=xt(h,b,p);g[p]?g[p].p(C,k):(g[p]=ml(C),g[p].c(),g[p].m(c,null))}for(;p<g.length;p+=1)g[p].d(1);g.length=b.length}},i(h){f||(h&&we(()=>{f&&(r||(r=Ke(e,ot,{},!0)),r.run(1))}),f=!0)},o(h){h&&(r||(r=Ke(e,ot,{},!1)),r.run(0)),f=!1},d(h){h&&_(e),He(u,h),He(g,h),h&&r&&r.end()}}}function fl(n){let e,t=n[44].label+"",s;return{c(){e=v("th"),s=de(t),this.h()},l(l){e=d(l,"TH",{class:!0});var o=y(e);s=fe(o,t),o.forEach(_),this.h()},h(){a(e,"class","svelte-1g91phq")},m(l,o){z(l,e,o),i(e,s)},p(l,o){o[0]&8192&&t!==(t=l[44].label+"")&&Be(s,t)},d(l){l&&_(e)}}}function Ys(n){let e=(n[41][n[44].key]||"-")+"",t;return{c(){t=de(e)},l(s){t=fe(s,e)},m(s,l){z(s,t,l)},p(s,l){l[0]&40960&&e!==(e=(s[41][s[44].key]||"-")+"")&&Be(t,e)},d(s){s&&_(t)}}}function Js(n){let e,t,s=(n[41].route||n[41].name||"-")+"",l,o,c,r,f,m=n[41].grade&&dl(n),u=n[41].weight&&vl(n),b=(n[41].sets||n[41].reps)&&pl(n),g=n[41].notes&&_l(n);return{c(){e=v("div"),t=v("span"),l=de(s),o=O(),m&&m.c(),c=O(),u&&u.c(),r=O(),b&&b.c(),f=O(),g&&g.c(),this.h()},l(h){e=d(h,"DIV",{class:!0});var k=y(e);t=d(k,"SPAN",{class:!0});var p=y(t);l=fe(p,s),p.forEach(_),o=S(k),m&&m.l(k),c=S(k),u&&u.l(k),r=S(k),b&&b.l(k),f=S(k),g&&g.l(k),k.forEach(_),this.h()},h(){a(t,"class","ex-name svelte-1g91phq"),a(e,"class","exercise-row svelte-1g91phq")},m(h,k){z(h,e,k),i(e,t),i(t,l),i(e,o),m&&m.m(e,null),i(e,c),u&&u.m(e,null),i(e,r),b&&b.m(e,null),i(e,f),g&&g.m(e,null)},p(h,k){k[0]&32768&&s!==(s=(h[41].route||h[41].name||"-")+"")&&Be(l,s),h[41].grade?m?m.p(h,k):(m=dl(h),m.c(),m.m(e,c)):m&&(m.d(1),m=null),h[41].weight?u?u.p(h,k):(u=vl(h),u.c(),u.m(e,r)):u&&(u.d(1),u=null),h[41].sets||h[41].reps?b?b.p(h,k):(b=pl(h),b.c(),b.m(e,f)):b&&(b.d(1),b=null),h[41].notes?g?g.p(h,k):(g=_l(h),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},d(h){h&&_(e),m&&m.d(),u&&u.d(),b&&b.d(),g&&g.d()}}}function dl(n){let e,t=n[41].grade+"",s;return{c(){e=v("span"),s=de(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var o=y(e);s=fe(o,t),o.forEach(_),this.h()},h(){a(e,"class","ex-meta grade svelte-1g91phq")},m(l,o){z(l,e,o),i(e,s)},p(l,o){o[0]&32768&&t!==(t=l[41].grade+"")&&Be(s,t)},d(l){l&&_(e)}}}function vl(n){let e,t=n[41].weight+"",s,l;return{c(){e=v("span"),s=de(t),l=de("kg"),this.h()},l(o){e=d(o,"SPAN",{class:!0});var c=y(e);s=fe(c,t),l=fe(c,"kg"),c.forEach(_),this.h()},h(){a(e,"class","ex-meta weight svelte-1g91phq")},m(o,c){z(o,e,c),i(e,s),i(e,l)},p(o,c){c[0]&32768&&t!==(t=o[41].weight+"")&&Be(s,t)},d(o){o&&_(e)}}}function pl(n){let e,t=n[41].sets+"",s,l,o=n[41].reps+"",c;return{c(){e=v("span"),s=de(t),l=de("x"),c=de(o),this.h()},l(r){e=d(r,"SPAN",{class:!0});var f=y(e);s=fe(f,t),l=fe(f,"x"),c=fe(f,o),f.forEach(_),this.h()},h(){a(e,"class","ex-meta sets svelte-1g91phq")},m(r,f){z(r,e,f),i(e,s),i(e,l),i(e,c)},p(r,f){f[0]&32768&&t!==(t=r[41].sets+"")&&Be(s,t),f[0]&32768&&o!==(o=r[41].reps+"")&&Be(c,o)},d(r){r&&_(e)}}}function _l(n){let e,t=n[41].notes+"",s;return{c(){e=v("span"),s=de(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var o=y(e);s=fe(o,t),o.forEach(_),this.h()},h(){a(e,"class","ex-notes svelte-1g91phq")},m(l,o){z(l,e,o),i(e,s)},p(l,o){o[0]&32768&&t!==(t=l[41].notes+"")&&Be(s,t)},d(l){l&&_(e)}}}function gl(n){let e;function t(o,c){return o[44].isObject?Js:Ys}let s=t(n),l=s(n);return{c(){e=v("td"),l.c(),this.h()},l(o){e=d(o,"TD",{class:!0});var c=y(e);l.l(c),c.forEach(_),this.h()},h(){a(e,"class","svelte-1g91phq")},m(o,c){z(o,e,c),l.m(e,null)},p(o,c){s===(s=t(o))&&l?l.p(o,c):(l.d(1),l=s(o),l&&(l.c(),l.m(e,null)))},d(o){o&&_(e),l.d()}}}function ml(n){let e,t,s=ce(n[13].filter(El)),l=[];for(let o=0;o<s.length;o+=1)l[o]=gl(Zt(n,s,o));return{c(){e=v("tr");for(let o=0;o<l.length;o+=1)l[o].c();t=O()},l(o){e=d(o,"TR",{});var c=y(e);for(let r=0;r<l.length;r+=1)l[r].l(c);t=S(c),c.forEach(_)},m(o,c){z(o,e,c);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null);i(e,t)},p(o,c){if(c[0]&40960){s=ce(o[13].filter(El));let r;for(r=0;r<s.length;r+=1){const f=Zt(o,s,r);l[r]?l[r].p(f,c):(l[r]=gl(f),l[r].c(),l[r].m(e,t))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}},d(o){o&&_(e),He(l,o)}}}function bl(n,e){let t,s,l,o,c=Cl(e[38].date)+"",r,f,m,u=e[38].location+"",b,g,h,k=e[38].session+"",p,C,T,E,w,I="FI",D,A,q=e[38].fingerLoad+"",L,U,H,Y,te="SH",Ee,B,N=e[38].shoulderLoad+"",x,re,$,ae,X="FO",De,_e,ge=e[38].forearmLoad+"",ee,be,ne,ie,ve,Le=e[6].has(e[38].key),oe,le,K;function he(){return e[37](e[38])}let Z=Le&&hl(e);return{key:n,first:null,c(){t=v("div"),s=v("button"),l=v("div"),o=v("span"),r=de(c),f=O(),m=v("span"),b=de(u),g=O(),h=v("span"),p=de(k),C=O(),T=v("div"),E=v("div"),w=v("span"),w.textContent=I,D=O(),A=v("span"),L=de(q),U=O(),H=v("div"),Y=v("span"),Y.textContent=te,Ee=O(),B=v("span"),x=de(N),re=O(),$=v("div"),ae=v("span"),ae.textContent=X,De=O(),_e=v("span"),ee=de(ge),be=O(),ne=ht("svg"),ie=ht("path"),ve=O(),Z&&Z.c(),oe=O(),this.h()},l(V){t=d(V,"DIV",{class:!0});var R=y(t);s=d(R,"BUTTON",{class:!0});var F=y(s);l=d(F,"DIV",{class:!0});var me=y(l);o=d(me,"SPAN",{class:!0});var Se=y(o);r=fe(Se,c),Se.forEach(_),f=S(me),m=d(me,"SPAN",{class:!0});var ue=y(m);b=fe(ue,u),ue.forEach(_),g=S(me),h=d(me,"SPAN",{class:!0});var Re=y(h);p=fe(Re,k),Re.forEach(_),me.forEach(_),C=S(F),T=d(F,"DIV",{class:!0});var Oe=y(T);E=d(Oe,"DIV",{class:!0});var ke=y(E);w=d(ke,"SPAN",{class:!0,"data-svelte-h":!0}),j(w)!=="svelte-lon4bu"&&(w.textContent=I),D=S(ke),A=d(ke,"SPAN",{class:!0});var Pe=y(A);L=fe(Pe,q),Pe.forEach(_),ke.forEach(_),U=S(Oe),H=d(Oe,"DIV",{class:!0});var Te=y(H);Y=d(Te,"SPAN",{class:!0,"data-svelte-h":!0}),j(Y)!=="svelte-ryswzs"&&(Y.textContent=te),Ee=S(Te),B=d(Te,"SPAN",{class:!0});var Fe=y(B);x=fe(Fe,N),Fe.forEach(_),Te.forEach(_),re=S(Oe),$=d(Oe,"DIV",{class:!0});var Ne=y($);ae=d(Ne,"SPAN",{class:!0,"data-svelte-h":!0}),j(ae)!=="svelte-1q34mlw"&&(ae.textContent=X),De=S(Ne),_e=d(Ne,"SPAN",{class:!0});var P=y(_e);ee=fe(P,ge),P.forEach(_),Ne.forEach(_),be=S(Oe),ne=ut(Oe,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var Q=y(ne);ie=ut(Q,"path",{d:!0}),y(ie).forEach(_),Q.forEach(_),Oe.forEach(_),F.forEach(_),ve=S(R),Z&&Z.l(R),oe=S(R),R.forEach(_),this.h()},h(){a(o,"class","date svelte-1g91phq"),a(m,"class","location svelte-1g91phq"),a(h,"class","tag svelte-1g91phq"),a(l,"class","session-info svelte-1g91phq"),a(w,"class","label svelte-1g91phq"),a(A,"class","val"),a(E,"class","load-pill finger svelte-1g91phq"),a(Y,"class","label svelte-1g91phq"),a(B,"class","val"),a(H,"class","load-pill shoulder svelte-1g91phq"),a(ae,"class","label svelte-1g91phq"),a(_e,"class","val"),a($,"class","load-pill forearm svelte-1g91phq"),a(ie,"d","m6 9 6 6 6-6"),a(ne,"class","chevron svelte-1g91phq"),a(ne,"xmlns","http://www.w3.org/2000/svg"),a(ne,"width","20"),a(ne,"height","20"),a(ne,"viewBox","0 0 24 24"),a(ne,"fill","none"),a(ne,"stroke","currentColor"),a(ne,"stroke-width","2"),a(ne,"stroke-linecap","round"),a(ne,"stroke-linejoin","round"),a(T,"class","load-summary svelte-1g91phq"),a(s,"class","session-header svelte-1g91phq"),a(t,"class","session-card svelte-1g91phq"),ze(t,"expanded",e[6].has(e[38].key)),this.first=t},m(V,R){z(V,t,R),i(t,s),i(s,l),i(l,o),i(o,r),i(l,f),i(l,m),i(m,b),i(l,g),i(l,h),i(h,p),i(s,C),i(s,T),i(T,E),i(E,w),i(E,D),i(E,A),i(A,L),i(T,U),i(T,H),i(H,Y),i(H,Ee),i(H,B),i(B,x),i(T,re),i(T,$),i($,ae),i($,De),i($,_e),i(_e,ee),i(T,be),i(T,ne),i(ne,ie),i(t,ve),Z&&Z.m(t,null),i(t,oe),le||(K=W(s,"click",he),le=!0)},p(V,R){e=V,R[0]&32768&&c!==(c=Cl(e[38].date)+"")&&Be(r,c),R[0]&32768&&u!==(u=e[38].location+"")&&Be(b,u),R[0]&32768&&k!==(k=e[38].session+"")&&Be(p,k),R[0]&32768&&q!==(q=e[38].fingerLoad+"")&&Be(L,q),R[0]&32768&&N!==(N=e[38].shoulderLoad+"")&&Be(x,N),R[0]&32768&&ge!==(ge=e[38].forearmLoad+"")&&Be(ee,ge),R[0]&32832&&(Le=e[6].has(e[38].key)),Le?Z?(Z.p(e,R),R[0]&32832&&pe(Z,1)):(Z=hl(e),Z.c(),pe(Z,1),Z.m(t,oe)):Z&&(Ge(),Ae(Z,1,1,()=>{Z=null}),We()),R[0]&32832&&ze(t,"expanded",e[6].has(e[38].key))},d(V){V&&_(t),Z&&Z.d(),le=!1,K()}}}function kl(n){let e,t,s=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    Export to CSV`,l,o,c;return{c(){e=v("div"),t=v("button"),t.innerHTML=s,this.h()},l(r){e=d(r,"DIV",{class:!0});var f=y(e);t=d(f,"BUTTON",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-jjg4f9"&&(t.innerHTML=s),f.forEach(_),this.h()},h(){a(t,"class","export-btn svelte-1g91phq"),a(e,"class","footer-actions svelte-1g91phq")},m(r,f){z(r,e,f),i(e,t),o||(c=W(t,"click",n[23]),o=!0)},p:ye,i(r){r&&(l||we(()=>{l=Ye(e,Me,{}),l.start()}))},o:ye,d(r){r&&_(e),o=!1,c()}}}function Qs(n){let e,t,s,l,o,c,r,f=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>
                Filters`,m,u,b,g,h,k;function p(L,U){return L[4]?Ms:Ps}let C=p(n),T=C(n),E=ce(n[17]),w=[];for(let L=0;L<E.length;L+=1)w[L]=nl(sl(n,E,L));let I=n[7]&&ol(n);function D(L,U){return L[4]?Ks:L[5]?Ws:L[3].length===0?Gs:zs}let A=D(n),q=A(n);return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("button"),T.c(),o=de(`
                Fetch Data`),c=O(),r=v("button"),r.innerHTML=f,m=O(),u=v("select");for(let L=0;L<w.length;L+=1)w[L].c();b=O(),I&&I.c(),g=O(),q.c(),this.h()},l(L){e=d(L,"DIV",{class:!0});var U=y(e);t=d(U,"DIV",{class:!0});var H=y(t);s=d(H,"DIV",{class:!0});var Y=y(s);l=d(Y,"BUTTON",{class:!0,title:!0});var te=y(l);T.l(te),o=fe(te,`
                Fetch Data`),te.forEach(_),c=S(Y),r=d(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-vw25g4"&&(r.innerHTML=f),m=S(Y),u=d(Y,"SELECT",{class:!0});var Ee=y(u);for(let B=0;B<w.length;B+=1)w[B].l(Ee);Ee.forEach(_),Y.forEach(_),H.forEach(_),b=S(U),I&&I.l(U),g=S(U),q.l(U),U.forEach(_),this.h()},h(){a(l,"class","fetch-btn svelte-1g91phq"),l.disabled=n[4],a(l,"title","Fetch latest data"),a(r,"class","filter-toggle svelte-1g91phq"),ze(r,"active",n[7]),a(u,"class","type-select svelte-1g91phq"),n[0]===void 0&&we(()=>n[27].call(u)),a(s,"class","header-actions svelte-1g91phq"),a(t,"class","header-row svelte-1g91phq"),a(e,"class","view-container svelte-1g91phq")},m(L,U){z(L,e,U),i(e,t),i(t,s),i(s,l),T.m(l,null),i(l,o),i(s,c),i(s,r),i(s,m),i(s,u);for(let H=0;H<w.length;H+=1)w[H]&&w[H].m(u,null);Ie(u,n[0],!0),i(e,b),I&&I.m(e,null),i(e,g),q.m(e,null),h||(k=[W(l,"click",n[20]),W(r,"click",n[26]),W(u,"change",n[27])],h=!0)},p(L,U){if(C!==(C=p(L))&&(T.d(1),T=C(L),T&&(T.c(),T.m(l,o))),U[0]&16&&(l.disabled=L[4]),U[0]&128&&ze(r,"active",L[7]),U[0]&131072){E=ce(L[17]);let H;for(H=0;H<E.length;H+=1){const Y=sl(L,E,H);w[H]?w[H].p(Y,U):(w[H]=nl(Y),w[H].c(),w[H].m(u,null))}for(;H<w.length;H+=1)w[H].d(1);w.length=E.length}U[0]&131073&&Ie(u,L[0]),L[7]?I?(I.p(L,U),U[0]&128&&pe(I,1)):(I=ol(L),I.c(),pe(I,1),I.m(e,g)):I&&(Ge(),Ae(I,1,1,()=>{I=null}),We()),A===(A=D(L))&&q?q.p(L,U):(q.d(1),q=A(L),q&&(q.c(),pe(q,1),q.m(e,null)))},i(L){pe(I),pe(q)},o(L){Ae(I)},d(L){L&&_(e),T.d(),He(w,L),I&&I.d(),q.d(),h=!1,Qe(k)}}}const Xs="https://get-log-825153765638.europe-west1.run.app";function xs(n,e,t,s,l,o){const c=n.filter(f=>{var m,u,b;if(e&&new Date(((m=f.date)==null?void 0:m.value)||f.date)<new Date(e))return!1;if(t){const g=new Date(t);if(g.setHours(23,59,59,999),new Date(((u=f.date)==null?void 0:u.value)||f.date)>g)return!1}return!(s&&f.location!==s||l&&f.session_type!==l||o&&((b=f.climbs)==null?void 0:b.grade)!==o)}),r={};return c.forEach(f=>{var g;const m=((g=f.date)==null?void 0:g.value)||f.date,b=`${new Date(m).toISOString().split("T")[0]}|${f.location}|${f.session_type}`;r[b]||(r[b]={key:b,date:f.date,location:f.location,session:f.session_type,fingerLoad:0,shoulderLoad:0,forearmLoad:0,items:[]}),r[b].fingerLoad=Math.max(r[b].fingerLoad,f.finger_load||0),r[b].shoulderLoad=Math.max(r[b].shoulderLoad,f.shoulder_load||0),r[b].forearmLoad=Math.max(r[b].forearmLoad,f.forearm_load||0),r[b].items.push(f.climbs)}),Object.values(r).sort((f,m)=>{const u=new Date(f.date.value||f.date);return new Date(m.date.value||m.date).getTime()-u.getTime()})}function Cl(n){return n?new Date(n.value||n).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"2-digit"}):"-"}function Zs(n){switch(n){case"indoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Session"},{key:"climbs",label:"Data",isObject:!0}];case"fingerboard":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Hang",isObject:!0}];case"outdoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Routes",isObject:!0}];default:return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"}]}}const yl=n=>n.key!=="date"&&n.key!=="location"&&n.key!=="session_type",El=n=>n.key!=="date"&&n.key!=="location"&&n.key!=="session_type";function $s(n,e,t){let s,l,o,c,r;Sl(n,wt,be=>t(25,r=be));let f="indoor",m=!1,u="",b=new Set;function g(be){b.has(be)?b.delete(be):b.add(be),t(6,b)}let h=!1,k="",p="",C="",T="",E="",w="",I="",D={startDate:"",endDate:"",location:"",session:"",grade:""};const A=[{id:"indoor",label:"Indoor Climb"},{id:"fingerboard",label:"Fingerboarding"},{id:"gym",label:"Gym Session"},{id:"outdoor",label:"Outdoor Climb"},{id:"other",label:"Other"}],q=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],L=["Strength","Endurance","Power","Recovery"];async function U(){if(f){t(4,m=!0),t(5,u="");try{const be=Il(ct),ne=new URLSearchParams({type:f}),ie=await fetch(`${Xs}?${ne.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${be}`}});if(!ie.ok){const Le=await ie.text();throw new Error(Le||"Failed to fetch data")}const ve=await ie.json();Fl(f,ve)}catch(be){console.error("Fetch Error:",be),t(5,u=be.message||"An unknown error occurred")}finally{t(4,m=!1)}}}function H(){t(24,D={startDate:k,endDate:p,location:C,session:w,grade:I}),t(7,h=!1)}function Y(){t(8,k=""),t(9,p=""),t(10,C=""),t(11,w=""),t(12,I=""),H()}function te(){if(!s||s.length===0)return;const be=["date","location","session_type","finger_load","shoulder_load","forearm_load"],ne=new Set;s.forEach(Z=>{Z.climbs&&Object.keys(Z.climbs).forEach(V=>ne.add(V))});const ie=Array.from(ne),ve=[...be,...ie],Le=[];Le.push(ve.join(",")),s.forEach(Z=>{const V=ve.map(R=>{let F;return be.includes(R)?F=Z[R]:F=Z.climbs?Z.climbs[R]:"",F&&typeof F=="object"&&F.value&&(F=F.value),`"${(F==null?"":String(F)).replace(/"/g,'""')}"`});Le.push(V.join(","))});const oe=Le.join(`
`),le=new Blob([oe],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL(le),he=document.createElement("a");he.setAttribute("href",K),he.setAttribute("download",`training_data_${f}_${new Date().toISOString().split("T")[0]}.csv`),he.style.visibility="hidden",document.body.appendChild(he),he.click(),document.body.removeChild(he)}Gl(()=>{});const Ee=()=>t(7,h=!h);function B(){f=je(this),t(0,f),t(17,A)}function N(){k=this.value,t(8,k)}function x(){p=this.value,t(9,p)}function re(){T=je(this),t(1,T)}const $=()=>t(2,E="");function ae(){E=je(this),t(2,E),t(14,o),t(1,T)}function X(){C=je(this),t(10,C),t(0,f),t(2,E),t(1,T),t(18,q)}function De(){w=je(this),t(11,w),t(19,L)}function _e(){w=je(this),t(11,w),t(19,L)}function ge(){I=this.value,t(12,I)}const ee=be=>g(be.key);return n.$$.update=()=>{n.$$.dirty[0]&33554433&&t(3,s=r[f]||[]),n.$$.dirty[0]&16777224&&t(15,l=xs(s,D.startDate,D.endDate,D.location,D.session,D.grade)),n.$$.dirty[0]&2&&t(14,o=Ul[T]||[]),n.$$.dirty[0]&7&&f==="outdoor"&&(E?t(10,C=E):T?t(10,C=T):t(10,C="")),n.$$.dirty[0]&1&&t(13,c=Zs(f))},[f,T,E,s,m,u,b,h,k,p,C,w,I,c,o,l,g,A,q,L,U,H,Y,te,D,r,Ee,B,N,x,re,$,ae,X,De,_e,ge,ee]}class en extends xe{constructor(e){super(),Ze(this,e,$s,Qs,Xe,{},null,[-1,-1,-1])}}function tn(n){let e,t='<h2 class="svelte-dqa28t">Graph Data</h2> <div class="placeholder svelte-dqa28t"><p class="svelte-dqa28t">Visual progress charts and graphs will be displayed here.</p> <div class="empty-state svelte-dqa28t"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-line-chart"><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"></path></svg></div></div>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-r5xejk"&&(e.innerHTML=t),this.h()},h(){a(e,"class","tab-content svelte-dqa28t")},m(s,l){z(s,e,l)},p:ye,i:ye,o:ye,d(s){s&&_(e)}}}class ln extends xe{constructor(e){super(),Ze(this,e,null,tn,Xe,{})}}function wl(n,e,t){const s=n.slice();return s[5]=e[t],s}function Tl(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg>',s,l;return{c(){e=v("button"),e.innerHTML=t,this.h()},l(o){e=d(o,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(e)!=="svelte-1y2odl3"&&(e.innerHTML=t),this.h()},h(){a(e,"class","logout-button svelte-xzza9f"),a(e,"title","Logout")},m(o,c){z(o,e,c),s||(l=W(e,"click",ls),s=!0)},d(o){o&&_(e),s=!1,l()}}}function sn(n){let e,t,s;return t=new os({}),{c(){e=v("div"),dt(t.$$.fragment),this.h()},l(l){e=d(l,"DIV",{class:!0});var o=y(e);yt(t.$$.fragment,o),o.forEach(_),this.h()},h(){a(e,"class","content-container svelte-xzza9f")},m(l,o){z(l,e,o),vt(t,e,null),s=!0},p:ye,i(l){s||(pe(t.$$.fragment,l),s=!0)},o(l){Ae(t.$$.fragment,l),s=!1},d(l){l&&_(e),ft(t)}}}function nn(n){let e,t,s,l,o,c=ce(n[3]),r=[];for(let u=0;u<c.length;u+=1)r[u]=Dl(wl(n,c,u));var f=n[1].component;function m(u,b){return{}}return f&&(l=bt(f,m())),{c(){e=v("nav");for(let u=0;u<r.length;u+=1)r[u].c();t=O(),s=v("div"),l&&dt(l.$$.fragment),this.h()},l(u){e=d(u,"NAV",{class:!0});var b=y(e);for(let h=0;h<r.length;h+=1)r[h].l(b);b.forEach(_),t=S(u),s=d(u,"DIV",{class:!0});var g=y(s);l&&yt(l.$$.fragment,g),g.forEach(_),this.h()},h(){a(e,"class","tabs-nav svelte-xzza9f"),a(s,"class","content-container svelte-xzza9f")},m(u,b){z(u,e,b);for(let g=0;g<r.length;g+=1)r[g]&&r[g].m(e,null);z(u,t,b),z(u,s,b),l&&vt(l,s,null),o=!0},p(u,b){if(b&9){c=ce(u[3]);let g;for(g=0;g<c.length;g+=1){const h=wl(u,c,g);r[g]?r[g].p(h,b):(r[g]=Dl(h),r[g].c(),r[g].m(e,null))}for(;g<r.length;g+=1)r[g].d(1);r.length=c.length}if(b&2&&f!==(f=u[1].component)){if(l){Ge();const g=l;Ae(g.$$.fragment,1,0,()=>{ft(g,1)}),We()}f?(l=bt(f,m()),dt(l.$$.fragment),pe(l.$$.fragment,1),vt(l,s,null)):l=null}},i(u){o||(l&&pe(l.$$.fragment,u),o=!0)},o(u){l&&Ae(l.$$.fragment,u),o=!1},d(u){u&&(_(e),_(t),_(s)),He(r,u),l&&ft(l)}}}function Dl(n){let e,t=n[5].label+"",s,l,o,c;function r(){return n[4](n[5])}return{c(){e=v("button"),s=de(t),l=O(),this.h()},l(f){e=d(f,"BUTTON",{class:!0});var m=y(e);s=fe(m,t),l=S(m),m.forEach(_),this.h()},h(){a(e,"class","tab-button svelte-xzza9f"),ze(e,"active",n[0]===n[5].id)},m(f,m){z(f,e,m),i(e,s),i(e,l),o||(c=W(e,"click",r),o=!0)},p(f,m){n=f,m&9&&ze(e,"active",n[0]===n[5].id)},d(f){f&&_(e),o=!1,c()}}}function on(n){let e,t,s,l,o,c,r,f="Training Tracker",m,u,b,g,h;document.title=e="Training Tracker "+(n[2]?"- "+n[1].label:"(Locked)");let k=n[2]&&Tl();const p=[nn,sn],C=[];function T(E,w){return E[2]?0:1}return b=T(n),g=C[b]=p[b](n),{c(){t=v("meta"),s=O(),l=v("main"),o=v("div"),c=v("header"),r=v("h1"),r.textContent=f,m=O(),k&&k.c(),u=O(),g.c(),this.h()},l(E){const w=Xl("svelte-ggv3pg",document.head);t=d(w,"META",{name:!0,content:!0}),w.forEach(_),s=S(E),l=d(E,"MAIN",{});var I=y(l);o=d(I,"DIV",{class:!0});var D=y(o);c=d(D,"HEADER",{class:!0});var A=y(c);r=d(A,"H1",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-95sjtq"&&(r.textContent=f),m=S(A),k&&k.l(A),A.forEach(_),u=S(D),g.l(D),D.forEach(_),I.forEach(_),this.h()},h(){a(t,"name","description"),a(t,"content","A simple Svelte webapp for tracking training"),a(r,"class","svelte-xzza9f"),a(c,"class","svelte-xzza9f"),a(o,"class","app-container svelte-xzza9f")},m(E,w){i(document.head,t),z(E,s,w),z(E,l,w),i(l,o),i(o,c),i(c,r),i(c,m),k&&k.m(c,null),i(o,u),C[b].m(o,null),h=!0},p(E,[w]){(!h||w&6)&&e!==(e="Training Tracker "+(E[2]?"- "+E[1].label:"(Locked)"))&&(document.title=e),E[2]?k||(k=Tl(),k.c(),k.m(c,null)):k&&(k.d(1),k=null);let I=b;b=T(E),b===I?C[b].p(E,w):(Ge(),Ae(C[I],1,1,()=>{C[I]=null}),We(),g=C[b],g?g.p(E,w):(g=C[b]=p[b](E),g.c()),pe(g,1),g.m(o,null))},i(E){h||(pe(g),h=!0)},o(E){Ae(g),h=!1},d(E){E&&(_(s),_(l)),_(t),k&&k.d(),C[b].d()}}}function rn(n,e,t){let s,l;Sl(n,ct,f=>t(2,l=f));const o=[{id:"log",label:"Log Exercise",component:Bs},{id:"view",label:"View Data",component:en},{id:"graph",label:"Graph Data",component:ln}];let c="log";const r=f=>t(0,c=f.id);return n.$$.update=()=>{n.$$.dirty&1&&t(1,s=o.find(f=>f.id===c))},[c,s,l,o,r]}class hn extends xe{constructor(e){super(),Ze(this,e,rn,on,Xe,{})}}export{hn as component};
