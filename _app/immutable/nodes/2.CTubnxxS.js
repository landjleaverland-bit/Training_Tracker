import{n as me,f as Hl,r as lt,s as nt,h as Te,i as Xl,e as Zl,y as Rl,c as ql,o as $l}from"../chunks/GsYGQhEn.js";import{y as en,z as tn,A as ln,B as nn,l as Ee,k as Pe,S as st,i as ot,d as _,C as Ye,D as P,E as xe,a as K,b as i,F as Q,G as sn,w as a,c as v,e as y,H as x,g as I,h as p,j as S,s as Ue,f as _e,t as ge,I as ze,J as Se,K as Me,m as Xe,n as Ze,L as Fl,M as Ke,N as tt,o as Dt,p as Lt,q as vt,r as pt,u as _t,v as Nt,O as ft,P as dt,Q as on}from"../chunks/BD0eBpJ7.js";import{w as jl}from"../chunks/ZG84kFMr.js";function zl(s,e,t,n){if(!e)return me;const l=s.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return me;const{delay:o=0,duration:u=300,easing:r=Hl,start:c=en()+o,end:m=c+u,tick:f=me,css:g}=t(s,{from:e,to:l},n);let d=!0,h=!1,k;function b(){g&&(k=nn(s,0,1,u,o,r,g)),o||(h=!0)}function C(){g&&ln(s,k),d=!1}return tn(T=>{if(!h&&T>=c&&(h=!0),h&&T>=m&&(f(1,0),C()),!d)return!1;if(h){const D=T-c,E=0+1*r(D/u);f(E,1-E)}return!0}),b(),f(0,1),C}function Gl(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,l=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=n,Bt(s,l)}}function Bt(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(s),l=n.transform==="none"?"":n.transform;s.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function ie(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Wl(s,e){s.d(1),e.delete(s.key)}function rn(s,e){Pe(s,1,1,()=>{e.delete(s.key)})}function xl(s,e){s.f(),rn(s,e)}function It(s,e,t,n,l,o,u,r,c,m,f,g){let d=s.length,h=o.length,k=d;const b={};for(;k--;)b[s[k].key]=k;const C=[],T=new Map,D=new Map,E=[];for(k=h;k--;){const N=g(l,o,k),L=t(N);let H=u.get(L);H?E.push(()=>H.p(N,e)):(H=m(L,N),H.c()),T.set(L,C[k]=H),L in b&&D.set(L,Math.abs(k-b[L]))}const O=new Set,w=new Set;function B(N){Ee(N,1),N.m(r,f),u.set(N.key,N),f=N.first,h--}for(;d&&h;){const N=C[h-1],L=s[d-1],H=N.key,A=L.key;N===L?(f=N.first,d--,h--):T.has(A)?!u.has(H)||O.has(H)?B(N):w.has(A)?d--:D.get(H)>D.get(A)?(w.add(H),B(N)):(O.add(A),d--):(c(L,u),d--)}for(;d--;){const N=s[d];T.has(N.key)||c(N,u)}for(;h;)B(C[h-1]);return lt(E),C}const Ot="training_tracker_api_key",an="c2fb788c7deedbeaa296e424d4c2921b871a4f6cb4cf393c1c1105653ab399b4",cn=localStorage.getItem(Ot),ut=jl(cn);ut.subscribe(s=>{s?localStorage.setItem(Ot,s):localStorage.removeItem(Ot)});async function un(s){const e=new TextEncoder().encode(s),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(l=>l.toString(16).padStart(2,"0")).join("")}async function hn(s){return await un(s)===an?(ut.set(s),!0):!1}function fn(){ut.set(null)}function Kl(s){const e=s-1;return e*e*e+1}function Fe(s,{delay:e=0,duration:t=400,easing:n=Hl}={}){const l=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:n,css:o=>`opacity: ${o*l}`}}function it(s,{delay:e=0,duration:t=400,easing:n=Kl,axis:l="y"}={}){const o=getComputedStyle(s),u=+o.opacity,r=l==="y"?"height":"width",c=parseFloat(o[r]),m=l==="y"?["top","bottom"]:["left","right"],f=m.map(T=>`${T[0].toUpperCase()}${T.slice(1)}`),g=parseFloat(o[`padding${f[0]}`]),d=parseFloat(o[`padding${f[1]}`]),h=parseFloat(o[`margin${f[0]}`]),k=parseFloat(o[`margin${f[1]}`]),b=parseFloat(o[`border${f[0]}Width`]),C=parseFloat(o[`border${f[1]}Width`]);return{delay:e,duration:t,easing:n,css:T=>`overflow: hidden;opacity: ${Math.min(T*20,1)*u};${r}: ${T*c}px;padding-${m[0]}: ${T*g}px;padding-${m[1]}: ${T*d}px;margin-${m[0]}: ${T*h}px;margin-${m[1]}: ${T*k}px;border-${m[0]}-width: ${T*b}px;border-${m[1]}-width: ${T*C}px;`}}function Ut(s){let e,t;return{c(){e=p("span"),t=ge(s[1]),this.h()},l(n){e=v(n,"SPAN",{class:!0});var l=y(e);t=_e(l,s[1]),l.forEach(_),this.h()},h(){a(e,"class","error-text svelte-9dby7l")},m(n,l){K(n,e,l),i(e,t)},p(n,l){l&2&&Ue(t,n[1])},d(n){n&&_(e)}}}function dn(s){let e,t,n='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',l,o,u="Access Restricted",r,c,m="Please enter your password to unlock the application.",f,g,d,h,k,b,C,T="Unlock App",D,E,O,w=s[1]&&Ut(s);return{c(){e=p("div"),t=p("div"),t.innerHTML=n,l=S(),o=p("h2"),o.textContent=u,r=S(),c=p("p"),c.textContent=m,f=S(),g=p("form"),d=p("div"),h=p("input"),k=S(),w&&w.c(),b=S(),C=p("button"),C.textContent=T,this.h()},l(B){e=v(B,"DIV",{class:!0});var N=y(e);t=v(N,"DIV",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1lmknyl"&&(t.innerHTML=n),l=I(N),o=v(N,"H2",{class:!0,"data-svelte-h":!0}),x(o)!=="svelte-r8hgrj"&&(o.textContent=u),r=I(N),c=v(N,"P",{class:!0,"data-svelte-h":!0}),x(c)!=="svelte-1ix94go"&&(c.textContent=m),f=I(N),g=v(N,"FORM",{class:!0});var L=y(g);d=v(L,"DIV",{class:!0});var H=y(d);h=v(H,"INPUT",{type:!0,placeholder:!0,class:!0}),k=I(H),w&&w.l(H),H.forEach(_),b=I(L),C=v(L,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),x(C)!=="svelte-6e23ii"&&(C.textContent=T),L.forEach(_),N.forEach(_),this.h()},h(){a(t,"class","lock-icon svelte-9dby7l"),a(o,"class","svelte-9dby7l"),a(c,"class","svelte-9dby7l"),a(h,"type","password"),a(h,"placeholder","Enter Password"),h.disabled=s[2],a(h,"class","svelte-9dby7l"),xe(h,"error",s[1]),a(d,"class","input-group svelte-9dby7l"),a(C,"type","submit"),a(C,"class","unlock-button svelte-9dby7l"),a(g,"class","svelte-9dby7l"),a(e,"class","login-container svelte-9dby7l")},m(B,N){K(B,e,N),i(e,t),i(e,l),i(e,o),i(e,r),i(e,c),i(e,f),i(e,g),i(g,d),i(d,h),P(h,s[0]),i(d,k),w&&w.m(d,null),i(g,b),i(g,C),E||(O=[Q(h,"input",s[4]),Q(g,"submit",sn(s[3]))],E=!0)},p(B,[N]){N&4&&(h.disabled=B[2]),N&1&&h.value!==B[0]&&P(h,B[0]),N&2&&xe(h,"error",B[1]),B[1]?w?w.p(B,N):(w=Ut(B),w.c(),w.m(d,null)):w&&(w.d(1),w=null)},i(B){B&&(D||Te(()=>{D=Ye(e,Fe,{}),D.start()}))},o:me,d(B){B&&_(e),w&&w.d(),E=!1,lt(O)}}}function vn(s,e,t){let n="",l="",o=!1;async function u(){if(!n.trim()){t(1,l="Please enter a password");return}t(2,o=!0),t(1,l="");try{await hn(n.trim())||t(1,l="Incorrect password")}catch{t(1,l="An error occurred")}finally{t(2,o=!1)}}function r(){n=this.value,t(0,n)}return[n,l,o,u,r]}class pn extends st{constructor(e){super(),ot(this,e,vn,dn,nt,{})}}function Yl(s,{from:e,to:t},n={}){const l=getComputedStyle(s),o=l.transform==="none"?"":l.transform,[u,r]=l.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*u/t.width-(t.left+u),m=e.top+e.height*r/t.height-(t.top+r),{delay:f=0,duration:g=h=>Math.sqrt(h)*120,easing:d=Kl}=n;return{delay:f,duration:Xl(g)?g(Math.sqrt(c*c+m*m)):g,easing:d,css:(h,k)=>{const b=k*c,C=k*m,T=h+k*e.width/t.width,D=h+k*e.height/t.height;return`transform: ${o} translate(${b}px, ${C}px) scale(${T}, ${D});`}}}function Ht(s,e,t){const n=s.slice();return n[21]=e[t],n[22]=e,n[23]=t,n}function Rt(s,e,t){const n=s.slice();return n[24]=e[t],n}function qt(s,e,t){const n=s.slice();return n[24]=e[t],n}function Ft(s){let e,t=s[24]+"",n;return{c(){e=p("option"),n=ge(t),this.h()},l(l){e=v(l,"OPTION",{});var o=y(e);n=_e(o,t),o.forEach(_),this.h()},h(){e.__value=s[24],P(e,e.__value)},m(l,o){K(l,e,o),i(e,n)},p:me,d(l){l&&_(e)}}}function jt(s){let e,t=s[24]+"",n;return{c(){e=p("option"),n=ge(t),this.h()},l(l){e=v(l,"OPTION",{});var o=y(e);n=_e(o,t),o.forEach(_),this.h()},h(){e.__value=s[24],P(e,e.__value)},m(l,o){K(l,e,o),i(e,n)},p:me,d(l){l&&_(e)}}}function zt(s,e){let t,n,l,o,u,r,c,m,f,g,d,h,k,b,C,T='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',D,E,O,w=me,B,N,L;function H(){e[16].call(l,e[22],e[23])}function A(){e[17].call(r,e[22],e[23])}function V(){e[18].call(f,e[22],e[23])}function fe(){e[19].call(h,e[22],e[23])}function se(){return e[20](e[21])}return{key:s,first:null,c(){t=p("tr"),n=p("td"),l=p("input"),o=S(),u=p("td"),r=p("input"),c=S(),m=p("td"),f=p("input"),g=S(),d=p("td"),h=p("textarea"),k=S(),b=p("td"),C=p("button"),C.innerHTML=T,D=S(),this.h()},l(U){t=v(U,"TR",{});var M=y(t);n=v(M,"TD",{class:!0});var re=y(n);l=v(re,"INPUT",{type:!0,class:!0}),re.forEach(_),o=I(M),u=v(M,"TD",{class:!0});var ae=y(u);r=v(ae,"INPUT",{type:!0,placeholder:!0,class:!0}),ae.forEach(_),c=I(M),m=v(M,"TD",{class:!0});var te=y(m);f=v(te,"INPUT",{type:!0,placeholder:!0,class:!0}),te.forEach(_),g=I(M),d=v(M,"TD",{class:!0});var ee=y(d);h=v(ee,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),y(h).forEach(_),ee.forEach(_),k=I(M),b=v(M,"TD",{class:!0});var z=y(b);C=v(z,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),x(C)!=="svelte-zfon6j"&&(C.innerHTML=T),z.forEach(_),D=I(M),M.forEach(_),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-q54vbl"),a(n,"class","checkbox-col svelte-q54vbl"),a(r,"type","text"),a(r,"placeholder","e.g. Blue"),a(r,"class","svelte-q54vbl"),a(u,"class","svelte-q54vbl"),a(f,"type","text"),a(f,"placeholder","e.g. 6b+"),a(f,"class","svelte-q54vbl"),a(m,"class","svelte-q54vbl"),a(h,"placeholder","e.g. Smooth"),a(h,"rows","1"),a(h,"class","svelte-q54vbl"),a(d,"class","svelte-q54vbl"),a(C,"class","delete-btn svelte-q54vbl"),a(C,"title","Remove row"),a(b,"class","actions-col svelte-q54vbl"),this.first=t},m(U,M){K(U,t,M),i(t,n),i(n,l),l.checked=e[21].isRopes,i(t,o),i(t,u),i(u,r),P(r,e[21].name),i(t,c),i(t,m),i(m,f),P(f,e[21].grade),i(t,g),i(t,d),i(d,h),P(h,e[21].notes),i(t,k),i(t,b),i(b,C),i(t,D),B=!0,N||(L=[Q(l,"change",H),Q(r,"input",A),Q(f,"input",V),Q(h,"input",fe),Q(C,"click",se)],N=!0)},p(U,M){e=U,M&32&&(l.checked=e[21].isRopes),M&32&&r.value!==e[21].name&&P(r,e[21].name),M&32&&f.value!==e[21].grade&&P(f,e[21].grade),M&32&&P(h,e[21].notes)},r(){O=t.getBoundingClientRect()},f(){Gl(t),w(),Bt(t,O)},a(){w(),w=zl(t,O,Yl,{duration:300})},i(U){B||(E&&E.end(1),B=!0)},o(U){U&&(E=Fl(t,it,{duration:200})),B=!1},d(U){U&&_(t),U&&E&&E.end(),N=!1,lt(L)}}}function _n(s){let e,t,n,l,o="Location",u,r,c,m="Select Location",f,g,d,h="Session Focus",k,b,C,T="Select Focus",D,E,O,w,B="Finger Load (0-5)",N,L,H,A,V,fe="Shoulder Load (0-5)",se,U,M,re,ae,te="Forearm Load (0-5)",ee,z,be,ce,he,$,He="Exercises / Routes",ue,de,ke=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,De,Z,oe,R,ve='<tr><th class="checkbox-col svelte-q54vbl">Ropes?</th> <th class="svelte-q54vbl">Route</th> <th class="svelte-q54vbl">Grade</th> <th class="svelte-q54vbl">Notes</th> <th class="actions-col svelte-q54vbl"></th></tr>',ne,F,q=[],G=new Map,Ce,Ve,Oe,Ne,Le=ie(s[6]),we=[];for(let Y=0;Y<Le.length;Y+=1)we[Y]=Ft(qt(s,Le,Y));let Re=ie(s[7]),pe=[];for(let Y=0;Y<Re.length;Y+=1)pe[Y]=jt(Rt(s,Re,Y));let ye=ie(s[5]);const je=Y=>Y[21].id;for(let Y=0;Y<ye.length;Y+=1){let X=Ht(s,ye,Y),J=je(X);G.set(J,q[Y]=zt(J,X))}return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=o,u=S(),r=p("select"),c=p("option"),c.textContent=m;for(let Y=0;Y<we.length;Y+=1)we[Y].c();f=S(),g=p("div"),d=p("label"),d.textContent=h,k=S(),b=p("select"),C=p("option"),C.textContent=T;for(let Y=0;Y<pe.length;Y+=1)pe[Y].c();D=S(),E=p("div"),O=p("div"),w=p("label"),w.textContent=B,N=S(),L=p("input"),H=S(),A=p("div"),V=p("label"),V.textContent=fe,se=S(),U=p("input"),M=S(),re=p("div"),ae=p("label"),ae.textContent=te,ee=S(),z=p("input"),be=S(),ce=p("div"),he=p("div"),$=p("h3"),$.textContent=He,ue=S(),de=p("button"),de.innerHTML=ke,De=S(),Z=p("div"),oe=p("table"),R=p("thead"),R.innerHTML=ve,ne=S(),F=p("tbody");for(let Y=0;Y<q.length;Y+=1)q[Y].c();this.h()},l(Y){e=v(Y,"DIV",{class:!0});var X=y(e);t=v(X,"DIV",{class:!0});var J=y(t);n=v(J,"DIV",{class:!0});var Ge=y(n);l=v(Ge,"LABEL",{for:!0,"data-svelte-h":!0}),x(l)!=="svelte-1ij7h26"&&(l.textContent=o),u=I(Ge),r=v(Ge,"SELECT",{id:!0,class:!0});var $e=y(r);c=v($e,"OPTION",{"data-svelte-h":!0}),x(c)!=="svelte-mwu9va"&&(c.textContent=m);for(let j=0;j<we.length;j+=1)we[j].l($e);$e.forEach(_),Ge.forEach(_),f=I(J),g=v(J,"DIV",{class:!0});var Be=y(g);d=v(Be,"LABEL",{for:!0,"data-svelte-h":!0}),x(d)!=="svelte-tg5qne"&&(d.textContent=h),k=I(Be),b=v(Be,"SELECT",{id:!0,class:!0});var Ie=y(b);C=v(Ie,"OPTION",{"data-svelte-h":!0}),x(C)!=="svelte-1ni71k3"&&(C.textContent=T);for(let j=0;j<pe.length;j+=1)pe[j].l(Ie);Ie.forEach(_),Be.forEach(_),J.forEach(_),D=I(X),E=v(X,"DIV",{class:!0});var rt=y(E);O=v(rt,"DIV",{class:!0});var at=y(O);w=v(at,"LABEL",{for:!0,"data-svelte-h":!0}),x(w)!=="svelte-oda77g"&&(w.textContent=B),N=I(at),L=v(at,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),at.forEach(_),H=I(rt),A=v(rt,"DIV",{class:!0});var qe=y(A);V=v(qe,"LABEL",{for:!0,"data-svelte-h":!0}),x(V)!=="svelte-1vtbxrq"&&(V.textContent=fe),se=I(qe),U=v(qe,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),qe.forEach(_),M=I(rt),re=v(rt,"DIV",{class:!0});var Je=y(re);ae=v(Je,"LABEL",{for:!0,"data-svelte-h":!0}),x(ae)!=="svelte-198js8s"&&(ae.textContent=te),ee=I(Je),z=v(Je,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Je.forEach(_),rt.forEach(_),be=I(X),ce=v(X,"DIV",{class:!0});var Ae=y(ce);he=v(Ae,"DIV",{class:!0});var et=y(he);$=v(et,"H3",{class:!0,"data-svelte-h":!0}),x($)!=="svelte-10xktbo"&&($.textContent=He),ue=I(et),de=v(et,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),x(de)!=="svelte-psf54d"&&(de.innerHTML=ke),et.forEach(_),De=I(Ae),Z=v(Ae,"DIV",{class:!0});var ht=y(Z);oe=v(ht,"TABLE",{class:!0});var W=y(oe);R=v(W,"THEAD",{"data-svelte-h":!0}),x(R)!=="svelte-3ucy7b"&&(R.innerHTML=ve),ne=I(W),F=v(W,"TBODY",{});var le=y(F);for(let j=0;j<q.length;j+=1)q[j].l(le);le.forEach(_),W.forEach(_),ht.forEach(_),Ae.forEach(_),X.forEach(_),this.h()},h(){a(l,"for","climb-location"),c.__value="",P(c,c.__value),c.disabled=!0,c.selected=!0,a(r,"id","climb-location"),a(r,"class","svelte-q54vbl"),s[0]===void 0&&Te(()=>s[11].call(r)),a(n,"class","input-group"),a(d,"for","climb-session"),C.__value="",P(C,C.__value),C.disabled=!0,C.selected=!0,a(b,"id","climb-session"),a(b,"class","svelte-q54vbl"),s[1]===void 0&&Te(()=>s[12].call(b)),a(g,"class","input-group"),a(t,"class","form-grid svelte-q54vbl"),a(w,"for","finger-load"),a(L,"id","finger-load"),a(L,"type","number"),a(L,"min","0"),a(L,"max","5"),a(L,"class","svelte-q54vbl"),a(O,"class","load-group svelte-q54vbl"),a(V,"for","shoulder-load"),a(U,"id","shoulder-load"),a(U,"type","number"),a(U,"min","0"),a(U,"max","5"),a(U,"class","svelte-q54vbl"),a(A,"class","load-group svelte-q54vbl"),a(ae,"for","forearm-load"),a(z,"id","forearm-load"),a(z,"type","number"),a(z,"min","0"),a(z,"max","5"),a(z,"class","svelte-q54vbl"),a(re,"class","load-group svelte-q54vbl"),a(E,"class","load-metrics svelte-q54vbl"),a($,"class","svelte-q54vbl"),a(de,"class","add-row-btn svelte-q54vbl"),a(de,"title","Add Exercise"),a(he,"class","section-header svelte-q54vbl"),a(oe,"class","svelte-q54vbl"),a(Z,"class","table-container svelte-q54vbl"),a(ce,"class","exercise-section svelte-q54vbl"),a(e,"class","indoor-config svelte-q54vbl")},m(Y,X){K(Y,e,X),i(e,t),i(t,n),i(n,l),i(n,u),i(n,r),i(r,c);for(let J=0;J<we.length;J+=1)we[J]&&we[J].m(r,null);Se(r,s[0],!0),i(t,f),i(t,g),i(g,d),i(g,k),i(g,b),i(b,C);for(let J=0;J<pe.length;J+=1)pe[J]&&pe[J].m(b,null);Se(b,s[1],!0),i(e,D),i(e,E),i(E,O),i(O,w),i(O,N),i(O,L),P(L,s[2]),i(E,H),i(E,A),i(A,V),i(A,se),i(A,U),P(U,s[3]),i(E,M),i(E,re),i(re,ae),i(re,ee),i(re,z),P(z,s[4]),i(e,be),i(e,ce),i(ce,he),i(he,$),i(he,ue),i(he,de),i(ce,De),i(ce,Z),i(Z,oe),i(oe,R),i(oe,ne),i(oe,F);for(let J=0;J<q.length;J+=1)q[J]&&q[J].m(F,null);Ve=!0,Oe||(Ne=[Q(r,"change",s[11]),Q(b,"change",s[12]),Q(L,"input",s[13]),Q(U,"input",s[14]),Q(z,"input",s[15]),Q(de,"click",s[8])],Oe=!0)},p(Y,[X]){if(X&64){Le=ie(Y[6]);let J;for(J=0;J<Le.length;J+=1){const Ge=qt(Y,Le,J);we[J]?we[J].p(Ge,X):(we[J]=Ft(Ge),we[J].c(),we[J].m(r,null))}for(;J<we.length;J+=1)we[J].d(1);we.length=Le.length}if(X&65&&Se(r,Y[0]),X&128){Re=ie(Y[7]);let J;for(J=0;J<Re.length;J+=1){const Ge=Rt(Y,Re,J);pe[J]?pe[J].p(Ge,X):(pe[J]=jt(Ge),pe[J].c(),pe[J].m(b,null))}for(;J<pe.length;J+=1)pe[J].d(1);pe.length=Re.length}if(X&130&&Se(b,Y[1]),X&4&&Me(L.value)!==Y[2]&&P(L,Y[2]),X&8&&Me(U.value)!==Y[3]&&P(U,Y[3]),X&16&&Me(z.value)!==Y[4]&&P(z,Y[4]),X&544){ye=ie(Y[5]),Xe();for(let J=0;J<q.length;J+=1)q[J].r();q=It(q,X,je,1,Y,ye,G,F,xl,zt,null,Ht);for(let J=0;J<q.length;J+=1)q[J].a();Ze()}},i(Y){if(!Ve){for(let X=0;X<ye.length;X+=1)Ee(q[X]);Y&&(Ce||Te(()=>{Ce=Ye(e,Fe,{}),Ce.start()})),Ve=!0}},o(Y){for(let X=0;X<q.length;X+=1)Pe(q[X]);Ve=!1},d(Y){Y&&_(e),ze(we,Y),ze(pe,Y);for(let X=0;X<q.length;X+=1)q[X].d();Oe=!1,lt(Ne)}}}function gn(s,e,t){let n="",l="",o=0,u=0,r=0,c=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];const m=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],f=["Strength","Endurance","Power","Recovery"];function g(){t(5,c=[...c,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function d(L){c.length>1?t(5,c=c.filter(H=>H.id!==L)):t(5,c=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function h(){return{location:n,session:l,fingerLoad:o,shoulderLoad:u,forearmLoad:r,exercises:c}}function k(){n=Ke(this),t(0,n),t(6,m)}function b(){l=Ke(this),t(1,l),t(7,f)}function C(){o=Me(this.value),t(2,o)}function T(){u=Me(this.value),t(3,u)}function D(){r=Me(this.value),t(4,r)}function E(L,H){L[H].isRopes=this.checked,t(5,c)}function O(L,H){L[H].name=this.value,t(5,c)}function w(L,H){L[H].grade=this.value,t(5,c)}function B(L,H){L[H].notes=this.value,t(5,c)}return[n,l,o,u,r,c,m,f,g,d,h,k,b,C,T,D,E,O,w,B,L=>d(L.id)]}class mn extends st{constructor(e){super(),ot(this,e,gn,_n,nt,{getData:10})}get getData(){return this.$$.ctx[10]}}function bn(s){let e,t=`<h3 class="svelte-fh7bet">Gym Session Config</h3> <p class="svelte-fh7bet">Specific fields for gym sessions will go here (e.g., Focus, Exercises,
        Sets/Reps).</p> <div class="placeholder-box svelte-fh7bet"></div>`,n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-gs8whu"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,o){K(l,e,o)},p:me,i(l){l&&(n||Te(()=>{n=Ye(e,Fe,{}),n.start()}))},o:me,d(l){l&&_(e)}}}let kn="",Cn="";function yn(s,e,t){let n=[];function l(){return{location:kn,session:Cn,exercises:n,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class En extends st{constructor(e){super(),ot(this,e,yn,bn,nt,{getData:0})}get getData(){return this.$$.ctx[0]}}function Gt(s,e,t){const n=s.slice();return n[32]=e[t],n[33]=e,n[34]=t,n}function Wt(s,e,t){const n=s.slice();return n[35]=e[t],n}function xt(s,e,t){const n=s.slice();return n[38]=e[t],n}function Kt(s,e,t){const n=s.slice();return n[35]=e[t],n}function Yt(s){let e,t=s[35]+"",n;return{c(){e=p("option"),n=ge(t),this.h()},l(l){e=v(l,"OPTION",{});var o=y(e);n=_e(o,t),o.forEach(_),this.h()},h(){e.__value=s[35],P(e,e.__value)},m(l,o){K(l,e,o),i(e,n)},p:me,d(l){l&&_(e)}}}function Jt(s){let e,t,n,l,o,u;return{c(){e=p("div"),t=p("input"),this.h()},l(r){e=v(r,"DIV",{});var c=y(e);t=v(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(_),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Area..."),a(t,"class","custom-input svelte-1hrpski")},m(r,c){K(r,e,c),i(e,t),P(t,s[1]),l=!0,o||(u=Q(t,"input",s[18]),o=!0)},p(r,c){c[0]&2&&t.value!==r[1]&&P(t,r[1])},i(r){l||(r&&Te(()=>{l&&(n||(n=tt(e,it,{},!0)),n.run(1))}),l=!0)},o(r){r&&(n||(n=tt(e,it,{},!1)),n.run(0)),l=!1},d(r){r&&_(e),r&&n&&n.end(),o=!1,u()}}}function wn(s){let e,t,n,l,o;return{c(){e=p("input"),this.h()},l(u){e=v(u,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","climb-crag"),a(e,"type","text"),a(e,"placeholder",t=s[0]==="Other"?"Enter Crag Name":"Select area first..."),e.disabled=n=!s[0],a(e,"class","svelte-1hrpski")},m(u,r){K(u,e,r),P(e,s[2]),l||(o=Q(e,"input",s[21]),l=!0)},p(u,r){r[0]&2049&&t!==(t=u[0]==="Other"?"Enter Crag Name":"Select area first...")&&a(e,"placeholder",t),r[0]&2049&&n!==(n=!u[0])&&(e.disabled=n),r[0]&1028&&e.value!==u[2]&&P(e,u[2])},d(u){u&&_(e),l=!1,o()}}}function Tn(s){let e,t,n="Select Crag",l,o="Other (Custom)",u,r,c,m,f=ie(s[10]),g=[];for(let h=0;h<f.length;h+=1)g[h]=Qt(xt(s,f,h));let d=s[2]==="Other"&&Xt(s);return{c(){e=p("select"),t=p("option"),t.textContent=n;for(let h=0;h<g.length;h+=1)g[h].c();l=p("option"),l.textContent=o,u=S(),d&&d.c(),r=Dt(),this.h()},l(h){e=v(h,"SELECT",{id:!0,class:!0});var k=y(e);t=v(k,"OPTION",{"data-svelte-h":!0}),x(t)!=="svelte-1bf8330"&&(t.textContent=n);for(let b=0;b<g.length;b+=1)g[b].l(k);l=v(k,"OPTION",{"data-svelte-h":!0}),x(l)!=="svelte-1ws39oy"&&(l.textContent=o),k.forEach(_),u=I(h),d&&d.l(h),r=Dt(),this.h()},h(){t.__value="",P(t,t.__value),t.disabled=!0,t.selected=!0,l.__value="Other",P(l,l.__value),a(e,"id","climb-crag"),a(e,"class","svelte-1hrpski"),s[2]===void 0&&Te(()=>s[19].call(e))},m(h,k){K(h,e,k),i(e,t);for(let b=0;b<g.length;b+=1)g[b]&&g[b].m(e,null);i(e,l),Se(e,s[2],!0),K(h,u,k),d&&d.m(h,k),K(h,r,k),c||(m=Q(e,"change",s[19]),c=!0)},p(h,k){if(k[0]&1024){f=ie(h[10]);let b;for(b=0;b<f.length;b+=1){const C=xt(h,f,b);g[b]?g[b].p(C,k):(g[b]=Qt(C),g[b].c(),g[b].m(e,l))}for(;b<g.length;b+=1)g[b].d(1);g.length=f.length}k[0]&1028&&Se(e,h[2]),h[2]==="Other"?d?(d.p(h,k),k[0]&4&&Ee(d,1)):(d=Xt(h),d.c(),Ee(d,1),d.m(r.parentNode,r)):d&&(Xe(),Pe(d,1,1,()=>{d=null}),Ze())},d(h){h&&(_(e),_(u),_(r)),ze(g,h),d&&d.d(h),c=!1,m()}}}function Qt(s){let e,t=s[38]+"",n,l;return{c(){e=p("option"),n=ge(t),this.h()},l(o){e=v(o,"OPTION",{});var u=y(e);n=_e(u,t),u.forEach(_),this.h()},h(){e.__value=l=s[38],P(e,e.__value)},m(o,u){K(o,e,u),i(e,n)},p(o,u){u[0]&1024&&t!==(t=o[38]+"")&&Ue(n,t),u[0]&1024&&l!==(l=o[38])&&(e.__value=l,P(e,e.__value))},d(o){o&&_(e)}}}function Xt(s){let e,t,n,l,o,u;return{c(){e=p("div"),t=p("input"),this.h()},l(r){e=v(r,"DIV",{});var c=y(e);t=v(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(_),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Crag..."),a(t,"class","custom-input svelte-1hrpski")},m(r,c){K(r,e,c),i(e,t),P(t,s[3]),l=!0,o||(u=Q(t,"input",s[20]),o=!0)},p(r,c){c[0]&8&&t.value!==r[3]&&P(t,r[3])},i(r){l||(r&&Te(()=>{l&&(n||(n=tt(e,it,{},!0)),n.run(1))}),l=!0)},o(r){r&&(n||(n=tt(e,it,{},!1)),n.run(0)),l=!1},d(r){r&&_(e),r&&n&&n.end(),o=!1,u()}}}function Zt(s){let e,t=s[35]+"",n;return{c(){e=p("option"),n=ge(t),this.h()},l(l){e=v(l,"OPTION",{});var o=y(e);n=_e(o,t),o.forEach(_),this.h()},h(){e.__value=s[35],P(e,e.__value)},m(l,o){K(l,e,o),i(e,n)},p:me,d(l){l&&_(e)}}}function $t(s,e){let t,n,l,o,u,r,c,m,f,g,d,h,k='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',b,C,T,D=me,E,O,w;function B(){e[27].call(l,e[33],e[34])}function N(){e[28].call(r,e[33],e[34])}function L(){e[29].call(f,e[33],e[34])}function H(){return e[30](e[32])}return{key:s,first:null,c(){t=p("tr"),n=p("td"),l=p("input"),o=S(),u=p("td"),r=p("input"),c=S(),m=p("td"),f=p("textarea"),g=S(),d=p("td"),h=p("button"),h.innerHTML=k,b=S(),this.h()},l(A){t=v(A,"TR",{});var V=y(t);n=v(V,"TD",{class:!0});var fe=y(n);l=v(fe,"INPUT",{type:!0,placeholder:!0,class:!0}),fe.forEach(_),o=I(V),u=v(V,"TD",{class:!0});var se=y(u);r=v(se,"INPUT",{type:!0,placeholder:!0,class:!0}),se.forEach(_),c=I(V),m=v(V,"TD",{class:!0});var U=y(m);f=v(U,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),y(f).forEach(_),U.forEach(_),g=I(V),d=v(V,"TD",{class:!0});var M=y(d);h=v(M,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),x(h)!=="svelte-zfon6j"&&(h.innerHTML=k),M.forEach(_),b=I(V),V.forEach(_),this.h()},h(){a(l,"type","text"),a(l,"placeholder","e.g. Deliverance"),a(l,"class","svelte-1hrpski"),a(n,"class","svelte-1hrpski"),a(r,"type","text"),a(r,"placeholder","e.g. 7a+"),a(r,"class","svelte-1hrpski"),a(u,"class","svelte-1hrpski"),a(f,"placeholder","e.g. 2nd go"),a(f,"rows","1"),a(f,"class","svelte-1hrpski"),a(m,"class","svelte-1hrpski"),a(h,"class","delete-btn svelte-1hrpski"),a(h,"title","Remove row"),a(d,"class","actions-col svelte-1hrpski"),this.first=t},m(A,V){K(A,t,V),i(t,n),i(n,l),P(l,e[32].name),i(t,o),i(t,u),i(u,r),P(r,e[32].grade),i(t,c),i(t,m),i(m,f),P(f,e[32].notes),i(t,g),i(t,d),i(d,h),i(t,b),E=!0,O||(w=[Q(l,"input",B),Q(r,"input",N),Q(f,"input",L),Q(h,"click",H)],O=!0)},p(A,V){e=A,V[0]&512&&l.value!==e[32].name&&P(l,e[32].name),V[0]&512&&r.value!==e[32].grade&&P(r,e[32].grade),V[0]&512&&P(f,e[32].notes)},r(){T=t.getBoundingClientRect()},f(){Gl(t),D(),Bt(t,T)},a(){D(),D=zl(t,T,Yl,{duration:300})},i(A){E||(C&&C.end(1),E=!0)},o(A){A&&(C=Fl(t,it,{duration:200})),E=!1},d(A){A&&_(t),A&&C&&C.end(),O=!1,lt(w)}}}function Dn(s){let e,t,n,l,o="Area",u,r,c,m="Select Area",f,g,d,h,k="Crag",b,C,T,D,E="Wall / Sector",O,w,B,N,L,H="Type",A,V,fe,se,U,M,re="Finger Load (0-5)",ae,te,ee,z,be,ce="Shoulder Load (0-5)",he,$,He,ue,de,ke="Forearm Load (0-5)",De,Z,oe,R,ve,ne,F="Routes / Problems",q,G,Ce=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,Ve,Oe,Ne,Le,we='<tr><th class="svelte-1hrpski">Route/Problem</th> <th class="svelte-1hrpski">Grade</th> <th class="svelte-1hrpski">Notes</th> <th class="actions-col svelte-1hrpski"></th></tr>',Re,pe,ye=[],je=new Map,Y,X,J,Ge,$e=ie(s[11]),Be=[];for(let W=0;W<$e.length;W+=1)Be[W]=Yt(Kt(s,$e,W));let Ie=s[0]==="Other"&&Jt(s);function rt(W,le){return W[0]&&W[0]!=="Other"?Tn:wn}let at=rt(s),qe=at(s),Je=ie(s[13]),Ae=[];for(let W=0;W<Je.length;W+=1)Ae[W]=Zt(Wt(s,Je,W));let et=ie(s[9]);const ht=W=>W[32].id;for(let W=0;W<et.length;W+=1){let le=Gt(s,et,W),j=ht(le);je.set(j,ye[W]=$t(j,le))}return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=o,u=S(),r=p("select"),c=p("option"),c.textContent=m;for(let W=0;W<Be.length;W+=1)Be[W].c();f=S(),Ie&&Ie.c(),g=S(),d=p("div"),h=p("label"),h.textContent=k,b=S(),qe.c(),C=S(),T=p("div"),D=p("label"),D.textContent=E,O=S(),w=p("input"),B=S(),N=p("div"),L=p("label"),L.textContent=H,A=S(),V=p("select");for(let W=0;W<Ae.length;W+=1)Ae[W].c();fe=S(),se=p("div"),U=p("div"),M=p("label"),M.textContent=re,ae=S(),te=p("input"),ee=S(),z=p("div"),be=p("label"),be.textContent=ce,he=S(),$=p("input"),He=S(),ue=p("div"),de=p("label"),de.textContent=ke,De=S(),Z=p("input"),oe=S(),R=p("div"),ve=p("div"),ne=p("h3"),ne.textContent=F,q=S(),G=p("button"),G.innerHTML=Ce,Ve=S(),Oe=p("div"),Ne=p("table"),Le=p("thead"),Le.innerHTML=we,Re=S(),pe=p("tbody");for(let W=0;W<ye.length;W+=1)ye[W].c();this.h()},l(W){e=v(W,"DIV",{class:!0});var le=y(e);t=v(le,"DIV",{class:!0});var j=y(t);n=v(j,"DIV",{class:!0});var We=y(n);l=v(We,"LABEL",{for:!0,"data-svelte-h":!0}),x(l)!=="svelte-10bxq12"&&(l.textContent=o),u=I(We),r=v(We,"SELECT",{id:!0,class:!0});var St=y(r);c=v(St,"OPTION",{"data-svelte-h":!0}),x(c)!=="svelte-18hyx00"&&(c.textContent=m);for(let Qe=0;Qe<Be.length;Qe+=1)Be[Qe].l(St);St.forEach(_),f=I(We),Ie&&Ie.l(We),We.forEach(_),g=I(j),d=v(j,"DIV",{class:!0});var gt=y(d);h=v(gt,"LABEL",{for:!0,"data-svelte-h":!0}),x(h)!=="svelte-1d1q4si"&&(h.textContent=k),b=I(gt),qe.l(gt),gt.forEach(_),C=I(j),T=v(j,"DIV",{class:!0});var mt=y(T);D=v(mt,"LABEL",{for:!0,"data-svelte-h":!0}),x(D)!=="svelte-2wtmd"&&(D.textContent=E),O=I(mt),w=v(mt,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),mt.forEach(_),B=I(j),N=v(j,"DIV",{class:!0});var bt=y(N);L=v(bt,"LABEL",{for:!0,"data-svelte-h":!0}),x(L)!=="svelte-1p3hyhe"&&(L.textContent=H),A=I(bt),V=v(bt,"SELECT",{id:!0,class:!0});var Vt=y(V);for(let Qe=0;Qe<Ae.length;Qe+=1)Ae[Qe].l(Vt);Vt.forEach(_),bt.forEach(_),j.forEach(_),fe=I(le),se=v(le,"DIV",{class:!0});var ct=y(se);U=v(ct,"DIV",{class:!0});var kt=y(U);M=v(kt,"LABEL",{for:!0,"data-svelte-h":!0}),x(M)!=="svelte-oda77g"&&(M.textContent=re),ae=I(kt),te=v(kt,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),kt.forEach(_),ee=I(ct),z=v(ct,"DIV",{class:!0});var Ct=y(z);be=v(Ct,"LABEL",{for:!0,"data-svelte-h":!0}),x(be)!=="svelte-1vtbxrq"&&(be.textContent=ce),he=I(Ct),$=v(Ct,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Ct.forEach(_),He=I(ct),ue=v(ct,"DIV",{class:!0});var yt=y(ue);de=v(yt,"LABEL",{for:!0,"data-svelte-h":!0}),x(de)!=="svelte-198js8s"&&(de.textContent=ke),De=I(yt),Z=v(yt,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),yt.forEach(_),ct.forEach(_),oe=I(le),R=v(le,"DIV",{class:!0});var Et=y(R);ve=v(Et,"DIV",{class:!0});var wt=y(ve);ne=v(wt,"H3",{class:!0,"data-svelte-h":!0}),x(ne)!=="svelte-mxpai9"&&(ne.textContent=F),q=I(wt),G=v(wt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),x(G)!=="svelte-uzzlti"&&(G.innerHTML=Ce),wt.forEach(_),Ve=I(Et),Oe=v(Et,"DIV",{class:!0});var Pt=y(Oe);Ne=v(Pt,"TABLE",{class:!0});var Tt=y(Ne);Le=v(Tt,"THEAD",{"data-svelte-h":!0}),x(Le)!=="svelte-1ku8bfb"&&(Le.innerHTML=we),Re=I(Tt),pe=v(Tt,"TBODY",{});var Mt=y(pe);for(let Qe=0;Qe<ye.length;Qe+=1)ye[Qe].l(Mt);Mt.forEach(_),Tt.forEach(_),Pt.forEach(_),Et.forEach(_),le.forEach(_),this.h()},h(){a(l,"for","climb-area"),c.__value="",P(c,c.__value),c.disabled=!0,c.selected=!0,a(r,"id","climb-area"),a(r,"class","svelte-1hrpski"),s[0]===void 0&&Te(()=>s[17].call(r)),a(n,"class","input-group"),a(h,"for","climb-crag"),a(d,"class","input-group"),a(D,"for","climb-wall"),a(w,"id","climb-wall"),a(w,"type","text"),a(w,"placeholder","e.g. Popular End"),a(w,"class","svelte-1hrpski"),a(T,"class","input-group"),a(L,"for","climb-type"),a(V,"id","climb-type"),a(V,"class","svelte-1hrpski"),s[5]===void 0&&Te(()=>s[23].call(V)),a(N,"class","input-group"),a(t,"class","form-grid svelte-1hrpski"),a(M,"for","finger-load"),a(te,"id","finger-load"),a(te,"type","number"),a(te,"min","0"),a(te,"max","5"),a(te,"class","svelte-1hrpski"),a(U,"class","load-group svelte-1hrpski"),a(be,"for","shoulder-load"),a($,"id","shoulder-load"),a($,"type","number"),a($,"min","0"),a($,"max","5"),a($,"class","svelte-1hrpski"),a(z,"class","load-group svelte-1hrpski"),a(de,"for","forearm-load"),a(Z,"id","forearm-load"),a(Z,"type","number"),a(Z,"min","0"),a(Z,"max","5"),a(Z,"class","svelte-1hrpski"),a(ue,"class","load-group svelte-1hrpski"),a(se,"class","load-metrics svelte-1hrpski"),a(ne,"class","svelte-1hrpski"),a(G,"class","add-row-btn svelte-1hrpski"),a(G,"title","Add Route"),a(ve,"class","section-header svelte-1hrpski"),a(Ne,"class","svelte-1hrpski"),a(Oe,"class","table-container svelte-1hrpski"),a(R,"class","exercise-section svelte-1hrpski"),a(e,"class","outdoor-config svelte-1hrpski")},m(W,le){K(W,e,le),i(e,t),i(t,n),i(n,l),i(n,u),i(n,r),i(r,c);for(let j=0;j<Be.length;j+=1)Be[j]&&Be[j].m(r,null);Se(r,s[0],!0),i(n,f),Ie&&Ie.m(n,null),i(t,g),i(t,d),i(d,h),i(d,b),qe.m(d,null),i(t,C),i(t,T),i(T,D),i(T,O),i(T,w),P(w,s[4]),i(t,B),i(t,N),i(N,L),i(N,A),i(N,V);for(let j=0;j<Ae.length;j+=1)Ae[j]&&Ae[j].m(V,null);Se(V,s[5],!0),i(e,fe),i(e,se),i(se,U),i(U,M),i(U,ae),i(U,te),P(te,s[6]),i(se,ee),i(se,z),i(z,be),i(z,he),i(z,$),P($,s[7]),i(se,He),i(se,ue),i(ue,de),i(ue,De),i(ue,Z),P(Z,s[8]),i(e,oe),i(e,R),i(R,ve),i(ve,ne),i(ve,q),i(ve,G),i(R,Ve),i(R,Oe),i(Oe,Ne),i(Ne,Le),i(Ne,Re),i(Ne,pe);for(let j=0;j<ye.length;j+=1)ye[j]&&ye[j].m(pe,null);X=!0,J||(Ge=[Q(r,"change",s[17]),Q(r,"change",s[12]),Q(w,"input",s[22]),Q(V,"change",s[23]),Q(te,"input",s[24]),Q($,"input",s[25]),Q(Z,"input",s[26]),Q(G,"click",s[14])],J=!0)},p(W,le){if(le[0]&2048){$e=ie(W[11]);let j;for(j=0;j<$e.length;j+=1){const We=Kt(W,$e,j);Be[j]?Be[j].p(We,le):(Be[j]=Yt(We),Be[j].c(),Be[j].m(r,null))}for(;j<Be.length;j+=1)Be[j].d(1);Be.length=$e.length}if(le[0]&2049&&Se(r,W[0]),W[0]==="Other"?Ie?(Ie.p(W,le),le[0]&1&&Ee(Ie,1)):(Ie=Jt(W),Ie.c(),Ee(Ie,1),Ie.m(n,null)):Ie&&(Xe(),Pe(Ie,1,1,()=>{Ie=null}),Ze()),at===(at=rt(W))&&qe?qe.p(W,le):(qe.d(1),qe=at(W),qe&&(qe.c(),qe.m(d,null))),le[0]&16&&w.value!==W[4]&&P(w,W[4]),le[0]&8192){Je=ie(W[13]);let j;for(j=0;j<Je.length;j+=1){const We=Wt(W,Je,j);Ae[j]?Ae[j].p(We,le):(Ae[j]=Zt(We),Ae[j].c(),Ae[j].m(V,null))}for(;j<Ae.length;j+=1)Ae[j].d(1);Ae.length=Je.length}if(le[0]&8224&&Se(V,W[5]),le[0]&64&&Me(te.value)!==W[6]&&P(te,W[6]),le[0]&128&&Me($.value)!==W[7]&&P($,W[7]),le[0]&256&&Me(Z.value)!==W[8]&&P(Z,W[8]),le[0]&33280){et=ie(W[9]),Xe();for(let j=0;j<ye.length;j+=1)ye[j].r();ye=It(ye,le,ht,1,W,et,je,pe,xl,$t,null,Gt);for(let j=0;j<ye.length;j+=1)ye[j].a();Ze()}},i(W){if(!X){Ee(Ie);for(let le=0;le<et.length;le+=1)Ee(ye[le]);W&&(Y||Te(()=>{Y=Ye(e,Fe,{}),Y.start()})),X=!0}},o(W){Pe(Ie);for(let le=0;le<ye.length;le+=1)Pe(ye[le]);X=!1},d(W){W&&_(e),ze(Be,W),Ie&&Ie.d(),qe.d(),ze(Ae,W);for(let le=0;le<ye.length;le+=1)ye[le].d();J=!1,lt(Ge)}}}function Ln(s,e,t){let n,l="",o="",u="",r="",c="",m="Bouldering",f=0,g=0,d=0;const h=["Portland","Swanage","Bristol","Costa Del Severn","Cotswolds","Mendips","Wye Valley","Gower","South Wales","North Wales","Peak District","Devon","Fontainebleau","Switzerland","Other"],k={Portland:["Blacknor Far North","Blacknor North","Blacknor Central","Blacknor South","Blacknor Far South","Battleship Edge","Battleship Back Cliff","Wallsend North","Wallsend South","Coastguard North","Coastguard South","Godnor","Neddyfields","Cheyne Cliff","The Cuttings","The New Cuttings","The Cuttings Boulderfield"],Swanage:["Dancing Ledge","Hedbury","Winspit"],"Wye Valley":["Ban-y-Gor","Biblins Cave","Woodcroft Quarry","Wyndcliff Quarry"],"Costa Del Severn":["Brean","Clevedon","Portishead Quarry"],Bristol:["Avon Gorge","Leigh Woods","Bickley Wood","Hambrook"],Cotswolds:["Sally-in-the-Wood","Browns Folly"],Mendips:["Cheddar Gorge"],Gower:["Rhossili","Trial Wall Area","Foxhole"],"South Wales":["Dinas Rock","Ogmore"],"North Wales":["Cromlech","Australia"],"Peak District":["Burbage South Valley","Gardoms Edge","Raven Tor","Stanage","Curbar Edge"],Devon:["Dartmoor","Hartland","Tintagel"],Fontainebleau:["Bas Cuvier","Apremont","Franchard Isatis","Roche aux Sabots","Cul de Chien","Elephant"],Switzerland:["Magic Wood","Chironico","Cresciano","Brione","San Carlo"]};function b(){t(2,u=""),t(3,r="")}let C=[{id:crypto.randomUUID(),name:"",grade:"",notes:""}];const T=["Bouldering","Sport","Trad"];function D(){t(9,C=[...C,{id:crypto.randomUUID(),name:"",grade:"",notes:""}])}function E(ee){C.length>1?t(9,C=C.filter(z=>z.id!==ee)):t(9,C=[{id:crypto.randomUUID(),name:"",grade:"",notes:""}])}function O(){return{location:{area:l==="Other"?o:l,crag:u==="Other"?r:u,wall:c},session:m,fingerLoad:f,shoulderLoad:g,forearmLoad:d,exercises:C.map(be=>({...be,isRopes:m!=="Bouldering"}))}}function w(){l=Ke(this),t(0,l),t(11,h)}function B(){o=this.value,t(1,o)}function N(){u=Ke(this),t(2,u),t(10,n),t(0,l)}function L(){r=this.value,t(3,r)}function H(){u=this.value,t(2,u),t(10,n),t(0,l)}function A(){c=this.value,t(4,c)}function V(){m=Ke(this),t(5,m),t(13,T)}function fe(){f=Me(this.value),t(6,f)}function se(){g=Me(this.value),t(7,g)}function U(){d=Me(this.value),t(8,d)}function M(ee,z){ee[z].name=this.value,t(9,C)}function re(ee,z){ee[z].grade=this.value,t(9,C)}function ae(ee,z){ee[z].notes=this.value,t(9,C)}const te=ee=>E(ee.id);return s.$$.update=()=>{s.$$.dirty[0]&1&&t(10,n=k[l]||[])},[l,o,u,r,c,m,f,g,d,C,n,h,b,T,D,E,O,w,B,N,L,H,A,V,fe,se,U,M,re,ae,te]}class In extends st{constructor(e){super(),ot(this,e,Ln,Dn,nt,{getData:16},null,[-1,-1])}get getData(){return this.$$.ctx[16]}}function Sn(s){let e,t='<h3 class="svelte-fh7bet">Other Activity Config</h3> <p class="svelte-fh7bet">Generic fields for other activities will go here.</p> <div class="placeholder-box svelte-fh7bet"></div>',n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-kjirec"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,o){K(l,e,o)},p:me,i(l){l&&(n||Te(()=>{n=Ye(e,Fe,{}),n.start()}))},o:me,d(l){l&&_(e)}}}let On="",Nn="";function Bn(s,e,t){let n=[];function l(){return{location:On,session:Nn,exercises:n,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class An extends st{constructor(e){super(),ot(this,e,Bn,Sn,nt,{getData:0})}get getData(){return this.$$.ctx[0]}}function el(s,e,t){const n=s.slice();return n[18]=e[t],n[19]=e,n[20]=t,n}function tl(s,e,t){const n=s.slice();return n[21]=e[t],n}function ll(s,e,t){const n=s.slice();return n[24]=e[t],n}function nl(s){let e,t=s[24]+"",n;return{c(){e=p("option"),n=ge(t),this.h()},l(l){e=v(l,"OPTION",{});var o=y(e);n=_e(o,t),o.forEach(_),this.h()},h(){e.__value=s[24],P(e,e.__value)},m(l,o){K(l,e,o),i(e,n)},p:me,d(l){l&&_(e)}}}function sl(s){let e,t=s[21]+"",n;return{c(){e=p("option"),n=ge(t),this.h()},l(l){e=v(l,"OPTION",{});var o=y(e);n=_e(o,t),o.forEach(_),this.h()},h(){e.__value=s[21],P(e,e.__value)},m(l,o){K(l,e,o),i(e,n)},p:me,d(l){l&&_(e)}}}function ol(s,e){let t,n,l,o,u,r,c,m,f,g,d,h,k,b,C,T,D,E,O="Ã—",w,B,N;function L(){e[12].call(l,e[19],e[20])}function H(){e[13].call(r,e[19],e[20])}function A(){e[14].call(f,e[19],e[20])}function V(){e[15].call(h,e[19],e[20])}function fe(){e[16].call(C,e[19],e[20])}function se(){return e[17](e[18])}return{key:s,first:null,c(){t=p("tr"),n=p("td"),l=p("input"),o=S(),u=p("td"),r=p("input"),c=S(),m=p("td"),f=p("input"),g=S(),d=p("td"),h=p("input"),k=S(),b=p("td"),C=p("input"),T=S(),D=p("td"),E=p("button"),E.textContent=O,w=S(),this.h()},l(U){t=v(U,"TR",{});var M=y(t);n=v(M,"TD",{class:!0});var re=y(n);l=v(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(_),o=I(M),u=v(M,"TD",{class:!0});var ae=y(u);r=v(ae,"INPUT",{type:!0,placeholder:!0,class:!0}),ae.forEach(_),c=I(M),m=v(M,"TD",{class:!0});var te=y(m);f=v(te,"INPUT",{type:!0,placeholder:!0,class:!0}),te.forEach(_),g=I(M),d=v(M,"TD",{class:!0});var ee=y(d);h=v(ee,"INPUT",{type:!0,placeholder:!0,class:!0}),ee.forEach(_),k=I(M),b=v(M,"TD",{class:!0});var z=y(b);C=v(z,"INPUT",{type:!0,placeholder:!0,class:!0}),z.forEach(_),T=I(M),D=v(M,"TD",{class:!0});var be=y(D);E=v(be,"BUTTON",{class:!0,"data-svelte-h":!0}),x(E)!=="svelte-rn69i5"&&(E.textContent=O),be.forEach(_),w=I(M),M.forEach(_),this.h()},h(){a(l,"type","text"),a(l,"placeholder","Hang"),a(l,"class","svelte-152m2bn"),a(n,"class","svelte-152m2bn"),a(r,"type","number"),a(r,"placeholder","0"),a(r,"class","svelte-152m2bn"),a(u,"class","svelte-152m2bn"),a(f,"type","number"),a(f,"placeholder","1"),a(f,"class","svelte-152m2bn"),a(m,"class","svelte-152m2bn"),a(h,"type","number"),a(h,"placeholder","1"),a(h,"class","svelte-152m2bn"),a(d,"class","svelte-152m2bn"),a(C,"type","text"),a(C,"placeholder","Notes"),a(C,"class","svelte-152m2bn"),a(b,"class","svelte-152m2bn"),a(E,"class","delete-btn svelte-152m2bn"),a(D,"class","actions-col svelte-152m2bn"),this.first=t},m(U,M){K(U,t,M),i(t,n),i(n,l),P(l,e[18].name),i(t,o),i(t,u),i(u,r),P(r,e[18].weight),i(t,c),i(t,m),i(m,f),P(f,e[18].sets),i(t,g),i(t,d),i(d,h),P(h,e[18].reps),i(t,k),i(t,b),i(b,C),P(C,e[18].notes),i(t,T),i(t,D),i(D,E),i(t,w),B||(N=[Q(l,"input",L),Q(r,"input",H),Q(f,"input",A),Q(h,"input",V),Q(C,"input",fe),Q(E,"click",se)],B=!0)},p(U,M){e=U,M&8&&l.value!==e[18].name&&P(l,e[18].name),M&8&&Me(r.value)!==e[18].weight&&P(r,e[18].weight),M&8&&Me(f.value)!==e[18].sets&&P(f,e[18].sets),M&8&&Me(h.value)!==e[18].reps&&P(h,e[18].reps),M&8&&C.value!==e[18].notes&&P(C,e[18].notes)},d(U){U&&_(t),B=!1,lt(N)}}}function Vn(s){let e,t,n,l,o="Location",u,r,c,m="Select Location",f,g,d,h="Session Type",k,b,C,T="Select Session",D,E,O,w,B="Finger Load (0-5)",N,L,H,A,V,fe,se="Sets / Exercises",U,M,re="Add Row",ae,te,ee,z,be='<tr><th class="svelte-152m2bn">Exercise</th> <th class="svelte-152m2bn">Weight (+/-)</th> <th class="svelte-152m2bn">Sets</th> <th class="svelte-152m2bn">Reps</th> <th class="svelte-152m2bn">Notes</th> <th class="actions-col svelte-152m2bn"></th></tr>',ce,he,$=[],He=new Map,ue,de,ke,De=ie(s[6]),Z=[];for(let F=0;F<De.length;F+=1)Z[F]=nl(ll(s,De,F));let oe=ie(s[7]),R=[];for(let F=0;F<oe.length;F+=1)R[F]=sl(tl(s,oe,F));let ve=ie(s[3]);const ne=F=>F[18].id;for(let F=0;F<ve.length;F+=1){let q=el(s,ve,F),G=ne(q);He.set(G,$[F]=ol(G,q))}return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=o,u=S(),r=p("select"),c=p("option"),c.textContent=m;for(let F=0;F<Z.length;F+=1)Z[F].c();f=S(),g=p("div"),d=p("label"),d.textContent=h,k=S(),b=p("select"),C=p("option"),C.textContent=T;for(let F=0;F<R.length;F+=1)R[F].c();D=S(),E=p("div"),O=p("div"),w=p("label"),w.textContent=B,N=S(),L=p("input"),H=S(),A=p("div"),V=p("div"),fe=p("h3"),fe.textContent=se,U=S(),M=p("button"),M.textContent=re,ae=S(),te=p("div"),ee=p("table"),z=p("thead"),z.innerHTML=be,ce=S(),he=p("tbody");for(let F=0;F<$.length;F+=1)$[F].c();this.h()},l(F){e=v(F,"DIV",{class:!0});var q=y(e);t=v(q,"DIV",{class:!0});var G=y(t);n=v(G,"DIV",{class:!0});var Ce=y(n);l=v(Ce,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(l)!=="svelte-1dxgp9b"&&(l.textContent=o),u=I(Ce),r=v(Ce,"SELECT",{id:!0,class:!0});var Ve=y(r);c=v(Ve,"OPTION",{"data-svelte-h":!0}),x(c)!=="svelte-mwu9va"&&(c.textContent=m);for(let X=0;X<Z.length;X+=1)Z[X].l(Ve);Ve.forEach(_),Ce.forEach(_),f=I(G),g=v(G,"DIV",{class:!0});var Oe=y(g);d=v(Oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(d)!=="svelte-h0spd7"&&(d.textContent=h),k=I(Oe),b=v(Oe,"SELECT",{id:!0,class:!0});var Ne=y(b);C=v(Ne,"OPTION",{"data-svelte-h":!0}),x(C)!=="svelte-1ekya2v"&&(C.textContent=T);for(let X=0;X<R.length;X+=1)R[X].l(Ne);Ne.forEach(_),Oe.forEach(_),G.forEach(_),D=I(q),E=v(q,"DIV",{class:!0});var Le=y(E);O=v(Le,"DIV",{class:!0});var we=y(O);w=v(we,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(w)!=="svelte-1w9evqp"&&(w.textContent=B),N=I(we),L=v(we,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),we.forEach(_),Le.forEach(_),H=I(q),A=v(q,"DIV",{class:!0});var Re=y(A);V=v(Re,"DIV",{class:!0});var pe=y(V);fe=v(pe,"H3",{class:!0,"data-svelte-h":!0}),x(fe)!=="svelte-rv2rcn"&&(fe.textContent=se),U=I(pe),M=v(pe,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),x(M)!=="svelte-tawc64"&&(M.textContent=re),pe.forEach(_),ae=I(Re),te=v(Re,"DIV",{class:!0});var ye=y(te);ee=v(ye,"TABLE",{class:!0});var je=y(ee);z=v(je,"THEAD",{"data-svelte-h":!0}),x(z)!=="svelte-163hj14"&&(z.innerHTML=be),ce=I(je),he=v(je,"TBODY",{});var Y=y(he);for(let X=0;X<$.length;X+=1)$[X].l(Y);Y.forEach(_),je.forEach(_),ye.forEach(_),Re.forEach(_),q.forEach(_),this.h()},h(){a(l,"for","fb-location"),a(l,"class","svelte-152m2bn"),c.__value="",P(c,c.__value),c.disabled=!0,c.selected=!0,a(r,"id","fb-location"),a(r,"class","svelte-152m2bn"),s[0]===void 0&&Te(()=>s[9].call(r)),a(n,"class","input-group svelte-152m2bn"),a(d,"for","fb-session"),a(d,"class","svelte-152m2bn"),C.__value="",P(C,C.__value),C.disabled=!0,C.selected=!0,a(b,"id","fb-session"),a(b,"class","svelte-152m2bn"),s[1]===void 0&&Te(()=>s[10].call(b)),a(g,"class","input-group svelte-152m2bn"),a(t,"class","form-grid svelte-152m2bn"),a(w,"for","fb-finger-load"),a(w,"class","svelte-152m2bn"),a(L,"id","fb-finger-load"),a(L,"type","number"),a(L,"min","0"),a(L,"max","5"),a(L,"class","svelte-152m2bn"),a(O,"class","load-group svelte-152m2bn"),a(E,"class","load-metrics svelte-152m2bn"),a(fe,"class","svelte-152m2bn"),a(M,"class","add-row-btn svelte-152m2bn"),a(M,"title","Add Row"),a(V,"class","section-header svelte-152m2bn"),a(ee,"class","svelte-152m2bn"),a(te,"class","table-container svelte-152m2bn"),a(A,"class","exercise-section"),a(e,"class","fingerboard-config svelte-152m2bn")},m(F,q){K(F,e,q),i(e,t),i(t,n),i(n,l),i(n,u),i(n,r),i(r,c);for(let G=0;G<Z.length;G+=1)Z[G]&&Z[G].m(r,null);Se(r,s[0],!0),i(t,f),i(t,g),i(g,d),i(g,k),i(g,b),i(b,C);for(let G=0;G<R.length;G+=1)R[G]&&R[G].m(b,null);Se(b,s[1],!0),i(e,D),i(e,E),i(E,O),i(O,w),i(O,N),i(O,L),P(L,s[2]),i(e,H),i(e,A),i(A,V),i(V,fe),i(V,U),i(V,M),i(A,ae),i(A,te),i(te,ee),i(ee,z),i(ee,ce),i(ee,he);for(let G=0;G<$.length;G+=1)$[G]&&$[G].m(he,null);de||(ke=[Q(r,"change",s[9]),Q(b,"change",s[10]),Q(L,"input",s[11]),Q(M,"click",s[4])],de=!0)},p(F,[q]){if(q&64){De=ie(F[6]);let G;for(G=0;G<De.length;G+=1){const Ce=ll(F,De,G);Z[G]?Z[G].p(Ce,q):(Z[G]=nl(Ce),Z[G].c(),Z[G].m(r,null))}for(;G<Z.length;G+=1)Z[G].d(1);Z.length=De.length}if(q&65&&Se(r,F[0]),q&128){oe=ie(F[7]);let G;for(G=0;G<oe.length;G+=1){const Ce=tl(F,oe,G);R[G]?R[G].p(Ce,q):(R[G]=sl(Ce),R[G].c(),R[G].m(b,null))}for(;G<R.length;G+=1)R[G].d(1);R.length=oe.length}q&130&&Se(b,F[1]),q&4&&Me(L.value)!==F[2]&&P(L,F[2]),q&40&&(ve=ie(F[3]),$=It($,q,ne,1,F,ve,He,he,Wl,ol,null,el))},i(F){F&&(ue||Te(()=>{ue=Ye(e,Fe,{}),ue.start()}))},o:me,d(F){F&&_(e),ze(Z,F),ze(R,F);for(let q=0;q<$.length;q+=1)$[q].d();de=!1,lt(ke)}}}function Pn(s,e,t){let n="",l="",o=0,u=[{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}];function r(){return{location:n,session:l,fingerLoad:o,exercises:u}}function c(){t(3,u=[...u,{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}])}function m(w){u.length>1&&t(3,u=u.filter(B=>B.id!==w))}const f=["Home","Gym","Crag"],g=["Strength","Endurance","Recovery"];function d(){n=Ke(this),t(0,n),t(6,f)}function h(){l=Ke(this),t(1,l),t(7,g)}function k(){o=Me(this.value),t(2,o)}function b(w,B){w[B].name=this.value,t(3,u)}function C(w,B){w[B].weight=Me(this.value),t(3,u)}function T(w,B){w[B].sets=Me(this.value),t(3,u)}function D(w,B){w[B].reps=Me(this.value),t(3,u)}function E(w,B){w[B].notes=this.value,t(3,u)}return[n,l,o,u,c,m,f,g,r,d,h,k,b,C,T,D,E,w=>m(w.id)]}class Mn extends st{constructor(e){super(),ot(this,e,Pn,Vn,nt,{getData:8})}get getData(){return this.$$.ctx[8]}}const Jl="training_history_cache",Un=JSON.parse(localStorage.getItem(Jl)||"{}"),At=jl(Un);At.subscribe(s=>{localStorage.setItem(Jl,JSON.stringify(s))});function Ql(s,e){At.update(t=>{const n=t[s]||[],l=[...e,...n],o=new Map;return l.forEach(u=>{var f;const r=((f=u.date)==null?void 0:f.value)||u.date,m=`${r?new Date(r).toISOString():""}|${u.location}|${u.session_type}|${JSON.stringify(u.climbs)}`;o.has(m)||o.set(m,u)}),{...t,[s]:Array.from(o.values()).sort((u,r)=>{var f,g;const c=new Date(((f=u.date)==null?void 0:f.value)||u.date);return new Date(((g=r.date)==null?void 0:g.value)||r.date).getTime()-c.getTime()})}})}function Hn(s,e){Ql(s,[e])}function rl(s,e,t){const n=s.slice();return n[10]=e[t],n}function al(s){let e,t=s[10].text+"",n,l;return{c(){e=p("option"),n=ge(t),l=S(),this.h()},l(o){e=v(o,"OPTION",{});var u=y(e);n=_e(u,t),l=I(u),u.forEach(_),this.h()},h(){e.__value=s[10].id,P(e,e.__value)},m(o,u){K(o,e,u),i(e,n),i(e,l)},p:me,d(o){o&&_(e)}}}function il(s){let e,t,n,l,o,u=s[2]?"Saving...":"Save Log",r,c,m,f,g;var d=s[5].component;function h(b,C){return{props:{}}}d&&(t=Lt(d,h()),s[9](t));let k=s[3]&&cl(s);return{c(){e=p("div"),t&&pt(t.$$.fragment),n=S(),k&&k.c(),l=S(),o=p("button"),r=ge(u),this.h()},l(b){e=v(b,"DIV",{class:!0});var C=y(e);t&&Nt(t.$$.fragment,C),n=I(C),k&&k.l(C),l=I(C),o=v(C,"BUTTON",{class:!0});var T=y(o);r=_e(T,u),T.forEach(_),C.forEach(_),this.h()},h(){a(o,"class","save-button svelte-148fipo"),o.disabled=s[2],a(e,"class","config-wrapper svelte-148fipo")},m(b,C){K(b,e,C),t&&_t(t,e,null),i(e,n),k&&k.m(e,null),i(e,l),i(e,o),i(o,r),m=!0,f||(g=Q(o,"click",s[7]),f=!0)},p(b,C){if(C&32&&d!==(d=b[5].component)){if(t){Xe();const T=t;Pe(T.$$.fragment,1,0,()=>{vt(T,1)}),Ze()}d?(t=Lt(d,h()),b[9](t),pt(t.$$.fragment),Ee(t.$$.fragment,1),_t(t,e,n)):t=null}else if(d){const T={};t.$set(T)}b[3]?k?(k.p(b,C),C&8&&Ee(k,1)):(k=cl(b),k.c(),Ee(k,1),k.m(e,l)):k&&(Xe(),Pe(k,1,1,()=>{k=null}),Ze()),(!m||C&4)&&u!==(u=b[2]?"Saving...":"Save Log")&&Ue(r,u),(!m||C&4)&&(o.disabled=b[2])},i(b){m||(t&&Ee(t.$$.fragment,b),Ee(k),b&&(c||Te(()=>{c=Ye(e,Fe,{}),c.start()})),m=!0)},o(b){t&&Pe(t.$$.fragment,b),Pe(k),m=!1},d(b){b&&_(e),s[9](null),t&&vt(t),k&&k.d(),f=!1,g()}}}function cl(s){let e,t,n,l;return{c(){e=p("div"),t=ge(s[3]),this.h()},l(o){e=v(o,"DIV",{class:!0});var u=y(e);t=_e(u,s[3]),u.forEach(_),this.h()},h(){a(e,"class","message svelte-148fipo"),xe(e,"success",s[4]),xe(e,"error",!s[4])},m(o,u){K(o,e,u),i(e,t),l=!0},p(o,u){(!l||u&8)&&Ue(t,o[3]),(!l||u&16)&&xe(e,"success",o[4]),(!l||u&16)&&xe(e,"error",!o[4])},i(o){l||(o&&Te(()=>{l&&(n||(n=tt(e,Fe,{},!0)),n.run(1))}),l=!0)},o(o){o&&(n||(n=tt(e,Fe,{},!1)),n.run(0)),l=!1},d(o){o&&_(e),o&&n&&n.end()}}}function Rn(s){let e,t,n="Log Exercise",l,o,u,r="What did you do today?",c,m,f,g="Select activity type...",d,h,k,b,C=ie(s[6]),T=[];for(let E=0;E<C.length;E+=1)T[E]=al(rl(s,C,E));let D=s[5]&&il(s);return{c(){e=p("div"),t=p("h2"),t.textContent=n,l=S(),o=p("div"),u=p("label"),u.textContent=r,c=S(),m=p("select"),f=p("option"),f.textContent=g;for(let E=0;E<T.length;E+=1)T[E].c();d=S(),D&&D.c(),this.h()},l(E){e=v(E,"DIV",{class:!0});var O=y(e);t=v(O,"H2",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-1eeau7i"&&(t.textContent=n),l=I(O),o=v(O,"DIV",{class:!0});var w=y(o);u=v(w,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(u)!=="svelte-1ndwsee"&&(u.textContent=r),c=I(w),m=v(w,"SELECT",{id:!0,class:!0});var B=y(m);f=v(B,"OPTION",{"data-svelte-h":!0}),x(f)!=="svelte-11gchci"&&(f.textContent=g);for(let N=0;N<T.length;N+=1)T[N].l(B);B.forEach(_),w.forEach(_),d=I(O),D&&D.l(O),O.forEach(_),this.h()},h(){a(t,"class","svelte-148fipo"),a(u,"for","exercise-type"),a(u,"class","svelte-148fipo"),f.__value="",P(f,f.__value),f.disabled=!0,f.selected=!0,a(m,"id","exercise-type"),a(m,"class","svelte-148fipo"),s[0]===void 0&&Te(()=>s[8].call(m)),a(o,"class","dropdown-wrapper svelte-148fipo"),a(e,"class","tab-content svelte-148fipo")},m(E,O){K(E,e,O),i(e,t),i(e,l),i(e,o),i(o,u),i(o,c),i(o,m),i(m,f);for(let w=0;w<T.length;w+=1)T[w]&&T[w].m(m,null);Se(m,s[0],!0),i(e,d),D&&D.m(e,null),h=!0,k||(b=Q(m,"change",s[8]),k=!0)},p(E,[O]){if(O&64){C=ie(E[6]);let w;for(w=0;w<C.length;w+=1){const B=rl(E,C,w);T[w]?T[w].p(B,O):(T[w]=al(B),T[w].c(),T[w].m(m,null))}for(;w<T.length;w+=1)T[w].d(1);T.length=C.length}O&65&&Se(m,E[0]),E[5]?D?(D.p(E,O),O&32&&Ee(D,1)):(D=il(E),D.c(),Ee(D,1),D.m(e,null)):D&&(Xe(),Pe(D,1,1,()=>{D=null}),Ze())},i(E){h||(Ee(D),h=!0)},o(E){Pe(D),h=!1},d(E){E&&_(e),ze(T,E),D&&D.d(),k=!1,b()}}}const qn="https://save-log-825153765638.europe-west1.run.app";function Fn(s,e,t){let n,l="";const o=[{id:"indoor",text:"Indoor Climb",component:mn},{id:"fingerboard",text:"Fingerboarding",component:Mn},{id:"gym",text:"Gym Session",component:En},{id:"outdoor",text:"Outdoor Climb",component:In},{id:"other",text:"Other",component:An}];let u,r=!1,c="",m=!1;async function f(){if(!u||!u.getData){console.error("Component does not support data export");return}const h=u.getData(),k=Rl(ut);if(!h.location||!h.session||h.exercises&&h.exercises.length===0){t(3,c="Please select a Location, Session, and add at least one exercise."),t(4,m=!1);return}if(!k){t(3,c="Authentication error. Please log in again."),t(4,m=!1);return}t(2,r=!0),t(3,c="");try{const b={activity_type:l,location:h.location,session_type:h.session,finger_load:h.fingerLoad||0,shoulder_load:h.shoulderLoad||0,forearm_load:h.forearmLoad||0,climbs:h.exercises,date:new Date().toISOString()},C=await fetch(qn,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(b)});if(!C.ok){const T=await C.text();throw new Error(`Server error (${C.status}): ${T}`)}t(3,c="Log saved successfully!"),t(4,m=!0),Hn(l,b)}catch(b){console.error("Save Error:",b),t(3,c="Failed to save log. Check console for details."),t(4,m=!1)}finally{t(2,r=!1)}}function g(){l=Ke(this),t(0,l),t(6,o)}function d(h){Zl[h?"unshift":"push"](()=>{u=h,t(1,u)})}return s.$$.update=()=>{s.$$.dirty&1&&t(5,n=o.find(h=>h.id===l)),s.$$.dirty&1&&l&&t(3,c="")},[l,u,r,c,m,n,o,f,g,d]}class jn extends st{constructor(e){super(),ot(this,e,Fn,Rn,nt,{})}}function ul(s,e,t){const n=s.slice();return n[33]=e[t],n}function hl(s,e,t){const n=s.slice();return n[36]=e[t],n}function fl(s,e,t){const n=s.slice();return n[39]=e[t],n}function dl(s,e,t){const n=s.slice();return n[39]=e[t],n}function vl(s,e,t){const n=s.slice();return n[44]=e[t],n}function pl(s,e,t){const n=s.slice();return n[47]=e[t],n}function _l(s,e,t){const n=s.slice();return n[50]=e[t],n}function zn(s){let e,t,n;return{c(){e=dt("svg"),t=dt("path"),n=dt("path"),this.h()},l(l){e=ft(l,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var o=y(e);t=ft(o,"path",{d:!0}),y(t).forEach(_),n=ft(o,"path",{d:!0}),y(n).forEach(_),o.forEach(_),this.h()},h(){a(t,"d","M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"),a(n,"d","M21 3v5h-5"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","16"),a(e,"height","16"),a(e,"viewBox","0 0 24 24"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"stroke-width","2"),a(e,"stroke-linecap","round"),a(e,"stroke-linejoin","round")},m(l,o){K(l,e,o),i(e,t),i(e,n)},d(l){l&&_(e)}}}function Gn(s){let e;return{c(){e=p("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),y(e).forEach(_),this.h()},h(){a(e,"class","spinner-small svelte-1nhhhnk")},m(t,n){K(t,e,n)},d(t){t&&_(e)}}}function gl(s){let e,t=s[50].label+"",n;return{c(){e=p("option"),n=ge(t),this.h()},l(l){e=v(l,"OPTION",{class:!0});var o=y(e);n=_e(o,t),o.forEach(_),this.h()},h(){e.__value=s[50].id,P(e,e.__value),a(e,"class","svelte-1nhhhnk")},m(l,o){K(l,e,o),i(e,n)},p:me,d(l){l&&_(e)}}}function ml(s){let e,t,n,l,o="Start Date",u,r,c,m,f,g="End Date",d,h,k,b,C,T="Location",D,E,O,w,B,N="Session / Type",L,H,A,V,fe="Grade (Exact)",se,U,M,re,ae,te="Clear",ee,z,be="Apply",ce,he,$,He;function ue(R,ve){return R[0]==="outdoor"?xn:Wn}let de=ue(s),ke=de(s);function De(R,ve){return R[0]==="outdoor"?Yn:Kn}let Z=De(s),oe=Z(s);return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=o,u=S(),r=p("input"),c=S(),m=p("div"),f=p("label"),f.textContent=g,d=S(),h=p("input"),k=S(),b=p("div"),C=p("label"),C.textContent=T,D=S(),ke.c(),E=S(),O=p("div"),w=p("div"),B=p("label"),B.textContent=N,L=S(),oe.c(),H=S(),A=p("div"),V=p("label"),V.textContent=fe,se=S(),U=p("input"),M=S(),re=p("div"),ae=p("button"),ae.textContent=te,ee=S(),z=p("button"),z.textContent=be,this.h()},l(R){e=v(R,"DIV",{class:!0});var ve=y(e);t=v(ve,"DIV",{class:!0});var ne=y(t);n=v(ne,"DIV",{class:!0});var F=y(n);l=v(F,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(l)!=="svelte-1kxlpsi"&&(l.textContent=o),u=I(F),r=v(F,"INPUT",{id:!0,type:!0,class:!0}),F.forEach(_),c=I(ne),m=v(ne,"DIV",{class:!0});var q=y(m);f=v(q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(f)!=="svelte-j60kik"&&(f.textContent=g),d=I(q),h=v(q,"INPUT",{id:!0,type:!0,class:!0}),q.forEach(_),k=I(ne),b=v(ne,"DIV",{class:!0});var G=y(b);C=v(G,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(C)!=="svelte-3cwczo"&&(C.textContent=T),D=I(G),ke.l(G),G.forEach(_),ne.forEach(_),E=I(ve),O=v(ve,"DIV",{class:!0});var Ce=y(O);w=v(Ce,"DIV",{class:!0});var Ve=y(w);B=v(Ve,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(B)!=="svelte-jb3f35"&&(B.textContent=N),L=I(Ve),oe.l(Ve),Ve.forEach(_),H=I(Ce),A=v(Ce,"DIV",{class:!0});var Oe=y(A);V=v(Oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),x(V)!=="svelte-f1ofpo"&&(V.textContent=fe),se=I(Oe),U=v(Oe,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),Oe.forEach(_),M=I(Ce),re=v(Ce,"DIV",{class:!0});var Ne=y(re);ae=v(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),x(ae)!=="svelte-1hjrww8"&&(ae.textContent=te),ee=I(Ne),z=v(Ne,"BUTTON",{class:!0,"data-svelte-h":!0}),x(z)!=="svelte-1ch465z"&&(z.textContent=be),Ne.forEach(_),Ce.forEach(_),ve.forEach(_),this.h()},h(){a(l,"for","startDate"),a(l,"class","svelte-1nhhhnk"),a(r,"id","startDate"),a(r,"type","date"),a(r,"class","svelte-1nhhhnk"),a(n,"class","filter-group svelte-1nhhhnk"),a(f,"for","endDate"),a(f,"class","svelte-1nhhhnk"),a(h,"id","endDate"),a(h,"type","date"),a(h,"class","svelte-1nhhhnk"),a(m,"class","filter-group svelte-1nhhhnk"),a(C,"for","filterLocation"),a(C,"class","svelte-1nhhhnk"),a(b,"class","filter-group svelte-1nhhhnk"),a(t,"class","filter-row svelte-1nhhhnk"),a(B,"for","filterSession"),a(B,"class","svelte-1nhhhnk"),a(w,"class","filter-group svelte-1nhhhnk"),a(V,"for","filterGrade"),a(V,"class","svelte-1nhhhnk"),a(U,"id","filterGrade"),a(U,"type","text"),a(U,"placeholder","e.g. 7a+"),a(U,"class","svelte-1nhhhnk"),a(A,"class","filter-group svelte-1nhhhnk"),a(ae,"class","clear-btn svelte-1nhhhnk"),a(z,"class","apply-btn svelte-1nhhhnk"),a(re,"class","filter-actions svelte-1nhhhnk"),a(O,"class","filter-row svelte-1nhhhnk"),a(e,"class","filters-panel svelte-1nhhhnk")},m(R,ve){K(R,e,ve),i(e,t),i(t,n),i(n,l),i(n,u),i(n,r),P(r,s[6]),i(t,c),i(t,m),i(m,f),i(m,d),i(m,h),P(h,s[7]),i(t,k),i(t,b),i(b,C),i(b,D),ke.m(b,null),i(e,E),i(e,O),i(O,w),i(w,B),i(w,L),oe.m(w,null),i(O,H),i(O,A),i(A,V),i(A,se),i(A,U),P(U,s[10]),i(O,M),i(O,re),i(re,ae),i(re,ee),i(re,z),he=!0,$||(He=[Q(r,"input",s[25]),Q(h,"input",s[26]),Q(U,"input",s[31]),Q(ae,"click",s[19]),Q(z,"click",s[18])],$=!0)},p(R,ve){ve[0]&64&&P(r,R[6]),ve[0]&128&&P(h,R[7]),de===(de=ue(R))&&ke?ke.p(R,ve):(ke.d(1),ke=de(R),ke&&(ke.c(),ke.m(b,null))),Z===(Z=De(R))&&oe?oe.p(R,ve):(oe.d(1),oe=Z(R),oe&&(oe.c(),oe.m(w,null))),ve[0]&1024&&U.value!==R[10]&&P(U,R[10])},i(R){he||(R&&Te(()=>{he&&(ce||(ce=tt(e,Fe,{},!0)),ce.run(1))}),he=!0)},o(R){R&&(ce||(ce=tt(e,Fe,{},!1)),ce.run(0)),he=!1},d(R){R&&_(e),ke.d(),oe.d(),R&&ce&&ce.end(),$=!1,lt(He)}}}function Wn(s){let e,t,n="Any Location",l,o,u=ie(s[15]),r=[];for(let c=0;c<u.length;c+=1)r[c]=bl(pl(s,u,c));return{c(){e=p("select"),t=p("option"),t.textContent=n;for(let c=0;c<r.length;c+=1)r[c].c();this.h()},l(c){e=v(c,"SELECT",{id:!0,class:!0});var m=y(e);t=v(m,"OPTION",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-vg9lqd"&&(t.textContent=n);for(let f=0;f<r.length;f+=1)r[f].l(m);m.forEach(_),this.h()},h(){t.__value="",P(t,t.__value),a(t,"class","svelte-1nhhhnk"),a(e,"id","filterLocation"),a(e,"class","svelte-1nhhhnk"),s[8]===void 0&&Te(()=>s[28].call(e))},m(c,m){K(c,e,m),i(e,t);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);Se(e,s[8],!0),l||(o=Q(e,"change",s[28]),l=!0)},p(c,m){if(m[0]&32768){u=ie(c[15]);let f;for(f=0;f<u.length;f+=1){const g=pl(c,u,f);r[f]?r[f].p(g,m):(r[f]=bl(g),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=u.length}m[0]&33024&&Se(e,c[8])},d(c){c&&_(e),ze(r,c),l=!1,o()}}}function xn(s){let e,t,n;return{c(){e=p("input"),this.h()},l(l){e=v(l,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","filterLocation"),a(e,"type","text"),a(e,"placeholder","Crag or Wall"),a(e,"class","svelte-1nhhhnk")},m(l,o){K(l,e,o),P(e,s[8]),t||(n=Q(e,"input",s[27]),t=!0)},p(l,o){o[0]&33024&&e.value!==l[8]&&P(e,l[8])},d(l){l&&_(e),t=!1,n()}}}function bl(s){let e,t=s[47]+"",n;return{c(){e=p("option"),n=ge(t),this.h()},l(l){e=v(l,"OPTION",{class:!0});var o=y(e);n=_e(o,t),o.forEach(_),this.h()},h(){e.__value=s[47],P(e,e.__value),a(e,"class","svelte-1nhhhnk")},m(l,o){K(l,e,o),i(e,n)},p:me,d(l){l&&_(e)}}}function Kn(s){let e,t,n="Any Session",l,o,u=ie(s[16]),r=[];for(let c=0;c<u.length;c+=1)r[c]=kl(vl(s,u,c));return{c(){e=p("select"),t=p("option"),t.textContent=n;for(let c=0;c<r.length;c+=1)r[c].c();this.h()},l(c){e=v(c,"SELECT",{id:!0,class:!0});var m=y(e);t=v(m,"OPTION",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-178oehu"&&(t.textContent=n);for(let f=0;f<r.length;f+=1)r[f].l(m);m.forEach(_),this.h()},h(){t.__value="",P(t,t.__value),a(t,"class","svelte-1nhhhnk"),a(e,"id","filterSession"),a(e,"class","svelte-1nhhhnk"),s[9]===void 0&&Te(()=>s[30].call(e))},m(c,m){K(c,e,m),i(e,t);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(e,null);Se(e,s[9],!0),l||(o=Q(e,"change",s[30]),l=!0)},p(c,m){if(m[0]&65536){u=ie(c[16]);let f;for(f=0;f<u.length;f+=1){const g=vl(c,u,f);r[f]?r[f].p(g,m):(r[f]=kl(g),r[f].c(),r[f].m(e,null))}for(;f<r.length;f+=1)r[f].d(1);r.length=u.length}m[0]&66048&&Se(e,c[9])},d(c){c&&_(e),ze(r,c),l=!1,o()}}}function Yn(s){let e,t,n="Any Type",l,o="Bouldering",u,r="Sport",c,m="Trad",f,g;return{c(){e=p("select"),t=p("option"),t.textContent=n,l=p("option"),l.textContent=o,u=p("option"),u.textContent=r,c=p("option"),c.textContent=m,this.h()},l(d){e=v(d,"SELECT",{id:!0,class:!0});var h=y(e);t=v(h,"OPTION",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-c7i2yo"&&(t.textContent=n),l=v(h,"OPTION",{class:!0,"data-svelte-h":!0}),x(l)!=="svelte-ffaje2"&&(l.textContent=o),u=v(h,"OPTION",{class:!0,"data-svelte-h":!0}),x(u)!=="svelte-vlasem"&&(u.textContent=r),c=v(h,"OPTION",{class:!0,"data-svelte-h":!0}),x(c)!=="svelte-1tf9gxq"&&(c.textContent=m),h.forEach(_),this.h()},h(){t.__value="",P(t,t.__value),a(t,"class","svelte-1nhhhnk"),l.__value="Bouldering",P(l,l.__value),a(l,"class","svelte-1nhhhnk"),u.__value="Sport",P(u,u.__value),a(u,"class","svelte-1nhhhnk"),c.__value="Trad",P(c,c.__value),a(c,"class","svelte-1nhhhnk"),a(e,"id","filterSession"),a(e,"class","svelte-1nhhhnk"),s[9]===void 0&&Te(()=>s[29].call(e))},m(d,h){K(d,e,h),i(e,t),i(e,l),i(e,u),i(e,c),Se(e,s[9],!0),f||(g=Q(e,"change",s[29]),f=!0)},p(d,h){h[0]&66048&&Se(e,d[9])},d(d){d&&_(e),f=!1,g()}}}function kl(s){let e,t=s[44]+"",n;return{c(){e=p("option"),n=ge(t),this.h()},l(l){e=v(l,"OPTION",{class:!0});var o=y(e);n=_e(o,t),o.forEach(_),this.h()},h(){e.__value=s[44],P(e,e.__value),a(e,"class","svelte-1nhhhnk")},m(l,o){K(l,e,o),i(e,n)},p:me,d(l){l&&_(e)}}}function Jn(s){let e,t,n=[],l=new Map,o,u,r,c=s[12].length===0&&s[1].length>0&&Cl(),m=ie(s[12]);const f=d=>d[33].key;for(let d=0;d<m.length;d+=1){let h=ul(s,m,d),k=f(h);l.set(k,n[d]=Ol(k,h))}let g=s[12].length>0&&Nl(s);return{c(){e=p("div"),c&&c.c(),t=S();for(let d=0;d<n.length;d+=1)n[d].c();u=S(),g&&g.c(),r=Dt(),this.h()},l(d){e=v(d,"DIV",{class:!0});var h=y(e);c&&c.l(h),t=I(h);for(let k=0;k<n.length;k+=1)n[k].l(h);h.forEach(_),u=I(d),g&&g.l(d),r=Dt(),this.h()},h(){a(e,"class","sessions-list svelte-1nhhhnk")},m(d,h){K(d,e,h),c&&c.m(e,null),i(e,t);for(let k=0;k<n.length;k+=1)n[k]&&n[k].m(e,null);K(d,u,h),g&&g.m(d,h),K(d,r,h)},p(d,h){d[12].length===0&&d[1].length>0?c||(c=Cl(),c.c(),c.m(e,t)):c&&(c.d(1),c=null),h[0]&14352&&(m=ie(d[12]),n=It(n,h,f,1,d,m,l,e,Wl,Ol,null,ul)),d[12].length>0?g?(g.p(d,h),h[0]&4096&&Ee(g,1)):(g=Nl(d),g.c(),Ee(g,1),g.m(r.parentNode,r)):g&&(g.d(1),g=null)},i(d){d&&(o||Te(()=>{o=Ye(e,Fe,{}),o.start()})),Ee(g)},o:me,d(d){d&&(_(e),_(u),_(r)),c&&c.d();for(let h=0;h<n.length;h+=1)n[h].d();g&&g.d(d)}}}function Qn(s){let e,t=`<p>No data cached for this activity. Click &quot;Fetch Data&quot; to sync
                from the server.</p> <div class="empty-state"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg></div>`,n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-h6ex8u"&&(e.innerHTML=t),this.h()},h(){a(e,"class","placeholder svelte-1nhhhnk")},m(l,o){K(l,e,o)},p:me,i(l){l&&(n||Te(()=>{n=Ye(e,Fe,{}),n.start()}))},o:me,d(l){l&&_(e)}}}function Xn(s){let e,t,n,l,o,u,r="Retry",c,m,f;return{c(){e=p("div"),t=p("p"),n=ge("Error: "),l=ge(s[3]),o=S(),u=p("button"),u.textContent=r,this.h()},l(g){e=v(g,"DIV",{class:!0});var d=y(e);t=v(d,"P",{});var h=y(t);n=_e(h,"Error: "),l=_e(h,s[3]),h.forEach(_),o=I(d),u=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),x(u)!=="svelte-1n0rt7s"&&(u.textContent=r),d.forEach(_),this.h()},h(){a(u,"class","retry-btn svelte-1nhhhnk"),a(e,"class","status-msg error svelte-1nhhhnk")},m(g,d){K(g,e,d),i(e,t),i(t,n),i(t,l),i(e,o),i(e,u),m||(f=Q(u,"click",s[17]),m=!0)},p(g,d){d[0]&8&&Ue(l,g[3])},i(g){g&&(c||Te(()=>{c=Ye(e,Fe,{}),c.start()}))},o:me,d(g){g&&_(e),m=!1,f()}}}function Zn(s){let e,t=`<div class="spinner svelte-1nhhhnk"></div>
            Loading your training history...`,n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-7ltysi"&&(e.innerHTML=t),this.h()},h(){a(e,"class","status-msg svelte-1nhhhnk")},m(l,o){K(l,e,o)},p:me,i(l){l&&(n||Te(()=>{n=Ye(e,Fe,{}),n.start()}))},o:me,d(l){l&&_(e)}}}function Cl(s){let e,t="No results match your filters.";return{c(){e=p("div"),e.textContent=t,this.h()},l(n){e=v(n,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-1m70tcd"&&(e.textContent=t),this.h()},h(){a(e,"class","no-results svelte-1nhhhnk")},m(n,l){K(n,e,l)},d(n){n&&_(e)}}}function yl(s){let e,t,n,l,o,u,r,c,m=ie(s[11].filter(Al)),f=[];for(let h=0;h<m.length;h+=1)f[h]=El(dl(s,m,h));let g=ie(s[33].items),d=[];for(let h=0;h<g.length;h+=1)d[h]=Sl(hl(s,g,h));return{c(){e=p("div"),t=p("table"),n=p("thead"),l=p("tr");for(let h=0;h<f.length;h+=1)f[h].c();o=S(),u=p("tbody");for(let h=0;h<d.length;h+=1)d[h].c();this.h()},l(h){e=v(h,"DIV",{class:!0});var k=y(e);t=v(k,"TABLE",{class:!0});var b=y(t);n=v(b,"THEAD",{});var C=y(n);l=v(C,"TR",{});var T=y(l);for(let E=0;E<f.length;E+=1)f[E].l(T);T.forEach(_),C.forEach(_),o=I(b),u=v(b,"TBODY",{});var D=y(u);for(let E=0;E<d.length;E+=1)d[E].l(D);D.forEach(_),b.forEach(_),k.forEach(_),this.h()},h(){a(t,"class","details-table svelte-1nhhhnk"),a(e,"class","session-details svelte-1nhhhnk")},m(h,k){K(h,e,k),i(e,t),i(t,n),i(n,l);for(let b=0;b<f.length;b+=1)f[b]&&f[b].m(l,null);i(t,o),i(t,u);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(u,null);c=!0},p(h,k){if(k[0]&2048){m=ie(h[11].filter(Al));let b;for(b=0;b<m.length;b+=1){const C=dl(h,m,b);f[b]?f[b].p(C,k):(f[b]=El(C),f[b].c(),f[b].m(l,null))}for(;b<f.length;b+=1)f[b].d(1);f.length=m.length}if(k[0]&6144){g=ie(h[33].items);let b;for(b=0;b<g.length;b+=1){const C=hl(h,g,b);d[b]?d[b].p(C,k):(d[b]=Sl(C),d[b].c(),d[b].m(u,null))}for(;b<d.length;b+=1)d[b].d(1);d.length=g.length}},i(h){c||(h&&Te(()=>{c&&(r||(r=tt(e,it,{},!0)),r.run(1))}),c=!0)},o(h){h&&(r||(r=tt(e,it,{},!1)),r.run(0)),c=!1},d(h){h&&_(e),ze(f,h),ze(d,h),h&&r&&r.end()}}}function El(s){let e,t=s[39].label+"",n;return{c(){e=p("th"),n=ge(t),this.h()},l(l){e=v(l,"TH",{class:!0});var o=y(e);n=_e(o,t),o.forEach(_),this.h()},h(){a(e,"class","svelte-1nhhhnk")},m(l,o){K(l,e,o),i(e,n)},p(l,o){o[0]&2048&&t!==(t=l[39].label+"")&&Ue(n,t)},d(l){l&&_(e)}}}function $n(s){let e=(s[36][s[39].key]||"-")+"",t;return{c(){t=ge(e)},l(n){t=_e(n,e)},m(n,l){K(n,t,l)},p(n,l){l[0]&6144&&e!==(e=(n[36][n[39].key]||"-")+"")&&Ue(t,e)},d(n){n&&_(t)}}}function es(s){let e,t,n=(s[36].route||s[36].name||"-")+"",l,o,u,r,c,m=s[36].grade&&wl(s),f=s[36].weight&&Tl(s),g=(s[36].sets||s[36].reps)&&Dl(s),d=s[36].notes&&Ll(s);return{c(){e=p("div"),t=p("span"),l=ge(n),o=S(),m&&m.c(),u=S(),f&&f.c(),r=S(),g&&g.c(),c=S(),d&&d.c(),this.h()},l(h){e=v(h,"DIV",{class:!0});var k=y(e);t=v(k,"SPAN",{class:!0});var b=y(t);l=_e(b,n),b.forEach(_),o=I(k),m&&m.l(k),u=I(k),f&&f.l(k),r=I(k),g&&g.l(k),c=I(k),d&&d.l(k),k.forEach(_),this.h()},h(){a(t,"class","ex-name svelte-1nhhhnk"),a(e,"class","exercise-row svelte-1nhhhnk")},m(h,k){K(h,e,k),i(e,t),i(t,l),i(e,o),m&&m.m(e,null),i(e,u),f&&f.m(e,null),i(e,r),g&&g.m(e,null),i(e,c),d&&d.m(e,null)},p(h,k){k[0]&4096&&n!==(n=(h[36].route||h[36].name||"-")+"")&&Ue(l,n),h[36].grade?m?m.p(h,k):(m=wl(h),m.c(),m.m(e,u)):m&&(m.d(1),m=null),h[36].weight?f?f.p(h,k):(f=Tl(h),f.c(),f.m(e,r)):f&&(f.d(1),f=null),h[36].sets||h[36].reps?g?g.p(h,k):(g=Dl(h),g.c(),g.m(e,c)):g&&(g.d(1),g=null),h[36].notes?d?d.p(h,k):(d=Ll(h),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(h){h&&_(e),m&&m.d(),f&&f.d(),g&&g.d(),d&&d.d()}}}function wl(s){let e,t=s[36].grade+"",n;return{c(){e=p("span"),n=ge(t),this.h()},l(l){e=v(l,"SPAN",{class:!0});var o=y(e);n=_e(o,t),o.forEach(_),this.h()},h(){a(e,"class","ex-meta grade svelte-1nhhhnk")},m(l,o){K(l,e,o),i(e,n)},p(l,o){o[0]&4096&&t!==(t=l[36].grade+"")&&Ue(n,t)},d(l){l&&_(e)}}}function Tl(s){let e,t=s[36].weight+"",n,l;return{c(){e=p("span"),n=ge(t),l=ge("kg"),this.h()},l(o){e=v(o,"SPAN",{class:!0});var u=y(e);n=_e(u,t),l=_e(u,"kg"),u.forEach(_),this.h()},h(){a(e,"class","ex-meta weight svelte-1nhhhnk")},m(o,u){K(o,e,u),i(e,n),i(e,l)},p(o,u){u[0]&4096&&t!==(t=o[36].weight+"")&&Ue(n,t)},d(o){o&&_(e)}}}function Dl(s){let e,t=s[36].sets+"",n,l,o=s[36].reps+"",u;return{c(){e=p("span"),n=ge(t),l=ge("x"),u=ge(o),this.h()},l(r){e=v(r,"SPAN",{class:!0});var c=y(e);n=_e(c,t),l=_e(c,"x"),u=_e(c,o),c.forEach(_),this.h()},h(){a(e,"class","ex-meta sets svelte-1nhhhnk")},m(r,c){K(r,e,c),i(e,n),i(e,l),i(e,u)},p(r,c){c[0]&4096&&t!==(t=r[36].sets+"")&&Ue(n,t),c[0]&4096&&o!==(o=r[36].reps+"")&&Ue(u,o)},d(r){r&&_(e)}}}function Ll(s){let e,t=s[36].notes+"",n;return{c(){e=p("span"),n=ge(t),this.h()},l(l){e=v(l,"SPAN",{class:!0});var o=y(e);n=_e(o,t),o.forEach(_),this.h()},h(){a(e,"class","ex-notes svelte-1nhhhnk")},m(l,o){K(l,e,o),i(e,n)},p(l,o){o[0]&4096&&t!==(t=l[36].notes+"")&&Ue(n,t)},d(l){l&&_(e)}}}function Il(s){let e;function t(o,u){return o[39].isObject?es:$n}let n=t(s),l=n(s);return{c(){e=p("td"),l.c(),this.h()},l(o){e=v(o,"TD",{class:!0});var u=y(e);l.l(u),u.forEach(_),this.h()},h(){a(e,"class","svelte-1nhhhnk")},m(o,u){K(o,e,u),l.m(e,null)},p(o,u){n===(n=t(o))&&l?l.p(o,u):(l.d(1),l=n(o),l&&(l.c(),l.m(e,null)))},d(o){o&&_(e),l.d()}}}function Sl(s){let e,t,n=ie(s[11].filter(Vl)),l=[];for(let o=0;o<n.length;o+=1)l[o]=Il(fl(s,n,o));return{c(){e=p("tr");for(let o=0;o<l.length;o+=1)l[o].c();t=S()},l(o){e=v(o,"TR",{});var u=y(e);for(let r=0;r<l.length;r+=1)l[r].l(u);t=I(u),u.forEach(_)},m(o,u){K(o,e,u);for(let r=0;r<l.length;r+=1)l[r]&&l[r].m(e,null);i(e,t)},p(o,u){if(u[0]&6144){n=ie(o[11].filter(Vl));let r;for(r=0;r<n.length;r+=1){const c=fl(o,n,r);l[r]?l[r].p(c,u):(l[r]=Il(c),l[r].c(),l[r].m(e,t))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(o){o&&_(e),ze(l,o)}}}function Ol(s,e){let t,n,l,o,u=Bl(e[33].date)+"",r,c,m,f=e[33].location+"",g,d,h,k=e[33].session+"",b,C,T,D,E,O="FI",w,B,N=e[33].fingerLoad+"",L,H,A,V,fe="SH",se,U,M=e[33].shoulderLoad+"",re,ae,te,ee,z="FO",be,ce,he=e[33].forearmLoad+"",$,He,ue,de,ke,De=e[4].has(e[33].key),Z,oe,R;function ve(){return e[32](e[33])}let ne=De&&yl(e);return{key:s,first:null,c(){t=p("div"),n=p("button"),l=p("div"),o=p("span"),r=ge(u),c=S(),m=p("span"),g=ge(f),d=S(),h=p("span"),b=ge(k),C=S(),T=p("div"),D=p("div"),E=p("span"),E.textContent=O,w=S(),B=p("span"),L=ge(N),H=S(),A=p("div"),V=p("span"),V.textContent=fe,se=S(),U=p("span"),re=ge(M),ae=S(),te=p("div"),ee=p("span"),ee.textContent=z,be=S(),ce=p("span"),$=ge(he),He=S(),ue=dt("svg"),de=dt("path"),ke=S(),ne&&ne.c(),Z=S(),this.h()},l(F){t=v(F,"DIV",{class:!0});var q=y(t);n=v(q,"BUTTON",{class:!0});var G=y(n);l=v(G,"DIV",{class:!0});var Ce=y(l);o=v(Ce,"SPAN",{class:!0});var Ve=y(o);r=_e(Ve,u),Ve.forEach(_),c=I(Ce),m=v(Ce,"SPAN",{class:!0});var Oe=y(m);g=_e(Oe,f),Oe.forEach(_),d=I(Ce),h=v(Ce,"SPAN",{class:!0});var Ne=y(h);b=_e(Ne,k),Ne.forEach(_),Ce.forEach(_),C=I(G),T=v(G,"DIV",{class:!0});var Le=y(T);D=v(Le,"DIV",{class:!0});var we=y(D);E=v(we,"SPAN",{class:!0,"data-svelte-h":!0}),x(E)!=="svelte-lon4bu"&&(E.textContent=O),w=I(we),B=v(we,"SPAN",{class:!0});var Re=y(B);L=_e(Re,N),Re.forEach(_),we.forEach(_),H=I(Le),A=v(Le,"DIV",{class:!0});var pe=y(A);V=v(pe,"SPAN",{class:!0,"data-svelte-h":!0}),x(V)!=="svelte-ryswzs"&&(V.textContent=fe),se=I(pe),U=v(pe,"SPAN",{class:!0});var ye=y(U);re=_e(ye,M),ye.forEach(_),pe.forEach(_),ae=I(Le),te=v(Le,"DIV",{class:!0});var je=y(te);ee=v(je,"SPAN",{class:!0,"data-svelte-h":!0}),x(ee)!=="svelte-1q34mlw"&&(ee.textContent=z),be=I(je),ce=v(je,"SPAN",{class:!0});var Y=y(ce);$=_e(Y,he),Y.forEach(_),je.forEach(_),He=I(Le),ue=ft(Le,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var X=y(ue);de=ft(X,"path",{d:!0}),y(de).forEach(_),X.forEach(_),Le.forEach(_),G.forEach(_),ke=I(q),ne&&ne.l(q),Z=I(q),q.forEach(_),this.h()},h(){a(o,"class","date svelte-1nhhhnk"),a(m,"class","location svelte-1nhhhnk"),a(h,"class","tag svelte-1nhhhnk"),a(l,"class","session-info svelte-1nhhhnk"),a(E,"class","label svelte-1nhhhnk"),a(B,"class","val"),a(D,"class","load-pill finger svelte-1nhhhnk"),a(V,"class","label svelte-1nhhhnk"),a(U,"class","val"),a(A,"class","load-pill shoulder svelte-1nhhhnk"),a(ee,"class","label svelte-1nhhhnk"),a(ce,"class","val"),a(te,"class","load-pill forearm svelte-1nhhhnk"),a(de,"d","m6 9 6 6 6-6"),a(ue,"class","chevron svelte-1nhhhnk"),a(ue,"xmlns","http://www.w3.org/2000/svg"),a(ue,"width","20"),a(ue,"height","20"),a(ue,"viewBox","0 0 24 24"),a(ue,"fill","none"),a(ue,"stroke","currentColor"),a(ue,"stroke-width","2"),a(ue,"stroke-linecap","round"),a(ue,"stroke-linejoin","round"),a(T,"class","load-summary svelte-1nhhhnk"),a(n,"class","session-header svelte-1nhhhnk"),a(t,"class","session-card svelte-1nhhhnk"),xe(t,"expanded",e[4].has(e[33].key)),this.first=t},m(F,q){K(F,t,q),i(t,n),i(n,l),i(l,o),i(o,r),i(l,c),i(l,m),i(m,g),i(l,d),i(l,h),i(h,b),i(n,C),i(n,T),i(T,D),i(D,E),i(D,w),i(D,B),i(B,L),i(T,H),i(T,A),i(A,V),i(A,se),i(A,U),i(U,re),i(T,ae),i(T,te),i(te,ee),i(te,be),i(te,ce),i(ce,$),i(T,He),i(T,ue),i(ue,de),i(t,ke),ne&&ne.m(t,null),i(t,Z),oe||(R=Q(n,"click",ve),oe=!0)},p(F,q){e=F,q[0]&4096&&u!==(u=Bl(e[33].date)+"")&&Ue(r,u),q[0]&4096&&f!==(f=e[33].location+"")&&Ue(g,f),q[0]&4096&&k!==(k=e[33].session+"")&&Ue(b,k),q[0]&4096&&N!==(N=e[33].fingerLoad+"")&&Ue(L,N),q[0]&4096&&M!==(M=e[33].shoulderLoad+"")&&Ue(re,M),q[0]&4096&&he!==(he=e[33].forearmLoad+"")&&Ue($,he),q[0]&4112&&(De=e[4].has(e[33].key)),De?ne?(ne.p(e,q),q[0]&4112&&Ee(ne,1)):(ne=yl(e),ne.c(),Ee(ne,1),ne.m(t,Z)):ne&&(Xe(),Pe(ne,1,1,()=>{ne=null}),Ze()),q[0]&4112&&xe(t,"expanded",e[4].has(e[33].key))},d(F){F&&_(t),ne&&ne.d(),oe=!1,R()}}}function Nl(s){let e,t,n=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    Export to CSV`,l,o,u;return{c(){e=p("div"),t=p("button"),t.innerHTML=n,this.h()},l(r){e=v(r,"DIV",{class:!0});var c=y(e);t=v(c,"BUTTON",{class:!0,"data-svelte-h":!0}),x(t)!=="svelte-jjg4f9"&&(t.innerHTML=n),c.forEach(_),this.h()},h(){a(t,"class","export-btn svelte-1nhhhnk"),a(e,"class","footer-actions svelte-1nhhhnk")},m(r,c){K(r,e,c),i(e,t),o||(u=Q(t,"click",s[20]),o=!0)},p:me,i(r){r&&(l||Te(()=>{l=Ye(e,Fe,{}),l.start()}))},o:me,d(r){r&&_(e),o=!1,u()}}}function ts(s){let e,t,n,l,o,u,r,c=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>
                Filters`,m,f,g,d,h,k;function b(L,H){return L[2]?Gn:zn}let C=b(s),T=C(s),D=ie(s[14]),E=[];for(let L=0;L<D.length;L+=1)E[L]=gl(_l(s,D,L));let O=s[5]&&ml(s);function w(L,H){return L[2]?Zn:L[3]?Xn:L[1].length===0?Qn:Jn}let B=w(s),N=B(s);return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("button"),T.c(),o=ge(`
                Fetch Data`),u=S(),r=p("button"),r.innerHTML=c,m=S(),f=p("select");for(let L=0;L<E.length;L+=1)E[L].c();g=S(),O&&O.c(),d=S(),N.c(),this.h()},l(L){e=v(L,"DIV",{class:!0});var H=y(e);t=v(H,"DIV",{class:!0});var A=y(t);n=v(A,"DIV",{class:!0});var V=y(n);l=v(V,"BUTTON",{class:!0,title:!0});var fe=y(l);T.l(fe),o=_e(fe,`
                Fetch Data`),fe.forEach(_),u=I(V),r=v(V,"BUTTON",{class:!0,"data-svelte-h":!0}),x(r)!=="svelte-vw25g4"&&(r.innerHTML=c),m=I(V),f=v(V,"SELECT",{class:!0});var se=y(f);for(let U=0;U<E.length;U+=1)E[U].l(se);se.forEach(_),V.forEach(_),A.forEach(_),g=I(H),O&&O.l(H),d=I(H),N.l(H),H.forEach(_),this.h()},h(){a(l,"class","fetch-btn svelte-1nhhhnk"),l.disabled=s[2],a(l,"title","Fetch latest data"),a(r,"class","filter-toggle svelte-1nhhhnk"),xe(r,"active",s[5]),a(f,"class","type-select svelte-1nhhhnk"),s[0]===void 0&&Te(()=>s[24].call(f)),a(n,"class","header-actions svelte-1nhhhnk"),a(t,"class","header-row svelte-1nhhhnk"),a(e,"class","view-container svelte-1nhhhnk")},m(L,H){K(L,e,H),i(e,t),i(t,n),i(n,l),T.m(l,null),i(l,o),i(n,u),i(n,r),i(n,m),i(n,f);for(let A=0;A<E.length;A+=1)E[A]&&E[A].m(f,null);Se(f,s[0],!0),i(e,g),O&&O.m(e,null),i(e,d),N.m(e,null),h||(k=[Q(l,"click",s[17]),Q(r,"click",s[23]),Q(f,"change",s[24])],h=!0)},p(L,H){if(C!==(C=b(L))&&(T.d(1),T=C(L),T&&(T.c(),T.m(l,o))),H[0]&4&&(l.disabled=L[2]),H[0]&32&&xe(r,"active",L[5]),H[0]&16384){D=ie(L[14]);let A;for(A=0;A<D.length;A+=1){const V=_l(L,D,A);E[A]?E[A].p(V,H):(E[A]=gl(V),E[A].c(),E[A].m(f,null))}for(;A<E.length;A+=1)E[A].d(1);E.length=D.length}H[0]&16385&&Se(f,L[0]),L[5]?O?(O.p(L,H),H[0]&32&&Ee(O,1)):(O=ml(L),O.c(),Ee(O,1),O.m(e,d)):O&&(Xe(),Pe(O,1,1,()=>{O=null}),Ze()),B===(B=w(L))&&N?N.p(L,H):(N.d(1),N=B(L),N&&(N.c(),Ee(N,1),N.m(e,null)))},i(L){Ee(O),Ee(N)},o(L){Pe(O)},d(L){L&&_(e),T.d(),ze(E,L),O&&O.d(),N.d(),h=!1,lt(k)}}}const ls="https://get-log-825153765638.europe-west1.run.app";function ns(s,e,t,n,l,o){const u=s.filter(c=>{var m,f,g;if(e&&new Date(((m=c.date)==null?void 0:m.value)||c.date)<new Date(e))return!1;if(t){const d=new Date(t);if(d.setHours(23,59,59,999),new Date(((f=c.date)==null?void 0:f.value)||c.date)>d)return!1}return!(n&&c.location!==n||l&&c.session_type!==l||o&&((g=c.climbs)==null?void 0:g.grade)!==o)}),r={};return u.forEach(c=>{var d;const m=((d=c.date)==null?void 0:d.value)||c.date,g=`${new Date(m).toISOString().split("T")[0]}|${c.location}|${c.session_type}`;r[g]||(r[g]={key:g,date:c.date,location:c.location,session:c.session_type,fingerLoad:0,shoulderLoad:0,forearmLoad:0,items:[]}),r[g].fingerLoad=Math.max(r[g].fingerLoad,c.finger_load||0),r[g].shoulderLoad=Math.max(r[g].shoulderLoad,c.shoulder_load||0),r[g].forearmLoad=Math.max(r[g].forearmLoad,c.forearm_load||0),r[g].items.push(c.climbs)}),Object.values(r).sort((c,m)=>{const f=new Date(c.date.value||c.date);return new Date(m.date.value||m.date).getTime()-f.getTime()})}function Bl(s){return s?new Date(s.value||s).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"2-digit"}):"-"}function ss(s){switch(s){case"indoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Session"},{key:"climbs",label:"Data",isObject:!0}];case"fingerboard":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Hang",isObject:!0}];case"outdoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Routes",isObject:!0}];default:return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"}]}}const Al=s=>s.key!=="date"&&s.key!=="location"&&s.key!=="session_type",Vl=s=>s.key!=="date"&&s.key!=="location"&&s.key!=="session_type";function os(s,e,t){let n,l,o,u;ql(s,At,z=>t(22,u=z));let r="indoor",c=!1,m="",f=new Set;function g(z){f.has(z)?f.delete(z):f.add(z),t(4,f)}let d=!1,h="",k="",b="",C="",T="",D={startDate:"",endDate:"",location:"",session:"",grade:""};const E=[{id:"indoor",label:"Indoor Climb"},{id:"fingerboard",label:"Fingerboarding"},{id:"gym",label:"Gym Session"},{id:"outdoor",label:"Outdoor Climb"},{id:"other",label:"Other"}],O=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],w=["Strength","Endurance","Power","Recovery"];async function B(){if(r){t(2,c=!0),t(3,m="");try{const z=Rl(ut),be=new URLSearchParams({type:r}),ce=await fetch(`${ls}?${be.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${z}`}});if(!ce.ok){const $=await ce.text();throw new Error($||"Failed to fetch data")}const he=await ce.json();Ql(r,he)}catch(z){console.error("Fetch Error:",z),t(3,m=z.message||"An unknown error occurred")}finally{t(2,c=!1)}}}function N(){t(21,D={startDate:h,endDate:k,location:b,session:C,grade:T}),t(5,d=!1)}function L(){t(6,h=""),t(7,k=""),t(8,b=""),t(9,C=""),t(10,T=""),N()}function H(){if(!n||n.length===0)return;const z=["date","location","session_type","finger_load","shoulder_load","forearm_load"],be=new Set;n.forEach(De=>{De.climbs&&Object.keys(De.climbs).forEach(Z=>be.add(Z))});const ce=Array.from(be),he=[...z,...ce],$=[];$.push(he.join(",")),n.forEach(De=>{const Z=he.map(oe=>{let R;return z.includes(oe)?R=De[oe]:R=De.climbs?De.climbs[oe]:"",R&&typeof R=="object"&&R.value&&(R=R.value),`"${(R==null?"":String(R)).replace(/"/g,'""')}"`});$.push(Z.join(","))});const He=$.join(`
`),ue=new Blob([He],{type:"text/csv;charset=utf-8;"}),de=URL.createObjectURL(ue),ke=document.createElement("a");ke.setAttribute("href",de),ke.setAttribute("download",`training_data_${r}_${new Date().toISOString().split("T")[0]}.csv`),ke.style.visibility="hidden",document.body.appendChild(ke),ke.click(),document.body.removeChild(ke)}$l(()=>{});const A=()=>t(5,d=!d);function V(){r=Ke(this),t(0,r),t(14,E)}function fe(){h=this.value,t(6,h)}function se(){k=this.value,t(7,k)}function U(){b=this.value,t(8,b),t(15,O)}function M(){b=Ke(this),t(8,b),t(15,O)}function re(){C=Ke(this),t(9,C),t(16,w)}function ae(){C=Ke(this),t(9,C),t(16,w)}function te(){T=this.value,t(10,T)}const ee=z=>g(z.key);return s.$$.update=()=>{s.$$.dirty[0]&4194305&&t(1,n=u[r]||[]),s.$$.dirty[0]&2097154&&t(12,l=ns(n,D.startDate,D.endDate,D.location,D.session,D.grade)),s.$$.dirty[0]&1&&t(11,o=ss(r))},[r,n,c,m,f,d,h,k,b,C,T,o,l,g,E,O,w,B,N,L,H,D,u,A,V,fe,se,U,M,re,ae,te,ee]}class rs extends st{constructor(e){super(),ot(this,e,os,ts,nt,{},null,[-1,-1])}}function as(s){let e,t='<h2 class="svelte-dqa28t">Graph Data</h2> <div class="placeholder svelte-dqa28t"><p class="svelte-dqa28t">Visual progress charts and graphs will be displayed here.</p> <div class="empty-state svelte-dqa28t"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-line-chart"><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"></path></svg></div></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(n){e=v(n,"DIV",{class:!0,"data-svelte-h":!0}),x(e)!=="svelte-r5xejk"&&(e.innerHTML=t),this.h()},h(){a(e,"class","tab-content svelte-dqa28t")},m(n,l){K(n,e,l)},p:me,i:me,o:me,d(n){n&&_(e)}}}class is extends st{constructor(e){super(),ot(this,e,null,as,nt,{})}}function Pl(s,e,t){const n=s.slice();return n[5]=e[t],n}function Ml(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg>',n,l;return{c(){e=p("button"),e.innerHTML=t,this.h()},l(o){e=v(o,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),x(e)!=="svelte-1y2odl3"&&(e.innerHTML=t),this.h()},h(){a(e,"class","logout-button svelte-xzza9f"),a(e,"title","Logout")},m(o,u){K(o,e,u),n||(l=Q(e,"click",fn),n=!0)},d(o){o&&_(e),n=!1,l()}}}function cs(s){let e,t,n;return t=new pn({}),{c(){e=p("div"),pt(t.$$.fragment),this.h()},l(l){e=v(l,"DIV",{class:!0});var o=y(e);Nt(t.$$.fragment,o),o.forEach(_),this.h()},h(){a(e,"class","content-container svelte-xzza9f")},m(l,o){K(l,e,o),_t(t,e,null),n=!0},p:me,i(l){n||(Ee(t.$$.fragment,l),n=!0)},o(l){Pe(t.$$.fragment,l),n=!1},d(l){l&&_(e),vt(t)}}}function us(s){let e,t,n,l,o,u=ie(s[3]),r=[];for(let f=0;f<u.length;f+=1)r[f]=Ul(Pl(s,u,f));var c=s[1].component;function m(f,g){return{}}return c&&(l=Lt(c,m())),{c(){e=p("nav");for(let f=0;f<r.length;f+=1)r[f].c();t=S(),n=p("div"),l&&pt(l.$$.fragment),this.h()},l(f){e=v(f,"NAV",{class:!0});var g=y(e);for(let h=0;h<r.length;h+=1)r[h].l(g);g.forEach(_),t=I(f),n=v(f,"DIV",{class:!0});var d=y(n);l&&Nt(l.$$.fragment,d),d.forEach(_),this.h()},h(){a(e,"class","tabs-nav svelte-xzza9f"),a(n,"class","content-container svelte-xzza9f")},m(f,g){K(f,e,g);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(e,null);K(f,t,g),K(f,n,g),l&&_t(l,n,null),o=!0},p(f,g){if(g&9){u=ie(f[3]);let d;for(d=0;d<u.length;d+=1){const h=Pl(f,u,d);r[d]?r[d].p(h,g):(r[d]=Ul(h),r[d].c(),r[d].m(e,null))}for(;d<r.length;d+=1)r[d].d(1);r.length=u.length}if(g&2&&c!==(c=f[1].component)){if(l){Xe();const d=l;Pe(d.$$.fragment,1,0,()=>{vt(d,1)}),Ze()}c?(l=Lt(c,m()),pt(l.$$.fragment),Ee(l.$$.fragment,1),_t(l,n,null)):l=null}},i(f){o||(l&&Ee(l.$$.fragment,f),o=!0)},o(f){l&&Pe(l.$$.fragment,f),o=!1},d(f){f&&(_(e),_(t),_(n)),ze(r,f),l&&vt(l)}}}function Ul(s){let e,t=s[5].label+"",n,l,o,u;function r(){return s[4](s[5])}return{c(){e=p("button"),n=ge(t),l=S(),this.h()},l(c){e=v(c,"BUTTON",{class:!0});var m=y(e);n=_e(m,t),l=I(m),m.forEach(_),this.h()},h(){a(e,"class","tab-button svelte-xzza9f"),xe(e,"active",s[0]===s[5].id)},m(c,m){K(c,e,m),i(e,n),i(e,l),o||(u=Q(e,"click",r),o=!0)},p(c,m){s=c,m&9&&xe(e,"active",s[0]===s[5].id)},d(c){c&&_(e),o=!1,u()}}}function hs(s){let e,t,n,l,o,u,r,c="Training Tracker",m,f,g,d,h;document.title=e="Training Tracker "+(s[2]?"- "+s[1].label:"(Locked)");let k=s[2]&&Ml();const b=[us,cs],C=[];function T(D,E){return D[2]?0:1}return g=T(s),d=C[g]=b[g](s),{c(){t=p("meta"),n=S(),l=p("main"),o=p("div"),u=p("header"),r=p("h1"),r.textContent=c,m=S(),k&&k.c(),f=S(),d.c(),this.h()},l(D){const E=on("svelte-ggv3pg",document.head);t=v(E,"META",{name:!0,content:!0}),E.forEach(_),n=I(D),l=v(D,"MAIN",{});var O=y(l);o=v(O,"DIV",{class:!0});var w=y(o);u=v(w,"HEADER",{class:!0});var B=y(u);r=v(B,"H1",{class:!0,"data-svelte-h":!0}),x(r)!=="svelte-95sjtq"&&(r.textContent=c),m=I(B),k&&k.l(B),B.forEach(_),f=I(w),d.l(w),w.forEach(_),O.forEach(_),this.h()},h(){a(t,"name","description"),a(t,"content","A simple Svelte webapp for tracking training"),a(r,"class","svelte-xzza9f"),a(u,"class","svelte-xzza9f"),a(o,"class","app-container svelte-xzza9f")},m(D,E){i(document.head,t),K(D,n,E),K(D,l,E),i(l,o),i(o,u),i(u,r),i(u,m),k&&k.m(u,null),i(o,f),C[g].m(o,null),h=!0},p(D,[E]){(!h||E&6)&&e!==(e="Training Tracker "+(D[2]?"- "+D[1].label:"(Locked)"))&&(document.title=e),D[2]?k||(k=Ml(),k.c(),k.m(u,null)):k&&(k.d(1),k=null);let O=g;g=T(D),g===O?C[g].p(D,E):(Xe(),Pe(C[O],1,1,()=>{C[O]=null}),Ze(),d=C[g],d?d.p(D,E):(d=C[g]=b[g](D),d.c()),Ee(d,1),d.m(o,null))},i(D){h||(Ee(d),h=!0)},o(D){Pe(d),h=!1},d(D){D&&(_(n),_(l)),_(t),k&&k.d(),C[g].d()}}}function fs(s,e,t){let n,l;ql(s,ut,c=>t(2,l=c));const o=[{id:"log",label:"Log Exercise",component:jn},{id:"view",label:"View Data",component:rs},{id:"graph",label:"Graph Data",component:is}];let u="log";const r=c=>t(0,u=c.id);return s.$$.update=()=>{s.$$.dirty&1&&t(1,n=o.find(c=>c.id===u))},[u,n,l,o,r]}class _s extends st{constructor(e){super(),ot(this,e,fs,hs,nt,{})}}export{_s as component};
