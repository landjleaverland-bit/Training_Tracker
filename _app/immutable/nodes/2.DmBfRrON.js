import{n as be,f as Dl,r as Je,s as Qe,h as De,i as Hl,e as ql,y as Ll,c as Il,o as Fl}from"../chunks/GsYGQhEn.js";import{y as jl,z as zl,A as Gl,B as Wl,l as Ce,k as Ae,S as Xe,i as Ze,d as _,C as Ge,D as R,E as ze,a as G,b as i,F as K,G as xl,w as a,c as v,e as y,H as j,g as I,h as p,j as S,s as Ve,f as pe,t as _e,I as je,J as Ne,K as Be,m as xe,n as Ke,L as Sl,M as We,N as Ye,o as mt,p as bt,q as ft,r as dt,u as vt,v as yt,O as ut,P as ht,Q as Kl}from"../chunks/BD0eBpJ7.js";import{w as Ol}from"../chunks/ZG84kFMr.js";function Nl(s,e,t,n){if(!e)return be;const l=s.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return be;const{delay:r=0,duration:u=300,easing:o=Dl,start:c=jl()+r,end:b=c+u,tick:f=be,css:g}=t(s,{from:e,to:l},n);let d=!0,h=!1,k;function m(){g&&(k=Wl(s,0,1,u,r,o,g)),r||(h=!0)}function C(){g&&Gl(s,k),d=!1}return zl(T=>{if(!h&&T>=c&&(h=!0),h&&T>=b&&(f(1,0),C()),!d)return!1;if(h){const L=T-c,E=0+1*o(L/u);f(E,1-E)}return!0}),m(),f(0,1),C}function Al(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,l=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=n,Et(s,l)}}function Et(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(s),l=n.transform==="none"?"":n.transform;s.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function de(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Bl(s,e){s.d(1),e.delete(s.key)}function Yl(s,e){Ae(s,1,1,()=>{e.delete(s.key)})}function Vl(s,e){s.f(),Yl(s,e)}function kt(s,e,t,n,l,r,u,o,c,b,f,g){let d=s.length,h=r.length,k=d;const m={};for(;k--;)m[s[k].key]=k;const C=[],T=new Map,L=new Map,E=[];for(k=h;k--;){const N=g(l,r,k),D=t(N);let M=u.get(D);M?E.push(()=>M.p(N,e)):(M=b(D,N),M.c()),T.set(D,C[k]=M),D in m&&L.set(D,Math.abs(k-m[D]))}const O=new Set,w=new Set;function B(N){Ce(N,1),N.m(o,f),u.set(N.key,N),f=N.first,h--}for(;d&&h;){const N=C[h-1],D=s[d-1],M=N.key,q=D.key;N===D?(f=N.first,d--,h--):T.has(q)?!u.has(M)||O.has(M)?B(N):w.has(q)?d--:L.get(M)>L.get(q)?(w.add(M),B(N)):(O.add(q),d--):(c(D,u),d--)}for(;d--;){const N=s[d];T.has(N.key)||c(N,u)}for(;h;)B(C[h-1]);return Je(E),C}const Ct="training_tracker_api_key",Jl="c2fb788c7deedbeaa296e424d4c2921b871a4f6cb4cf393c1c1105653ab399b4",Ql=localStorage.getItem(Ct),ct=Ol(Ql);ct.subscribe(s=>{s?localStorage.setItem(Ct,s):localStorage.removeItem(Ct)});async function Xl(s){const e=new TextEncoder().encode(s),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(l=>l.toString(16).padStart(2,"0")).join("")}async function Zl(s){return await Xl(s)===Jl?(ct.set(s),!0):!1}function $l(){ct.set(null)}function Pl(s){const e=s-1;return e*e*e+1}function qe(s,{delay:e=0,duration:t=400,easing:n=Dl}={}){const l=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:n,css:r=>`opacity: ${r*l}`}}function ot(s,{delay:e=0,duration:t=400,easing:n=Pl,axis:l="y"}={}){const r=getComputedStyle(s),u=+r.opacity,o=l==="y"?"height":"width",c=parseFloat(r[o]),b=l==="y"?["top","bottom"]:["left","right"],f=b.map(T=>`${T[0].toUpperCase()}${T.slice(1)}`),g=parseFloat(r[`padding${f[0]}`]),d=parseFloat(r[`padding${f[1]}`]),h=parseFloat(r[`margin${f[0]}`]),k=parseFloat(r[`margin${f[1]}`]),m=parseFloat(r[`border${f[0]}Width`]),C=parseFloat(r[`border${f[1]}Width`]);return{delay:e,duration:t,easing:n,css:T=>`overflow: hidden;opacity: ${Math.min(T*20,1)*u};${o}: ${T*c}px;padding-${b[0]}: ${T*g}px;padding-${b[1]}: ${T*d}px;margin-${b[0]}: ${T*h}px;margin-${b[1]}: ${T*k}px;border-${b[0]}-width: ${T*m}px;border-${b[1]}-width: ${T*C}px;`}}function Lt(s){let e,t;return{c(){e=p("span"),t=_e(s[1]),this.h()},l(n){e=v(n,"SPAN",{class:!0});var l=y(e);t=pe(l,s[1]),l.forEach(_),this.h()},h(){a(e,"class","error-text svelte-9dby7l")},m(n,l){G(n,e,l),i(e,t)},p(n,l){l&2&&Ve(t,n[1])},d(n){n&&_(e)}}}function en(s){let e,t,n='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',l,r,u="Access Restricted",o,c,b="Please enter your password to unlock the application.",f,g,d,h,k,m,C,T="Unlock App",L,E,O,w=s[1]&&Lt(s);return{c(){e=p("div"),t=p("div"),t.innerHTML=n,l=S(),r=p("h2"),r.textContent=u,o=S(),c=p("p"),c.textContent=b,f=S(),g=p("form"),d=p("div"),h=p("input"),k=S(),w&&w.c(),m=S(),C=p("button"),C.textContent=T,this.h()},l(B){e=v(B,"DIV",{class:!0});var N=y(e);t=v(N,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1lmknyl"&&(t.innerHTML=n),l=I(N),r=v(N,"H2",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-r8hgrj"&&(r.textContent=u),o=I(N),c=v(N,"P",{class:!0,"data-svelte-h":!0}),j(c)!=="svelte-1ix94go"&&(c.textContent=b),f=I(N),g=v(N,"FORM",{class:!0});var D=y(g);d=v(D,"DIV",{class:!0});var M=y(d);h=v(M,"INPUT",{type:!0,placeholder:!0,class:!0}),k=I(M),w&&w.l(M),M.forEach(_),m=I(D),C=v(D,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(C)!=="svelte-6e23ii"&&(C.textContent=T),D.forEach(_),N.forEach(_),this.h()},h(){a(t,"class","lock-icon svelte-9dby7l"),a(r,"class","svelte-9dby7l"),a(c,"class","svelte-9dby7l"),a(h,"type","password"),a(h,"placeholder","Enter Password"),h.disabled=s[2],a(h,"class","svelte-9dby7l"),ze(h,"error",s[1]),a(d,"class","input-group svelte-9dby7l"),a(C,"type","submit"),a(C,"class","unlock-button svelte-9dby7l"),a(g,"class","svelte-9dby7l"),a(e,"class","login-container svelte-9dby7l")},m(B,N){G(B,e,N),i(e,t),i(e,l),i(e,r),i(e,o),i(e,c),i(e,f),i(e,g),i(g,d),i(d,h),R(h,s[0]),i(d,k),w&&w.m(d,null),i(g,m),i(g,C),E||(O=[K(h,"input",s[4]),K(g,"submit",xl(s[3]))],E=!0)},p(B,[N]){N&4&&(h.disabled=B[2]),N&1&&h.value!==B[0]&&R(h,B[0]),N&2&&ze(h,"error",B[1]),B[1]?w?w.p(B,N):(w=Lt(B),w.c(),w.m(d,null)):w&&(w.d(1),w=null)},i(B){B&&(L||De(()=>{L=Ge(e,qe,{}),L.start()}))},o:be,d(B){B&&_(e),w&&w.d(),E=!1,Je(O)}}}function tn(s,e,t){let n="",l="",r=!1;async function u(){if(!n.trim()){t(1,l="Please enter a password");return}t(2,r=!0),t(1,l="");try{await Zl(n.trim())||t(1,l="Incorrect password")}catch{t(1,l="An error occurred")}finally{t(2,r=!1)}}function o(){n=this.value,t(0,n)}return[n,l,r,u,o]}class ln extends Xe{constructor(e){super(),Ze(this,e,tn,en,Qe,{})}}function Ml(s,{from:e,to:t},n={}){const l=getComputedStyle(s),r=l.transform==="none"?"":l.transform,[u,o]=l.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*u/t.width-(t.left+u),b=e.top+e.height*o/t.height-(t.top+o),{delay:f=0,duration:g=h=>Math.sqrt(h)*120,easing:d=Pl}=n;return{delay:f,duration:Hl(g)?g(Math.sqrt(c*c+b*b)):g,easing:d,css:(h,k)=>{const m=k*c,C=k*b,T=h+k*e.width/t.width,L=h+k*e.height/t.height;return`transform: ${r} translate(${m}px, ${C}px) scale(${T}, ${L});`}}}function It(s,e,t){const n=s.slice();return n[21]=e[t],n[22]=e,n[23]=t,n}function St(s,e,t){const n=s.slice();return n[24]=e[t],n}function Ot(s,e,t){const n=s.slice();return n[24]=e[t],n}function Nt(s){let e,t=s[24]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=y(e);n=pe(r,t),r.forEach(_),this.h()},h(){e.__value=s[24],R(e,e.__value)},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&_(e)}}}function At(s){let e,t=s[24]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=y(e);n=pe(r,t),r.forEach(_),this.h()},h(){e.__value=s[24],R(e,e.__value)},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&_(e)}}}function Bt(s,e){let t,n,l,r,u,o,c,b,f,g,d,h,k,m,C,T='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',L,E,O,w=be,B,N,D;function M(){e[16].call(l,e[22],e[23])}function q(){e[17].call(o,e[22],e[23])}function Y(){e[18].call(f,e[22],e[23])}function ne(){e[19].call(h,e[22],e[23])}function ke(){return e[20](e[21])}return{key:s,first:null,c(){t=p("tr"),n=p("td"),l=p("input"),r=S(),u=p("td"),o=p("input"),c=S(),b=p("td"),f=p("input"),g=S(),d=p("td"),h=p("textarea"),k=S(),m=p("td"),C=p("button"),C.innerHTML=T,L=S(),this.h()},l(V){t=v(V,"TR",{});var A=y(t);n=v(A,"TD",{class:!0});var oe=y(n);l=v(oe,"INPUT",{type:!0,class:!0}),oe.forEach(_),r=I(A),u=v(A,"TD",{class:!0});var Z=y(u);o=v(Z,"INPUT",{type:!0,placeholder:!0,class:!0}),Z.forEach(_),c=I(A),b=v(A,"TD",{class:!0});var J=y(b);f=v(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(_),g=I(A),d=v(A,"TD",{class:!0});var re=y(d);h=v(re,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),y(h).forEach(_),re.forEach(_),k=I(A),m=v(A,"TD",{class:!0});var z=y(m);C=v(z,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(C)!=="svelte-zfon6j"&&(C.innerHTML=T),z.forEach(_),L=I(A),A.forEach(_),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-q54vbl"),a(n,"class","checkbox-col svelte-q54vbl"),a(o,"type","text"),a(o,"placeholder","e.g. Blue"),a(o,"class","svelte-q54vbl"),a(u,"class","svelte-q54vbl"),a(f,"type","text"),a(f,"placeholder","e.g. 6b+"),a(f,"class","svelte-q54vbl"),a(b,"class","svelte-q54vbl"),a(h,"placeholder","e.g. Smooth"),a(h,"rows","1"),a(h,"class","svelte-q54vbl"),a(d,"class","svelte-q54vbl"),a(C,"class","delete-btn svelte-q54vbl"),a(C,"title","Remove row"),a(m,"class","actions-col svelte-q54vbl"),this.first=t},m(V,A){G(V,t,A),i(t,n),i(n,l),l.checked=e[21].isRopes,i(t,r),i(t,u),i(u,o),R(o,e[21].name),i(t,c),i(t,b),i(b,f),R(f,e[21].grade),i(t,g),i(t,d),i(d,h),R(h,e[21].notes),i(t,k),i(t,m),i(m,C),i(t,L),B=!0,N||(D=[K(l,"change",M),K(o,"input",q),K(f,"input",Y),K(h,"input",ne),K(C,"click",ke)],N=!0)},p(V,A){e=V,A&32&&(l.checked=e[21].isRopes),A&32&&o.value!==e[21].name&&R(o,e[21].name),A&32&&f.value!==e[21].grade&&R(f,e[21].grade),A&32&&R(h,e[21].notes)},r(){O=t.getBoundingClientRect()},f(){Al(t),w(),Et(t,O)},a(){w(),w=Nl(t,O,Ml,{duration:300})},i(V){B||(E&&E.end(1),B=!0)},o(V){V&&(E=Sl(t,ot,{duration:200})),B=!1},d(V){V&&_(t),V&&E&&E.end(),N=!1,Je(D)}}}function nn(s){let e,t,n,l,r="Location",u,o,c,b="Select Location",f,g,d,h="Session Focus",k,m,C,T="Select Focus",L,E,O,w,B="Finger Load (0-5)",N,D,M,q,Y,ne="Shoulder Load (0-5)",ke,V,A,oe,Z,J="Forearm Load (0-5)",re,z,we,ie,ue,$,Pe="Exercises / Routes",ce,ve,he=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,Le,se,ee,F,Te='<tr><th class="checkbox-col svelte-q54vbl">Ropes?</th> <th class="svelte-q54vbl">Route</th> <th class="svelte-q54vbl">Grade</th> <th class="svelte-q54vbl">Notes</th> <th class="actions-col svelte-q54vbl"></th></tr>',ae,U,H=[],W=new Map,ge,Ie,fe,Ue,Se=de(s[6]),me=[];for(let P=0;P<Se.length;P+=1)me[P]=Nt(Ot(s,Se,P));let Me=de(s[7]),ye=[];for(let P=0;P<Me.length;P+=1)ye[P]=At(St(s,Me,P));let Re=de(s[5]);const Ee=P=>P[21].id;for(let P=0;P<Re.length;P+=1){let X=It(s,Re,P),x=Ee(X);W.set(x,H[P]=Bt(x,X))}return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=r,u=S(),o=p("select"),c=p("option"),c.textContent=b;for(let P=0;P<me.length;P+=1)me[P].c();f=S(),g=p("div"),d=p("label"),d.textContent=h,k=S(),m=p("select"),C=p("option"),C.textContent=T;for(let P=0;P<ye.length;P+=1)ye[P].c();L=S(),E=p("div"),O=p("div"),w=p("label"),w.textContent=B,N=S(),D=p("input"),M=S(),q=p("div"),Y=p("label"),Y.textContent=ne,ke=S(),V=p("input"),A=S(),oe=p("div"),Z=p("label"),Z.textContent=J,re=S(),z=p("input"),we=S(),ie=p("div"),ue=p("div"),$=p("h3"),$.textContent=Pe,ce=S(),ve=p("button"),ve.innerHTML=he,Le=S(),se=p("div"),ee=p("table"),F=p("thead"),F.innerHTML=Te,ae=S(),U=p("tbody");for(let P=0;P<H.length;P+=1)H[P].c();this.h()},l(P){e=v(P,"DIV",{class:!0});var X=y(e);t=v(X,"DIV",{class:!0});var x=y(t);n=v(x,"DIV",{class:!0});var Oe=y(n);l=v(Oe,"LABEL",{for:!0,"data-svelte-h":!0}),j(l)!=="svelte-1ij7h26"&&(l.textContent=r),u=I(Oe),o=v(Oe,"SELECT",{id:!0,class:!0});var $e=y(o);c=v($e,"OPTION",{"data-svelte-h":!0}),j(c)!=="svelte-mwu9va"&&(c.textContent=b);for(let He=0;He<me.length;He+=1)me[He].l($e);$e.forEach(_),Oe.forEach(_),f=I(x),g=v(x,"DIV",{class:!0});var rt=y(g);d=v(rt,"LABEL",{for:!0,"data-svelte-h":!0}),j(d)!=="svelte-tg5qne"&&(d.textContent=h),k=I(rt),m=v(rt,"SELECT",{id:!0,class:!0});var Q=y(m);C=v(Q,"OPTION",{"data-svelte-h":!0}),j(C)!=="svelte-1ni71k3"&&(C.textContent=T);for(let He=0;He<ye.length;He+=1)ye[He].l(Q);Q.forEach(_),rt.forEach(_),x.forEach(_),L=I(X),E=v(X,"DIV",{class:!0});var le=y(E);O=v(le,"DIV",{class:!0});var te=y(O);w=v(te,"LABEL",{for:!0,"data-svelte-h":!0}),j(w)!=="svelte-oda77g"&&(w.textContent=B),N=I(te),D=v(te,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),te.forEach(_),M=I(le),q=v(le,"DIV",{class:!0});var Fe=y(q);Y=v(Fe,"LABEL",{for:!0,"data-svelte-h":!0}),j(Y)!=="svelte-1vtbxrq"&&(Y.textContent=ne),ke=I(Fe),V=v(Fe,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Fe.forEach(_),A=I(le),oe=v(le,"DIV",{class:!0});var st=y(oe);Z=v(st,"LABEL",{for:!0,"data-svelte-h":!0}),j(Z)!=="svelte-198js8s"&&(Z.textContent=J),re=I(st),z=v(st,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),st.forEach(_),le.forEach(_),we=I(X),ie=v(X,"DIV",{class:!0});var et=y(ie);ue=v(et,"DIV",{class:!0});var tt=y(ue);$=v(tt,"H3",{class:!0,"data-svelte-h":!0}),j($)!=="svelte-10xktbo"&&($.textContent=Pe),ce=I(tt),ve=v(tt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(ve)!=="svelte-psf54d"&&(ve.innerHTML=he),tt.forEach(_),Le=I(et),se=v(et,"DIV",{class:!0});var lt=y(se);ee=v(lt,"TABLE",{class:!0});var nt=y(ee);F=v(nt,"THEAD",{"data-svelte-h":!0}),j(F)!=="svelte-3ucy7b"&&(F.innerHTML=Te),ae=I(nt),U=v(nt,"TBODY",{});var at=y(U);for(let He=0;He<H.length;He+=1)H[He].l(at);at.forEach(_),nt.forEach(_),lt.forEach(_),et.forEach(_),X.forEach(_),this.h()},h(){a(l,"for","climb-location"),c.__value="",R(c,c.__value),c.disabled=!0,c.selected=!0,a(o,"id","climb-location"),a(o,"class","svelte-q54vbl"),s[0]===void 0&&De(()=>s[11].call(o)),a(n,"class","input-group"),a(d,"for","climb-session"),C.__value="",R(C,C.__value),C.disabled=!0,C.selected=!0,a(m,"id","climb-session"),a(m,"class","svelte-q54vbl"),s[1]===void 0&&De(()=>s[12].call(m)),a(g,"class","input-group"),a(t,"class","form-grid svelte-q54vbl"),a(w,"for","finger-load"),a(D,"id","finger-load"),a(D,"type","number"),a(D,"min","0"),a(D,"max","5"),a(D,"class","svelte-q54vbl"),a(O,"class","load-group svelte-q54vbl"),a(Y,"for","shoulder-load"),a(V,"id","shoulder-load"),a(V,"type","number"),a(V,"min","0"),a(V,"max","5"),a(V,"class","svelte-q54vbl"),a(q,"class","load-group svelte-q54vbl"),a(Z,"for","forearm-load"),a(z,"id","forearm-load"),a(z,"type","number"),a(z,"min","0"),a(z,"max","5"),a(z,"class","svelte-q54vbl"),a(oe,"class","load-group svelte-q54vbl"),a(E,"class","load-metrics svelte-q54vbl"),a($,"class","svelte-q54vbl"),a(ve,"class","add-row-btn svelte-q54vbl"),a(ve,"title","Add Exercise"),a(ue,"class","section-header svelte-q54vbl"),a(ee,"class","svelte-q54vbl"),a(se,"class","table-container svelte-q54vbl"),a(ie,"class","exercise-section svelte-q54vbl"),a(e,"class","indoor-config svelte-q54vbl")},m(P,X){G(P,e,X),i(e,t),i(t,n),i(n,l),i(n,u),i(n,o),i(o,c);for(let x=0;x<me.length;x+=1)me[x]&&me[x].m(o,null);Ne(o,s[0],!0),i(t,f),i(t,g),i(g,d),i(g,k),i(g,m),i(m,C);for(let x=0;x<ye.length;x+=1)ye[x]&&ye[x].m(m,null);Ne(m,s[1],!0),i(e,L),i(e,E),i(E,O),i(O,w),i(O,N),i(O,D),R(D,s[2]),i(E,M),i(E,q),i(q,Y),i(q,ke),i(q,V),R(V,s[3]),i(E,A),i(E,oe),i(oe,Z),i(oe,re),i(oe,z),R(z,s[4]),i(e,we),i(e,ie),i(ie,ue),i(ue,$),i(ue,ce),i(ue,ve),i(ie,Le),i(ie,se),i(se,ee),i(ee,F),i(ee,ae),i(ee,U);for(let x=0;x<H.length;x+=1)H[x]&&H[x].m(U,null);Ie=!0,fe||(Ue=[K(o,"change",s[11]),K(m,"change",s[12]),K(D,"input",s[13]),K(V,"input",s[14]),K(z,"input",s[15]),K(ve,"click",s[8])],fe=!0)},p(P,[X]){if(X&64){Se=de(P[6]);let x;for(x=0;x<Se.length;x+=1){const Oe=Ot(P,Se,x);me[x]?me[x].p(Oe,X):(me[x]=Nt(Oe),me[x].c(),me[x].m(o,null))}for(;x<me.length;x+=1)me[x].d(1);me.length=Se.length}if(X&65&&Ne(o,P[0]),X&128){Me=de(P[7]);let x;for(x=0;x<Me.length;x+=1){const Oe=St(P,Me,x);ye[x]?ye[x].p(Oe,X):(ye[x]=At(Oe),ye[x].c(),ye[x].m(m,null))}for(;x<ye.length;x+=1)ye[x].d(1);ye.length=Me.length}if(X&130&&Ne(m,P[1]),X&4&&Be(D.value)!==P[2]&&R(D,P[2]),X&8&&Be(V.value)!==P[3]&&R(V,P[3]),X&16&&Be(z.value)!==P[4]&&R(z,P[4]),X&544){Re=de(P[5]),xe();for(let x=0;x<H.length;x+=1)H[x].r();H=kt(H,X,Ee,1,P,Re,W,U,Vl,Bt,null,It);for(let x=0;x<H.length;x+=1)H[x].a();Ke()}},i(P){if(!Ie){for(let X=0;X<Re.length;X+=1)Ce(H[X]);P&&(ge||De(()=>{ge=Ge(e,qe,{}),ge.start()})),Ie=!0}},o(P){for(let X=0;X<H.length;X+=1)Ae(H[X]);Ie=!1},d(P){P&&_(e),je(me,P),je(ye,P);for(let X=0;X<H.length;X+=1)H[X].d();fe=!1,Je(Ue)}}}function sn(s,e,t){let n="",l="",r=0,u=0,o=0,c=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];const b=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],f=["Strength","Endurance","Power","Recovery"];function g(){t(5,c=[...c,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function d(D){c.length>1?t(5,c=c.filter(M=>M.id!==D)):t(5,c=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function h(){return{location:n,session:l,fingerLoad:r,shoulderLoad:u,forearmLoad:o,exercises:c}}function k(){n=We(this),t(0,n),t(6,b)}function m(){l=We(this),t(1,l),t(7,f)}function C(){r=Be(this.value),t(2,r)}function T(){u=Be(this.value),t(3,u)}function L(){o=Be(this.value),t(4,o)}function E(D,M){D[M].isRopes=this.checked,t(5,c)}function O(D,M){D[M].name=this.value,t(5,c)}function w(D,M){D[M].grade=this.value,t(5,c)}function B(D,M){D[M].notes=this.value,t(5,c)}return[n,l,r,u,o,c,b,f,g,d,h,k,m,C,T,L,E,O,w,B,D=>d(D.id)]}class on extends Xe{constructor(e){super(),Ze(this,e,sn,nn,Qe,{getData:10})}get getData(){return this.$$.ctx[10]}}function rn(s){let e,t=`<h3 class="svelte-fh7bet">Gym Session Config</h3> <p class="svelte-fh7bet">Specific fields for gym sessions will go here (e.g., Focus, Exercises,
        Sets/Reps).</p> <div class="placeholder-box svelte-fh7bet"></div>`,n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-gs8whu"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,r){G(l,e,r)},p:be,i(l){l&&(n||De(()=>{n=Ge(e,qe,{}),n.start()}))},o:be,d(l){l&&_(e)}}}let an="",cn="";function un(s,e,t){let n=[];function l(){return{location:an,session:cn,exercises:n,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class hn extends Xe{constructor(e){super(),Ze(this,e,un,rn,Qe,{getData:0})}get getData(){return this.$$.ctx[0]}}function Vt(s,e,t){const n=s.slice();return n[30]=e[t],n[31]=e,n[32]=t,n}function Pt(s,e,t){const n=s.slice();return n[33]=e[t],n}function Mt(s,e,t){const n=s.slice();return n[36]=e[t],n}function Rt(s){let e,t=s[36]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=y(e);n=pe(r,t),r.forEach(_),this.h()},h(){e.__value=s[36],R(e,e.__value)},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&_(e)}}}function Ut(s){let e,t,n,l,r,u;return{c(){e=p("div"),t=p("input"),this.h()},l(o){e=v(o,"DIV",{});var c=y(e);t=v(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(_),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Area..."),a(t,"class","custom-input svelte-131k8df")},m(o,c){G(o,e,c),i(e,t),R(t,s[1]),l=!0,r||(u=K(t,"input",s[16]),r=!0)},p(o,c){c[0]&2&&t.value!==o[1]&&R(t,o[1])},i(o){l||(o&&De(()=>{l&&(n||(n=Ye(e,ot,{},!0)),n.run(1))}),l=!0)},o(o){o&&(n||(n=Ye(e,ot,{},!1)),n.run(0)),l=!1},d(o){o&&_(e),o&&n&&n.end(),r=!1,u()}}}function fn(s){let e,t,n,l,r;return{c(){e=p("input"),this.h()},l(u){e=v(u,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","climb-crag"),a(e,"type","text"),a(e,"placeholder",t=s[0]==="Other"?"Enter Crag Name":"Select area first..."),e.disabled=n=!s[0],a(e,"class","svelte-131k8df")},m(u,o){G(u,e,o),R(e,s[2]),l||(r=K(e,"input",s[19]),l=!0)},p(u,o){o[0]&1025&&t!==(t=u[0]==="Other"?"Enter Crag Name":"Select area first...")&&a(e,"placeholder",t),o[0]&1025&&n!==(n=!u[0])&&(e.disabled=n),o[0]&516&&e.value!==u[2]&&R(e,u[2])},d(u){u&&_(e),l=!1,r()}}}function dn(s){let e,t,n="Select Crag",l,r="Other (Custom)",u,o,c,b,f=de(s[9]),g=[];for(let h=0;h<f.length;h+=1)g[h]=Ht(Pt(s,f,h));let d=s[2]==="Other"&&qt(s);return{c(){e=p("select"),t=p("option"),t.textContent=n;for(let h=0;h<g.length;h+=1)g[h].c();l=p("option"),l.textContent=r,u=S(),d&&d.c(),o=mt(),this.h()},l(h){e=v(h,"SELECT",{id:!0,class:!0});var k=y(e);t=v(k,"OPTION",{"data-svelte-h":!0}),j(t)!=="svelte-1bf8330"&&(t.textContent=n);for(let m=0;m<g.length;m+=1)g[m].l(k);l=v(k,"OPTION",{"data-svelte-h":!0}),j(l)!=="svelte-1ws39oy"&&(l.textContent=r),k.forEach(_),u=I(h),d&&d.l(h),o=mt(),this.h()},h(){t.__value="",R(t,t.__value),t.disabled=!0,t.selected=!0,l.__value="Other",R(l,l.__value),a(e,"id","climb-crag"),a(e,"class","svelte-131k8df"),s[2]===void 0&&De(()=>s[17].call(e))},m(h,k){G(h,e,k),i(e,t);for(let m=0;m<g.length;m+=1)g[m]&&g[m].m(e,null);i(e,l),Ne(e,s[2],!0),G(h,u,k),d&&d.m(h,k),G(h,o,k),c||(b=K(e,"change",s[17]),c=!0)},p(h,k){if(k[0]&512){f=de(h[9]);let m;for(m=0;m<f.length;m+=1){const C=Pt(h,f,m);g[m]?g[m].p(C,k):(g[m]=Ht(C),g[m].c(),g[m].m(e,l))}for(;m<g.length;m+=1)g[m].d(1);g.length=f.length}k[0]&516&&Ne(e,h[2]),h[2]==="Other"?d?(d.p(h,k),k[0]&4&&Ce(d,1)):(d=qt(h),d.c(),Ce(d,1),d.m(o.parentNode,o)):d&&(xe(),Ae(d,1,1,()=>{d=null}),Ke())},d(h){h&&(_(e),_(u),_(o)),je(g,h),d&&d.d(h),c=!1,b()}}}function Ht(s){let e,t=s[33]+"",n,l;return{c(){e=p("option"),n=_e(t),this.h()},l(r){e=v(r,"OPTION",{});var u=y(e);n=pe(u,t),u.forEach(_),this.h()},h(){e.__value=l=s[33],R(e,e.__value)},m(r,u){G(r,e,u),i(e,n)},p(r,u){u[0]&512&&t!==(t=r[33]+"")&&Ve(n,t),u[0]&512&&l!==(l=r[33])&&(e.__value=l,R(e,e.__value))},d(r){r&&_(e)}}}function qt(s){let e,t,n,l,r,u;return{c(){e=p("div"),t=p("input"),this.h()},l(o){e=v(o,"DIV",{});var c=y(e);t=v(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(_),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Crag..."),a(t,"class","custom-input svelte-131k8df")},m(o,c){G(o,e,c),i(e,t),R(t,s[3]),l=!0,r||(u=K(t,"input",s[18]),r=!0)},p(o,c){c[0]&8&&t.value!==o[3]&&R(t,o[3])},i(o){l||(o&&De(()=>{l&&(n||(n=Ye(e,ot,{},!0)),n.run(1))}),l=!0)},o(o){o&&(n||(n=Ye(e,ot,{},!1)),n.run(0)),l=!1},d(o){o&&_(e),o&&n&&n.end(),r=!1,u()}}}function Ft(s,e){let t,n,l,r,u,o,c,b,f,g,d,h,k,m,C,T='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',L,E,O,w=be,B,N,D;function M(){e[24].call(l,e[31],e[32])}function q(){e[25].call(o,e[31],e[32])}function Y(){e[26].call(f,e[31],e[32])}function ne(){e[27].call(h,e[31],e[32])}function ke(){return e[28](e[30])}return{key:s,first:null,c(){t=p("tr"),n=p("td"),l=p("input"),r=S(),u=p("td"),o=p("input"),c=S(),b=p("td"),f=p("input"),g=S(),d=p("td"),h=p("textarea"),k=S(),m=p("td"),C=p("button"),C.innerHTML=T,L=S(),this.h()},l(V){t=v(V,"TR",{});var A=y(t);n=v(A,"TD",{class:!0});var oe=y(n);l=v(oe,"INPUT",{type:!0,class:!0}),oe.forEach(_),r=I(A),u=v(A,"TD",{class:!0});var Z=y(u);o=v(Z,"INPUT",{type:!0,placeholder:!0,class:!0}),Z.forEach(_),c=I(A),b=v(A,"TD",{class:!0});var J=y(b);f=v(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(_),g=I(A),d=v(A,"TD",{class:!0});var re=y(d);h=v(re,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),y(h).forEach(_),re.forEach(_),k=I(A),m=v(A,"TD",{class:!0});var z=y(m);C=v(z,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(C)!=="svelte-zfon6j"&&(C.innerHTML=T),z.forEach(_),L=I(A),A.forEach(_),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-131k8df"),a(n,"class","checkbox-col svelte-131k8df"),a(o,"type","text"),a(o,"placeholder","e.g. Deliverance"),a(o,"class","svelte-131k8df"),a(u,"class","svelte-131k8df"),a(f,"type","text"),a(f,"placeholder","e.g. 7a+"),a(f,"class","svelte-131k8df"),a(b,"class","svelte-131k8df"),a(h,"placeholder","e.g. 2nd go"),a(h,"rows","1"),a(h,"class","svelte-131k8df"),a(d,"class","svelte-131k8df"),a(C,"class","delete-btn svelte-131k8df"),a(C,"title","Remove row"),a(m,"class","actions-col svelte-131k8df"),this.first=t},m(V,A){G(V,t,A),i(t,n),i(n,l),l.checked=e[30].isRopes,i(t,r),i(t,u),i(u,o),R(o,e[30].name),i(t,c),i(t,b),i(b,f),R(f,e[30].grade),i(t,g),i(t,d),i(d,h),R(h,e[30].notes),i(t,k),i(t,m),i(m,C),i(t,L),B=!0,N||(D=[K(l,"change",M),K(o,"input",q),K(f,"input",Y),K(h,"input",ne),K(C,"click",ke)],N=!0)},p(V,A){e=V,A[0]&256&&(l.checked=e[30].isRopes),A[0]&256&&o.value!==e[30].name&&R(o,e[30].name),A[0]&256&&f.value!==e[30].grade&&R(f,e[30].grade),A[0]&256&&R(h,e[30].notes)},r(){O=t.getBoundingClientRect()},f(){Al(t),w(),Et(t,O)},a(){w(),w=Nl(t,O,Ml,{duration:300})},i(V){B||(E&&E.end(1),B=!0)},o(V){V&&(E=Sl(t,ot,{duration:200})),B=!1},d(V){V&&_(t),V&&E&&E.end(),N=!1,Je(D)}}}function vn(s){let e,t,n,l,r="Area",u,o,c,b="Select Area",f,g,d,h,k="Crag",m,C,T,L,E="Wall / Sector",O,w,B,N,D,M,q="Finger Load (0-5)",Y,ne,ke,V,A,oe="Shoulder Load (0-5)",Z,J,re,z,we,ie="Forearm Load (0-5)",ue,$,Pe,ce,ve,he,Le="Routes / Problems",se,ee,F=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,Te,ae,U,H,W='<tr><th class="checkbox-col svelte-131k8df">Ropes?</th> <th class="svelte-131k8df">Route/Problem</th> <th class="svelte-131k8df">Grade</th> <th class="svelte-131k8df">Notes</th> <th class="actions-col svelte-131k8df"></th></tr>',ge,Ie,fe=[],Ue=new Map,Se,me,Me,ye,Re=de(s[10]),Ee=[];for(let Q=0;Q<Re.length;Q+=1)Ee[Q]=Rt(Mt(s,Re,Q));let P=s[0]==="Other"&&Ut(s);function X(Q,le){return Q[0]&&Q[0]!=="Other"?dn:fn}let x=X(s),Oe=x(s),$e=de(s[8]);const rt=Q=>Q[30].id;for(let Q=0;Q<$e.length;Q+=1){let le=Vt(s,$e,Q),te=rt(le);Ue.set(te,fe[Q]=Ft(te,le))}return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=r,u=S(),o=p("select"),c=p("option"),c.textContent=b;for(let Q=0;Q<Ee.length;Q+=1)Ee[Q].c();f=S(),P&&P.c(),g=S(),d=p("div"),h=p("label"),h.textContent=k,m=S(),Oe.c(),C=S(),T=p("div"),L=p("label"),L.textContent=E,O=S(),w=p("input"),B=S(),N=p("div"),D=p("div"),M=p("label"),M.textContent=q,Y=S(),ne=p("input"),ke=S(),V=p("div"),A=p("label"),A.textContent=oe,Z=S(),J=p("input"),re=S(),z=p("div"),we=p("label"),we.textContent=ie,ue=S(),$=p("input"),Pe=S(),ce=p("div"),ve=p("div"),he=p("h3"),he.textContent=Le,se=S(),ee=p("button"),ee.innerHTML=F,Te=S(),ae=p("div"),U=p("table"),H=p("thead"),H.innerHTML=W,ge=S(),Ie=p("tbody");for(let Q=0;Q<fe.length;Q+=1)fe[Q].c();this.h()},l(Q){e=v(Q,"DIV",{class:!0});var le=y(e);t=v(le,"DIV",{class:!0});var te=y(t);n=v(te,"DIV",{class:!0});var Fe=y(n);l=v(Fe,"LABEL",{for:!0,"data-svelte-h":!0}),j(l)!=="svelte-10bxq12"&&(l.textContent=r),u=I(Fe),o=v(Fe,"SELECT",{id:!0,class:!0});var st=y(o);c=v(st,"OPTION",{"data-svelte-h":!0}),j(c)!=="svelte-18hyx00"&&(c.textContent=b);for(let it=0;it<Ee.length;it+=1)Ee[it].l(st);st.forEach(_),f=I(Fe),P&&P.l(Fe),Fe.forEach(_),g=I(te),d=v(te,"DIV",{class:!0});var et=y(d);h=v(et,"LABEL",{for:!0,"data-svelte-h":!0}),j(h)!=="svelte-1d1q4si"&&(h.textContent=k),m=I(et),Oe.l(et),et.forEach(_),C=I(te),T=v(te,"DIV",{class:!0});var tt=y(T);L=v(tt,"LABEL",{for:!0,"data-svelte-h":!0}),j(L)!=="svelte-2wtmd"&&(L.textContent=E),O=I(tt),w=v(tt,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),tt.forEach(_),te.forEach(_),B=I(le),N=v(le,"DIV",{class:!0});var lt=y(N);D=v(lt,"DIV",{class:!0});var nt=y(D);M=v(nt,"LABEL",{for:!0,"data-svelte-h":!0}),j(M)!=="svelte-oda77g"&&(M.textContent=q),Y=I(nt),ne=v(nt,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),nt.forEach(_),ke=I(lt),V=v(lt,"DIV",{class:!0});var at=y(V);A=v(at,"LABEL",{for:!0,"data-svelte-h":!0}),j(A)!=="svelte-1vtbxrq"&&(A.textContent=oe),Z=I(at),J=v(at,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),at.forEach(_),re=I(lt),z=v(lt,"DIV",{class:!0});var He=y(z);we=v(He,"LABEL",{for:!0,"data-svelte-h":!0}),j(we)!=="svelte-198js8s"&&(we.textContent=ie),ue=I(He),$=v(He,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),He.forEach(_),lt.forEach(_),Pe=I(le),ce=v(le,"DIV",{class:!0});var pt=y(ce);ve=v(pt,"DIV",{class:!0});var _t=y(ve);he=v(_t,"H3",{class:!0,"data-svelte-h":!0}),j(he)!=="svelte-mxpai9"&&(he.textContent=Le),se=I(_t),ee=v(_t,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(ee)!=="svelte-uzzlti"&&(ee.innerHTML=F),_t.forEach(_),Te=I(pt),ae=v(pt,"DIV",{class:!0});var Tt=y(ae);U=v(Tt,"TABLE",{class:!0});var gt=y(U);H=v(gt,"THEAD",{"data-svelte-h":!0}),j(H)!=="svelte-10zj92r"&&(H.innerHTML=W),ge=I(gt),Ie=v(gt,"TBODY",{});var Dt=y(Ie);for(let it=0;it<fe.length;it+=1)fe[it].l(Dt);Dt.forEach(_),gt.forEach(_),Tt.forEach(_),pt.forEach(_),le.forEach(_),this.h()},h(){a(l,"for","climb-area"),c.__value="",R(c,c.__value),c.disabled=!0,c.selected=!0,a(o,"id","climb-area"),a(o,"class","svelte-131k8df"),s[0]===void 0&&De(()=>s[15].call(o)),a(n,"class","input-group"),a(h,"for","climb-crag"),a(d,"class","input-group"),a(L,"for","climb-wall"),a(w,"id","climb-wall"),a(w,"type","text"),a(w,"placeholder","e.g. Popular End"),a(w,"class","svelte-131k8df"),a(T,"class","input-group"),a(t,"class","form-grid svelte-131k8df"),a(M,"for","finger-load"),a(ne,"id","finger-load"),a(ne,"type","number"),a(ne,"min","0"),a(ne,"max","5"),a(ne,"class","svelte-131k8df"),a(D,"class","load-group svelte-131k8df"),a(A,"for","shoulder-load"),a(J,"id","shoulder-load"),a(J,"type","number"),a(J,"min","0"),a(J,"max","5"),a(J,"class","svelte-131k8df"),a(V,"class","load-group svelte-131k8df"),a(we,"for","forearm-load"),a($,"id","forearm-load"),a($,"type","number"),a($,"min","0"),a($,"max","5"),a($,"class","svelte-131k8df"),a(z,"class","load-group svelte-131k8df"),a(N,"class","load-metrics svelte-131k8df"),a(he,"class","svelte-131k8df"),a(ee,"class","add-row-btn svelte-131k8df"),a(ee,"title","Add Route"),a(ve,"class","section-header svelte-131k8df"),a(U,"class","svelte-131k8df"),a(ae,"class","table-container svelte-131k8df"),a(ce,"class","exercise-section svelte-131k8df"),a(e,"class","outdoor-config svelte-131k8df")},m(Q,le){G(Q,e,le),i(e,t),i(t,n),i(n,l),i(n,u),i(n,o),i(o,c);for(let te=0;te<Ee.length;te+=1)Ee[te]&&Ee[te].m(o,null);Ne(o,s[0],!0),i(n,f),P&&P.m(n,null),i(t,g),i(t,d),i(d,h),i(d,m),Oe.m(d,null),i(t,C),i(t,T),i(T,L),i(T,O),i(T,w),R(w,s[4]),i(e,B),i(e,N),i(N,D),i(D,M),i(D,Y),i(D,ne),R(ne,s[5]),i(N,ke),i(N,V),i(V,A),i(V,Z),i(V,J),R(J,s[6]),i(N,re),i(N,z),i(z,we),i(z,ue),i(z,$),R($,s[7]),i(e,Pe),i(e,ce),i(ce,ve),i(ve,he),i(ve,se),i(ve,ee),i(ce,Te),i(ce,ae),i(ae,U),i(U,H),i(U,ge),i(U,Ie);for(let te=0;te<fe.length;te+=1)fe[te]&&fe[te].m(Ie,null);me=!0,Me||(ye=[K(o,"change",s[15]),K(o,"change",s[11]),K(w,"input",s[20]),K(ne,"input",s[21]),K(J,"input",s[22]),K($,"input",s[23]),K(ee,"click",s[12])],Me=!0)},p(Q,le){if(le[0]&1024){Re=de(Q[10]);let te;for(te=0;te<Re.length;te+=1){const Fe=Mt(Q,Re,te);Ee[te]?Ee[te].p(Fe,le):(Ee[te]=Rt(Fe),Ee[te].c(),Ee[te].m(o,null))}for(;te<Ee.length;te+=1)Ee[te].d(1);Ee.length=Re.length}if(le[0]&1025&&Ne(o,Q[0]),Q[0]==="Other"?P?(P.p(Q,le),le[0]&1&&Ce(P,1)):(P=Ut(Q),P.c(),Ce(P,1),P.m(n,null)):P&&(xe(),Ae(P,1,1,()=>{P=null}),Ke()),x===(x=X(Q))&&Oe?Oe.p(Q,le):(Oe.d(1),Oe=x(Q),Oe&&(Oe.c(),Oe.m(d,null))),le[0]&16&&w.value!==Q[4]&&R(w,Q[4]),le[0]&32&&Be(ne.value)!==Q[5]&&R(ne,Q[5]),le[0]&64&&Be(J.value)!==Q[6]&&R(J,Q[6]),le[0]&128&&Be($.value)!==Q[7]&&R($,Q[7]),le[0]&8448){$e=de(Q[8]),xe();for(let te=0;te<fe.length;te+=1)fe[te].r();fe=kt(fe,le,rt,1,Q,$e,Ue,Ie,Vl,Ft,null,Vt);for(let te=0;te<fe.length;te+=1)fe[te].a();Ke()}},i(Q){if(!me){Ce(P);for(let le=0;le<$e.length;le+=1)Ce(fe[le]);Q&&(Se||De(()=>{Se=Ge(e,qe,{}),Se.start()})),me=!0}},o(Q){Ae(P);for(let le=0;le<fe.length;le+=1)Ae(fe[le]);me=!1},d(Q){Q&&_(e),je(Ee,Q),P&&P.d(),Oe.d();for(let le=0;le<fe.length;le+=1)fe[le].d();Me=!1,Je(ye)}}}function pn(s,e,t){let n,l="",r="",u="",o="",c="",b=0,f=0,g=0;const d=["Portland","Swanage","Bristol","Costa Del Severn","Cotswolds","Mendips","Wye Valley","Gower","South Wales","North Wales","Peak District","Devon","Fontainebleau","Switzerland","Other"],h={Portland:["Blacknor Far North","Blacknor North","Blacknor Central","Blacknor South","Blacknor Far South","Battleship Edge","Battleship Back Cliff","Wallsend North","Wallsend South","Coastguard North","Coastguard South","Godnor","Neddyfields","Cheyne Cliff","The Cuttings","The New Cuttings","The Cuttings Boulderfield"],Swanage:["Dancing Ledge","Hedbury","Winspit"],"Wye Valley":["Ban-y-Gor","Biblins Cave","Woodcroft Quarry","Wyndcliff Quarry"],"Costa Del Severn":["Brean","Clevedon","Portishead Quarry"],Bristol:["Avon Gorge","Leigh Woods","Bickley Wood","Hambrook"],Cotswolds:["Sally-in-the-Wood","Browns Folly"],Mendips:["Cheddar Gorge"],Gower:["Rhossili","Trial Wall Area","Foxhole"],"South Wales":["Dinas Rock","Ogmore"],"North Wales":["Cromlech","Australia"],"Peak District":["Burbage South Valley","Gardoms Edge","Raven Tor","Stanage","Curbar Edge"],Devon:["Dartmoor","Hartland","Tintagel"],Fontainebleau:["Bas Cuvier","Apremont","Franchard Isatis","Roche aux Sabots","Cul de Chien","Elephant"],Switzerland:["Magic Wood","Chironico","Cresciano","Brione","San Carlo"]};function k(){t(2,u=""),t(3,o="")}let m=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];function C(){t(8,m=[...m,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function T(Z){m.length>1?t(8,m=m.filter(J=>J.id!==Z)):t(8,m=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function L(){return{location:{area:l==="Other"?r:l,crag:u==="Other"?o:u,wall:c},session:"Outdoor",fingerLoad:b,shoulderLoad:f,forearmLoad:g,exercises:m}}function E(){l=We(this),t(0,l),t(10,d)}function O(){r=this.value,t(1,r)}function w(){u=We(this),t(2,u),t(9,n),t(0,l)}function B(){o=this.value,t(3,o)}function N(){u=this.value,t(2,u),t(9,n),t(0,l)}function D(){c=this.value,t(4,c)}function M(){b=Be(this.value),t(5,b)}function q(){f=Be(this.value),t(6,f)}function Y(){g=Be(this.value),t(7,g)}function ne(Z,J){Z[J].isRopes=this.checked,t(8,m)}function ke(Z,J){Z[J].name=this.value,t(8,m)}function V(Z,J){Z[J].grade=this.value,t(8,m)}function A(Z,J){Z[J].notes=this.value,t(8,m)}const oe=Z=>T(Z.id);return s.$$.update=()=>{s.$$.dirty[0]&1&&t(9,n=h[l]||[])},[l,r,u,o,c,b,f,g,m,n,d,k,C,T,L,E,O,w,B,N,D,M,q,Y,ne,ke,V,A,oe]}class _n extends Xe{constructor(e){super(),Ze(this,e,pn,vn,Qe,{getData:14},null,[-1,-1])}get getData(){return this.$$.ctx[14]}}function gn(s){let e,t='<h3 class="svelte-fh7bet">Other Activity Config</h3> <p class="svelte-fh7bet">Generic fields for other activities will go here.</p> <div class="placeholder-box svelte-fh7bet"></div>',n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-kjirec"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,r){G(l,e,r)},p:be,i(l){l&&(n||De(()=>{n=Ge(e,qe,{}),n.start()}))},o:be,d(l){l&&_(e)}}}let mn="",bn="";function kn(s,e,t){let n=[];function l(){return{location:mn,session:bn,exercises:n,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class Cn extends Xe{constructor(e){super(),Ze(this,e,kn,gn,Qe,{getData:0})}get getData(){return this.$$.ctx[0]}}function jt(s,e,t){const n=s.slice();return n[18]=e[t],n[19]=e,n[20]=t,n}function zt(s,e,t){const n=s.slice();return n[21]=e[t],n}function Gt(s,e,t){const n=s.slice();return n[24]=e[t],n}function Wt(s){let e,t=s[24]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=y(e);n=pe(r,t),r.forEach(_),this.h()},h(){e.__value=s[24],R(e,e.__value)},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&_(e)}}}function xt(s){let e,t=s[21]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=y(e);n=pe(r,t),r.forEach(_),this.h()},h(){e.__value=s[21],R(e,e.__value)},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&_(e)}}}function Kt(s,e){let t,n,l,r,u,o,c,b,f,g,d,h,k,m,C,T,L,E,O="Ã—",w,B,N;function D(){e[12].call(l,e[19],e[20])}function M(){e[13].call(o,e[19],e[20])}function q(){e[14].call(f,e[19],e[20])}function Y(){e[15].call(h,e[19],e[20])}function ne(){e[16].call(C,e[19],e[20])}function ke(){return e[17](e[18])}return{key:s,first:null,c(){t=p("tr"),n=p("td"),l=p("input"),r=S(),u=p("td"),o=p("input"),c=S(),b=p("td"),f=p("input"),g=S(),d=p("td"),h=p("input"),k=S(),m=p("td"),C=p("input"),T=S(),L=p("td"),E=p("button"),E.textContent=O,w=S(),this.h()},l(V){t=v(V,"TR",{});var A=y(t);n=v(A,"TD",{class:!0});var oe=y(n);l=v(oe,"INPUT",{type:!0,placeholder:!0,class:!0}),oe.forEach(_),r=I(A),u=v(A,"TD",{class:!0});var Z=y(u);o=v(Z,"INPUT",{type:!0,placeholder:!0,class:!0}),Z.forEach(_),c=I(A),b=v(A,"TD",{class:!0});var J=y(b);f=v(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(_),g=I(A),d=v(A,"TD",{class:!0});var re=y(d);h=v(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(_),k=I(A),m=v(A,"TD",{class:!0});var z=y(m);C=v(z,"INPUT",{type:!0,placeholder:!0,class:!0}),z.forEach(_),T=I(A),L=v(A,"TD",{class:!0});var we=y(L);E=v(we,"BUTTON",{class:!0,"data-svelte-h":!0}),j(E)!=="svelte-rn69i5"&&(E.textContent=O),we.forEach(_),w=I(A),A.forEach(_),this.h()},h(){a(l,"type","text"),a(l,"placeholder","Hang"),a(l,"class","svelte-152m2bn"),a(n,"class","svelte-152m2bn"),a(o,"type","number"),a(o,"placeholder","0"),a(o,"class","svelte-152m2bn"),a(u,"class","svelte-152m2bn"),a(f,"type","number"),a(f,"placeholder","1"),a(f,"class","svelte-152m2bn"),a(b,"class","svelte-152m2bn"),a(h,"type","number"),a(h,"placeholder","1"),a(h,"class","svelte-152m2bn"),a(d,"class","svelte-152m2bn"),a(C,"type","text"),a(C,"placeholder","Notes"),a(C,"class","svelte-152m2bn"),a(m,"class","svelte-152m2bn"),a(E,"class","delete-btn svelte-152m2bn"),a(L,"class","actions-col svelte-152m2bn"),this.first=t},m(V,A){G(V,t,A),i(t,n),i(n,l),R(l,e[18].name),i(t,r),i(t,u),i(u,o),R(o,e[18].weight),i(t,c),i(t,b),i(b,f),R(f,e[18].sets),i(t,g),i(t,d),i(d,h),R(h,e[18].reps),i(t,k),i(t,m),i(m,C),R(C,e[18].notes),i(t,T),i(t,L),i(L,E),i(t,w),B||(N=[K(l,"input",D),K(o,"input",M),K(f,"input",q),K(h,"input",Y),K(C,"input",ne),K(E,"click",ke)],B=!0)},p(V,A){e=V,A&8&&l.value!==e[18].name&&R(l,e[18].name),A&8&&Be(o.value)!==e[18].weight&&R(o,e[18].weight),A&8&&Be(f.value)!==e[18].sets&&R(f,e[18].sets),A&8&&Be(h.value)!==e[18].reps&&R(h,e[18].reps),A&8&&C.value!==e[18].notes&&R(C,e[18].notes)},d(V){V&&_(t),B=!1,Je(N)}}}function yn(s){let e,t,n,l,r="Location",u,o,c,b="Select Location",f,g,d,h="Session Type",k,m,C,T="Select Session",L,E,O,w,B="Finger Load (0-5)",N,D,M,q,Y,ne,ke="Sets / Exercises",V,A,oe="Add Row",Z,J,re,z,we='<tr><th class="svelte-152m2bn">Exercise</th> <th class="svelte-152m2bn">Weight (+/-)</th> <th class="svelte-152m2bn">Sets</th> <th class="svelte-152m2bn">Reps</th> <th class="svelte-152m2bn">Notes</th> <th class="actions-col svelte-152m2bn"></th></tr>',ie,ue,$=[],Pe=new Map,ce,ve,he,Le=de(s[6]),se=[];for(let U=0;U<Le.length;U+=1)se[U]=Wt(Gt(s,Le,U));let ee=de(s[7]),F=[];for(let U=0;U<ee.length;U+=1)F[U]=xt(zt(s,ee,U));let Te=de(s[3]);const ae=U=>U[18].id;for(let U=0;U<Te.length;U+=1){let H=jt(s,Te,U),W=ae(H);Pe.set(W,$[U]=Kt(W,H))}return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=r,u=S(),o=p("select"),c=p("option"),c.textContent=b;for(let U=0;U<se.length;U+=1)se[U].c();f=S(),g=p("div"),d=p("label"),d.textContent=h,k=S(),m=p("select"),C=p("option"),C.textContent=T;for(let U=0;U<F.length;U+=1)F[U].c();L=S(),E=p("div"),O=p("div"),w=p("label"),w.textContent=B,N=S(),D=p("input"),M=S(),q=p("div"),Y=p("div"),ne=p("h3"),ne.textContent=ke,V=S(),A=p("button"),A.textContent=oe,Z=S(),J=p("div"),re=p("table"),z=p("thead"),z.innerHTML=we,ie=S(),ue=p("tbody");for(let U=0;U<$.length;U+=1)$[U].c();this.h()},l(U){e=v(U,"DIV",{class:!0});var H=y(e);t=v(H,"DIV",{class:!0});var W=y(t);n=v(W,"DIV",{class:!0});var ge=y(n);l=v(ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1dxgp9b"&&(l.textContent=r),u=I(ge),o=v(ge,"SELECT",{id:!0,class:!0});var Ie=y(o);c=v(Ie,"OPTION",{"data-svelte-h":!0}),j(c)!=="svelte-mwu9va"&&(c.textContent=b);for(let X=0;X<se.length;X+=1)se[X].l(Ie);Ie.forEach(_),ge.forEach(_),f=I(W),g=v(W,"DIV",{class:!0});var fe=y(g);d=v(fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(d)!=="svelte-h0spd7"&&(d.textContent=h),k=I(fe),m=v(fe,"SELECT",{id:!0,class:!0});var Ue=y(m);C=v(Ue,"OPTION",{"data-svelte-h":!0}),j(C)!=="svelte-1ekya2v"&&(C.textContent=T);for(let X=0;X<F.length;X+=1)F[X].l(Ue);Ue.forEach(_),fe.forEach(_),W.forEach(_),L=I(H),E=v(H,"DIV",{class:!0});var Se=y(E);O=v(Se,"DIV",{class:!0});var me=y(O);w=v(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(w)!=="svelte-1w9evqp"&&(w.textContent=B),N=I(me),D=v(me,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),me.forEach(_),Se.forEach(_),M=I(H),q=v(H,"DIV",{class:!0});var Me=y(q);Y=v(Me,"DIV",{class:!0});var ye=y(Y);ne=v(ye,"H3",{class:!0,"data-svelte-h":!0}),j(ne)!=="svelte-rv2rcn"&&(ne.textContent=ke),V=I(ye),A=v(ye,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(A)!=="svelte-tawc64"&&(A.textContent=oe),ye.forEach(_),Z=I(Me),J=v(Me,"DIV",{class:!0});var Re=y(J);re=v(Re,"TABLE",{class:!0});var Ee=y(re);z=v(Ee,"THEAD",{"data-svelte-h":!0}),j(z)!=="svelte-163hj14"&&(z.innerHTML=we),ie=I(Ee),ue=v(Ee,"TBODY",{});var P=y(ue);for(let X=0;X<$.length;X+=1)$[X].l(P);P.forEach(_),Ee.forEach(_),Re.forEach(_),Me.forEach(_),H.forEach(_),this.h()},h(){a(l,"for","fb-location"),a(l,"class","svelte-152m2bn"),c.__value="",R(c,c.__value),c.disabled=!0,c.selected=!0,a(o,"id","fb-location"),a(o,"class","svelte-152m2bn"),s[0]===void 0&&De(()=>s[9].call(o)),a(n,"class","input-group svelte-152m2bn"),a(d,"for","fb-session"),a(d,"class","svelte-152m2bn"),C.__value="",R(C,C.__value),C.disabled=!0,C.selected=!0,a(m,"id","fb-session"),a(m,"class","svelte-152m2bn"),s[1]===void 0&&De(()=>s[10].call(m)),a(g,"class","input-group svelte-152m2bn"),a(t,"class","form-grid svelte-152m2bn"),a(w,"for","fb-finger-load"),a(w,"class","svelte-152m2bn"),a(D,"id","fb-finger-load"),a(D,"type","number"),a(D,"min","0"),a(D,"max","5"),a(D,"class","svelte-152m2bn"),a(O,"class","load-group svelte-152m2bn"),a(E,"class","load-metrics svelte-152m2bn"),a(ne,"class","svelte-152m2bn"),a(A,"class","add-row-btn svelte-152m2bn"),a(A,"title","Add Row"),a(Y,"class","section-header svelte-152m2bn"),a(re,"class","svelte-152m2bn"),a(J,"class","table-container svelte-152m2bn"),a(q,"class","exercise-section"),a(e,"class","fingerboard-config svelte-152m2bn")},m(U,H){G(U,e,H),i(e,t),i(t,n),i(n,l),i(n,u),i(n,o),i(o,c);for(let W=0;W<se.length;W+=1)se[W]&&se[W].m(o,null);Ne(o,s[0],!0),i(t,f),i(t,g),i(g,d),i(g,k),i(g,m),i(m,C);for(let W=0;W<F.length;W+=1)F[W]&&F[W].m(m,null);Ne(m,s[1],!0),i(e,L),i(e,E),i(E,O),i(O,w),i(O,N),i(O,D),R(D,s[2]),i(e,M),i(e,q),i(q,Y),i(Y,ne),i(Y,V),i(Y,A),i(q,Z),i(q,J),i(J,re),i(re,z),i(re,ie),i(re,ue);for(let W=0;W<$.length;W+=1)$[W]&&$[W].m(ue,null);ve||(he=[K(o,"change",s[9]),K(m,"change",s[10]),K(D,"input",s[11]),K(A,"click",s[4])],ve=!0)},p(U,[H]){if(H&64){Le=de(U[6]);let W;for(W=0;W<Le.length;W+=1){const ge=Gt(U,Le,W);se[W]?se[W].p(ge,H):(se[W]=Wt(ge),se[W].c(),se[W].m(o,null))}for(;W<se.length;W+=1)se[W].d(1);se.length=Le.length}if(H&65&&Ne(o,U[0]),H&128){ee=de(U[7]);let W;for(W=0;W<ee.length;W+=1){const ge=zt(U,ee,W);F[W]?F[W].p(ge,H):(F[W]=xt(ge),F[W].c(),F[W].m(m,null))}for(;W<F.length;W+=1)F[W].d(1);F.length=ee.length}H&130&&Ne(m,U[1]),H&4&&Be(D.value)!==U[2]&&R(D,U[2]),H&40&&(Te=de(U[3]),$=kt($,H,ae,1,U,Te,Pe,ue,Bl,Kt,null,jt))},i(U){U&&(ce||De(()=>{ce=Ge(e,qe,{}),ce.start()}))},o:be,d(U){U&&_(e),je(se,U),je(F,U);for(let H=0;H<$.length;H+=1)$[H].d();ve=!1,Je(he)}}}function En(s,e,t){let n="",l="",r=0,u=[{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}];function o(){return{location:n,session:l,fingerLoad:r,exercises:u}}function c(){t(3,u=[...u,{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}])}function b(w){u.length>1&&t(3,u=u.filter(B=>B.id!==w))}const f=["Home","Gym","Crag"],g=["Strength","Endurance","Recovery"];function d(){n=We(this),t(0,n),t(6,f)}function h(){l=We(this),t(1,l),t(7,g)}function k(){r=Be(this.value),t(2,r)}function m(w,B){w[B].name=this.value,t(3,u)}function C(w,B){w[B].weight=Be(this.value),t(3,u)}function T(w,B){w[B].sets=Be(this.value),t(3,u)}function L(w,B){w[B].reps=Be(this.value),t(3,u)}function E(w,B){w[B].notes=this.value,t(3,u)}return[n,l,r,u,c,b,f,g,o,d,h,k,m,C,T,L,E,w=>b(w.id)]}class wn extends Xe{constructor(e){super(),Ze(this,e,En,yn,Qe,{getData:8})}get getData(){return this.$$.ctx[8]}}const Rl="training_history_cache",Tn=JSON.parse(localStorage.getItem(Rl)||"{}"),wt=Ol(Tn);wt.subscribe(s=>{localStorage.setItem(Rl,JSON.stringify(s))});function Ul(s,e){wt.update(t=>{const n=t[s]||[],l=[...e,...n],r=new Map;return l.forEach(u=>{var f;const o=((f=u.date)==null?void 0:f.value)||u.date,b=`${o?new Date(o).toISOString():""}|${u.location}|${u.session_type}|${JSON.stringify(u.climbs)}`;r.has(b)||r.set(b,u)}),{...t,[s]:Array.from(r.values()).sort((u,o)=>{var f,g;const c=new Date(((f=u.date)==null?void 0:f.value)||u.date);return new Date(((g=o.date)==null?void 0:g.value)||o.date).getTime()-c.getTime()})}})}function Dn(s,e){Ul(s,[e])}function Yt(s,e,t){const n=s.slice();return n[10]=e[t],n}function Jt(s){let e,t=s[10].text+"",n,l;return{c(){e=p("option"),n=_e(t),l=S(),this.h()},l(r){e=v(r,"OPTION",{});var u=y(e);n=pe(u,t),l=I(u),u.forEach(_),this.h()},h(){e.__value=s[10].id,R(e,e.__value)},m(r,u){G(r,e,u),i(e,n),i(e,l)},p:be,d(r){r&&_(e)}}}function Qt(s){let e,t,n,l,r,u=s[2]?"Saving...":"Save Log",o,c,b,f,g;var d=s[5].component;function h(m,C){return{props:{}}}d&&(t=bt(d,h()),s[9](t));let k=s[3]&&Xt(s);return{c(){e=p("div"),t&&dt(t.$$.fragment),n=S(),k&&k.c(),l=S(),r=p("button"),o=_e(u),this.h()},l(m){e=v(m,"DIV",{class:!0});var C=y(e);t&&yt(t.$$.fragment,C),n=I(C),k&&k.l(C),l=I(C),r=v(C,"BUTTON",{class:!0});var T=y(r);o=pe(T,u),T.forEach(_),C.forEach(_),this.h()},h(){a(r,"class","save-button svelte-148fipo"),r.disabled=s[2],a(e,"class","config-wrapper svelte-148fipo")},m(m,C){G(m,e,C),t&&vt(t,e,null),i(e,n),k&&k.m(e,null),i(e,l),i(e,r),i(r,o),b=!0,f||(g=K(r,"click",s[7]),f=!0)},p(m,C){if(C&32&&d!==(d=m[5].component)){if(t){xe();const T=t;Ae(T.$$.fragment,1,0,()=>{ft(T,1)}),Ke()}d?(t=bt(d,h()),m[9](t),dt(t.$$.fragment),Ce(t.$$.fragment,1),vt(t,e,n)):t=null}else if(d){const T={};t.$set(T)}m[3]?k?(k.p(m,C),C&8&&Ce(k,1)):(k=Xt(m),k.c(),Ce(k,1),k.m(e,l)):k&&(xe(),Ae(k,1,1,()=>{k=null}),Ke()),(!b||C&4)&&u!==(u=m[2]?"Saving...":"Save Log")&&Ve(o,u),(!b||C&4)&&(r.disabled=m[2])},i(m){b||(t&&Ce(t.$$.fragment,m),Ce(k),m&&(c||De(()=>{c=Ge(e,qe,{}),c.start()})),b=!0)},o(m){t&&Ae(t.$$.fragment,m),Ae(k),b=!1},d(m){m&&_(e),s[9](null),t&&ft(t),k&&k.d(),f=!1,g()}}}function Xt(s){let e,t,n,l;return{c(){e=p("div"),t=_e(s[3]),this.h()},l(r){e=v(r,"DIV",{class:!0});var u=y(e);t=pe(u,s[3]),u.forEach(_),this.h()},h(){a(e,"class","message svelte-148fipo"),ze(e,"success",s[4]),ze(e,"error",!s[4])},m(r,u){G(r,e,u),i(e,t),l=!0},p(r,u){(!l||u&8)&&Ve(t,r[3]),(!l||u&16)&&ze(e,"success",r[4]),(!l||u&16)&&ze(e,"error",!r[4])},i(r){l||(r&&De(()=>{l&&(n||(n=Ye(e,qe,{},!0)),n.run(1))}),l=!0)},o(r){r&&(n||(n=Ye(e,qe,{},!1)),n.run(0)),l=!1},d(r){r&&_(e),r&&n&&n.end()}}}function Ln(s){let e,t,n="Log Exercise",l,r,u,o="What did you do today?",c,b,f,g="Select activity type...",d,h,k,m,C=de(s[6]),T=[];for(let E=0;E<C.length;E+=1)T[E]=Jt(Yt(s,C,E));let L=s[5]&&Qt(s);return{c(){e=p("div"),t=p("h2"),t.textContent=n,l=S(),r=p("div"),u=p("label"),u.textContent=o,c=S(),b=p("select"),f=p("option"),f.textContent=g;for(let E=0;E<T.length;E+=1)T[E].c();d=S(),L&&L.c(),this.h()},l(E){e=v(E,"DIV",{class:!0});var O=y(e);t=v(O,"H2",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1eeau7i"&&(t.textContent=n),l=I(O),r=v(O,"DIV",{class:!0});var w=y(r);u=v(w,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(u)!=="svelte-1ndwsee"&&(u.textContent=o),c=I(w),b=v(w,"SELECT",{id:!0,class:!0});var B=y(b);f=v(B,"OPTION",{"data-svelte-h":!0}),j(f)!=="svelte-11gchci"&&(f.textContent=g);for(let N=0;N<T.length;N+=1)T[N].l(B);B.forEach(_),w.forEach(_),d=I(O),L&&L.l(O),O.forEach(_),this.h()},h(){a(t,"class","svelte-148fipo"),a(u,"for","exercise-type"),a(u,"class","svelte-148fipo"),f.__value="",R(f,f.__value),f.disabled=!0,f.selected=!0,a(b,"id","exercise-type"),a(b,"class","svelte-148fipo"),s[0]===void 0&&De(()=>s[8].call(b)),a(r,"class","dropdown-wrapper svelte-148fipo"),a(e,"class","tab-content svelte-148fipo")},m(E,O){G(E,e,O),i(e,t),i(e,l),i(e,r),i(r,u),i(r,c),i(r,b),i(b,f);for(let w=0;w<T.length;w+=1)T[w]&&T[w].m(b,null);Ne(b,s[0],!0),i(e,d),L&&L.m(e,null),h=!0,k||(m=K(b,"change",s[8]),k=!0)},p(E,[O]){if(O&64){C=de(E[6]);let w;for(w=0;w<C.length;w+=1){const B=Yt(E,C,w);T[w]?T[w].p(B,O):(T[w]=Jt(B),T[w].c(),T[w].m(b,null))}for(;w<T.length;w+=1)T[w].d(1);T.length=C.length}O&65&&Ne(b,E[0]),E[5]?L?(L.p(E,O),O&32&&Ce(L,1)):(L=Qt(E),L.c(),Ce(L,1),L.m(e,null)):L&&(xe(),Ae(L,1,1,()=>{L=null}),Ke())},i(E){h||(Ce(L),h=!0)},o(E){Ae(L),h=!1},d(E){E&&_(e),je(T,E),L&&L.d(),k=!1,m()}}}const In="https://save-log-825153765638.europe-west1.run.app";function Sn(s,e,t){let n,l="";const r=[{id:"indoor",text:"Indoor Climb",component:on},{id:"fingerboard",text:"Fingerboarding",component:wn},{id:"gym",text:"Gym Session",component:hn},{id:"outdoor",text:"Outdoor Climb",component:_n},{id:"other",text:"Other",component:Cn}];let u,o=!1,c="",b=!1;async function f(){if(!u||!u.getData){console.error("Component does not support data export");return}const h=u.getData(),k=Ll(ct);if(!h.location||!h.session||h.exercises&&h.exercises.length===0){t(3,c="Please select a Location, Session, and add at least one exercise."),t(4,b=!1);return}if(!k){t(3,c="Authentication error. Please log in again."),t(4,b=!1);return}t(2,o=!0),t(3,c="");try{const m={activity_type:l,location:h.location,session_type:h.session,finger_load:h.fingerLoad||0,shoulder_load:h.shoulderLoad||0,forearm_load:h.forearmLoad||0,climbs:h.exercises,date:new Date().toISOString()},C=await fetch(In,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(m)});if(!C.ok){const T=await C.text();throw new Error(`Server error (${C.status}): ${T}`)}t(3,c="Log saved successfully!"),t(4,b=!0),Dn(l,m)}catch(m){console.error("Save Error:",m),t(3,c="Failed to save log. Check console for details."),t(4,b=!1)}finally{t(2,o=!1)}}function g(){l=We(this),t(0,l),t(6,r)}function d(h){ql[h?"unshift":"push"](()=>{u=h,t(1,u)})}return s.$$.update=()=>{s.$$.dirty&1&&t(5,n=r.find(h=>h.id===l)),s.$$.dirty&1&&l&&t(3,c="")},[l,u,o,c,b,n,r,f,g,d]}class On extends Xe{constructor(e){super(),Ze(this,e,Sn,Ln,Qe,{})}}function Zt(s,e,t){const n=s.slice();return n[33]=e[t],n}function $t(s,e,t){const n=s.slice();return n[36]=e[t],n}function el(s,e,t){const n=s.slice();return n[39]=e[t],n}function tl(s,e,t){const n=s.slice();return n[39]=e[t],n}function ll(s,e,t){const n=s.slice();return n[44]=e[t],n}function nl(s,e,t){const n=s.slice();return n[47]=e[t],n}function sl(s,e,t){const n=s.slice();return n[50]=e[t],n}function Nn(s){let e,t,n;return{c(){e=ht("svg"),t=ht("path"),n=ht("path"),this.h()},l(l){e=ut(l,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var r=y(e);t=ut(r,"path",{d:!0}),y(t).forEach(_),n=ut(r,"path",{d:!0}),y(n).forEach(_),r.forEach(_),this.h()},h(){a(t,"d","M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"),a(n,"d","M21 3v5h-5"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","16"),a(e,"height","16"),a(e,"viewBox","0 0 24 24"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"stroke-width","2"),a(e,"stroke-linecap","round"),a(e,"stroke-linejoin","round")},m(l,r){G(l,e,r),i(e,t),i(e,n)},d(l){l&&_(e)}}}function An(s){let e;return{c(){e=p("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),y(e).forEach(_),this.h()},h(){a(e,"class","spinner-small svelte-1nhhhnk")},m(t,n){G(t,e,n)},d(t){t&&_(e)}}}function ol(s){let e,t=s[50].label+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{class:!0});var r=y(e);n=pe(r,t),r.forEach(_),this.h()},h(){e.__value=s[50].id,R(e,e.__value),a(e,"class","svelte-1nhhhnk")},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&_(e)}}}function rl(s){let e,t,n,l,r="Start Date",u,o,c,b,f,g="End Date",d,h,k,m,C,T="Location",L,E,O,w,B,N="Session / Type",D,M,q,Y,ne="Grade (Exact)",ke,V,A,oe,Z,J="Clear",re,z,we="Apply",ie,ue,$,Pe;function ce(F,Te){return F[0]==="outdoor"?Vn:Bn}let ve=ce(s),he=ve(s);function Le(F,Te){return F[0]==="outdoor"?Mn:Pn}let se=Le(s),ee=se(s);return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=r,u=S(),o=p("input"),c=S(),b=p("div"),f=p("label"),f.textContent=g,d=S(),h=p("input"),k=S(),m=p("div"),C=p("label"),C.textContent=T,L=S(),he.c(),E=S(),O=p("div"),w=p("div"),B=p("label"),B.textContent=N,D=S(),ee.c(),M=S(),q=p("div"),Y=p("label"),Y.textContent=ne,ke=S(),V=p("input"),A=S(),oe=p("div"),Z=p("button"),Z.textContent=J,re=S(),z=p("button"),z.textContent=we,this.h()},l(F){e=v(F,"DIV",{class:!0});var Te=y(e);t=v(Te,"DIV",{class:!0});var ae=y(t);n=v(ae,"DIV",{class:!0});var U=y(n);l=v(U,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1kxlpsi"&&(l.textContent=r),u=I(U),o=v(U,"INPUT",{id:!0,type:!0,class:!0}),U.forEach(_),c=I(ae),b=v(ae,"DIV",{class:!0});var H=y(b);f=v(H,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(f)!=="svelte-j60kik"&&(f.textContent=g),d=I(H),h=v(H,"INPUT",{id:!0,type:!0,class:!0}),H.forEach(_),k=I(ae),m=v(ae,"DIV",{class:!0});var W=y(m);C=v(W,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(C)!=="svelte-3cwczo"&&(C.textContent=T),L=I(W),he.l(W),W.forEach(_),ae.forEach(_),E=I(Te),O=v(Te,"DIV",{class:!0});var ge=y(O);w=v(ge,"DIV",{class:!0});var Ie=y(w);B=v(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(B)!=="svelte-jb3f35"&&(B.textContent=N),D=I(Ie),ee.l(Ie),Ie.forEach(_),M=I(ge),q=v(ge,"DIV",{class:!0});var fe=y(q);Y=v(fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(Y)!=="svelte-f1ofpo"&&(Y.textContent=ne),ke=I(fe),V=v(fe,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),fe.forEach(_),A=I(ge),oe=v(ge,"DIV",{class:!0});var Ue=y(oe);Z=v(Ue,"BUTTON",{class:!0,"data-svelte-h":!0}),j(Z)!=="svelte-1hjrww8"&&(Z.textContent=J),re=I(Ue),z=v(Ue,"BUTTON",{class:!0,"data-svelte-h":!0}),j(z)!=="svelte-1ch465z"&&(z.textContent=we),Ue.forEach(_),ge.forEach(_),Te.forEach(_),this.h()},h(){a(l,"for","startDate"),a(l,"class","svelte-1nhhhnk"),a(o,"id","startDate"),a(o,"type","date"),a(o,"class","svelte-1nhhhnk"),a(n,"class","filter-group svelte-1nhhhnk"),a(f,"for","endDate"),a(f,"class","svelte-1nhhhnk"),a(h,"id","endDate"),a(h,"type","date"),a(h,"class","svelte-1nhhhnk"),a(b,"class","filter-group svelte-1nhhhnk"),a(C,"for","filterLocation"),a(C,"class","svelte-1nhhhnk"),a(m,"class","filter-group svelte-1nhhhnk"),a(t,"class","filter-row svelte-1nhhhnk"),a(B,"for","filterSession"),a(B,"class","svelte-1nhhhnk"),a(w,"class","filter-group svelte-1nhhhnk"),a(Y,"for","filterGrade"),a(Y,"class","svelte-1nhhhnk"),a(V,"id","filterGrade"),a(V,"type","text"),a(V,"placeholder","e.g. 7a+"),a(V,"class","svelte-1nhhhnk"),a(q,"class","filter-group svelte-1nhhhnk"),a(Z,"class","clear-btn svelte-1nhhhnk"),a(z,"class","apply-btn svelte-1nhhhnk"),a(oe,"class","filter-actions svelte-1nhhhnk"),a(O,"class","filter-row svelte-1nhhhnk"),a(e,"class","filters-panel svelte-1nhhhnk")},m(F,Te){G(F,e,Te),i(e,t),i(t,n),i(n,l),i(n,u),i(n,o),R(o,s[6]),i(t,c),i(t,b),i(b,f),i(b,d),i(b,h),R(h,s[7]),i(t,k),i(t,m),i(m,C),i(m,L),he.m(m,null),i(e,E),i(e,O),i(O,w),i(w,B),i(w,D),ee.m(w,null),i(O,M),i(O,q),i(q,Y),i(q,ke),i(q,V),R(V,s[10]),i(O,A),i(O,oe),i(oe,Z),i(oe,re),i(oe,z),ue=!0,$||(Pe=[K(o,"input",s[25]),K(h,"input",s[26]),K(V,"input",s[31]),K(Z,"click",s[19]),K(z,"click",s[18])],$=!0)},p(F,Te){Te[0]&64&&R(o,F[6]),Te[0]&128&&R(h,F[7]),ve===(ve=ce(F))&&he?he.p(F,Te):(he.d(1),he=ve(F),he&&(he.c(),he.m(m,null))),se===(se=Le(F))&&ee?ee.p(F,Te):(ee.d(1),ee=se(F),ee&&(ee.c(),ee.m(w,null))),Te[0]&1024&&V.value!==F[10]&&R(V,F[10])},i(F){ue||(F&&De(()=>{ue&&(ie||(ie=Ye(e,qe,{},!0)),ie.run(1))}),ue=!0)},o(F){F&&(ie||(ie=Ye(e,qe,{},!1)),ie.run(0)),ue=!1},d(F){F&&_(e),he.d(),ee.d(),F&&ie&&ie.end(),$=!1,Je(Pe)}}}function Bn(s){let e,t,n="Any Location",l,r,u=de(s[15]),o=[];for(let c=0;c<u.length;c+=1)o[c]=al(nl(s,u,c));return{c(){e=p("select"),t=p("option"),t.textContent=n;for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=v(c,"SELECT",{id:!0,class:!0});var b=y(e);t=v(b,"OPTION",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-vg9lqd"&&(t.textContent=n);for(let f=0;f<o.length;f+=1)o[f].l(b);b.forEach(_),this.h()},h(){t.__value="",R(t,t.__value),a(t,"class","svelte-1nhhhnk"),a(e,"id","filterLocation"),a(e,"class","svelte-1nhhhnk"),s[8]===void 0&&De(()=>s[28].call(e))},m(c,b){G(c,e,b),i(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);Ne(e,s[8],!0),l||(r=K(e,"change",s[28]),l=!0)},p(c,b){if(b[0]&32768){u=de(c[15]);let f;for(f=0;f<u.length;f+=1){const g=nl(c,u,f);o[f]?o[f].p(g,b):(o[f]=al(g),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=u.length}b[0]&33024&&Ne(e,c[8])},d(c){c&&_(e),je(o,c),l=!1,r()}}}function Vn(s){let e,t,n;return{c(){e=p("input"),this.h()},l(l){e=v(l,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","filterLocation"),a(e,"type","text"),a(e,"placeholder","Crag or Wall"),a(e,"class","svelte-1nhhhnk")},m(l,r){G(l,e,r),R(e,s[8]),t||(n=K(e,"input",s[27]),t=!0)},p(l,r){r[0]&33024&&e.value!==l[8]&&R(e,l[8])},d(l){l&&_(e),t=!1,n()}}}function al(s){let e,t=s[47]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{class:!0});var r=y(e);n=pe(r,t),r.forEach(_),this.h()},h(){e.__value=s[47],R(e,e.__value),a(e,"class","svelte-1nhhhnk")},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&_(e)}}}function Pn(s){let e,t,n="Any Session",l,r,u=de(s[16]),o=[];for(let c=0;c<u.length;c+=1)o[c]=il(ll(s,u,c));return{c(){e=p("select"),t=p("option"),t.textContent=n;for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=v(c,"SELECT",{id:!0,class:!0});var b=y(e);t=v(b,"OPTION",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-178oehu"&&(t.textContent=n);for(let f=0;f<o.length;f+=1)o[f].l(b);b.forEach(_),this.h()},h(){t.__value="",R(t,t.__value),a(t,"class","svelte-1nhhhnk"),a(e,"id","filterSession"),a(e,"class","svelte-1nhhhnk"),s[9]===void 0&&De(()=>s[30].call(e))},m(c,b){G(c,e,b),i(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);Ne(e,s[9],!0),l||(r=K(e,"change",s[30]),l=!0)},p(c,b){if(b[0]&65536){u=de(c[16]);let f;for(f=0;f<u.length;f+=1){const g=ll(c,u,f);o[f]?o[f].p(g,b):(o[f]=il(g),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=u.length}b[0]&66048&&Ne(e,c[9])},d(c){c&&_(e),je(o,c),l=!1,r()}}}function Mn(s){let e,t,n="Any Type",l,r="Bouldering",u,o="Sport",c,b="Trad",f,g;return{c(){e=p("select"),t=p("option"),t.textContent=n,l=p("option"),l.textContent=r,u=p("option"),u.textContent=o,c=p("option"),c.textContent=b,this.h()},l(d){e=v(d,"SELECT",{id:!0,class:!0});var h=y(e);t=v(h,"OPTION",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-c7i2yo"&&(t.textContent=n),l=v(h,"OPTION",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-ffaje2"&&(l.textContent=r),u=v(h,"OPTION",{class:!0,"data-svelte-h":!0}),j(u)!=="svelte-vlasem"&&(u.textContent=o),c=v(h,"OPTION",{class:!0,"data-svelte-h":!0}),j(c)!=="svelte-1tf9gxq"&&(c.textContent=b),h.forEach(_),this.h()},h(){t.__value="",R(t,t.__value),a(t,"class","svelte-1nhhhnk"),l.__value="Bouldering",R(l,l.__value),a(l,"class","svelte-1nhhhnk"),u.__value="Sport",R(u,u.__value),a(u,"class","svelte-1nhhhnk"),c.__value="Trad",R(c,c.__value),a(c,"class","svelte-1nhhhnk"),a(e,"id","filterSession"),a(e,"class","svelte-1nhhhnk"),s[9]===void 0&&De(()=>s[29].call(e))},m(d,h){G(d,e,h),i(e,t),i(e,l),i(e,u),i(e,c),Ne(e,s[9],!0),f||(g=K(e,"change",s[29]),f=!0)},p(d,h){h[0]&66048&&Ne(e,d[9])},d(d){d&&_(e),f=!1,g()}}}function il(s){let e,t=s[44]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{class:!0});var r=y(e);n=pe(r,t),r.forEach(_),this.h()},h(){e.__value=s[44],R(e,e.__value),a(e,"class","svelte-1nhhhnk")},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&_(e)}}}function Rn(s){let e,t,n=[],l=new Map,r,u,o,c=s[12].length===0&&s[1].length>0&&cl(),b=de(s[12]);const f=d=>d[33].key;for(let d=0;d<b.length;d+=1){let h=Zt(s,b,d),k=f(h);l.set(k,n[d]=ml(k,h))}let g=s[12].length>0&&bl(s);return{c(){e=p("div"),c&&c.c(),t=S();for(let d=0;d<n.length;d+=1)n[d].c();u=S(),g&&g.c(),o=mt(),this.h()},l(d){e=v(d,"DIV",{class:!0});var h=y(e);c&&c.l(h),t=I(h);for(let k=0;k<n.length;k+=1)n[k].l(h);h.forEach(_),u=I(d),g&&g.l(d),o=mt(),this.h()},h(){a(e,"class","sessions-list svelte-1nhhhnk")},m(d,h){G(d,e,h),c&&c.m(e,null),i(e,t);for(let k=0;k<n.length;k+=1)n[k]&&n[k].m(e,null);G(d,u,h),g&&g.m(d,h),G(d,o,h)},p(d,h){d[12].length===0&&d[1].length>0?c||(c=cl(),c.c(),c.m(e,t)):c&&(c.d(1),c=null),h[0]&14352&&(b=de(d[12]),n=kt(n,h,f,1,d,b,l,e,Bl,ml,null,Zt)),d[12].length>0?g?(g.p(d,h),h[0]&4096&&Ce(g,1)):(g=bl(d),g.c(),Ce(g,1),g.m(o.parentNode,o)):g&&(g.d(1),g=null)},i(d){d&&(r||De(()=>{r=Ge(e,qe,{}),r.start()})),Ce(g)},o:be,d(d){d&&(_(e),_(u),_(o)),c&&c.d();for(let h=0;h<n.length;h+=1)n[h].d();g&&g.d(d)}}}function Un(s){let e,t=`<p>No data cached for this activity. Click &quot;Fetch Data&quot; to sync
                from the server.</p> <div class="empty-state"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg></div>`,n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-h6ex8u"&&(e.innerHTML=t),this.h()},h(){a(e,"class","placeholder svelte-1nhhhnk")},m(l,r){G(l,e,r)},p:be,i(l){l&&(n||De(()=>{n=Ge(e,qe,{}),n.start()}))},o:be,d(l){l&&_(e)}}}function Hn(s){let e,t,n,l,r,u,o="Retry",c,b,f;return{c(){e=p("div"),t=p("p"),n=_e("Error: "),l=_e(s[3]),r=S(),u=p("button"),u.textContent=o,this.h()},l(g){e=v(g,"DIV",{class:!0});var d=y(e);t=v(d,"P",{});var h=y(t);n=pe(h,"Error: "),l=pe(h,s[3]),h.forEach(_),r=I(d),u=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),j(u)!=="svelte-1n0rt7s"&&(u.textContent=o),d.forEach(_),this.h()},h(){a(u,"class","retry-btn svelte-1nhhhnk"),a(e,"class","status-msg error svelte-1nhhhnk")},m(g,d){G(g,e,d),i(e,t),i(t,n),i(t,l),i(e,r),i(e,u),b||(f=K(u,"click",s[17]),b=!0)},p(g,d){d[0]&8&&Ve(l,g[3])},i(g){g&&(c||De(()=>{c=Ge(e,qe,{}),c.start()}))},o:be,d(g){g&&_(e),b=!1,f()}}}function qn(s){let e,t=`<div class="spinner svelte-1nhhhnk"></div>
            Loading your training history...`,n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-7ltysi"&&(e.innerHTML=t),this.h()},h(){a(e,"class","status-msg svelte-1nhhhnk")},m(l,r){G(l,e,r)},p:be,i(l){l&&(n||De(()=>{n=Ge(e,qe,{}),n.start()}))},o:be,d(l){l&&_(e)}}}function cl(s){let e,t="No results match your filters.";return{c(){e=p("div"),e.textContent=t,this.h()},l(n){e=v(n,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1m70tcd"&&(e.textContent=t),this.h()},h(){a(e,"class","no-results svelte-1nhhhnk")},m(n,l){G(n,e,l)},d(n){n&&_(e)}}}function ul(s){let e,t,n,l,r,u,o,c,b=de(s[11].filter(Cl)),f=[];for(let h=0;h<b.length;h+=1)f[h]=hl(tl(s,b,h));let g=de(s[33].items),d=[];for(let h=0;h<g.length;h+=1)d[h]=gl($t(s,g,h));return{c(){e=p("div"),t=p("table"),n=p("thead"),l=p("tr");for(let h=0;h<f.length;h+=1)f[h].c();r=S(),u=p("tbody");for(let h=0;h<d.length;h+=1)d[h].c();this.h()},l(h){e=v(h,"DIV",{class:!0});var k=y(e);t=v(k,"TABLE",{class:!0});var m=y(t);n=v(m,"THEAD",{});var C=y(n);l=v(C,"TR",{});var T=y(l);for(let E=0;E<f.length;E+=1)f[E].l(T);T.forEach(_),C.forEach(_),r=I(m),u=v(m,"TBODY",{});var L=y(u);for(let E=0;E<d.length;E+=1)d[E].l(L);L.forEach(_),m.forEach(_),k.forEach(_),this.h()},h(){a(t,"class","details-table svelte-1nhhhnk"),a(e,"class","session-details svelte-1nhhhnk")},m(h,k){G(h,e,k),i(e,t),i(t,n),i(n,l);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(l,null);i(t,r),i(t,u);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(u,null);c=!0},p(h,k){if(k[0]&2048){b=de(h[11].filter(Cl));let m;for(m=0;m<b.length;m+=1){const C=tl(h,b,m);f[m]?f[m].p(C,k):(f[m]=hl(C),f[m].c(),f[m].m(l,null))}for(;m<f.length;m+=1)f[m].d(1);f.length=b.length}if(k[0]&6144){g=de(h[33].items);let m;for(m=0;m<g.length;m+=1){const C=$t(h,g,m);d[m]?d[m].p(C,k):(d[m]=gl(C),d[m].c(),d[m].m(u,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=g.length}},i(h){c||(h&&De(()=>{c&&(o||(o=Ye(e,ot,{},!0)),o.run(1))}),c=!0)},o(h){h&&(o||(o=Ye(e,ot,{},!1)),o.run(0)),c=!1},d(h){h&&_(e),je(f,h),je(d,h),h&&o&&o.end()}}}function hl(s){let e,t=s[39].label+"",n;return{c(){e=p("th"),n=_e(t),this.h()},l(l){e=v(l,"TH",{class:!0});var r=y(e);n=pe(r,t),r.forEach(_),this.h()},h(){a(e,"class","svelte-1nhhhnk")},m(l,r){G(l,e,r),i(e,n)},p(l,r){r[0]&2048&&t!==(t=l[39].label+"")&&Ve(n,t)},d(l){l&&_(e)}}}function Fn(s){let e=(s[36][s[39].key]||"-")+"",t;return{c(){t=_e(e)},l(n){t=pe(n,e)},m(n,l){G(n,t,l)},p(n,l){l[0]&6144&&e!==(e=(n[36][n[39].key]||"-")+"")&&Ve(t,e)},d(n){n&&_(t)}}}function jn(s){let e,t,n=(s[36].route||s[36].name||"-")+"",l,r,u,o,c,b=s[36].grade&&fl(s),f=s[36].weight&&dl(s),g=(s[36].sets||s[36].reps)&&vl(s),d=s[36].notes&&pl(s);return{c(){e=p("div"),t=p("span"),l=_e(n),r=S(),b&&b.c(),u=S(),f&&f.c(),o=S(),g&&g.c(),c=S(),d&&d.c(),this.h()},l(h){e=v(h,"DIV",{class:!0});var k=y(e);t=v(k,"SPAN",{class:!0});var m=y(t);l=pe(m,n),m.forEach(_),r=I(k),b&&b.l(k),u=I(k),f&&f.l(k),o=I(k),g&&g.l(k),c=I(k),d&&d.l(k),k.forEach(_),this.h()},h(){a(t,"class","ex-name svelte-1nhhhnk"),a(e,"class","exercise-row svelte-1nhhhnk")},m(h,k){G(h,e,k),i(e,t),i(t,l),i(e,r),b&&b.m(e,null),i(e,u),f&&f.m(e,null),i(e,o),g&&g.m(e,null),i(e,c),d&&d.m(e,null)},p(h,k){k[0]&4096&&n!==(n=(h[36].route||h[36].name||"-")+"")&&Ve(l,n),h[36].grade?b?b.p(h,k):(b=fl(h),b.c(),b.m(e,u)):b&&(b.d(1),b=null),h[36].weight?f?f.p(h,k):(f=dl(h),f.c(),f.m(e,o)):f&&(f.d(1),f=null),h[36].sets||h[36].reps?g?g.p(h,k):(g=vl(h),g.c(),g.m(e,c)):g&&(g.d(1),g=null),h[36].notes?d?d.p(h,k):(d=pl(h),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(h){h&&_(e),b&&b.d(),f&&f.d(),g&&g.d(),d&&d.d()}}}function fl(s){let e,t=s[36].grade+"",n;return{c(){e=p("span"),n=_e(t),this.h()},l(l){e=v(l,"SPAN",{class:!0});var r=y(e);n=pe(r,t),r.forEach(_),this.h()},h(){a(e,"class","ex-meta grade svelte-1nhhhnk")},m(l,r){G(l,e,r),i(e,n)},p(l,r){r[0]&4096&&t!==(t=l[36].grade+"")&&Ve(n,t)},d(l){l&&_(e)}}}function dl(s){let e,t=s[36].weight+"",n,l;return{c(){e=p("span"),n=_e(t),l=_e("kg"),this.h()},l(r){e=v(r,"SPAN",{class:!0});var u=y(e);n=pe(u,t),l=pe(u,"kg"),u.forEach(_),this.h()},h(){a(e,"class","ex-meta weight svelte-1nhhhnk")},m(r,u){G(r,e,u),i(e,n),i(e,l)},p(r,u){u[0]&4096&&t!==(t=r[36].weight+"")&&Ve(n,t)},d(r){r&&_(e)}}}function vl(s){let e,t=s[36].sets+"",n,l,r=s[36].reps+"",u;return{c(){e=p("span"),n=_e(t),l=_e("x"),u=_e(r),this.h()},l(o){e=v(o,"SPAN",{class:!0});var c=y(e);n=pe(c,t),l=pe(c,"x"),u=pe(c,r),c.forEach(_),this.h()},h(){a(e,"class","ex-meta sets svelte-1nhhhnk")},m(o,c){G(o,e,c),i(e,n),i(e,l),i(e,u)},p(o,c){c[0]&4096&&t!==(t=o[36].sets+"")&&Ve(n,t),c[0]&4096&&r!==(r=o[36].reps+"")&&Ve(u,r)},d(o){o&&_(e)}}}function pl(s){let e,t=s[36].notes+"",n;return{c(){e=p("span"),n=_e(t),this.h()},l(l){e=v(l,"SPAN",{class:!0});var r=y(e);n=pe(r,t),r.forEach(_),this.h()},h(){a(e,"class","ex-notes svelte-1nhhhnk")},m(l,r){G(l,e,r),i(e,n)},p(l,r){r[0]&4096&&t!==(t=l[36].notes+"")&&Ve(n,t)},d(l){l&&_(e)}}}function _l(s){let e;function t(r,u){return r[39].isObject?jn:Fn}let n=t(s),l=n(s);return{c(){e=p("td"),l.c(),this.h()},l(r){e=v(r,"TD",{class:!0});var u=y(e);l.l(u),u.forEach(_),this.h()},h(){a(e,"class","svelte-1nhhhnk")},m(r,u){G(r,e,u),l.m(e,null)},p(r,u){n===(n=t(r))&&l?l.p(r,u):(l.d(1),l=n(r),l&&(l.c(),l.m(e,null)))},d(r){r&&_(e),l.d()}}}function gl(s){let e,t,n=de(s[11].filter(yl)),l=[];for(let r=0;r<n.length;r+=1)l[r]=_l(el(s,n,r));return{c(){e=p("tr");for(let r=0;r<l.length;r+=1)l[r].c();t=S()},l(r){e=v(r,"TR",{});var u=y(e);for(let o=0;o<l.length;o+=1)l[o].l(u);t=I(u),u.forEach(_)},m(r,u){G(r,e,u);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null);i(e,t)},p(r,u){if(u[0]&6144){n=de(r[11].filter(yl));let o;for(o=0;o<n.length;o+=1){const c=el(r,n,o);l[o]?l[o].p(c,u):(l[o]=_l(c),l[o].c(),l[o].m(e,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(r){r&&_(e),je(l,r)}}}function ml(s,e){let t,n,l,r,u=kl(e[33].date)+"",o,c,b,f=e[33].location+"",g,d,h,k=e[33].session+"",m,C,T,L,E,O="FI",w,B,N=e[33].fingerLoad+"",D,M,q,Y,ne="SH",ke,V,A=e[33].shoulderLoad+"",oe,Z,J,re,z="FO",we,ie,ue=e[33].forearmLoad+"",$,Pe,ce,ve,he,Le=e[4].has(e[33].key),se,ee,F;function Te(){return e[32](e[33])}let ae=Le&&ul(e);return{key:s,first:null,c(){t=p("div"),n=p("button"),l=p("div"),r=p("span"),o=_e(u),c=S(),b=p("span"),g=_e(f),d=S(),h=p("span"),m=_e(k),C=S(),T=p("div"),L=p("div"),E=p("span"),E.textContent=O,w=S(),B=p("span"),D=_e(N),M=S(),q=p("div"),Y=p("span"),Y.textContent=ne,ke=S(),V=p("span"),oe=_e(A),Z=S(),J=p("div"),re=p("span"),re.textContent=z,we=S(),ie=p("span"),$=_e(ue),Pe=S(),ce=ht("svg"),ve=ht("path"),he=S(),ae&&ae.c(),se=S(),this.h()},l(U){t=v(U,"DIV",{class:!0});var H=y(t);n=v(H,"BUTTON",{class:!0});var W=y(n);l=v(W,"DIV",{class:!0});var ge=y(l);r=v(ge,"SPAN",{class:!0});var Ie=y(r);o=pe(Ie,u),Ie.forEach(_),c=I(ge),b=v(ge,"SPAN",{class:!0});var fe=y(b);g=pe(fe,f),fe.forEach(_),d=I(ge),h=v(ge,"SPAN",{class:!0});var Ue=y(h);m=pe(Ue,k),Ue.forEach(_),ge.forEach(_),C=I(W),T=v(W,"DIV",{class:!0});var Se=y(T);L=v(Se,"DIV",{class:!0});var me=y(L);E=v(me,"SPAN",{class:!0,"data-svelte-h":!0}),j(E)!=="svelte-lon4bu"&&(E.textContent=O),w=I(me),B=v(me,"SPAN",{class:!0});var Me=y(B);D=pe(Me,N),Me.forEach(_),me.forEach(_),M=I(Se),q=v(Se,"DIV",{class:!0});var ye=y(q);Y=v(ye,"SPAN",{class:!0,"data-svelte-h":!0}),j(Y)!=="svelte-ryswzs"&&(Y.textContent=ne),ke=I(ye),V=v(ye,"SPAN",{class:!0});var Re=y(V);oe=pe(Re,A),Re.forEach(_),ye.forEach(_),Z=I(Se),J=v(Se,"DIV",{class:!0});var Ee=y(J);re=v(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),j(re)!=="svelte-1q34mlw"&&(re.textContent=z),we=I(Ee),ie=v(Ee,"SPAN",{class:!0});var P=y(ie);$=pe(P,ue),P.forEach(_),Ee.forEach(_),Pe=I(Se),ce=ut(Se,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var X=y(ce);ve=ut(X,"path",{d:!0}),y(ve).forEach(_),X.forEach(_),Se.forEach(_),W.forEach(_),he=I(H),ae&&ae.l(H),se=I(H),H.forEach(_),this.h()},h(){a(r,"class","date svelte-1nhhhnk"),a(b,"class","location svelte-1nhhhnk"),a(h,"class","tag svelte-1nhhhnk"),a(l,"class","session-info svelte-1nhhhnk"),a(E,"class","label svelte-1nhhhnk"),a(B,"class","val"),a(L,"class","load-pill finger svelte-1nhhhnk"),a(Y,"class","label svelte-1nhhhnk"),a(V,"class","val"),a(q,"class","load-pill shoulder svelte-1nhhhnk"),a(re,"class","label svelte-1nhhhnk"),a(ie,"class","val"),a(J,"class","load-pill forearm svelte-1nhhhnk"),a(ve,"d","m6 9 6 6 6-6"),a(ce,"class","chevron svelte-1nhhhnk"),a(ce,"xmlns","http://www.w3.org/2000/svg"),a(ce,"width","20"),a(ce,"height","20"),a(ce,"viewBox","0 0 24 24"),a(ce,"fill","none"),a(ce,"stroke","currentColor"),a(ce,"stroke-width","2"),a(ce,"stroke-linecap","round"),a(ce,"stroke-linejoin","round"),a(T,"class","load-summary svelte-1nhhhnk"),a(n,"class","session-header svelte-1nhhhnk"),a(t,"class","session-card svelte-1nhhhnk"),ze(t,"expanded",e[4].has(e[33].key)),this.first=t},m(U,H){G(U,t,H),i(t,n),i(n,l),i(l,r),i(r,o),i(l,c),i(l,b),i(b,g),i(l,d),i(l,h),i(h,m),i(n,C),i(n,T),i(T,L),i(L,E),i(L,w),i(L,B),i(B,D),i(T,M),i(T,q),i(q,Y),i(q,ke),i(q,V),i(V,oe),i(T,Z),i(T,J),i(J,re),i(J,we),i(J,ie),i(ie,$),i(T,Pe),i(T,ce),i(ce,ve),i(t,he),ae&&ae.m(t,null),i(t,se),ee||(F=K(n,"click",Te),ee=!0)},p(U,H){e=U,H[0]&4096&&u!==(u=kl(e[33].date)+"")&&Ve(o,u),H[0]&4096&&f!==(f=e[33].location+"")&&Ve(g,f),H[0]&4096&&k!==(k=e[33].session+"")&&Ve(m,k),H[0]&4096&&N!==(N=e[33].fingerLoad+"")&&Ve(D,N),H[0]&4096&&A!==(A=e[33].shoulderLoad+"")&&Ve(oe,A),H[0]&4096&&ue!==(ue=e[33].forearmLoad+"")&&Ve($,ue),H[0]&4112&&(Le=e[4].has(e[33].key)),Le?ae?(ae.p(e,H),H[0]&4112&&Ce(ae,1)):(ae=ul(e),ae.c(),Ce(ae,1),ae.m(t,se)):ae&&(xe(),Ae(ae,1,1,()=>{ae=null}),Ke()),H[0]&4112&&ze(t,"expanded",e[4].has(e[33].key))},d(U){U&&_(t),ae&&ae.d(),ee=!1,F()}}}function bl(s){let e,t,n=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    Export to CSV`,l,r,u;return{c(){e=p("div"),t=p("button"),t.innerHTML=n,this.h()},l(o){e=v(o,"DIV",{class:!0});var c=y(e);t=v(c,"BUTTON",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-jjg4f9"&&(t.innerHTML=n),c.forEach(_),this.h()},h(){a(t,"class","export-btn svelte-1nhhhnk"),a(e,"class","footer-actions svelte-1nhhhnk")},m(o,c){G(o,e,c),i(e,t),r||(u=K(t,"click",s[20]),r=!0)},p:be,i(o){o&&(l||De(()=>{l=Ge(e,qe,{}),l.start()}))},o:be,d(o){o&&_(e),r=!1,u()}}}function zn(s){let e,t,n,l,r,u,o,c=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>
                Filters`,b,f,g,d,h,k;function m(D,M){return D[2]?An:Nn}let C=m(s),T=C(s),L=de(s[14]),E=[];for(let D=0;D<L.length;D+=1)E[D]=ol(sl(s,L,D));let O=s[5]&&rl(s);function w(D,M){return D[2]?qn:D[3]?Hn:D[1].length===0?Un:Rn}let B=w(s),N=B(s);return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("button"),T.c(),r=_e(`
                Fetch Data`),u=S(),o=p("button"),o.innerHTML=c,b=S(),f=p("select");for(let D=0;D<E.length;D+=1)E[D].c();g=S(),O&&O.c(),d=S(),N.c(),this.h()},l(D){e=v(D,"DIV",{class:!0});var M=y(e);t=v(M,"DIV",{class:!0});var q=y(t);n=v(q,"DIV",{class:!0});var Y=y(n);l=v(Y,"BUTTON",{class:!0,title:!0});var ne=y(l);T.l(ne),r=pe(ne,`
                Fetch Data`),ne.forEach(_),u=I(Y),o=v(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-vw25g4"&&(o.innerHTML=c),b=I(Y),f=v(Y,"SELECT",{class:!0});var ke=y(f);for(let V=0;V<E.length;V+=1)E[V].l(ke);ke.forEach(_),Y.forEach(_),q.forEach(_),g=I(M),O&&O.l(M),d=I(M),N.l(M),M.forEach(_),this.h()},h(){a(l,"class","fetch-btn svelte-1nhhhnk"),l.disabled=s[2],a(l,"title","Fetch latest data"),a(o,"class","filter-toggle svelte-1nhhhnk"),ze(o,"active",s[5]),a(f,"class","type-select svelte-1nhhhnk"),s[0]===void 0&&De(()=>s[24].call(f)),a(n,"class","header-actions svelte-1nhhhnk"),a(t,"class","header-row svelte-1nhhhnk"),a(e,"class","view-container svelte-1nhhhnk")},m(D,M){G(D,e,M),i(e,t),i(t,n),i(n,l),T.m(l,null),i(l,r),i(n,u),i(n,o),i(n,b),i(n,f);for(let q=0;q<E.length;q+=1)E[q]&&E[q].m(f,null);Ne(f,s[0],!0),i(e,g),O&&O.m(e,null),i(e,d),N.m(e,null),h||(k=[K(l,"click",s[17]),K(o,"click",s[23]),K(f,"change",s[24])],h=!0)},p(D,M){if(C!==(C=m(D))&&(T.d(1),T=C(D),T&&(T.c(),T.m(l,r))),M[0]&4&&(l.disabled=D[2]),M[0]&32&&ze(o,"active",D[5]),M[0]&16384){L=de(D[14]);let q;for(q=0;q<L.length;q+=1){const Y=sl(D,L,q);E[q]?E[q].p(Y,M):(E[q]=ol(Y),E[q].c(),E[q].m(f,null))}for(;q<E.length;q+=1)E[q].d(1);E.length=L.length}M[0]&16385&&Ne(f,D[0]),D[5]?O?(O.p(D,M),M[0]&32&&Ce(O,1)):(O=rl(D),O.c(),Ce(O,1),O.m(e,d)):O&&(xe(),Ae(O,1,1,()=>{O=null}),Ke()),B===(B=w(D))&&N?N.p(D,M):(N.d(1),N=B(D),N&&(N.c(),Ce(N,1),N.m(e,null)))},i(D){Ce(O),Ce(N)},o(D){Ae(O)},d(D){D&&_(e),T.d(),je(E,D),O&&O.d(),N.d(),h=!1,Je(k)}}}const Gn="https://get-log-825153765638.europe-west1.run.app";function Wn(s,e,t,n,l,r){const u=s.filter(c=>{var b,f,g;if(e&&new Date(((b=c.date)==null?void 0:b.value)||c.date)<new Date(e))return!1;if(t){const d=new Date(t);if(d.setHours(23,59,59,999),new Date(((f=c.date)==null?void 0:f.value)||c.date)>d)return!1}return!(n&&c.location!==n||l&&c.session_type!==l||r&&((g=c.climbs)==null?void 0:g.grade)!==r)}),o={};return u.forEach(c=>{var d;const b=((d=c.date)==null?void 0:d.value)||c.date,g=`${new Date(b).toISOString().split("T")[0]}|${c.location}|${c.session_type}`;o[g]||(o[g]={key:g,date:c.date,location:c.location,session:c.session_type,fingerLoad:0,shoulderLoad:0,forearmLoad:0,items:[]}),o[g].fingerLoad=Math.max(o[g].fingerLoad,c.finger_load||0),o[g].shoulderLoad=Math.max(o[g].shoulderLoad,c.shoulder_load||0),o[g].forearmLoad=Math.max(o[g].forearmLoad,c.forearm_load||0),o[g].items.push(c.climbs)}),Object.values(o).sort((c,b)=>{const f=new Date(c.date.value||c.date);return new Date(b.date.value||b.date).getTime()-f.getTime()})}function kl(s){return s?new Date(s.value||s).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"2-digit"}):"-"}function xn(s){switch(s){case"indoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Session"},{key:"climbs",label:"Data",isObject:!0}];case"fingerboard":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Hang",isObject:!0}];case"outdoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Routes",isObject:!0}];default:return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"}]}}const Cl=s=>s.key!=="date"&&s.key!=="location"&&s.key!=="session_type",yl=s=>s.key!=="date"&&s.key!=="location"&&s.key!=="session_type";function Kn(s,e,t){let n,l,r,u;Il(s,wt,z=>t(22,u=z));let o="indoor",c=!1,b="",f=new Set;function g(z){f.has(z)?f.delete(z):f.add(z),t(4,f)}let d=!1,h="",k="",m="",C="",T="",L={startDate:"",endDate:"",location:"",session:"",grade:""};const E=[{id:"indoor",label:"Indoor Climb"},{id:"fingerboard",label:"Fingerboarding"},{id:"gym",label:"Gym Session"},{id:"outdoor",label:"Outdoor Climb"},{id:"other",label:"Other"}],O=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],w=["Strength","Endurance","Power","Recovery"];async function B(){if(o){t(2,c=!0),t(3,b="");try{const z=Ll(ct),we=new URLSearchParams({type:o}),ie=await fetch(`${Gn}?${we.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${z}`}});if(!ie.ok){const $=await ie.text();throw new Error($||"Failed to fetch data")}const ue=await ie.json();Ul(o,ue)}catch(z){console.error("Fetch Error:",z),t(3,b=z.message||"An unknown error occurred")}finally{t(2,c=!1)}}}function N(){t(21,L={startDate:h,endDate:k,location:m,session:C,grade:T}),t(5,d=!1)}function D(){t(6,h=""),t(7,k=""),t(8,m=""),t(9,C=""),t(10,T=""),N()}function M(){if(!n||n.length===0)return;const z=["date","location","session_type","finger_load","shoulder_load","forearm_load"],we=new Set;n.forEach(Le=>{Le.climbs&&Object.keys(Le.climbs).forEach(se=>we.add(se))});const ie=Array.from(we),ue=[...z,...ie],$=[];$.push(ue.join(",")),n.forEach(Le=>{const se=ue.map(ee=>{let F;return z.includes(ee)?F=Le[ee]:F=Le.climbs?Le.climbs[ee]:"",F&&typeof F=="object"&&F.value&&(F=F.value),`"${(F==null?"":String(F)).replace(/"/g,'""')}"`});$.push(se.join(","))});const Pe=$.join(`
`),ce=new Blob([Pe],{type:"text/csv;charset=utf-8;"}),ve=URL.createObjectURL(ce),he=document.createElement("a");he.setAttribute("href",ve),he.setAttribute("download",`training_data_${o}_${new Date().toISOString().split("T")[0]}.csv`),he.style.visibility="hidden",document.body.appendChild(he),he.click(),document.body.removeChild(he)}Fl(()=>{});const q=()=>t(5,d=!d);function Y(){o=We(this),t(0,o),t(14,E)}function ne(){h=this.value,t(6,h)}function ke(){k=this.value,t(7,k)}function V(){m=this.value,t(8,m),t(15,O)}function A(){m=We(this),t(8,m),t(15,O)}function oe(){C=We(this),t(9,C),t(16,w)}function Z(){C=We(this),t(9,C),t(16,w)}function J(){T=this.value,t(10,T)}const re=z=>g(z.key);return s.$$.update=()=>{s.$$.dirty[0]&4194305&&t(1,n=u[o]||[]),s.$$.dirty[0]&2097154&&t(12,l=Wn(n,L.startDate,L.endDate,L.location,L.session,L.grade)),s.$$.dirty[0]&1&&t(11,r=xn(o))},[o,n,c,b,f,d,h,k,m,C,T,r,l,g,E,O,w,B,N,D,M,L,u,q,Y,ne,ke,V,A,oe,Z,J,re]}class Yn extends Xe{constructor(e){super(),Ze(this,e,Kn,zn,Qe,{},null,[-1,-1])}}function Jn(s){let e,t='<h2 class="svelte-dqa28t">Graph Data</h2> <div class="placeholder svelte-dqa28t"><p class="svelte-dqa28t">Visual progress charts and graphs will be displayed here.</p> <div class="empty-state svelte-dqa28t"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-line-chart"><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"></path></svg></div></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(n){e=v(n,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-r5xejk"&&(e.innerHTML=t),this.h()},h(){a(e,"class","tab-content svelte-dqa28t")},m(n,l){G(n,e,l)},p:be,i:be,o:be,d(n){n&&_(e)}}}class Qn extends Xe{constructor(e){super(),Ze(this,e,null,Jn,Qe,{})}}function El(s,e,t){const n=s.slice();return n[5]=e[t],n}function wl(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg>',n,l;return{c(){e=p("button"),e.innerHTML=t,this.h()},l(r){e=v(r,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(e)!=="svelte-1y2odl3"&&(e.innerHTML=t),this.h()},h(){a(e,"class","logout-button svelte-xzza9f"),a(e,"title","Logout")},m(r,u){G(r,e,u),n||(l=K(e,"click",$l),n=!0)},d(r){r&&_(e),n=!1,l()}}}function Xn(s){let e,t,n;return t=new ln({}),{c(){e=p("div"),dt(t.$$.fragment),this.h()},l(l){e=v(l,"DIV",{class:!0});var r=y(e);yt(t.$$.fragment,r),r.forEach(_),this.h()},h(){a(e,"class","content-container svelte-xzza9f")},m(l,r){G(l,e,r),vt(t,e,null),n=!0},p:be,i(l){n||(Ce(t.$$.fragment,l),n=!0)},o(l){Ae(t.$$.fragment,l),n=!1},d(l){l&&_(e),ft(t)}}}function Zn(s){let e,t,n,l,r,u=de(s[3]),o=[];for(let f=0;f<u.length;f+=1)o[f]=Tl(El(s,u,f));var c=s[1].component;function b(f,g){return{}}return c&&(l=bt(c,b())),{c(){e=p("nav");for(let f=0;f<o.length;f+=1)o[f].c();t=S(),n=p("div"),l&&dt(l.$$.fragment),this.h()},l(f){e=v(f,"NAV",{class:!0});var g=y(e);for(let h=0;h<o.length;h+=1)o[h].l(g);g.forEach(_),t=I(f),n=v(f,"DIV",{class:!0});var d=y(n);l&&yt(l.$$.fragment,d),d.forEach(_),this.h()},h(){a(e,"class","tabs-nav svelte-xzza9f"),a(n,"class","content-container svelte-xzza9f")},m(f,g){G(f,e,g);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(e,null);G(f,t,g),G(f,n,g),l&&vt(l,n,null),r=!0},p(f,g){if(g&9){u=de(f[3]);let d;for(d=0;d<u.length;d+=1){const h=El(f,u,d);o[d]?o[d].p(h,g):(o[d]=Tl(h),o[d].c(),o[d].m(e,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=u.length}if(g&2&&c!==(c=f[1].component)){if(l){xe();const d=l;Ae(d.$$.fragment,1,0,()=>{ft(d,1)}),Ke()}c?(l=bt(c,b()),dt(l.$$.fragment),Ce(l.$$.fragment,1),vt(l,n,null)):l=null}},i(f){r||(l&&Ce(l.$$.fragment,f),r=!0)},o(f){l&&Ae(l.$$.fragment,f),r=!1},d(f){f&&(_(e),_(t),_(n)),je(o,f),l&&ft(l)}}}function Tl(s){let e,t=s[5].label+"",n,l,r,u;function o(){return s[4](s[5])}return{c(){e=p("button"),n=_e(t),l=S(),this.h()},l(c){e=v(c,"BUTTON",{class:!0});var b=y(e);n=pe(b,t),l=I(b),b.forEach(_),this.h()},h(){a(e,"class","tab-button svelte-xzza9f"),ze(e,"active",s[0]===s[5].id)},m(c,b){G(c,e,b),i(e,n),i(e,l),r||(u=K(e,"click",o),r=!0)},p(c,b){s=c,b&9&&ze(e,"active",s[0]===s[5].id)},d(c){c&&_(e),r=!1,u()}}}function $n(s){let e,t,n,l,r,u,o,c="Training Tracker",b,f,g,d,h;document.title=e="Training Tracker "+(s[2]?"- "+s[1].label:"(Locked)");let k=s[2]&&wl();const m=[Zn,Xn],C=[];function T(L,E){return L[2]?0:1}return g=T(s),d=C[g]=m[g](s),{c(){t=p("meta"),n=S(),l=p("main"),r=p("div"),u=p("header"),o=p("h1"),o.textContent=c,b=S(),k&&k.c(),f=S(),d.c(),this.h()},l(L){const E=Kl("svelte-ggv3pg",document.head);t=v(E,"META",{name:!0,content:!0}),E.forEach(_),n=I(L),l=v(L,"MAIN",{});var O=y(l);r=v(O,"DIV",{class:!0});var w=y(r);u=v(w,"HEADER",{class:!0});var B=y(u);o=v(B,"H1",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-95sjtq"&&(o.textContent=c),b=I(B),k&&k.l(B),B.forEach(_),f=I(w),d.l(w),w.forEach(_),O.forEach(_),this.h()},h(){a(t,"name","description"),a(t,"content","A simple Svelte webapp for tracking training"),a(o,"class","svelte-xzza9f"),a(u,"class","svelte-xzza9f"),a(r,"class","app-container svelte-xzza9f")},m(L,E){i(document.head,t),G(L,n,E),G(L,l,E),i(l,r),i(r,u),i(u,o),i(u,b),k&&k.m(u,null),i(r,f),C[g].m(r,null),h=!0},p(L,[E]){(!h||E&6)&&e!==(e="Training Tracker "+(L[2]?"- "+L[1].label:"(Locked)"))&&(document.title=e),L[2]?k||(k=wl(),k.c(),k.m(u,null)):k&&(k.d(1),k=null);let O=g;g=T(L),g===O?C[g].p(L,E):(xe(),Ae(C[O],1,1,()=>{C[O]=null}),Ke(),d=C[g],d?d.p(L,E):(d=C[g]=m[g](L),d.c()),Ce(d,1),d.m(r,null))},i(L){h||(Ce(d),h=!0)},o(L){Ae(d),h=!1},d(L){L&&(_(n),_(l)),_(t),k&&k.d(),C[g].d()}}}function es(s,e,t){let n,l;Il(s,ct,c=>t(2,l=c));const r=[{id:"log",label:"Log Exercise",component:On},{id:"view",label:"View Data",component:Yn},{id:"graph",label:"Graph Data",component:Qn}];let u="log";const o=c=>t(0,u=c.id);return s.$$.update=()=>{s.$$.dirty&1&&t(1,n=r.find(c=>c.id===u))},[u,n,l,r,o]}class ss extends Xe{constructor(e){super(),Ze(this,e,es,$n,Qe,{})}}export{ss as component};
