import{n as B,f as nt,r as Le,s as se,h as ee,i as at,e as rt,y as ct,c as ut}from"../chunks/GsYGQhEn.js";import{y as ht,z as ft,A as dt,B as pt,l as F,k as W,S as le,i as ne,d as C,C as me,D as G,E as ae,a as H,b as d,F as K,G as vt,w as v,c as y,e as L,H as R,g as $,h as k,j as O,s as Ve,f as ue,t as he,I as Ie,J as ve,m as _e,n as ge,K as _t,L as Oe,p as De,q as ye,r as ke,u as Ce,v as Ae,M as Ue,N as gt}from"../chunks/DfOj_wW6.js";import{w as mt}from"../chunks/ZG84kFMr.js";function bt(l,e,t,n){if(!e)return B;const s=l.getBoundingClientRect();if(e.left===s.left&&e.right===s.right&&e.top===s.top&&e.bottom===s.bottom)return B;const{delay:o=0,duration:i=300,easing:c=nt,start:h=ht()+o,end:_=h+i,tick:r=B,css:b}=t(l,{from:e,to:s},n);let a=!0,u=!1,p;function w(){b&&(p=pt(l,0,1,i,o,c,b)),o||(u=!0)}function f(){b&&dt(l,p),a=!1}return ft(T=>{if(!u&&T>=h&&(u=!0),u&&T>=_&&(r(1,0),f()),!a)return!1;if(u){const g=T-h,m=0+1*c(g/i);r(m,1-m)}return!0}),w(),r(0,1),f}function wt(l){const e=getComputedStyle(l);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,s=l.getBoundingClientRect();l.style.position="absolute",l.style.width=t,l.style.height=n,ot(l,s)}}function ot(l,e){const t=l.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(l),s=n.transform==="none"?"":n.transform;l.style.transform=`${s} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function Z(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function yt(l,e){W(l,1,1,()=>{e.delete(l.key)})}function kt(l,e){l.f(),yt(l,e)}function Ct(l,e,t,n,s,o,i,c,h,_,r,b){let a=l.length,u=o.length,p=a;const w={};for(;p--;)w[l[p].key]=p;const f=[],T=new Map,g=new Map,m=[];for(p=u;p--;){const S=b(s,o,p),M=t(S);let N=i.get(M);N?m.push(()=>N.p(S,e)):(N=_(M,S),N.c()),T.set(M,f[p]=N),M in w&&g.set(M,Math.abs(p-w[M]))}const I=new Set,E=new Set;function D(S){F(S,1),S.m(c,r),i.set(S.key,S),r=S.first,u--}for(;a&&u;){const S=f[u-1],M=l[a-1],N=S.key,J=M.key;S===M?(r=S.first,a--,u--):T.has(J)?!i.has(N)||I.has(N)?D(S):E.has(J)?a--:g.get(N)>g.get(J)?(E.add(N),D(S)):(I.add(J),a--):(h(M,i),a--)}for(;a--;){const S=l[a];T.has(S.key)||h(S,i)}for(;u;)D(f[u-1]);return Le(m),f}const He="training_tracker_api_key",Tt="c2fb788c7deedbeaa296e424d4c2921b871a4f6cb4cf393c1c1105653ab399b4",Et=localStorage.getItem(He),Te=mt(Et);Te.subscribe(l=>{l?localStorage.setItem(He,l):localStorage.removeItem(He)});async function xt(l){const e=new TextEncoder().encode(l),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}async function zt(l){return await xt(l)===Tt?(Te.set(l),!0):!1}function St(){Te.set(null)}function it(l){const e=l-1;return e*e*e+1}function re(l,{delay:e=0,duration:t=400,easing:n=nt}={}){const s=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:n,css:o=>`opacity: ${o*s}`}}function It(l,{delay:e=0,duration:t=400,easing:n=it,axis:s="y"}={}){const o=getComputedStyle(l),i=+o.opacity,c=s==="y"?"height":"width",h=parseFloat(o[c]),_=s==="y"?["top","bottom"]:["left","right"],r=_.map(T=>`${T[0].toUpperCase()}${T.slice(1)}`),b=parseFloat(o[`padding${r[0]}`]),a=parseFloat(o[`padding${r[1]}`]),u=parseFloat(o[`margin${r[0]}`]),p=parseFloat(o[`margin${r[1]}`]),w=parseFloat(o[`border${r[0]}Width`]),f=parseFloat(o[`border${r[1]}Width`]);return{delay:e,duration:t,easing:n,css:T=>`overflow: hidden;opacity: ${Math.min(T*20,1)*i};${c}: ${T*h}px;padding-${_[0]}: ${T*b}px;padding-${_[1]}: ${T*a}px;margin-${_[0]}: ${T*u}px;margin-${_[1]}: ${T*p}px;border-${_[0]}-width: ${T*w}px;border-${_[1]}-width: ${T*f}px;`}}function Fe(l){let e,t;return{c(){e=k("span"),t=he(l[1]),this.h()},l(n){e=y(n,"SPAN",{class:!0});var s=L(e);t=ue(s,l[1]),s.forEach(C),this.h()},h(){v(e,"class","error-text svelte-9dby7l")},m(n,s){H(n,e,s),d(e,t)},p(n,s){s&2&&Ve(t,n[1])},d(n){n&&C(e)}}}function Dt(l){let e,t,n='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',s,o,i="Access Restricted",c,h,_="Please enter your password to unlock the application.",r,b,a,u,p,w,f,T="Unlock App",g,m,I,E=l[1]&&Fe(l);return{c(){e=k("div"),t=k("div"),t.innerHTML=n,s=O(),o=k("h2"),o.textContent=i,c=O(),h=k("p"),h.textContent=_,r=O(),b=k("form"),a=k("div"),u=k("input"),p=O(),E&&E.c(),w=O(),f=k("button"),f.textContent=T,this.h()},l(D){e=y(D,"DIV",{class:!0});var S=L(e);t=y(S,"DIV",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1lmknyl"&&(t.innerHTML=n),s=$(S),o=y(S,"H2",{class:!0,"data-svelte-h":!0}),R(o)!=="svelte-r8hgrj"&&(o.textContent=i),c=$(S),h=y(S,"P",{class:!0,"data-svelte-h":!0}),R(h)!=="svelte-1ix94go"&&(h.textContent=_),r=$(S),b=y(S,"FORM",{class:!0});var M=L(b);a=y(M,"DIV",{class:!0});var N=L(a);u=y(N,"INPUT",{type:!0,placeholder:!0,class:!0}),p=$(N),E&&E.l(N),N.forEach(C),w=$(M),f=y(M,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),R(f)!=="svelte-6e23ii"&&(f.textContent=T),M.forEach(C),S.forEach(C),this.h()},h(){v(t,"class","lock-icon svelte-9dby7l"),v(o,"class","svelte-9dby7l"),v(h,"class","svelte-9dby7l"),v(u,"type","password"),v(u,"placeholder","Enter Password"),u.disabled=l[2],v(u,"class","svelte-9dby7l"),ae(u,"error",l[1]),v(a,"class","input-group svelte-9dby7l"),v(f,"type","submit"),v(f,"class","unlock-button svelte-9dby7l"),v(b,"class","svelte-9dby7l"),v(e,"class","login-container svelte-9dby7l")},m(D,S){H(D,e,S),d(e,t),d(e,s),d(e,o),d(e,c),d(e,h),d(e,r),d(e,b),d(b,a),d(a,u),G(u,l[0]),d(a,p),E&&E.m(a,null),d(b,w),d(b,f),m||(I=[K(u,"input",l[4]),K(b,"submit",vt(l[3]))],m=!0)},p(D,[S]){S&4&&(u.disabled=D[2]),S&1&&u.value!==D[0]&&G(u,D[0]),S&2&&ae(u,"error",D[1]),D[1]?E?E.p(D,S):(E=Fe(D),E.c(),E.m(a,null)):E&&(E.d(1),E=null)},i(D){D&&(g||ee(()=>{g=me(e,re,{}),g.start()}))},o:B,d(D){D&&C(e),E&&E.d(),m=!1,Le(I)}}}function Lt(l,e,t){let n="",s="",o=!1;async function i(){if(!n.trim()){t(1,s="Please enter a password");return}t(2,o=!0),t(1,s="");try{await zt(n.trim())||t(1,s="Incorrect password")}catch{t(1,s="An error occurred")}finally{t(2,o=!1)}}function c(){n=this.value,t(0,n)}return[n,s,o,i,c]}class jt extends le{constructor(e){super(),ne(this,e,Lt,Dt,se,{})}}function Mt(l,{from:e,to:t},n={}){const s=getComputedStyle(l),o=s.transform==="none"?"":s.transform,[i,c]=s.transformOrigin.split(" ").map(parseFloat),h=e.left+e.width*i/t.width-(t.left+i),_=e.top+e.height*c/t.height-(t.top+c),{delay:r=0,duration:b=u=>Math.sqrt(u)*120,easing:a=it}=n;return{delay:r,duration:at(b)?b(Math.sqrt(h*h+_*_)):b,easing:a,css:(u,p)=>{const w=p*h,f=p*_,T=u+p*e.width/t.width,g=u+p*e.height/t.height;return`transform: ${o} translate(${w}px, ${f}px) scale(${T}, ${g});`}}}function qe(l,e,t){const n=l.slice();return n[15]=e[t],n[16]=e,n[17]=t,n}function Ge(l,e,t){const n=l.slice();return n[18]=e[t],n}function Ke(l,e,t){const n=l.slice();return n[18]=e[t],n}function We(l){let e,t=l[18]+"",n;return{c(){e=k("option"),n=he(t),this.h()},l(s){e=y(s,"OPTION",{});var o=L(e);n=ue(o,t),o.forEach(C),this.h()},h(){e.__value=l[18],G(e,e.__value)},m(s,o){H(s,e,o),d(e,n)},p:B,d(s){s&&C(e)}}}function Ye(l){let e,t=l[18]+"",n;return{c(){e=k("option"),n=he(t),this.h()},l(s){e=y(s,"OPTION",{});var o=L(e);n=ue(o,t),o.forEach(C),this.h()},h(){e.__value=l[18],G(e,e.__value)},m(s,o){H(s,e,o),d(e,n)},p:B,d(s){s&&C(e)}}}function Je(l,e){let t,n,s,o,i,c,h,_,r,b,a,u,p,w,f,T='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',g,m,I,E=B,D,S,M;function N(){e[10].call(s,e[16],e[17])}function J(){e[11].call(c,e[16],e[17])}function oe(){e[12].call(r,e[16],e[17])}function Q(){e[13].call(u,e[16],e[17])}function ie(){return e[14](e[15])}return{key:l,first:null,c(){t=k("tr"),n=k("td"),s=k("input"),o=O(),i=k("td"),c=k("input"),h=O(),_=k("td"),r=k("input"),b=O(),a=k("td"),u=k("textarea"),p=O(),w=k("td"),f=k("button"),f.innerHTML=T,g=O(),this.h()},l(q){t=y(q,"TR",{});var V=L(t);n=y(V,"TD",{class:!0});var te=L(n);s=y(te,"INPUT",{type:!0,class:!0}),te.forEach(C),o=$(V),i=y(V,"TD",{class:!0});var A=L(i);c=y(A,"INPUT",{type:!0,placeholder:!0,class:!0}),A.forEach(C),h=$(V),_=y(V,"TD",{class:!0});var be=L(_);r=y(be,"INPUT",{type:!0,placeholder:!0,class:!0}),be.forEach(C),b=$(V),a=y(V,"TD",{class:!0});var fe=L(a);u=y(fe,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),L(u).forEach(C),fe.forEach(C),p=$(V),w=y(V,"TD",{class:!0});var ce=L(w);f=y(ce,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),R(f)!=="svelte-zfon6j"&&(f.innerHTML=T),ce.forEach(C),g=$(V),V.forEach(C),this.h()},h(){v(s,"type","checkbox"),v(s,"class","svelte-6anjsz"),v(n,"class","checkbox-col svelte-6anjsz"),v(c,"type","text"),v(c,"placeholder","e.g. Blue"),v(c,"class","svelte-6anjsz"),v(i,"class","svelte-6anjsz"),v(r,"type","text"),v(r,"placeholder","e.g. 6b+"),v(r,"class","svelte-6anjsz"),v(_,"class","svelte-6anjsz"),v(u,"placeholder","e.g. Smooth"),v(u,"rows","1"),v(u,"class","svelte-6anjsz"),v(a,"class","svelte-6anjsz"),v(f,"class","delete-btn svelte-6anjsz"),v(f,"title","Remove row"),v(w,"class","actions-col svelte-6anjsz"),this.first=t},m(q,V){H(q,t,V),d(t,n),d(n,s),s.checked=e[15].isRopes,d(t,o),d(t,i),d(i,c),G(c,e[15].name),d(t,h),d(t,_),d(_,r),G(r,e[15].grade),d(t,b),d(t,a),d(a,u),G(u,e[15].notes),d(t,p),d(t,w),d(w,f),d(t,g),D=!0,S||(M=[K(s,"change",N),K(c,"input",J),K(r,"input",oe),K(u,"input",Q),K(f,"click",ie)],S=!0)},p(q,V){e=q,V&4&&(s.checked=e[15].isRopes),V&4&&c.value!==e[15].name&&G(c,e[15].name),V&4&&r.value!==e[15].grade&&G(r,e[15].grade),V&4&&G(u,e[15].notes)},r(){I=t.getBoundingClientRect()},f(){wt(t),E(),ot(t,I)},a(){E(),E=bt(t,I,Mt,{duration:300})},i(q){D||(m&&m.end(1),D=!0)},o(q){q&&(m=_t(t,It,{duration:200})),D=!1},d(q){q&&C(t),q&&m&&m.end(),S=!1,Le(M)}}}function $t(l){let e,t,n,s,o="Location",i,c,h,_="Select Location",r,b,a,u="Session Focus",p,w,f,T="Select Focus",g,m,I,E,D="Exercises / Routes",S,M,N=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,J,oe,Q,ie,q='<tr><th class="checkbox-col svelte-6anjsz">Ropes?</th> <th class="svelte-6anjsz">Route</th> <th class="svelte-6anjsz">Grade</th> <th class="svelte-6anjsz">Notes</th> <th class="actions-col svelte-6anjsz"></th></tr>',V,te,A=[],be=new Map,fe,ce,je,Re,de=Z(l[3]),P=[];for(let z=0;z<de.length;z+=1)P[z]=We(Ke(l,de,z));let pe=Z(l[4]),U=[];for(let z=0;z<pe.length;z+=1)U[z]=Ye(Ge(l,pe,z));let we=Z(l[2]);const Be=z=>z[15].id;for(let z=0;z<we.length;z+=1){let j=qe(l,we,z),x=Be(j);be.set(x,A[z]=Je(x,j))}return{c(){e=k("div"),t=k("div"),n=k("div"),s=k("label"),s.textContent=o,i=O(),c=k("select"),h=k("option"),h.textContent=_;for(let z=0;z<P.length;z+=1)P[z].c();r=O(),b=k("div"),a=k("label"),a.textContent=u,p=O(),w=k("select"),f=k("option"),f.textContent=T;for(let z=0;z<U.length;z+=1)U[z].c();g=O(),m=k("div"),I=k("div"),E=k("h3"),E.textContent=D,S=O(),M=k("button"),M.innerHTML=N,J=O(),oe=k("div"),Q=k("table"),ie=k("thead"),ie.innerHTML=q,V=O(),te=k("tbody");for(let z=0;z<A.length;z+=1)A[z].c();this.h()},l(z){e=y(z,"DIV",{class:!0});var j=L(e);t=y(j,"DIV",{class:!0});var x=L(t);n=y(x,"DIV",{class:!0});var X=L(n);s=y(X,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(s)!=="svelte-1ij7h26"&&(s.textContent=o),i=$(X),c=y(X,"SELECT",{id:!0,class:!0});var Me=L(c);h=y(Me,"OPTION",{"data-svelte-h":!0}),R(h)!=="svelte-mwu9va"&&(h.textContent=_);for(let Y=0;Y<P.length;Y+=1)P[Y].l(Me);Me.forEach(C),X.forEach(C),r=$(x),b=y(x,"DIV",{class:!0});var Ee=L(b);a=y(Ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(a)!=="svelte-tg5qne"&&(a.textContent=u),p=$(Ee),w=y(Ee,"SELECT",{id:!0,class:!0});var $e=L(w);f=y($e,"OPTION",{"data-svelte-h":!0}),R(f)!=="svelte-1ni71k3"&&(f.textContent=T);for(let Y=0;Y<U.length;Y+=1)U[Y].l($e);$e.forEach(C),Ee.forEach(C),x.forEach(C),g=$(j),m=y(j,"DIV",{class:!0});var xe=L(m);I=y(xe,"DIV",{class:!0});var ze=L(I);E=y(ze,"H3",{class:!0,"data-svelte-h":!0}),R(E)!=="svelte-10xktbo"&&(E.textContent=D),S=$(ze),M=y(ze,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),R(M)!=="svelte-psf54d"&&(M.innerHTML=N),ze.forEach(C),J=$(xe),oe=y(xe,"DIV",{class:!0});var Ne=L(oe);Q=y(Ne,"TABLE",{class:!0});var Se=L(Q);ie=y(Se,"THEAD",{"data-svelte-h":!0}),R(ie)!=="svelte-3ucy7b"&&(ie.innerHTML=q),V=$(Se),te=y(Se,"TBODY",{});var Pe=L(te);for(let Y=0;Y<A.length;Y+=1)A[Y].l(Pe);Pe.forEach(C),Se.forEach(C),Ne.forEach(C),xe.forEach(C),j.forEach(C),this.h()},h(){v(s,"for","climb-location"),v(s,"class","svelte-6anjsz"),h.__value="",G(h,h.__value),h.disabled=!0,h.selected=!0,v(c,"id","climb-location"),v(c,"class","svelte-6anjsz"),l[0]===void 0&&ee(()=>l[8].call(c)),v(n,"class","input-group svelte-6anjsz"),v(a,"for","climb-session"),v(a,"class","svelte-6anjsz"),f.__value="",G(f,f.__value),f.disabled=!0,f.selected=!0,v(w,"id","climb-session"),v(w,"class","svelte-6anjsz"),l[1]===void 0&&ee(()=>l[9].call(w)),v(b,"class","input-group svelte-6anjsz"),v(t,"class","form-grid svelte-6anjsz"),v(E,"class","svelte-6anjsz"),v(M,"class","add-row-btn svelte-6anjsz"),v(M,"title","Add Exercise"),v(I,"class","section-header svelte-6anjsz"),v(Q,"class","svelte-6anjsz"),v(oe,"class","table-container svelte-6anjsz"),v(m,"class","exercise-section svelte-6anjsz"),v(e,"class","indoor-config svelte-6anjsz")},m(z,j){H(z,e,j),d(e,t),d(t,n),d(n,s),d(n,i),d(n,c),d(c,h);for(let x=0;x<P.length;x+=1)P[x]&&P[x].m(c,null);ve(c,l[0],!0),d(t,r),d(t,b),d(b,a),d(b,p),d(b,w),d(w,f);for(let x=0;x<U.length;x+=1)U[x]&&U[x].m(w,null);ve(w,l[1],!0),d(e,g),d(e,m),d(m,I),d(I,E),d(I,S),d(I,M),d(m,J),d(m,oe),d(oe,Q),d(Q,ie),d(Q,V),d(Q,te);for(let x=0;x<A.length;x+=1)A[x]&&A[x].m(te,null);ce=!0,je||(Re=[K(c,"change",l[8]),K(w,"change",l[9]),K(M,"click",l[5])],je=!0)},p(z,[j]){if(j&8){de=Z(z[3]);let x;for(x=0;x<de.length;x+=1){const X=Ke(z,de,x);P[x]?P[x].p(X,j):(P[x]=We(X),P[x].c(),P[x].m(c,null))}for(;x<P.length;x+=1)P[x].d(1);P.length=de.length}if(j&9&&ve(c,z[0]),j&16){pe=Z(z[4]);let x;for(x=0;x<pe.length;x+=1){const X=Ge(z,pe,x);U[x]?U[x].p(X,j):(U[x]=Ye(X),U[x].c(),U[x].m(w,null))}for(;x<U.length;x+=1)U[x].d(1);U.length=pe.length}if(j&18&&ve(w,z[1]),j&68){we=Z(z[2]),_e();for(let x=0;x<A.length;x+=1)A[x].r();A=Ct(A,j,Be,1,z,we,be,te,kt,Je,null,qe);for(let x=0;x<A.length;x+=1)A[x].a();ge()}},i(z){if(!ce){for(let j=0;j<we.length;j+=1)F(A[j]);z&&(fe||ee(()=>{fe=me(e,re,{}),fe.start()})),ce=!0}},o(z){for(let j=0;j<A.length;j+=1)W(A[j]);ce=!1},d(z){z&&C(e),Ie(P,z),Ie(U,z);for(let j=0;j<A.length;j+=1)A[j].d();je=!1,Le(Re)}}}function Ot(l,e,t){let n="",s="",o=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];const i=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],c=["Strength","Endurance","Power","Recovery"];function h(){t(2,o=[...o,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function _(g){o.length>1?t(2,o=o.filter(m=>m.id!==g)):t(2,o=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function r(){return{location:n,session:s,exercises:o}}function b(){n=Oe(this),t(0,n),t(3,i)}function a(){s=Oe(this),t(1,s),t(4,c)}function u(g,m){g[m].isRopes=this.checked,t(2,o)}function p(g,m){g[m].name=this.value,t(2,o)}function w(g,m){g[m].grade=this.value,t(2,o)}function f(g,m){g[m].notes=this.value,t(2,o)}return[n,s,o,i,c,h,_,r,b,a,u,p,w,f,g=>_(g.id)]}class Ht extends le{constructor(e){super(),ne(this,e,Ot,$t,se,{getData:7})}get getData(){return this.$$.ctx[7]}}function Vt(l){let e,t=`<h3 class="svelte-fh7bet">Gym Session Config</h3> <p class="svelte-fh7bet">Specific fields for gym sessions will go here (e.g., Focus, Exercises,
        Sets/Reps).</p> <div class="placeholder-box svelte-fh7bet"></div>`,n;return{c(){e=k("div"),e.innerHTML=t,this.h()},l(s){e=y(s,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-gs8whu"&&(e.innerHTML=t),this.h()},h(){v(e,"class","activity-config svelte-fh7bet")},m(s,o){H(s,e,o)},p:B,i(s){s&&(n||ee(()=>{n=me(e,re,{}),n.start()}))},o:B,d(s){s&&C(e)}}}class At extends le{constructor(e){super(),ne(this,e,null,Vt,se,{})}}function Rt(l){let e,t=`<h3 class="svelte-fh7bet">Outdoor Climb Config</h3> <p class="svelte-fh7bet">Specific fields for outdoor climbing will go here (e.g., Crag, Route
        Name, Grade, Style).</p> <div class="placeholder-box svelte-fh7bet"></div>`,n;return{c(){e=k("div"),e.innerHTML=t,this.h()},l(s){e=y(s,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1ncqukv"&&(e.innerHTML=t),this.h()},h(){v(e,"class","activity-config svelte-fh7bet")},m(s,o){H(s,e,o)},p:B,i(s){s&&(n||ee(()=>{n=me(e,re,{}),n.start()}))},o:B,d(s){s&&C(e)}}}class Bt extends le{constructor(e){super(),ne(this,e,null,Rt,se,{})}}function Nt(l){let e,t='<h3 class="svelte-fh7bet">Other Activity Config</h3> <p class="svelte-fh7bet">Generic fields for other activities will go here.</p> <div class="placeholder-box svelte-fh7bet"></div>',n;return{c(){e=k("div"),e.innerHTML=t,this.h()},l(s){e=y(s,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-kjirec"&&(e.innerHTML=t),this.h()},h(){v(e,"class","activity-config svelte-fh7bet")},m(s,o){H(s,e,o)},p:B,i(s){s&&(n||ee(()=>{n=me(e,re,{}),n.start()}))},o:B,d(s){s&&C(e)}}}class Pt extends le{constructor(e){super(),ne(this,e,null,Nt,se,{})}}function Qe(l,e,t){const n=l.slice();return n[10]=e[t],n}function Xe(l){let e,t=l[10].text+"",n,s;return{c(){e=k("option"),n=he(t),s=O(),this.h()},l(o){e=y(o,"OPTION",{});var i=L(e);n=ue(i,t),s=$(i),i.forEach(C),this.h()},h(){e.__value=l[10].id,G(e,e.__value)},m(o,i){H(o,e,i),d(e,n),d(e,s)},p:B,d(o){o&&C(e)}}}function Ze(l){let e,t,n,s,o,i=l[2]?"Saving...":"Save Log",c,h,_,r,b;var a=l[5].component;function u(w,f){return{props:{}}}a&&(t=De(a,u()),l[9](t));let p=l[3]&&et(l);return{c(){e=k("div"),t&&ke(t.$$.fragment),n=O(),p&&p.c(),s=O(),o=k("button"),c=he(i),this.h()},l(w){e=y(w,"DIV",{class:!0});var f=L(e);t&&Ae(t.$$.fragment,f),n=$(f),p&&p.l(f),s=$(f),o=y(f,"BUTTON",{class:!0});var T=L(o);c=ue(T,i),T.forEach(C),f.forEach(C),this.h()},h(){v(o,"class","save-button svelte-148fipo"),o.disabled=l[2],v(e,"class","config-wrapper svelte-148fipo")},m(w,f){H(w,e,f),t&&Ce(t,e,null),d(e,n),p&&p.m(e,null),d(e,s),d(e,o),d(o,c),_=!0,r||(b=K(o,"click",l[7]),r=!0)},p(w,f){if(f&32&&a!==(a=w[5].component)){if(t){_e();const T=t;W(T.$$.fragment,1,0,()=>{ye(T,1)}),ge()}a?(t=De(a,u()),w[9](t),ke(t.$$.fragment),F(t.$$.fragment,1),Ce(t,e,n)):t=null}else if(a){const T={};t.$set(T)}w[3]?p?(p.p(w,f),f&8&&F(p,1)):(p=et(w),p.c(),F(p,1),p.m(e,s)):p&&(_e(),W(p,1,1,()=>{p=null}),ge()),(!_||f&4)&&i!==(i=w[2]?"Saving...":"Save Log")&&Ve(c,i),(!_||f&4)&&(o.disabled=w[2])},i(w){_||(t&&F(t.$$.fragment,w),F(p),w&&(h||ee(()=>{h=me(e,re,{}),h.start()})),_=!0)},o(w){t&&W(t.$$.fragment,w),W(p),_=!1},d(w){w&&C(e),l[9](null),t&&ye(t),p&&p.d(),r=!1,b()}}}function et(l){let e,t,n,s;return{c(){e=k("div"),t=he(l[3]),this.h()},l(o){e=y(o,"DIV",{class:!0});var i=L(e);t=ue(i,l[3]),i.forEach(C),this.h()},h(){v(e,"class","message svelte-148fipo"),ae(e,"success",l[4]),ae(e,"error",!l[4])},m(o,i){H(o,e,i),d(e,t),s=!0},p(o,i){(!s||i&8)&&Ve(t,o[3]),(!s||i&16)&&ae(e,"success",o[4]),(!s||i&16)&&ae(e,"error",!o[4])},i(o){s||(o&&ee(()=>{s&&(n||(n=Ue(e,re,{},!0)),n.run(1))}),s=!0)},o(o){o&&(n||(n=Ue(e,re,{},!1)),n.run(0)),s=!1},d(o){o&&C(e),o&&n&&n.end()}}}function Ut(l){let e,t,n="Log Exercise",s,o,i,c="What did you do today?",h,_,r,b="Select activity type...",a,u,p,w,f=Z(l[6]),T=[];for(let m=0;m<f.length;m+=1)T[m]=Xe(Qe(l,f,m));let g=l[5]&&Ze(l);return{c(){e=k("div"),t=k("h2"),t.textContent=n,s=O(),o=k("div"),i=k("label"),i.textContent=c,h=O(),_=k("select"),r=k("option"),r.textContent=b;for(let m=0;m<T.length;m+=1)T[m].c();a=O(),g&&g.c(),this.h()},l(m){e=y(m,"DIV",{class:!0});var I=L(e);t=y(I,"H2",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1eeau7i"&&(t.textContent=n),s=$(I),o=y(I,"DIV",{class:!0});var E=L(o);i=y(E,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(i)!=="svelte-1ndwsee"&&(i.textContent=c),h=$(E),_=y(E,"SELECT",{id:!0,class:!0});var D=L(_);r=y(D,"OPTION",{"data-svelte-h":!0}),R(r)!=="svelte-11gchci"&&(r.textContent=b);for(let S=0;S<T.length;S+=1)T[S].l(D);D.forEach(C),E.forEach(C),a=$(I),g&&g.l(I),I.forEach(C),this.h()},h(){v(t,"class","svelte-148fipo"),v(i,"for","exercise-type"),v(i,"class","svelte-148fipo"),r.__value="",G(r,r.__value),r.disabled=!0,r.selected=!0,v(_,"id","exercise-type"),v(_,"class","svelte-148fipo"),l[0]===void 0&&ee(()=>l[8].call(_)),v(o,"class","dropdown-wrapper svelte-148fipo"),v(e,"class","tab-content svelte-148fipo")},m(m,I){H(m,e,I),d(e,t),d(e,s),d(e,o),d(o,i),d(o,h),d(o,_),d(_,r);for(let E=0;E<T.length;E+=1)T[E]&&T[E].m(_,null);ve(_,l[0],!0),d(e,a),g&&g.m(e,null),u=!0,p||(w=K(_,"change",l[8]),p=!0)},p(m,[I]){if(I&64){f=Z(m[6]);let E;for(E=0;E<f.length;E+=1){const D=Qe(m,f,E);T[E]?T[E].p(D,I):(T[E]=Xe(D),T[E].c(),T[E].m(_,null))}for(;E<T.length;E+=1)T[E].d(1);T.length=f.length}I&65&&ve(_,m[0]),m[5]?g?(g.p(m,I),I&32&&F(g,1)):(g=Ze(m),g.c(),F(g,1),g.m(e,null)):g&&(_e(),W(g,1,1,()=>{g=null}),ge())},i(m){u||(F(g),u=!0)},o(m){W(g),u=!1},d(m){m&&C(e),Ie(T,m),g&&g.d(),p=!1,w()}}}const Ft="https://save-log-825153765638.europe-west1.run.app";function qt(l,e,t){let n,s="";const o=[{id:"indoor",text:"Indoor Climb",component:Ht},{id:"gym",text:"Gym Session",component:At},{id:"outdoor",text:"Outdoor Climb",component:Bt},{id:"other",text:"Other",component:Pt}];let i,c=!1,h="",_=!1;async function r(){if(!i||!i.getData){console.error("Component does not support data export");return}const u=i.getData(),p=ct(Te);if(!u.location||!u.session||u.exercises&&u.exercises.length===0){t(3,h="Please select a Location, Session, and add at least one exercise."),t(4,_=!1);return}if(!p){t(3,h="Authentication error. Please log in again."),t(4,_=!1);return}t(2,c=!0),t(3,h="");try{const w={climbing_type:"Indoor",location:u.location,session_type:u.session,climbs:u.exercises,date:new Date().toISOString()},f=await fetch(Ft,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify(w)});if(!f.ok)throw new Error(`Server error: ${f.statusText}`);t(3,h="Log saved successfully!"),t(4,_=!0)}catch(w){console.error("Save Error:",w),t(3,h="Failed to save log. Check console for details."),t(4,_=!1)}finally{t(2,c=!1)}}function b(){s=Oe(this),t(0,s),t(6,o)}function a(u){rt[u?"unshift":"push"](()=>{i=u,t(1,i)})}return l.$$.update=()=>{l.$$.dirty&1&&t(5,n=o.find(u=>u.id===s)),l.$$.dirty&1&&s&&t(3,h="")},[s,i,c,h,_,n,o,r,b,a]}class Gt extends le{constructor(e){super(),ne(this,e,qt,Ut,se,{})}}function Kt(l){let e,t='<h2 class="svelte-1g5xf5r">View Data</h2> <div class="placeholder svelte-1g5xf5r"><p class="svelte-1g5xf5r">Your logged exercises will appear here in a list or table view.</p> <div class="empty-state svelte-1g5xf5r"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-list"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg></div></div>';return{c(){e=k("div"),e.innerHTML=t,this.h()},l(n){e=y(n,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1m6v5zl"&&(e.innerHTML=t),this.h()},h(){v(e,"class","tab-content svelte-1g5xf5r")},m(n,s){H(n,e,s)},p:B,i:B,o:B,d(n){n&&C(e)}}}class Wt extends le{constructor(e){super(),ne(this,e,null,Kt,se,{})}}function Yt(l){let e,t='<h2 class="svelte-dqa28t">Graph Data</h2> <div class="placeholder svelte-dqa28t"><p class="svelte-dqa28t">Visual progress charts and graphs will be displayed here.</p> <div class="empty-state svelte-dqa28t"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-line-chart"><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"></path></svg></div></div>';return{c(){e=k("div"),e.innerHTML=t,this.h()},l(n){e=y(n,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-r5xejk"&&(e.innerHTML=t),this.h()},h(){v(e,"class","tab-content svelte-dqa28t")},m(n,s){H(n,e,s)},p:B,i:B,o:B,d(n){n&&C(e)}}}class Jt extends le{constructor(e){super(),ne(this,e,null,Yt,se,{})}}function tt(l,e,t){const n=l.slice();return n[5]=e[t],n}function st(l){let e,t='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg>',n,s;return{c(){e=k("button"),e.innerHTML=t,this.h()},l(o){e=y(o,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),R(e)!=="svelte-1y2odl3"&&(e.innerHTML=t),this.h()},h(){v(e,"class","logout-button svelte-xzza9f"),v(e,"title","Logout")},m(o,i){H(o,e,i),n||(s=K(e,"click",St),n=!0)},d(o){o&&C(e),n=!1,s()}}}function Qt(l){let e,t,n;return t=new jt({}),{c(){e=k("div"),ke(t.$$.fragment),this.h()},l(s){e=y(s,"DIV",{class:!0});var o=L(e);Ae(t.$$.fragment,o),o.forEach(C),this.h()},h(){v(e,"class","content-container svelte-xzza9f")},m(s,o){H(s,e,o),Ce(t,e,null),n=!0},p:B,i(s){n||(F(t.$$.fragment,s),n=!0)},o(s){W(t.$$.fragment,s),n=!1},d(s){s&&C(e),ye(t)}}}function Xt(l){let e,t,n,s,o,i=Z(l[3]),c=[];for(let r=0;r<i.length;r+=1)c[r]=lt(tt(l,i,r));var h=l[1].component;function _(r,b){return{}}return h&&(s=De(h,_())),{c(){e=k("nav");for(let r=0;r<c.length;r+=1)c[r].c();t=O(),n=k("div"),s&&ke(s.$$.fragment),this.h()},l(r){e=y(r,"NAV",{class:!0});var b=L(e);for(let u=0;u<c.length;u+=1)c[u].l(b);b.forEach(C),t=$(r),n=y(r,"DIV",{class:!0});var a=L(n);s&&Ae(s.$$.fragment,a),a.forEach(C),this.h()},h(){v(e,"class","tabs-nav svelte-xzza9f"),v(n,"class","content-container svelte-xzza9f")},m(r,b){H(r,e,b);for(let a=0;a<c.length;a+=1)c[a]&&c[a].m(e,null);H(r,t,b),H(r,n,b),s&&Ce(s,n,null),o=!0},p(r,b){if(b&9){i=Z(r[3]);let a;for(a=0;a<i.length;a+=1){const u=tt(r,i,a);c[a]?c[a].p(u,b):(c[a]=lt(u),c[a].c(),c[a].m(e,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=i.length}if(b&2&&h!==(h=r[1].component)){if(s){_e();const a=s;W(a.$$.fragment,1,0,()=>{ye(a,1)}),ge()}h?(s=De(h,_()),ke(s.$$.fragment),F(s.$$.fragment,1),Ce(s,n,null)):s=null}},i(r){o||(s&&F(s.$$.fragment,r),o=!0)},o(r){s&&W(s.$$.fragment,r),o=!1},d(r){r&&(C(e),C(t),C(n)),Ie(c,r),s&&ye(s)}}}function lt(l){let e,t=l[5].label+"",n,s,o,i;function c(){return l[4](l[5])}return{c(){e=k("button"),n=he(t),s=O(),this.h()},l(h){e=y(h,"BUTTON",{class:!0});var _=L(e);n=ue(_,t),s=$(_),_.forEach(C),this.h()},h(){v(e,"class","tab-button svelte-xzza9f"),ae(e,"active",l[0]===l[5].id)},m(h,_){H(h,e,_),d(e,n),d(e,s),o||(i=K(e,"click",c),o=!0)},p(h,_){l=h,_&9&&ae(e,"active",l[0]===l[5].id)},d(h){h&&C(e),o=!1,i()}}}function Zt(l){let e,t,n,s,o,i,c,h="Training Tracker",_,r,b,a,u;document.title=e="Training Tracker "+(l[2]?"- "+l[1].label:"(Locked)");let p=l[2]&&st();const w=[Xt,Qt],f=[];function T(g,m){return g[2]?0:1}return b=T(l),a=f[b]=w[b](l),{c(){t=k("meta"),n=O(),s=k("main"),o=k("div"),i=k("header"),c=k("h1"),c.textContent=h,_=O(),p&&p.c(),r=O(),a.c(),this.h()},l(g){const m=gt("svelte-ggv3pg",document.head);t=y(m,"META",{name:!0,content:!0}),m.forEach(C),n=$(g),s=y(g,"MAIN",{});var I=L(s);o=y(I,"DIV",{class:!0});var E=L(o);i=y(E,"HEADER",{class:!0});var D=L(i);c=y(D,"H1",{class:!0,"data-svelte-h":!0}),R(c)!=="svelte-95sjtq"&&(c.textContent=h),_=$(D),p&&p.l(D),D.forEach(C),r=$(E),a.l(E),E.forEach(C),I.forEach(C),this.h()},h(){v(t,"name","description"),v(t,"content","A simple Svelte webapp for tracking training"),v(c,"class","svelte-xzza9f"),v(i,"class","svelte-xzza9f"),v(o,"class","app-container svelte-xzza9f")},m(g,m){d(document.head,t),H(g,n,m),H(g,s,m),d(s,o),d(o,i),d(i,c),d(i,_),p&&p.m(i,null),d(o,r),f[b].m(o,null),u=!0},p(g,[m]){(!u||m&6)&&e!==(e="Training Tracker "+(g[2]?"- "+g[1].label:"(Locked)"))&&(document.title=e),g[2]?p||(p=st(),p.c(),p.m(i,null)):p&&(p.d(1),p=null);let I=b;b=T(g),b===I?f[b].p(g,m):(_e(),W(f[I],1,1,()=>{f[I]=null}),ge(),a=f[b],a?a.p(g,m):(a=f[b]=w[b](g),a.c()),F(a,1),a.m(o,null))},i(g){u||(F(a),u=!0)},o(g){W(a),u=!1},d(g){g&&(C(n),C(s)),C(t),p&&p.d(),f[b].d()}}}function es(l,e,t){let n,s;ut(l,Te,h=>t(2,s=h));const o=[{id:"log",label:"Log Exercise",component:Gt},{id:"view",label:"View Data",component:Wt},{id:"graph",label:"Graph Data",component:Jt}];let i="log";const c=h=>t(0,i=h.id);return l.$$.update=()=>{l.$$.dirty&1&&t(1,n=o.find(h=>h.id===i))},[i,n,s,o,c]}class ns extends le{constructor(e){super(),ne(this,e,es,Zt,se,{})}}export{ns as component};
