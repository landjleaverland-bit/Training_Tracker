import{n as be,f as Dl,r as Je,s as Qe,h as De,i as zl,e as Hl,y as Ll,c as Il,o as Fl}from"../chunks/GsYGQhEn.js";import{y as jl,z as xl,A as Gl,B as ql,l as we,k as Ae,S as Xe,i as Ze,d as g,C as Ge,D as U,E as xe,a as G,b as i,F as K,G as Wl,w as a,c as v,e as y,H as j,g as I,h as p,j as S,s as Ve,f as pe,t as _e,I as je,J as Ne,K as Be,m as We,n as Ke,L as Sl,M as qe,N as Ye,o as mt,p as bt,q as ft,r as dt,u as vt,v as yt,O as ut,P as ht,Q as Kl}from"../chunks/BD0eBpJ7.js";import{w as Ol}from"../chunks/ZG84kFMr.js";function Nl(s,e,t,n){if(!e)return be;const l=s.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return be;const{delay:r=0,duration:c=300,easing:o=Dl,start:u=jl()+r,end:b=u+c,tick:h=be,css:_}=t(s,{from:e,to:l},n);let d=!0,f=!1,k;function m(){_&&(k=ql(s,0,1,c,r,o,_)),r||(f=!0)}function w(){_&&Gl(s,k),d=!1}return xl(T=>{if(!f&&T>=u&&(f=!0),f&&T>=b&&(h(1,0),w()),!d)return!1;if(f){const L=T-u,C=0+1*o(L/c);h(C,1-C)}return!0}),m(),h(0,1),w}function Al(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,l=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=n,Ct(s,l)}}function Ct(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(s),l=n.transform==="none"?"":n.transform;s.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function de(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Bl(s,e){s.d(1),e.delete(s.key)}function Yl(s,e){Ae(s,1,1,()=>{e.delete(s.key)})}function Vl(s,e){s.f(),Yl(s,e)}function kt(s,e,t,n,l,r,c,o,u,b,h,_){let d=s.length,f=r.length,k=d;const m={};for(;k--;)m[s[k].key]=k;const w=[],T=new Map,L=new Map,C=[];for(k=f;k--;){const N=_(l,r,k),D=t(N);let M=c.get(D);M?C.push(()=>M.p(N,e)):(M=b(D,N),M.c()),T.set(D,w[k]=M),D in m&&L.set(D,Math.abs(k-m[D]))}const O=new Set,E=new Set;function B(N){we(N,1),N.m(o,h),c.set(N.key,N),h=N.first,f--}for(;d&&f;){const N=w[f-1],D=s[d-1],M=N.key,H=D.key;N===D?(h=N.first,d--,f--):T.has(H)?!c.has(M)||O.has(M)?B(N):E.has(H)?d--:L.get(M)>L.get(H)?(E.add(M),B(N)):(O.add(H),d--):(u(D,c),d--)}for(;d--;){const N=s[d];T.has(N.key)||u(N,c)}for(;f;)B(w[f-1]);return Je(C),w}const wt="training_tracker_api_key",Jl="c2fb788c7deedbeaa296e424d4c2921b871a4f6cb4cf393c1c1105653ab399b4",Ql=localStorage.getItem(wt),ct=Ol(Ql);ct.subscribe(s=>{s?localStorage.setItem(wt,s):localStorage.removeItem(wt)});async function Xl(s){const e=new TextEncoder().encode(s),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(l=>l.toString(16).padStart(2,"0")).join("")}async function Zl(s){return await Xl(s)===Jl?(ct.set(s),!0):!1}function $l(){ct.set(null)}function Pl(s){const e=s-1;return e*e*e+1}function He(s,{delay:e=0,duration:t=400,easing:n=Dl}={}){const l=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:n,css:r=>`opacity: ${r*l}`}}function ot(s,{delay:e=0,duration:t=400,easing:n=Pl,axis:l="y"}={}){const r=getComputedStyle(s),c=+r.opacity,o=l==="y"?"height":"width",u=parseFloat(r[o]),b=l==="y"?["top","bottom"]:["left","right"],h=b.map(T=>`${T[0].toUpperCase()}${T.slice(1)}`),_=parseFloat(r[`padding${h[0]}`]),d=parseFloat(r[`padding${h[1]}`]),f=parseFloat(r[`margin${h[0]}`]),k=parseFloat(r[`margin${h[1]}`]),m=parseFloat(r[`border${h[0]}Width`]),w=parseFloat(r[`border${h[1]}Width`]);return{delay:e,duration:t,easing:n,css:T=>`overflow: hidden;opacity: ${Math.min(T*20,1)*c};${o}: ${T*u}px;padding-${b[0]}: ${T*_}px;padding-${b[1]}: ${T*d}px;margin-${b[0]}: ${T*f}px;margin-${b[1]}: ${T*k}px;border-${b[0]}-width: ${T*m}px;border-${b[1]}-width: ${T*w}px;`}}function Lt(s){let e,t;return{c(){e=p("span"),t=_e(s[1]),this.h()},l(n){e=v(n,"SPAN",{class:!0});var l=y(e);t=pe(l,s[1]),l.forEach(g),this.h()},h(){a(e,"class","error-text svelte-9dby7l")},m(n,l){G(n,e,l),i(e,t)},p(n,l){l&2&&Ve(t,n[1])},d(n){n&&g(e)}}}function en(s){let e,t,n='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',l,r,c="Access Restricted",o,u,b="Please enter your password to unlock the application.",h,_,d,f,k,m,w,T="Unlock App",L,C,O,E=s[1]&&Lt(s);return{c(){e=p("div"),t=p("div"),t.innerHTML=n,l=S(),r=p("h2"),r.textContent=c,o=S(),u=p("p"),u.textContent=b,h=S(),_=p("form"),d=p("div"),f=p("input"),k=S(),E&&E.c(),m=S(),w=p("button"),w.textContent=T,this.h()},l(B){e=v(B,"DIV",{class:!0});var N=y(e);t=v(N,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1lmknyl"&&(t.innerHTML=n),l=I(N),r=v(N,"H2",{class:!0,"data-svelte-h":!0}),j(r)!=="svelte-r8hgrj"&&(r.textContent=c),o=I(N),u=v(N,"P",{class:!0,"data-svelte-h":!0}),j(u)!=="svelte-1ix94go"&&(u.textContent=b),h=I(N),_=v(N,"FORM",{class:!0});var D=y(_);d=v(D,"DIV",{class:!0});var M=y(d);f=v(M,"INPUT",{type:!0,placeholder:!0,class:!0}),k=I(M),E&&E.l(M),M.forEach(g),m=I(D),w=v(D,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),j(w)!=="svelte-6e23ii"&&(w.textContent=T),D.forEach(g),N.forEach(g),this.h()},h(){a(t,"class","lock-icon svelte-9dby7l"),a(r,"class","svelte-9dby7l"),a(u,"class","svelte-9dby7l"),a(f,"type","password"),a(f,"placeholder","Enter Password"),f.disabled=s[2],a(f,"class","svelte-9dby7l"),xe(f,"error",s[1]),a(d,"class","input-group svelte-9dby7l"),a(w,"type","submit"),a(w,"class","unlock-button svelte-9dby7l"),a(_,"class","svelte-9dby7l"),a(e,"class","login-container svelte-9dby7l")},m(B,N){G(B,e,N),i(e,t),i(e,l),i(e,r),i(e,o),i(e,u),i(e,h),i(e,_),i(_,d),i(d,f),U(f,s[0]),i(d,k),E&&E.m(d,null),i(_,m),i(_,w),C||(O=[K(f,"input",s[4]),K(_,"submit",Wl(s[3]))],C=!0)},p(B,[N]){N&4&&(f.disabled=B[2]),N&1&&f.value!==B[0]&&U(f,B[0]),N&2&&xe(f,"error",B[1]),B[1]?E?E.p(B,N):(E=Lt(B),E.c(),E.m(d,null)):E&&(E.d(1),E=null)},i(B){B&&(L||De(()=>{L=Ge(e,He,{}),L.start()}))},o:be,d(B){B&&g(e),E&&E.d(),C=!1,Je(O)}}}function tn(s,e,t){let n="",l="",r=!1;async function c(){if(!n.trim()){t(1,l="Please enter a password");return}t(2,r=!0),t(1,l="");try{await Zl(n.trim())||t(1,l="Incorrect password")}catch{t(1,l="An error occurred")}finally{t(2,r=!1)}}function o(){n=this.value,t(0,n)}return[n,l,r,c,o]}class ln extends Xe{constructor(e){super(),Ze(this,e,tn,en,Qe,{})}}function Ml(s,{from:e,to:t},n={}){const l=getComputedStyle(s),r=l.transform==="none"?"":l.transform,[c,o]=l.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*c/t.width-(t.left+c),b=e.top+e.height*o/t.height-(t.top+o),{delay:h=0,duration:_=f=>Math.sqrt(f)*120,easing:d=Pl}=n;return{delay:h,duration:zl(_)?_(Math.sqrt(u*u+b*b)):_,easing:d,css:(f,k)=>{const m=k*u,w=k*b,T=f+k*e.width/t.width,L=f+k*e.height/t.height;return`transform: ${r} translate(${m}px, ${w}px) scale(${T}, ${L});`}}}function It(s,e,t){const n=s.slice();return n[21]=e[t],n[22]=e,n[23]=t,n}function St(s,e,t){const n=s.slice();return n[24]=e[t],n}function Ot(s,e,t){const n=s.slice();return n[24]=e[t],n}function Nt(s){let e,t=s[24]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=y(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[24],U(e,e.__value)},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function At(s){let e,t=s[24]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=y(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[24],U(e,e.__value)},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function Bt(s,e){let t,n,l,r,c,o,u,b,h,_,d,f,k,m,w,T='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',L,C,O,E=be,B,N,D;function M(){e[16].call(l,e[22],e[23])}function H(){e[17].call(o,e[22],e[23])}function Y(){e[18].call(h,e[22],e[23])}function ne(){e[19].call(f,e[22],e[23])}function ke(){return e[20](e[21])}return{key:s,first:null,c(){t=p("tr"),n=p("td"),l=p("input"),r=S(),c=p("td"),o=p("input"),u=S(),b=p("td"),h=p("input"),_=S(),d=p("td"),f=p("textarea"),k=S(),m=p("td"),w=p("button"),w.innerHTML=T,L=S(),this.h()},l(V){t=v(V,"TR",{});var A=y(t);n=v(A,"TD",{class:!0});var oe=y(n);l=v(oe,"INPUT",{type:!0,class:!0}),oe.forEach(g),r=I(A),c=v(A,"TD",{class:!0});var Z=y(c);o=v(Z,"INPUT",{type:!0,placeholder:!0,class:!0}),Z.forEach(g),u=I(A),b=v(A,"TD",{class:!0});var J=y(b);h=v(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(g),_=I(A),d=v(A,"TD",{class:!0});var re=y(d);f=v(re,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),y(f).forEach(g),re.forEach(g),k=I(A),m=v(A,"TD",{class:!0});var x=y(m);w=v(x,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(w)!=="svelte-zfon6j"&&(w.innerHTML=T),x.forEach(g),L=I(A),A.forEach(g),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-177iowb"),a(n,"class","checkbox-col svelte-177iowb"),a(o,"type","text"),a(o,"placeholder","e.g. Blue"),a(o,"class","svelte-177iowb"),a(c,"class","svelte-177iowb"),a(h,"type","text"),a(h,"placeholder","e.g. 6b+"),a(h,"class","svelte-177iowb"),a(b,"class","svelte-177iowb"),a(f,"placeholder","e.g. Smooth"),a(f,"rows","1"),a(f,"class","svelte-177iowb"),a(d,"class","svelte-177iowb"),a(w,"class","delete-btn svelte-177iowb"),a(w,"title","Remove row"),a(m,"class","actions-col svelte-177iowb"),this.first=t},m(V,A){G(V,t,A),i(t,n),i(n,l),l.checked=e[21].isRopes,i(t,r),i(t,c),i(c,o),U(o,e[21].name),i(t,u),i(t,b),i(b,h),U(h,e[21].grade),i(t,_),i(t,d),i(d,f),U(f,e[21].notes),i(t,k),i(t,m),i(m,w),i(t,L),B=!0,N||(D=[K(l,"change",M),K(o,"input",H),K(h,"input",Y),K(f,"input",ne),K(w,"click",ke)],N=!0)},p(V,A){e=V,A&32&&(l.checked=e[21].isRopes),A&32&&o.value!==e[21].name&&U(o,e[21].name),A&32&&h.value!==e[21].grade&&U(h,e[21].grade),A&32&&U(f,e[21].notes)},r(){O=t.getBoundingClientRect()},f(){Al(t),E(),Ct(t,O)},a(){E(),E=Nl(t,O,Ml,{duration:300})},i(V){B||(C&&C.end(1),B=!0)},o(V){V&&(C=Sl(t,ot,{duration:200})),B=!1},d(V){V&&g(t),V&&C&&C.end(),N=!1,Je(D)}}}function nn(s){let e,t,n,l,r="Location",c,o,u,b="Select Location",h,_,d,f="Session Focus",k,m,w,T="Select Focus",L,C,O,E,B="Finger Load (0-5)",N,D,M,H,Y,ne="Shoulder Load (0-5)",ke,V,A,oe,Z,J="Forearm Load (0-5)",re,x,Ee,ie,ue,$,Pe="Exercises / Routes",ce,ve,he=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,Le,se,ee,F,Te='<tr><th class="checkbox-col svelte-177iowb">Ropes?</th> <th class="svelte-177iowb">Route</th> <th class="svelte-177iowb">Grade</th> <th class="svelte-177iowb">Notes</th> <th class="actions-col svelte-177iowb"></th></tr>',ae,R,z=[],q=new Map,ge,Ie,fe,Ue,Se=de(s[6]),me=[];for(let P=0;P<Se.length;P+=1)me[P]=Nt(Ot(s,Se,P));let Me=de(s[7]),ye=[];for(let P=0;P<Me.length;P+=1)ye[P]=At(St(s,Me,P));let Re=de(s[5]);const Ce=P=>P[21].id;for(let P=0;P<Re.length;P+=1){let X=It(s,Re,P),W=Ce(X);q.set(W,z[P]=Bt(W,X))}return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=r,c=S(),o=p("select"),u=p("option"),u.textContent=b;for(let P=0;P<me.length;P+=1)me[P].c();h=S(),_=p("div"),d=p("label"),d.textContent=f,k=S(),m=p("select"),w=p("option"),w.textContent=T;for(let P=0;P<ye.length;P+=1)ye[P].c();L=S(),C=p("div"),O=p("div"),E=p("label"),E.textContent=B,N=S(),D=p("input"),M=S(),H=p("div"),Y=p("label"),Y.textContent=ne,ke=S(),V=p("input"),A=S(),oe=p("div"),Z=p("label"),Z.textContent=J,re=S(),x=p("input"),Ee=S(),ie=p("div"),ue=p("div"),$=p("h3"),$.textContent=Pe,ce=S(),ve=p("button"),ve.innerHTML=he,Le=S(),se=p("div"),ee=p("table"),F=p("thead"),F.innerHTML=Te,ae=S(),R=p("tbody");for(let P=0;P<z.length;P+=1)z[P].c();this.h()},l(P){e=v(P,"DIV",{class:!0});var X=y(e);t=v(X,"DIV",{class:!0});var W=y(t);n=v(W,"DIV",{class:!0});var Oe=y(n);l=v(Oe,"LABEL",{for:!0,"data-svelte-h":!0}),j(l)!=="svelte-1ij7h26"&&(l.textContent=r),c=I(Oe),o=v(Oe,"SELECT",{id:!0,class:!0});var $e=y(o);u=v($e,"OPTION",{"data-svelte-h":!0}),j(u)!=="svelte-mwu9va"&&(u.textContent=b);for(let ze=0;ze<me.length;ze+=1)me[ze].l($e);$e.forEach(g),Oe.forEach(g),h=I(W),_=v(W,"DIV",{class:!0});var rt=y(_);d=v(rt,"LABEL",{for:!0,"data-svelte-h":!0}),j(d)!=="svelte-tg5qne"&&(d.textContent=f),k=I(rt),m=v(rt,"SELECT",{id:!0,class:!0});var Q=y(m);w=v(Q,"OPTION",{"data-svelte-h":!0}),j(w)!=="svelte-1ni71k3"&&(w.textContent=T);for(let ze=0;ze<ye.length;ze+=1)ye[ze].l(Q);Q.forEach(g),rt.forEach(g),W.forEach(g),L=I(X),C=v(X,"DIV",{class:!0});var le=y(C);O=v(le,"DIV",{class:!0});var te=y(O);E=v(te,"LABEL",{for:!0,"data-svelte-h":!0}),j(E)!=="svelte-oda77g"&&(E.textContent=B),N=I(te),D=v(te,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),te.forEach(g),M=I(le),H=v(le,"DIV",{class:!0});var Fe=y(H);Y=v(Fe,"LABEL",{for:!0,"data-svelte-h":!0}),j(Y)!=="svelte-1vtbxrq"&&(Y.textContent=ne),ke=I(Fe),V=v(Fe,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Fe.forEach(g),A=I(le),oe=v(le,"DIV",{class:!0});var st=y(oe);Z=v(st,"LABEL",{for:!0,"data-svelte-h":!0}),j(Z)!=="svelte-198js8s"&&(Z.textContent=J),re=I(st),x=v(st,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),st.forEach(g),le.forEach(g),Ee=I(X),ie=v(X,"DIV",{class:!0});var et=y(ie);ue=v(et,"DIV",{class:!0});var tt=y(ue);$=v(tt,"H3",{class:!0,"data-svelte-h":!0}),j($)!=="svelte-10xktbo"&&($.textContent=Pe),ce=I(tt),ve=v(tt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(ve)!=="svelte-psf54d"&&(ve.innerHTML=he),tt.forEach(g),Le=I(et),se=v(et,"DIV",{class:!0});var lt=y(se);ee=v(lt,"TABLE",{class:!0});var nt=y(ee);F=v(nt,"THEAD",{"data-svelte-h":!0}),j(F)!=="svelte-3ucy7b"&&(F.innerHTML=Te),ae=I(nt),R=v(nt,"TBODY",{});var at=y(R);for(let ze=0;ze<z.length;ze+=1)z[ze].l(at);at.forEach(g),nt.forEach(g),lt.forEach(g),et.forEach(g),X.forEach(g),this.h()},h(){a(l,"for","climb-location"),u.__value="",U(u,u.__value),u.disabled=!0,u.selected=!0,a(o,"id","climb-location"),a(o,"class","svelte-177iowb"),s[0]===void 0&&De(()=>s[11].call(o)),a(n,"class","input-group"),a(d,"for","climb-session"),w.__value="",U(w,w.__value),w.disabled=!0,w.selected=!0,a(m,"id","climb-session"),a(m,"class","svelte-177iowb"),s[1]===void 0&&De(()=>s[12].call(m)),a(_,"class","input-group"),a(t,"class","form-grid svelte-177iowb"),a(E,"for","finger-load"),a(D,"id","finger-load"),a(D,"type","number"),a(D,"min","0"),a(D,"max","5"),a(D,"class","svelte-177iowb"),a(O,"class","load-group svelte-177iowb"),a(Y,"for","shoulder-load"),a(V,"id","shoulder-load"),a(V,"type","number"),a(V,"min","0"),a(V,"max","5"),a(V,"class","svelte-177iowb"),a(H,"class","load-group svelte-177iowb"),a(Z,"for","forearm-load"),a(x,"id","forearm-load"),a(x,"type","number"),a(x,"min","0"),a(x,"max","5"),a(x,"class","svelte-177iowb"),a(oe,"class","load-group svelte-177iowb"),a(C,"class","load-metrics svelte-177iowb"),a($,"class","svelte-177iowb"),a(ve,"class","add-row-btn svelte-177iowb"),a(ve,"title","Add Exercise"),a(ue,"class","section-header svelte-177iowb"),a(ee,"class","svelte-177iowb"),a(se,"class","table-container svelte-177iowb"),a(ie,"class","exercise-section svelte-177iowb"),a(e,"class","indoor-config svelte-177iowb")},m(P,X){G(P,e,X),i(e,t),i(t,n),i(n,l),i(n,c),i(n,o),i(o,u);for(let W=0;W<me.length;W+=1)me[W]&&me[W].m(o,null);Ne(o,s[0],!0),i(t,h),i(t,_),i(_,d),i(_,k),i(_,m),i(m,w);for(let W=0;W<ye.length;W+=1)ye[W]&&ye[W].m(m,null);Ne(m,s[1],!0),i(e,L),i(e,C),i(C,O),i(O,E),i(O,N),i(O,D),U(D,s[2]),i(C,M),i(C,H),i(H,Y),i(H,ke),i(H,V),U(V,s[3]),i(C,A),i(C,oe),i(oe,Z),i(oe,re),i(oe,x),U(x,s[4]),i(e,Ee),i(e,ie),i(ie,ue),i(ue,$),i(ue,ce),i(ue,ve),i(ie,Le),i(ie,se),i(se,ee),i(ee,F),i(ee,ae),i(ee,R);for(let W=0;W<z.length;W+=1)z[W]&&z[W].m(R,null);Ie=!0,fe||(Ue=[K(o,"change",s[11]),K(m,"change",s[12]),K(D,"input",s[13]),K(V,"input",s[14]),K(x,"input",s[15]),K(ve,"click",s[8])],fe=!0)},p(P,[X]){if(X&64){Se=de(P[6]);let W;for(W=0;W<Se.length;W+=1){const Oe=Ot(P,Se,W);me[W]?me[W].p(Oe,X):(me[W]=Nt(Oe),me[W].c(),me[W].m(o,null))}for(;W<me.length;W+=1)me[W].d(1);me.length=Se.length}if(X&65&&Ne(o,P[0]),X&128){Me=de(P[7]);let W;for(W=0;W<Me.length;W+=1){const Oe=St(P,Me,W);ye[W]?ye[W].p(Oe,X):(ye[W]=At(Oe),ye[W].c(),ye[W].m(m,null))}for(;W<ye.length;W+=1)ye[W].d(1);ye.length=Me.length}if(X&130&&Ne(m,P[1]),X&4&&Be(D.value)!==P[2]&&U(D,P[2]),X&8&&Be(V.value)!==P[3]&&U(V,P[3]),X&16&&Be(x.value)!==P[4]&&U(x,P[4]),X&544){Re=de(P[5]),We();for(let W=0;W<z.length;W+=1)z[W].r();z=kt(z,X,Ce,1,P,Re,q,R,Vl,Bt,null,It);for(let W=0;W<z.length;W+=1)z[W].a();Ke()}},i(P){if(!Ie){for(let X=0;X<Re.length;X+=1)we(z[X]);P&&(ge||De(()=>{ge=Ge(e,He,{}),ge.start()})),Ie=!0}},o(P){for(let X=0;X<z.length;X+=1)Ae(z[X]);Ie=!1},d(P){P&&g(e),je(me,P),je(ye,P);for(let X=0;X<z.length;X+=1)z[X].d();fe=!1,Je(Ue)}}}function sn(s,e,t){let n="",l="",r=0,c=0,o=0,u=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];const b=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],h=["Strength","Endurance","Power","Recovery"];function _(){t(5,u=[...u,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function d(D){u.length>1?t(5,u=u.filter(M=>M.id!==D)):t(5,u=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function f(){return{location:n,session:l,fingerLoad:r,shoulderLoad:c,forearmLoad:o,exercises:u}}function k(){n=qe(this),t(0,n),t(6,b)}function m(){l=qe(this),t(1,l),t(7,h)}function w(){r=Be(this.value),t(2,r)}function T(){c=Be(this.value),t(3,c)}function L(){o=Be(this.value),t(4,o)}function C(D,M){D[M].isRopes=this.checked,t(5,u)}function O(D,M){D[M].name=this.value,t(5,u)}function E(D,M){D[M].grade=this.value,t(5,u)}function B(D,M){D[M].notes=this.value,t(5,u)}return[n,l,r,c,o,u,b,h,_,d,f,k,m,w,T,L,C,O,E,B,D=>d(D.id)]}class on extends Xe{constructor(e){super(),Ze(this,e,sn,nn,Qe,{getData:10})}get getData(){return this.$$.ctx[10]}}function rn(s){let e,t=`<h3 class="svelte-fh7bet">Gym Session Config</h3> <p class="svelte-fh7bet">Specific fields for gym sessions will go here (e.g., Focus, Exercises,
        Sets/Reps).</p> <div class="placeholder-box svelte-fh7bet"></div>`,n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-gs8whu"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,r){G(l,e,r)},p:be,i(l){l&&(n||De(()=>{n=Ge(e,He,{}),n.start()}))},o:be,d(l){l&&g(e)}}}let an="",cn="";function un(s,e,t){let n=[];function l(){return{location:an,session:cn,exercises:n,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class hn extends Xe{constructor(e){super(),Ze(this,e,un,rn,Qe,{getData:0})}get getData(){return this.$$.ctx[0]}}function Vt(s,e,t){const n=s.slice();return n[30]=e[t],n[31]=e,n[32]=t,n}function Pt(s,e,t){const n=s.slice();return n[33]=e[t],n}function Mt(s,e,t){const n=s.slice();return n[36]=e[t],n}function Rt(s){let e,t=s[36]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=y(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[36],U(e,e.__value)},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function Ut(s){let e,t,n,l,r,c;return{c(){e=p("div"),t=p("input"),this.h()},l(o){e=v(o,"DIV",{});var u=y(e);t=v(u,"INPUT",{type:!0,placeholder:!0,class:!0}),u.forEach(g),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Area..."),a(t,"class","custom-input svelte-mvxpzn")},m(o,u){G(o,e,u),i(e,t),U(t,s[1]),l=!0,r||(c=K(t,"input",s[16]),r=!0)},p(o,u){u[0]&2&&t.value!==o[1]&&U(t,o[1])},i(o){l||(o&&De(()=>{l&&(n||(n=Ye(e,ot,{},!0)),n.run(1))}),l=!0)},o(o){o&&(n||(n=Ye(e,ot,{},!1)),n.run(0)),l=!1},d(o){o&&g(e),o&&n&&n.end(),r=!1,c()}}}function fn(s){let e,t,n,l,r;return{c(){e=p("input"),this.h()},l(c){e=v(c,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","climb-crag"),a(e,"type","text"),a(e,"placeholder",t=s[0]==="Other"?"Enter Crag Name":"Select area first..."),e.disabled=n=!s[0],a(e,"class","svelte-mvxpzn")},m(c,o){G(c,e,o),U(e,s[2]),l||(r=K(e,"input",s[19]),l=!0)},p(c,o){o[0]&1025&&t!==(t=c[0]==="Other"?"Enter Crag Name":"Select area first...")&&a(e,"placeholder",t),o[0]&1025&&n!==(n=!c[0])&&(e.disabled=n),o[0]&516&&e.value!==c[2]&&U(e,c[2])},d(c){c&&g(e),l=!1,r()}}}function dn(s){let e,t,n="Select Crag",l,r="Other (Custom)",c,o,u,b,h=de(s[9]),_=[];for(let f=0;f<h.length;f+=1)_[f]=zt(Pt(s,h,f));let d=s[2]==="Other"&&Ht(s);return{c(){e=p("select"),t=p("option"),t.textContent=n;for(let f=0;f<_.length;f+=1)_[f].c();l=p("option"),l.textContent=r,c=S(),d&&d.c(),o=mt(),this.h()},l(f){e=v(f,"SELECT",{id:!0,class:!0});var k=y(e);t=v(k,"OPTION",{"data-svelte-h":!0}),j(t)!=="svelte-1bf8330"&&(t.textContent=n);for(let m=0;m<_.length;m+=1)_[m].l(k);l=v(k,"OPTION",{"data-svelte-h":!0}),j(l)!=="svelte-1ws39oy"&&(l.textContent=r),k.forEach(g),c=I(f),d&&d.l(f),o=mt(),this.h()},h(){t.__value="",U(t,t.__value),t.disabled=!0,t.selected=!0,l.__value="Other",U(l,l.__value),a(e,"id","climb-crag"),a(e,"class","svelte-mvxpzn"),s[2]===void 0&&De(()=>s[17].call(e))},m(f,k){G(f,e,k),i(e,t);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(e,null);i(e,l),Ne(e,s[2],!0),G(f,c,k),d&&d.m(f,k),G(f,o,k),u||(b=K(e,"change",s[17]),u=!0)},p(f,k){if(k[0]&512){h=de(f[9]);let m;for(m=0;m<h.length;m+=1){const w=Pt(f,h,m);_[m]?_[m].p(w,k):(_[m]=zt(w),_[m].c(),_[m].m(e,l))}for(;m<_.length;m+=1)_[m].d(1);_.length=h.length}k[0]&516&&Ne(e,f[2]),f[2]==="Other"?d?(d.p(f,k),k[0]&4&&we(d,1)):(d=Ht(f),d.c(),we(d,1),d.m(o.parentNode,o)):d&&(We(),Ae(d,1,1,()=>{d=null}),Ke())},d(f){f&&(g(e),g(c),g(o)),je(_,f),d&&d.d(f),u=!1,b()}}}function zt(s){let e,t=s[33]+"",n,l;return{c(){e=p("option"),n=_e(t),this.h()},l(r){e=v(r,"OPTION",{});var c=y(e);n=pe(c,t),c.forEach(g),this.h()},h(){e.__value=l=s[33],U(e,e.__value)},m(r,c){G(r,e,c),i(e,n)},p(r,c){c[0]&512&&t!==(t=r[33]+"")&&Ve(n,t),c[0]&512&&l!==(l=r[33])&&(e.__value=l,U(e,e.__value))},d(r){r&&g(e)}}}function Ht(s){let e,t,n,l,r,c;return{c(){e=p("div"),t=p("input"),this.h()},l(o){e=v(o,"DIV",{});var u=y(e);t=v(u,"INPUT",{type:!0,placeholder:!0,class:!0}),u.forEach(g),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Crag..."),a(t,"class","custom-input svelte-mvxpzn")},m(o,u){G(o,e,u),i(e,t),U(t,s[3]),l=!0,r||(c=K(t,"input",s[18]),r=!0)},p(o,u){u[0]&8&&t.value!==o[3]&&U(t,o[3])},i(o){l||(o&&De(()=>{l&&(n||(n=Ye(e,ot,{},!0)),n.run(1))}),l=!0)},o(o){o&&(n||(n=Ye(e,ot,{},!1)),n.run(0)),l=!1},d(o){o&&g(e),o&&n&&n.end(),r=!1,c()}}}function Ft(s,e){let t,n,l,r,c,o,u,b,h,_,d,f,k,m,w,T='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',L,C,O,E=be,B,N,D;function M(){e[24].call(l,e[31],e[32])}function H(){e[25].call(o,e[31],e[32])}function Y(){e[26].call(h,e[31],e[32])}function ne(){e[27].call(f,e[31],e[32])}function ke(){return e[28](e[30])}return{key:s,first:null,c(){t=p("tr"),n=p("td"),l=p("input"),r=S(),c=p("td"),o=p("input"),u=S(),b=p("td"),h=p("input"),_=S(),d=p("td"),f=p("textarea"),k=S(),m=p("td"),w=p("button"),w.innerHTML=T,L=S(),this.h()},l(V){t=v(V,"TR",{});var A=y(t);n=v(A,"TD",{class:!0});var oe=y(n);l=v(oe,"INPUT",{type:!0,class:!0}),oe.forEach(g),r=I(A),c=v(A,"TD",{class:!0});var Z=y(c);o=v(Z,"INPUT",{type:!0,placeholder:!0,class:!0}),Z.forEach(g),u=I(A),b=v(A,"TD",{class:!0});var J=y(b);h=v(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(g),_=I(A),d=v(A,"TD",{class:!0});var re=y(d);f=v(re,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),y(f).forEach(g),re.forEach(g),k=I(A),m=v(A,"TD",{class:!0});var x=y(m);w=v(x,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(w)!=="svelte-zfon6j"&&(w.innerHTML=T),x.forEach(g),L=I(A),A.forEach(g),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-mvxpzn"),a(n,"class","checkbox-col svelte-mvxpzn"),a(o,"type","text"),a(o,"placeholder","e.g. Deliverance"),a(o,"class","svelte-mvxpzn"),a(c,"class","svelte-mvxpzn"),a(h,"type","text"),a(h,"placeholder","e.g. 7a+"),a(h,"class","svelte-mvxpzn"),a(b,"class","svelte-mvxpzn"),a(f,"placeholder","e.g. 2nd go"),a(f,"rows","1"),a(f,"class","svelte-mvxpzn"),a(d,"class","svelte-mvxpzn"),a(w,"class","delete-btn svelte-mvxpzn"),a(w,"title","Remove row"),a(m,"class","actions-col svelte-mvxpzn"),this.first=t},m(V,A){G(V,t,A),i(t,n),i(n,l),l.checked=e[30].isRopes,i(t,r),i(t,c),i(c,o),U(o,e[30].name),i(t,u),i(t,b),i(b,h),U(h,e[30].grade),i(t,_),i(t,d),i(d,f),U(f,e[30].notes),i(t,k),i(t,m),i(m,w),i(t,L),B=!0,N||(D=[K(l,"change",M),K(o,"input",H),K(h,"input",Y),K(f,"input",ne),K(w,"click",ke)],N=!0)},p(V,A){e=V,A[0]&256&&(l.checked=e[30].isRopes),A[0]&256&&o.value!==e[30].name&&U(o,e[30].name),A[0]&256&&h.value!==e[30].grade&&U(h,e[30].grade),A[0]&256&&U(f,e[30].notes)},r(){O=t.getBoundingClientRect()},f(){Al(t),E(),Ct(t,O)},a(){E(),E=Nl(t,O,Ml,{duration:300})},i(V){B||(C&&C.end(1),B=!0)},o(V){V&&(C=Sl(t,ot,{duration:200})),B=!1},d(V){V&&g(t),V&&C&&C.end(),N=!1,Je(D)}}}function vn(s){let e,t,n,l,r="Area",c,o,u,b="Select Area",h,_,d,f,k="Crag",m,w,T,L,C="Wall / Sector",O,E,B,N,D,M,H="Finger Load (0-5)",Y,ne,ke,V,A,oe="Shoulder Load (0-5)",Z,J,re,x,Ee,ie="Forearm Load (0-5)",ue,$,Pe,ce,ve,he,Le="Routes / Problems",se,ee,F=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,Te,ae,R,z,q='<tr><th class="checkbox-col svelte-mvxpzn">Ropes?</th> <th class="svelte-mvxpzn">Route/Problem</th> <th class="svelte-mvxpzn">Grade</th> <th class="svelte-mvxpzn">Notes</th> <th class="actions-col svelte-mvxpzn"></th></tr>',ge,Ie,fe=[],Ue=new Map,Se,me,Me,ye,Re=de(s[10]),Ce=[];for(let Q=0;Q<Re.length;Q+=1)Ce[Q]=Rt(Mt(s,Re,Q));let P=s[0]==="Other"&&Ut(s);function X(Q,le){return Q[0]&&Q[0]!=="Other"?dn:fn}let W=X(s),Oe=W(s),$e=de(s[8]);const rt=Q=>Q[30].id;for(let Q=0;Q<$e.length;Q+=1){let le=Vt(s,$e,Q),te=rt(le);Ue.set(te,fe[Q]=Ft(te,le))}return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=r,c=S(),o=p("select"),u=p("option"),u.textContent=b;for(let Q=0;Q<Ce.length;Q+=1)Ce[Q].c();h=S(),P&&P.c(),_=S(),d=p("div"),f=p("label"),f.textContent=k,m=S(),Oe.c(),w=S(),T=p("div"),L=p("label"),L.textContent=C,O=S(),E=p("input"),B=S(),N=p("div"),D=p("div"),M=p("label"),M.textContent=H,Y=S(),ne=p("input"),ke=S(),V=p("div"),A=p("label"),A.textContent=oe,Z=S(),J=p("input"),re=S(),x=p("div"),Ee=p("label"),Ee.textContent=ie,ue=S(),$=p("input"),Pe=S(),ce=p("div"),ve=p("div"),he=p("h3"),he.textContent=Le,se=S(),ee=p("button"),ee.innerHTML=F,Te=S(),ae=p("div"),R=p("table"),z=p("thead"),z.innerHTML=q,ge=S(),Ie=p("tbody");for(let Q=0;Q<fe.length;Q+=1)fe[Q].c();this.h()},l(Q){e=v(Q,"DIV",{class:!0});var le=y(e);t=v(le,"DIV",{class:!0});var te=y(t);n=v(te,"DIV",{class:!0});var Fe=y(n);l=v(Fe,"LABEL",{for:!0,"data-svelte-h":!0}),j(l)!=="svelte-10bxq12"&&(l.textContent=r),c=I(Fe),o=v(Fe,"SELECT",{id:!0,class:!0});var st=y(o);u=v(st,"OPTION",{"data-svelte-h":!0}),j(u)!=="svelte-18hyx00"&&(u.textContent=b);for(let it=0;it<Ce.length;it+=1)Ce[it].l(st);st.forEach(g),h=I(Fe),P&&P.l(Fe),Fe.forEach(g),_=I(te),d=v(te,"DIV",{class:!0});var et=y(d);f=v(et,"LABEL",{for:!0,"data-svelte-h":!0}),j(f)!=="svelte-1d1q4si"&&(f.textContent=k),m=I(et),Oe.l(et),et.forEach(g),w=I(te),T=v(te,"DIV",{class:!0});var tt=y(T);L=v(tt,"LABEL",{for:!0,"data-svelte-h":!0}),j(L)!=="svelte-2wtmd"&&(L.textContent=C),O=I(tt),E=v(tt,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),tt.forEach(g),te.forEach(g),B=I(le),N=v(le,"DIV",{class:!0});var lt=y(N);D=v(lt,"DIV",{class:!0});var nt=y(D);M=v(nt,"LABEL",{for:!0,"data-svelte-h":!0}),j(M)!=="svelte-oda77g"&&(M.textContent=H),Y=I(nt),ne=v(nt,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),nt.forEach(g),ke=I(lt),V=v(lt,"DIV",{class:!0});var at=y(V);A=v(at,"LABEL",{for:!0,"data-svelte-h":!0}),j(A)!=="svelte-1vtbxrq"&&(A.textContent=oe),Z=I(at),J=v(at,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),at.forEach(g),re=I(lt),x=v(lt,"DIV",{class:!0});var ze=y(x);Ee=v(ze,"LABEL",{for:!0,"data-svelte-h":!0}),j(Ee)!=="svelte-198js8s"&&(Ee.textContent=ie),ue=I(ze),$=v(ze,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),ze.forEach(g),lt.forEach(g),Pe=I(le),ce=v(le,"DIV",{class:!0});var pt=y(ce);ve=v(pt,"DIV",{class:!0});var _t=y(ve);he=v(_t,"H3",{class:!0,"data-svelte-h":!0}),j(he)!=="svelte-mxpai9"&&(he.textContent=Le),se=I(_t),ee=v(_t,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(ee)!=="svelte-uzzlti"&&(ee.innerHTML=F),_t.forEach(g),Te=I(pt),ae=v(pt,"DIV",{class:!0});var Tt=y(ae);R=v(Tt,"TABLE",{class:!0});var gt=y(R);z=v(gt,"THEAD",{"data-svelte-h":!0}),j(z)!=="svelte-10zj92r"&&(z.innerHTML=q),ge=I(gt),Ie=v(gt,"TBODY",{});var Dt=y(Ie);for(let it=0;it<fe.length;it+=1)fe[it].l(Dt);Dt.forEach(g),gt.forEach(g),Tt.forEach(g),pt.forEach(g),le.forEach(g),this.h()},h(){a(l,"for","climb-area"),u.__value="",U(u,u.__value),u.disabled=!0,u.selected=!0,a(o,"id","climb-area"),a(o,"class","svelte-mvxpzn"),s[0]===void 0&&De(()=>s[15].call(o)),a(n,"class","input-group"),a(f,"for","climb-crag"),a(d,"class","input-group"),a(L,"for","climb-wall"),a(E,"id","climb-wall"),a(E,"type","text"),a(E,"placeholder","e.g. Popular End"),a(E,"class","svelte-mvxpzn"),a(T,"class","input-group"),a(t,"class","form-grid svelte-mvxpzn"),a(M,"for","finger-load"),a(ne,"id","finger-load"),a(ne,"type","number"),a(ne,"min","0"),a(ne,"max","5"),a(ne,"class","svelte-mvxpzn"),a(D,"class","load-group svelte-mvxpzn"),a(A,"for","shoulder-load"),a(J,"id","shoulder-load"),a(J,"type","number"),a(J,"min","0"),a(J,"max","5"),a(J,"class","svelte-mvxpzn"),a(V,"class","load-group svelte-mvxpzn"),a(Ee,"for","forearm-load"),a($,"id","forearm-load"),a($,"type","number"),a($,"min","0"),a($,"max","5"),a($,"class","svelte-mvxpzn"),a(x,"class","load-group svelte-mvxpzn"),a(N,"class","load-metrics svelte-mvxpzn"),a(he,"class","svelte-mvxpzn"),a(ee,"class","add-row-btn svelte-mvxpzn"),a(ee,"title","Add Route"),a(ve,"class","section-header svelte-mvxpzn"),a(R,"class","svelte-mvxpzn"),a(ae,"class","table-container svelte-mvxpzn"),a(ce,"class","exercise-section svelte-mvxpzn"),a(e,"class","outdoor-config svelte-mvxpzn")},m(Q,le){G(Q,e,le),i(e,t),i(t,n),i(n,l),i(n,c),i(n,o),i(o,u);for(let te=0;te<Ce.length;te+=1)Ce[te]&&Ce[te].m(o,null);Ne(o,s[0],!0),i(n,h),P&&P.m(n,null),i(t,_),i(t,d),i(d,f),i(d,m),Oe.m(d,null),i(t,w),i(t,T),i(T,L),i(T,O),i(T,E),U(E,s[4]),i(e,B),i(e,N),i(N,D),i(D,M),i(D,Y),i(D,ne),U(ne,s[5]),i(N,ke),i(N,V),i(V,A),i(V,Z),i(V,J),U(J,s[6]),i(N,re),i(N,x),i(x,Ee),i(x,ue),i(x,$),U($,s[7]),i(e,Pe),i(e,ce),i(ce,ve),i(ve,he),i(ve,se),i(ve,ee),i(ce,Te),i(ce,ae),i(ae,R),i(R,z),i(R,ge),i(R,Ie);for(let te=0;te<fe.length;te+=1)fe[te]&&fe[te].m(Ie,null);me=!0,Me||(ye=[K(o,"change",s[15]),K(o,"change",s[11]),K(E,"input",s[20]),K(ne,"input",s[21]),K(J,"input",s[22]),K($,"input",s[23]),K(ee,"click",s[12])],Me=!0)},p(Q,le){if(le[0]&1024){Re=de(Q[10]);let te;for(te=0;te<Re.length;te+=1){const Fe=Mt(Q,Re,te);Ce[te]?Ce[te].p(Fe,le):(Ce[te]=Rt(Fe),Ce[te].c(),Ce[te].m(o,null))}for(;te<Ce.length;te+=1)Ce[te].d(1);Ce.length=Re.length}if(le[0]&1025&&Ne(o,Q[0]),Q[0]==="Other"?P?(P.p(Q,le),le[0]&1&&we(P,1)):(P=Ut(Q),P.c(),we(P,1),P.m(n,null)):P&&(We(),Ae(P,1,1,()=>{P=null}),Ke()),W===(W=X(Q))&&Oe?Oe.p(Q,le):(Oe.d(1),Oe=W(Q),Oe&&(Oe.c(),Oe.m(d,null))),le[0]&16&&E.value!==Q[4]&&U(E,Q[4]),le[0]&32&&Be(ne.value)!==Q[5]&&U(ne,Q[5]),le[0]&64&&Be(J.value)!==Q[6]&&U(J,Q[6]),le[0]&128&&Be($.value)!==Q[7]&&U($,Q[7]),le[0]&8448){$e=de(Q[8]),We();for(let te=0;te<fe.length;te+=1)fe[te].r();fe=kt(fe,le,rt,1,Q,$e,Ue,Ie,Vl,Ft,null,Vt);for(let te=0;te<fe.length;te+=1)fe[te].a();Ke()}},i(Q){if(!me){we(P);for(let le=0;le<$e.length;le+=1)we(fe[le]);Q&&(Se||De(()=>{Se=Ge(e,He,{}),Se.start()})),me=!0}},o(Q){Ae(P);for(let le=0;le<fe.length;le+=1)Ae(fe[le]);me=!1},d(Q){Q&&g(e),je(Ce,Q),P&&P.d(),Oe.d();for(let le=0;le<fe.length;le+=1)fe[le].d();Me=!1,Je(ye)}}}function pn(s,e,t){let n,l="",r="",c="",o="",u="",b=0,h=0,_=0;const d=["Portland","Swanage","Bristol","Costa Del Severn","Cotswolds","Mendips","Wye Valley","Gower","South Wales","North Wales","Peak District","Devon","Fontainebleau","Switzerland","Other"],f={Portland:["Blacknor Far North","Blacknor North","Blacknor Central","Blacknor South","Blacknor Far South","Battleship Edge","Battleship Back Cliff","Wallsend North","Wallsend South","Coastguard North","Coastguard South","Godnor","Neddyfields","Cheyne Cliff","The Cuttings","The New Cuttings","The Cuttings Boulderfield"],Swanage:["Dancing Ledge","Hedbury","Winspit"],"Wye Valley":["Ban-y-Gor","Biblins Cave","Woodcroft Quarry","Wyndcliff Quarry"],"Costa Del Severn":["Brean","Clevedon","Portishead Quarry"],Bristol:["Avon Gorge","Leigh Woods","Bickley Wood","Hambrook"],Cotswolds:["Sally-in-the-Wood","Browns Folly"],Mendips:["Cheddar Gorge"],Gower:["Rhossili","Trial Wall Area","Foxhole"],"South Wales":["Dinas Rock","Ogmore"],"North Wales":["Cromlech","Australia"],"Peak District":["Burbage South Valley","Gardoms Edge","Raven Tor","Stanage","Curbar Edge"],Devon:["Dartmoor","Hartland","Tintagel"],Fontainebleau:["Bas Cuvier","Apremont","Franchard Isatis","Roche aux Sabots","Cul de Chien","Elephant"],Switzerland:["Magic Wood","Chironico","Cresciano","Brione","San Carlo"]};function k(){t(2,c=""),t(3,o="")}let m=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];function w(){t(8,m=[...m,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function T(Z){m.length>1?t(8,m=m.filter(J=>J.id!==Z)):t(8,m=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function L(){return{location:{area:l==="Other"?r:l,crag:c==="Other"?o:c,wall:u},session:"Outdoor",fingerLoad:b,shoulderLoad:h,forearmLoad:_,exercises:m}}function C(){l=qe(this),t(0,l),t(10,d)}function O(){r=this.value,t(1,r)}function E(){c=qe(this),t(2,c),t(9,n),t(0,l)}function B(){o=this.value,t(3,o)}function N(){c=this.value,t(2,c),t(9,n),t(0,l)}function D(){u=this.value,t(4,u)}function M(){b=Be(this.value),t(5,b)}function H(){h=Be(this.value),t(6,h)}function Y(){_=Be(this.value),t(7,_)}function ne(Z,J){Z[J].isRopes=this.checked,t(8,m)}function ke(Z,J){Z[J].name=this.value,t(8,m)}function V(Z,J){Z[J].grade=this.value,t(8,m)}function A(Z,J){Z[J].notes=this.value,t(8,m)}const oe=Z=>T(Z.id);return s.$$.update=()=>{s.$$.dirty[0]&1&&t(9,n=f[l]||[])},[l,r,c,o,u,b,h,_,m,n,d,k,w,T,L,C,O,E,B,N,D,M,H,Y,ne,ke,V,A,oe]}class _n extends Xe{constructor(e){super(),Ze(this,e,pn,vn,Qe,{getData:14},null,[-1,-1])}get getData(){return this.$$.ctx[14]}}function gn(s){let e,t='<h3 class="svelte-fh7bet">Other Activity Config</h3> <p class="svelte-fh7bet">Generic fields for other activities will go here.</p> <div class="placeholder-box svelte-fh7bet"></div>',n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-kjirec"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,r){G(l,e,r)},p:be,i(l){l&&(n||De(()=>{n=Ge(e,He,{}),n.start()}))},o:be,d(l){l&&g(e)}}}let mn="",bn="";function kn(s,e,t){let n=[];function l(){return{location:mn,session:bn,exercises:n,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class wn extends Xe{constructor(e){super(),Ze(this,e,kn,gn,Qe,{getData:0})}get getData(){return this.$$.ctx[0]}}function jt(s,e,t){const n=s.slice();return n[18]=e[t],n[19]=e,n[20]=t,n}function xt(s,e,t){const n=s.slice();return n[21]=e[t],n}function Gt(s,e,t){const n=s.slice();return n[24]=e[t],n}function qt(s){let e,t=s[24]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=y(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[24],U(e,e.__value)},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function Wt(s){let e,t=s[21]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=y(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[21],U(e,e.__value)},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function Kt(s,e){let t,n,l,r,c,o,u,b,h,_,d,f,k,m,w,T,L,C,O="Ã—",E,B,N;function D(){e[12].call(l,e[19],e[20])}function M(){e[13].call(o,e[19],e[20])}function H(){e[14].call(h,e[19],e[20])}function Y(){e[15].call(f,e[19],e[20])}function ne(){e[16].call(w,e[19],e[20])}function ke(){return e[17](e[18])}return{key:s,first:null,c(){t=p("tr"),n=p("td"),l=p("input"),r=S(),c=p("td"),o=p("input"),u=S(),b=p("td"),h=p("input"),_=S(),d=p("td"),f=p("input"),k=S(),m=p("td"),w=p("input"),T=S(),L=p("td"),C=p("button"),C.textContent=O,E=S(),this.h()},l(V){t=v(V,"TR",{});var A=y(t);n=v(A,"TD",{class:!0});var oe=y(n);l=v(oe,"INPUT",{type:!0,placeholder:!0,class:!0}),oe.forEach(g),r=I(A),c=v(A,"TD",{class:!0});var Z=y(c);o=v(Z,"INPUT",{type:!0,placeholder:!0,class:!0}),Z.forEach(g),u=I(A),b=v(A,"TD",{class:!0});var J=y(b);h=v(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(g),_=I(A),d=v(A,"TD",{class:!0});var re=y(d);f=v(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(g),k=I(A),m=v(A,"TD",{class:!0});var x=y(m);w=v(x,"INPUT",{type:!0,placeholder:!0,class:!0}),x.forEach(g),T=I(A),L=v(A,"TD",{class:!0});var Ee=y(L);C=v(Ee,"BUTTON",{class:!0,"data-svelte-h":!0}),j(C)!=="svelte-rn69i5"&&(C.textContent=O),Ee.forEach(g),E=I(A),A.forEach(g),this.h()},h(){a(l,"type","text"),a(l,"placeholder","Hang"),a(l,"class","svelte-152m2bn"),a(n,"class","svelte-152m2bn"),a(o,"type","number"),a(o,"placeholder","0"),a(o,"class","svelte-152m2bn"),a(c,"class","svelte-152m2bn"),a(h,"type","number"),a(h,"placeholder","1"),a(h,"class","svelte-152m2bn"),a(b,"class","svelte-152m2bn"),a(f,"type","number"),a(f,"placeholder","1"),a(f,"class","svelte-152m2bn"),a(d,"class","svelte-152m2bn"),a(w,"type","text"),a(w,"placeholder","Notes"),a(w,"class","svelte-152m2bn"),a(m,"class","svelte-152m2bn"),a(C,"class","delete-btn svelte-152m2bn"),a(L,"class","actions-col svelte-152m2bn"),this.first=t},m(V,A){G(V,t,A),i(t,n),i(n,l),U(l,e[18].name),i(t,r),i(t,c),i(c,o),U(o,e[18].weight),i(t,u),i(t,b),i(b,h),U(h,e[18].sets),i(t,_),i(t,d),i(d,f),U(f,e[18].reps),i(t,k),i(t,m),i(m,w),U(w,e[18].notes),i(t,T),i(t,L),i(L,C),i(t,E),B||(N=[K(l,"input",D),K(o,"input",M),K(h,"input",H),K(f,"input",Y),K(w,"input",ne),K(C,"click",ke)],B=!0)},p(V,A){e=V,A&8&&l.value!==e[18].name&&U(l,e[18].name),A&8&&Be(o.value)!==e[18].weight&&U(o,e[18].weight),A&8&&Be(h.value)!==e[18].sets&&U(h,e[18].sets),A&8&&Be(f.value)!==e[18].reps&&U(f,e[18].reps),A&8&&w.value!==e[18].notes&&U(w,e[18].notes)},d(V){V&&g(t),B=!1,Je(N)}}}function yn(s){let e,t,n,l,r="Location",c,o,u,b="Select Location",h,_,d,f="Session Type",k,m,w,T="Select Session",L,C,O,E,B="Finger Load (0-5)",N,D,M,H,Y,ne,ke="Sets / Exercises",V,A,oe="Add Row",Z,J,re,x,Ee='<tr><th class="svelte-152m2bn">Exercise</th> <th class="svelte-152m2bn">Weight (+/-)</th> <th class="svelte-152m2bn">Sets</th> <th class="svelte-152m2bn">Reps</th> <th class="svelte-152m2bn">Notes</th> <th class="actions-col svelte-152m2bn"></th></tr>',ie,ue,$=[],Pe=new Map,ce,ve,he,Le=de(s[6]),se=[];for(let R=0;R<Le.length;R+=1)se[R]=qt(Gt(s,Le,R));let ee=de(s[7]),F=[];for(let R=0;R<ee.length;R+=1)F[R]=Wt(xt(s,ee,R));let Te=de(s[3]);const ae=R=>R[18].id;for(let R=0;R<Te.length;R+=1){let z=jt(s,Te,R),q=ae(z);Pe.set(q,$[R]=Kt(q,z))}return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=r,c=S(),o=p("select"),u=p("option"),u.textContent=b;for(let R=0;R<se.length;R+=1)se[R].c();h=S(),_=p("div"),d=p("label"),d.textContent=f,k=S(),m=p("select"),w=p("option"),w.textContent=T;for(let R=0;R<F.length;R+=1)F[R].c();L=S(),C=p("div"),O=p("div"),E=p("label"),E.textContent=B,N=S(),D=p("input"),M=S(),H=p("div"),Y=p("div"),ne=p("h3"),ne.textContent=ke,V=S(),A=p("button"),A.textContent=oe,Z=S(),J=p("div"),re=p("table"),x=p("thead"),x.innerHTML=Ee,ie=S(),ue=p("tbody");for(let R=0;R<$.length;R+=1)$[R].c();this.h()},l(R){e=v(R,"DIV",{class:!0});var z=y(e);t=v(z,"DIV",{class:!0});var q=y(t);n=v(q,"DIV",{class:!0});var ge=y(n);l=v(ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1dxgp9b"&&(l.textContent=r),c=I(ge),o=v(ge,"SELECT",{id:!0,class:!0});var Ie=y(o);u=v(Ie,"OPTION",{"data-svelte-h":!0}),j(u)!=="svelte-mwu9va"&&(u.textContent=b);for(let X=0;X<se.length;X+=1)se[X].l(Ie);Ie.forEach(g),ge.forEach(g),h=I(q),_=v(q,"DIV",{class:!0});var fe=y(_);d=v(fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(d)!=="svelte-h0spd7"&&(d.textContent=f),k=I(fe),m=v(fe,"SELECT",{id:!0,class:!0});var Ue=y(m);w=v(Ue,"OPTION",{"data-svelte-h":!0}),j(w)!=="svelte-1ekya2v"&&(w.textContent=T);for(let X=0;X<F.length;X+=1)F[X].l(Ue);Ue.forEach(g),fe.forEach(g),q.forEach(g),L=I(z),C=v(z,"DIV",{class:!0});var Se=y(C);O=v(Se,"DIV",{class:!0});var me=y(O);E=v(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(E)!=="svelte-1w9evqp"&&(E.textContent=B),N=I(me),D=v(me,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),me.forEach(g),Se.forEach(g),M=I(z),H=v(z,"DIV",{class:!0});var Me=y(H);Y=v(Me,"DIV",{class:!0});var ye=y(Y);ne=v(ye,"H3",{class:!0,"data-svelte-h":!0}),j(ne)!=="svelte-rv2rcn"&&(ne.textContent=ke),V=I(ye),A=v(ye,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(A)!=="svelte-tawc64"&&(A.textContent=oe),ye.forEach(g),Z=I(Me),J=v(Me,"DIV",{class:!0});var Re=y(J);re=v(Re,"TABLE",{class:!0});var Ce=y(re);x=v(Ce,"THEAD",{"data-svelte-h":!0}),j(x)!=="svelte-163hj14"&&(x.innerHTML=Ee),ie=I(Ce),ue=v(Ce,"TBODY",{});var P=y(ue);for(let X=0;X<$.length;X+=1)$[X].l(P);P.forEach(g),Ce.forEach(g),Re.forEach(g),Me.forEach(g),z.forEach(g),this.h()},h(){a(l,"for","fb-location"),a(l,"class","svelte-152m2bn"),u.__value="",U(u,u.__value),u.disabled=!0,u.selected=!0,a(o,"id","fb-location"),a(o,"class","svelte-152m2bn"),s[0]===void 0&&De(()=>s[9].call(o)),a(n,"class","input-group svelte-152m2bn"),a(d,"for","fb-session"),a(d,"class","svelte-152m2bn"),w.__value="",U(w,w.__value),w.disabled=!0,w.selected=!0,a(m,"id","fb-session"),a(m,"class","svelte-152m2bn"),s[1]===void 0&&De(()=>s[10].call(m)),a(_,"class","input-group svelte-152m2bn"),a(t,"class","form-grid svelte-152m2bn"),a(E,"for","fb-finger-load"),a(E,"class","svelte-152m2bn"),a(D,"id","fb-finger-load"),a(D,"type","number"),a(D,"min","0"),a(D,"max","5"),a(D,"class","svelte-152m2bn"),a(O,"class","load-group svelte-152m2bn"),a(C,"class","load-metrics svelte-152m2bn"),a(ne,"class","svelte-152m2bn"),a(A,"class","add-row-btn svelte-152m2bn"),a(A,"title","Add Row"),a(Y,"class","section-header svelte-152m2bn"),a(re,"class","svelte-152m2bn"),a(J,"class","table-container svelte-152m2bn"),a(H,"class","exercise-section"),a(e,"class","fingerboard-config svelte-152m2bn")},m(R,z){G(R,e,z),i(e,t),i(t,n),i(n,l),i(n,c),i(n,o),i(o,u);for(let q=0;q<se.length;q+=1)se[q]&&se[q].m(o,null);Ne(o,s[0],!0),i(t,h),i(t,_),i(_,d),i(_,k),i(_,m),i(m,w);for(let q=0;q<F.length;q+=1)F[q]&&F[q].m(m,null);Ne(m,s[1],!0),i(e,L),i(e,C),i(C,O),i(O,E),i(O,N),i(O,D),U(D,s[2]),i(e,M),i(e,H),i(H,Y),i(Y,ne),i(Y,V),i(Y,A),i(H,Z),i(H,J),i(J,re),i(re,x),i(re,ie),i(re,ue);for(let q=0;q<$.length;q+=1)$[q]&&$[q].m(ue,null);ve||(he=[K(o,"change",s[9]),K(m,"change",s[10]),K(D,"input",s[11]),K(A,"click",s[4])],ve=!0)},p(R,[z]){if(z&64){Le=de(R[6]);let q;for(q=0;q<Le.length;q+=1){const ge=Gt(R,Le,q);se[q]?se[q].p(ge,z):(se[q]=qt(ge),se[q].c(),se[q].m(o,null))}for(;q<se.length;q+=1)se[q].d(1);se.length=Le.length}if(z&65&&Ne(o,R[0]),z&128){ee=de(R[7]);let q;for(q=0;q<ee.length;q+=1){const ge=xt(R,ee,q);F[q]?F[q].p(ge,z):(F[q]=Wt(ge),F[q].c(),F[q].m(m,null))}for(;q<F.length;q+=1)F[q].d(1);F.length=ee.length}z&130&&Ne(m,R[1]),z&4&&Be(D.value)!==R[2]&&U(D,R[2]),z&40&&(Te=de(R[3]),$=kt($,z,ae,1,R,Te,Pe,ue,Bl,Kt,null,jt))},i(R){R&&(ce||De(()=>{ce=Ge(e,He,{}),ce.start()}))},o:be,d(R){R&&g(e),je(se,R),je(F,R);for(let z=0;z<$.length;z+=1)$[z].d();ve=!1,Je(he)}}}function Cn(s,e,t){let n="",l="",r=0,c=[{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}];function o(){return{location:n,session:l,fingerLoad:r,exercises:c}}function u(){t(3,c=[...c,{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}])}function b(E){c.length>1&&t(3,c=c.filter(B=>B.id!==E))}const h=["Home","Gym","Crag"],_=["Strength","Endurance","Recovery"];function d(){n=qe(this),t(0,n),t(6,h)}function f(){l=qe(this),t(1,l),t(7,_)}function k(){r=Be(this.value),t(2,r)}function m(E,B){E[B].name=this.value,t(3,c)}function w(E,B){E[B].weight=Be(this.value),t(3,c)}function T(E,B){E[B].sets=Be(this.value),t(3,c)}function L(E,B){E[B].reps=Be(this.value),t(3,c)}function C(E,B){E[B].notes=this.value,t(3,c)}return[n,l,r,c,u,b,h,_,o,d,f,k,m,w,T,L,C,E=>b(E.id)]}class En extends Xe{constructor(e){super(),Ze(this,e,Cn,yn,Qe,{getData:8})}get getData(){return this.$$.ctx[8]}}const Rl="training_history_cache",Tn=JSON.parse(localStorage.getItem(Rl)||"{}"),Et=Ol(Tn);Et.subscribe(s=>{localStorage.setItem(Rl,JSON.stringify(s))});function Ul(s,e){Et.update(t=>{const n=t[s]||[],l=[...e,...n],r=new Map;return l.forEach(c=>{var h;const o=((h=c.date)==null?void 0:h.value)||c.date,b=`${o?new Date(o).toISOString():""}|${c.location}|${c.session_type}|${JSON.stringify(c.climbs)}`;r.has(b)||r.set(b,c)}),{...t,[s]:Array.from(r.values()).sort((c,o)=>{var h,_;const u=new Date(((h=c.date)==null?void 0:h.value)||c.date);return new Date(((_=o.date)==null?void 0:_.value)||o.date).getTime()-u.getTime()})}})}function Dn(s,e){Ul(s,[e])}function Yt(s,e,t){const n=s.slice();return n[10]=e[t],n}function Jt(s){let e,t=s[10].text+"",n,l;return{c(){e=p("option"),n=_e(t),l=S(),this.h()},l(r){e=v(r,"OPTION",{});var c=y(e);n=pe(c,t),l=I(c),c.forEach(g),this.h()},h(){e.__value=s[10].id,U(e,e.__value)},m(r,c){G(r,e,c),i(e,n),i(e,l)},p:be,d(r){r&&g(e)}}}function Qt(s){let e,t,n,l,r,c=s[2]?"Saving...":"Save Log",o,u,b,h,_;var d=s[5].component;function f(m,w){return{props:{}}}d&&(t=bt(d,f()),s[9](t));let k=s[3]&&Xt(s);return{c(){e=p("div"),t&&dt(t.$$.fragment),n=S(),k&&k.c(),l=S(),r=p("button"),o=_e(c),this.h()},l(m){e=v(m,"DIV",{class:!0});var w=y(e);t&&yt(t.$$.fragment,w),n=I(w),k&&k.l(w),l=I(w),r=v(w,"BUTTON",{class:!0});var T=y(r);o=pe(T,c),T.forEach(g),w.forEach(g),this.h()},h(){a(r,"class","save-button svelte-148fipo"),r.disabled=s[2],a(e,"class","config-wrapper svelte-148fipo")},m(m,w){G(m,e,w),t&&vt(t,e,null),i(e,n),k&&k.m(e,null),i(e,l),i(e,r),i(r,o),b=!0,h||(_=K(r,"click",s[7]),h=!0)},p(m,w){if(w&32&&d!==(d=m[5].component)){if(t){We();const T=t;Ae(T.$$.fragment,1,0,()=>{ft(T,1)}),Ke()}d?(t=bt(d,f()),m[9](t),dt(t.$$.fragment),we(t.$$.fragment,1),vt(t,e,n)):t=null}else if(d){const T={};t.$set(T)}m[3]?k?(k.p(m,w),w&8&&we(k,1)):(k=Xt(m),k.c(),we(k,1),k.m(e,l)):k&&(We(),Ae(k,1,1,()=>{k=null}),Ke()),(!b||w&4)&&c!==(c=m[2]?"Saving...":"Save Log")&&Ve(o,c),(!b||w&4)&&(r.disabled=m[2])},i(m){b||(t&&we(t.$$.fragment,m),we(k),m&&(u||De(()=>{u=Ge(e,He,{}),u.start()})),b=!0)},o(m){t&&Ae(t.$$.fragment,m),Ae(k),b=!1},d(m){m&&g(e),s[9](null),t&&ft(t),k&&k.d(),h=!1,_()}}}function Xt(s){let e,t,n,l;return{c(){e=p("div"),t=_e(s[3]),this.h()},l(r){e=v(r,"DIV",{class:!0});var c=y(e);t=pe(c,s[3]),c.forEach(g),this.h()},h(){a(e,"class","message svelte-148fipo"),xe(e,"success",s[4]),xe(e,"error",!s[4])},m(r,c){G(r,e,c),i(e,t),l=!0},p(r,c){(!l||c&8)&&Ve(t,r[3]),(!l||c&16)&&xe(e,"success",r[4]),(!l||c&16)&&xe(e,"error",!r[4])},i(r){l||(r&&De(()=>{l&&(n||(n=Ye(e,He,{},!0)),n.run(1))}),l=!0)},o(r){r&&(n||(n=Ye(e,He,{},!1)),n.run(0)),l=!1},d(r){r&&g(e),r&&n&&n.end()}}}function Ln(s){let e,t,n="Log Exercise",l,r,c,o="What did you do today?",u,b,h,_="Select activity type...",d,f,k,m,w=de(s[6]),T=[];for(let C=0;C<w.length;C+=1)T[C]=Jt(Yt(s,w,C));let L=s[5]&&Qt(s);return{c(){e=p("div"),t=p("h2"),t.textContent=n,l=S(),r=p("div"),c=p("label"),c.textContent=o,u=S(),b=p("select"),h=p("option"),h.textContent=_;for(let C=0;C<T.length;C+=1)T[C].c();d=S(),L&&L.c(),this.h()},l(C){e=v(C,"DIV",{class:!0});var O=y(e);t=v(O,"H2",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1eeau7i"&&(t.textContent=n),l=I(O),r=v(O,"DIV",{class:!0});var E=y(r);c=v(E,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(c)!=="svelte-1ndwsee"&&(c.textContent=o),u=I(E),b=v(E,"SELECT",{id:!0,class:!0});var B=y(b);h=v(B,"OPTION",{"data-svelte-h":!0}),j(h)!=="svelte-11gchci"&&(h.textContent=_);for(let N=0;N<T.length;N+=1)T[N].l(B);B.forEach(g),E.forEach(g),d=I(O),L&&L.l(O),O.forEach(g),this.h()},h(){a(t,"class","svelte-148fipo"),a(c,"for","exercise-type"),a(c,"class","svelte-148fipo"),h.__value="",U(h,h.__value),h.disabled=!0,h.selected=!0,a(b,"id","exercise-type"),a(b,"class","svelte-148fipo"),s[0]===void 0&&De(()=>s[8].call(b)),a(r,"class","dropdown-wrapper svelte-148fipo"),a(e,"class","tab-content svelte-148fipo")},m(C,O){G(C,e,O),i(e,t),i(e,l),i(e,r),i(r,c),i(r,u),i(r,b),i(b,h);for(let E=0;E<T.length;E+=1)T[E]&&T[E].m(b,null);Ne(b,s[0],!0),i(e,d),L&&L.m(e,null),f=!0,k||(m=K(b,"change",s[8]),k=!0)},p(C,[O]){if(O&64){w=de(C[6]);let E;for(E=0;E<w.length;E+=1){const B=Yt(C,w,E);T[E]?T[E].p(B,O):(T[E]=Jt(B),T[E].c(),T[E].m(b,null))}for(;E<T.length;E+=1)T[E].d(1);T.length=w.length}O&65&&Ne(b,C[0]),C[5]?L?(L.p(C,O),O&32&&we(L,1)):(L=Qt(C),L.c(),we(L,1),L.m(e,null)):L&&(We(),Ae(L,1,1,()=>{L=null}),Ke())},i(C){f||(we(L),f=!0)},o(C){Ae(L),f=!1},d(C){C&&g(e),je(T,C),L&&L.d(),k=!1,m()}}}const In="https://save-log-825153765638.europe-west1.run.app";function Sn(s,e,t){let n,l="";const r=[{id:"indoor",text:"Indoor Climb",component:on},{id:"fingerboard",text:"Fingerboarding",component:En},{id:"gym",text:"Gym Session",component:hn},{id:"outdoor",text:"Outdoor Climb",component:_n},{id:"other",text:"Other",component:wn}];let c,o=!1,u="",b=!1;async function h(){if(!c||!c.getData){console.error("Component does not support data export");return}const f=c.getData(),k=Ll(ct);if(!f.location||!f.session||f.exercises&&f.exercises.length===0){t(3,u="Please select a Location, Session, and add at least one exercise."),t(4,b=!1);return}if(!k){t(3,u="Authentication error. Please log in again."),t(4,b=!1);return}t(2,o=!0),t(3,u="");try{const m={activity_type:l,location:f.location,session_type:f.session,finger_load:f.fingerLoad||0,shoulder_load:f.shoulderLoad||0,forearm_load:f.forearmLoad||0,climbs:f.exercises,date:new Date().toISOString()},w=await fetch(In,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(m)});if(!w.ok){const T=await w.text();throw new Error(`Server error (${w.status}): ${T}`)}t(3,u="Log saved successfully!"),t(4,b=!0),Dn(l,m)}catch(m){console.error("Save Error:",m),t(3,u="Failed to save log. Check console for details."),t(4,b=!1)}finally{t(2,o=!1)}}function _(){l=qe(this),t(0,l),t(6,r)}function d(f){Hl[f?"unshift":"push"](()=>{c=f,t(1,c)})}return s.$$.update=()=>{s.$$.dirty&1&&t(5,n=r.find(f=>f.id===l)),s.$$.dirty&1&&l&&t(3,u="")},[l,c,o,u,b,n,r,h,_,d]}class On extends Xe{constructor(e){super(),Ze(this,e,Sn,Ln,Qe,{})}}function Zt(s,e,t){const n=s.slice();return n[33]=e[t],n}function $t(s,e,t){const n=s.slice();return n[36]=e[t],n}function el(s,e,t){const n=s.slice();return n[39]=e[t],n}function tl(s,e,t){const n=s.slice();return n[39]=e[t],n}function ll(s,e,t){const n=s.slice();return n[44]=e[t],n}function nl(s,e,t){const n=s.slice();return n[47]=e[t],n}function sl(s,e,t){const n=s.slice();return n[50]=e[t],n}function Nn(s){let e,t,n;return{c(){e=ht("svg"),t=ht("path"),n=ht("path"),this.h()},l(l){e=ut(l,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var r=y(e);t=ut(r,"path",{d:!0}),y(t).forEach(g),n=ut(r,"path",{d:!0}),y(n).forEach(g),r.forEach(g),this.h()},h(){a(t,"d","M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"),a(n,"d","M21 3v5h-5"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","16"),a(e,"height","16"),a(e,"viewBox","0 0 24 24"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"stroke-width","2"),a(e,"stroke-linecap","round"),a(e,"stroke-linejoin","round")},m(l,r){G(l,e,r),i(e,t),i(e,n)},d(l){l&&g(e)}}}function An(s){let e;return{c(){e=p("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),y(e).forEach(g),this.h()},h(){a(e,"class","spinner-small svelte-1nhhhnk")},m(t,n){G(t,e,n)},d(t){t&&g(e)}}}function ol(s){let e,t=s[50].label+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{class:!0});var r=y(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[50].id,U(e,e.__value),a(e,"class","svelte-1nhhhnk")},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function rl(s){let e,t,n,l,r="Start Date",c,o,u,b,h,_="End Date",d,f,k,m,w,T="Location",L,C,O,E,B,N="Session / Type",D,M,H,Y,ne="Grade (Exact)",ke,V,A,oe,Z,J="Clear",re,x,Ee="Apply",ie,ue,$,Pe;function ce(F,Te){return F[0]==="outdoor"?Vn:Bn}let ve=ce(s),he=ve(s);function Le(F,Te){return F[0]==="outdoor"?Mn:Pn}let se=Le(s),ee=se(s);return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=r,c=S(),o=p("input"),u=S(),b=p("div"),h=p("label"),h.textContent=_,d=S(),f=p("input"),k=S(),m=p("div"),w=p("label"),w.textContent=T,L=S(),he.c(),C=S(),O=p("div"),E=p("div"),B=p("label"),B.textContent=N,D=S(),ee.c(),M=S(),H=p("div"),Y=p("label"),Y.textContent=ne,ke=S(),V=p("input"),A=S(),oe=p("div"),Z=p("button"),Z.textContent=J,re=S(),x=p("button"),x.textContent=Ee,this.h()},l(F){e=v(F,"DIV",{class:!0});var Te=y(e);t=v(Te,"DIV",{class:!0});var ae=y(t);n=v(ae,"DIV",{class:!0});var R=y(n);l=v(R,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(l)!=="svelte-1kxlpsi"&&(l.textContent=r),c=I(R),o=v(R,"INPUT",{id:!0,type:!0,class:!0}),R.forEach(g),u=I(ae),b=v(ae,"DIV",{class:!0});var z=y(b);h=v(z,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(h)!=="svelte-j60kik"&&(h.textContent=_),d=I(z),f=v(z,"INPUT",{id:!0,type:!0,class:!0}),z.forEach(g),k=I(ae),m=v(ae,"DIV",{class:!0});var q=y(m);w=v(q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(w)!=="svelte-3cwczo"&&(w.textContent=T),L=I(q),he.l(q),q.forEach(g),ae.forEach(g),C=I(Te),O=v(Te,"DIV",{class:!0});var ge=y(O);E=v(ge,"DIV",{class:!0});var Ie=y(E);B=v(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(B)!=="svelte-jb3f35"&&(B.textContent=N),D=I(Ie),ee.l(Ie),Ie.forEach(g),M=I(ge),H=v(ge,"DIV",{class:!0});var fe=y(H);Y=v(fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(Y)!=="svelte-f1ofpo"&&(Y.textContent=ne),ke=I(fe),V=v(fe,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),fe.forEach(g),A=I(ge),oe=v(ge,"DIV",{class:!0});var Ue=y(oe);Z=v(Ue,"BUTTON",{class:!0,"data-svelte-h":!0}),j(Z)!=="svelte-1hjrww8"&&(Z.textContent=J),re=I(Ue),x=v(Ue,"BUTTON",{class:!0,"data-svelte-h":!0}),j(x)!=="svelte-1ch465z"&&(x.textContent=Ee),Ue.forEach(g),ge.forEach(g),Te.forEach(g),this.h()},h(){a(l,"for","startDate"),a(l,"class","svelte-1nhhhnk"),a(o,"id","startDate"),a(o,"type","date"),a(o,"class","svelte-1nhhhnk"),a(n,"class","filter-group svelte-1nhhhnk"),a(h,"for","endDate"),a(h,"class","svelte-1nhhhnk"),a(f,"id","endDate"),a(f,"type","date"),a(f,"class","svelte-1nhhhnk"),a(b,"class","filter-group svelte-1nhhhnk"),a(w,"for","filterLocation"),a(w,"class","svelte-1nhhhnk"),a(m,"class","filter-group svelte-1nhhhnk"),a(t,"class","filter-row svelte-1nhhhnk"),a(B,"for","filterSession"),a(B,"class","svelte-1nhhhnk"),a(E,"class","filter-group svelte-1nhhhnk"),a(Y,"for","filterGrade"),a(Y,"class","svelte-1nhhhnk"),a(V,"id","filterGrade"),a(V,"type","text"),a(V,"placeholder","e.g. 7a+"),a(V,"class","svelte-1nhhhnk"),a(H,"class","filter-group svelte-1nhhhnk"),a(Z,"class","clear-btn svelte-1nhhhnk"),a(x,"class","apply-btn svelte-1nhhhnk"),a(oe,"class","filter-actions svelte-1nhhhnk"),a(O,"class","filter-row svelte-1nhhhnk"),a(e,"class","filters-panel svelte-1nhhhnk")},m(F,Te){G(F,e,Te),i(e,t),i(t,n),i(n,l),i(n,c),i(n,o),U(o,s[6]),i(t,u),i(t,b),i(b,h),i(b,d),i(b,f),U(f,s[7]),i(t,k),i(t,m),i(m,w),i(m,L),he.m(m,null),i(e,C),i(e,O),i(O,E),i(E,B),i(E,D),ee.m(E,null),i(O,M),i(O,H),i(H,Y),i(H,ke),i(H,V),U(V,s[10]),i(O,A),i(O,oe),i(oe,Z),i(oe,re),i(oe,x),ue=!0,$||(Pe=[K(o,"input",s[25]),K(f,"input",s[26]),K(V,"input",s[31]),K(Z,"click",s[19]),K(x,"click",s[18])],$=!0)},p(F,Te){Te[0]&64&&U(o,F[6]),Te[0]&128&&U(f,F[7]),ve===(ve=ce(F))&&he?he.p(F,Te):(he.d(1),he=ve(F),he&&(he.c(),he.m(m,null))),se===(se=Le(F))&&ee?ee.p(F,Te):(ee.d(1),ee=se(F),ee&&(ee.c(),ee.m(E,null))),Te[0]&1024&&V.value!==F[10]&&U(V,F[10])},i(F){ue||(F&&De(()=>{ue&&(ie||(ie=Ye(e,He,{},!0)),ie.run(1))}),ue=!0)},o(F){F&&(ie||(ie=Ye(e,He,{},!1)),ie.run(0)),ue=!1},d(F){F&&g(e),he.d(),ee.d(),F&&ie&&ie.end(),$=!1,Je(Pe)}}}function Bn(s){let e,t,n="Any Location",l,r,c=de(s[15]),o=[];for(let u=0;u<c.length;u+=1)o[u]=al(nl(s,c,u));return{c(){e=p("select"),t=p("option"),t.textContent=n;for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=v(u,"SELECT",{id:!0,class:!0});var b=y(e);t=v(b,"OPTION",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-vg9lqd"&&(t.textContent=n);for(let h=0;h<o.length;h+=1)o[h].l(b);b.forEach(g),this.h()},h(){t.__value="",U(t,t.__value),a(t,"class","svelte-1nhhhnk"),a(e,"id","filterLocation"),a(e,"class","svelte-1nhhhnk"),s[8]===void 0&&De(()=>s[28].call(e))},m(u,b){G(u,e,b),i(e,t);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(e,null);Ne(e,s[8],!0),l||(r=K(e,"change",s[28]),l=!0)},p(u,b){if(b[0]&32768){c=de(u[15]);let h;for(h=0;h<c.length;h+=1){const _=nl(u,c,h);o[h]?o[h].p(_,b):(o[h]=al(_),o[h].c(),o[h].m(e,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=c.length}b[0]&33024&&Ne(e,u[8])},d(u){u&&g(e),je(o,u),l=!1,r()}}}function Vn(s){let e,t,n;return{c(){e=p("input"),this.h()},l(l){e=v(l,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","filterLocation"),a(e,"type","text"),a(e,"placeholder","Crag or Wall"),a(e,"class","svelte-1nhhhnk")},m(l,r){G(l,e,r),U(e,s[8]),t||(n=K(e,"input",s[27]),t=!0)},p(l,r){r[0]&33024&&e.value!==l[8]&&U(e,l[8])},d(l){l&&g(e),t=!1,n()}}}function al(s){let e,t=s[47]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{class:!0});var r=y(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[47],U(e,e.__value),a(e,"class","svelte-1nhhhnk")},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function Pn(s){let e,t,n="Any Session",l,r,c=de(s[16]),o=[];for(let u=0;u<c.length;u+=1)o[u]=il(ll(s,c,u));return{c(){e=p("select"),t=p("option"),t.textContent=n;for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=v(u,"SELECT",{id:!0,class:!0});var b=y(e);t=v(b,"OPTION",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-178oehu"&&(t.textContent=n);for(let h=0;h<o.length;h+=1)o[h].l(b);b.forEach(g),this.h()},h(){t.__value="",U(t,t.__value),a(t,"class","svelte-1nhhhnk"),a(e,"id","filterSession"),a(e,"class","svelte-1nhhhnk"),s[9]===void 0&&De(()=>s[30].call(e))},m(u,b){G(u,e,b),i(e,t);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(e,null);Ne(e,s[9],!0),l||(r=K(e,"change",s[30]),l=!0)},p(u,b){if(b[0]&65536){c=de(u[16]);let h;for(h=0;h<c.length;h+=1){const _=ll(u,c,h);o[h]?o[h].p(_,b):(o[h]=il(_),o[h].c(),o[h].m(e,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=c.length}b[0]&66048&&Ne(e,u[9])},d(u){u&&g(e),je(o,u),l=!1,r()}}}function Mn(s){let e,t,n="Any Type",l,r="Bouldering",c,o="Ropes",u,b;return{c(){e=p("select"),t=p("option"),t.textContent=n,l=p("option"),l.textContent=r,c=p("option"),c.textContent=o,this.h()},l(h){e=v(h,"SELECT",{id:!0,class:!0});var _=y(e);t=v(_,"OPTION",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-c7i2yo"&&(t.textContent=n),l=v(_,"OPTION",{class:!0,"data-svelte-h":!0}),j(l)!=="svelte-ffaje2"&&(l.textContent=r),c=v(_,"OPTION",{class:!0,"data-svelte-h":!0}),j(c)!=="svelte-78wj0c"&&(c.textContent=o),_.forEach(g),this.h()},h(){t.__value="",U(t,t.__value),a(t,"class","svelte-1nhhhnk"),l.__value="Bouldering",U(l,l.__value),a(l,"class","svelte-1nhhhnk"),c.__value="Ropes",U(c,c.__value),a(c,"class","svelte-1nhhhnk"),a(e,"id","filterSession"),a(e,"class","svelte-1nhhhnk"),s[9]===void 0&&De(()=>s[29].call(e))},m(h,_){G(h,e,_),i(e,t),i(e,l),i(e,c),Ne(e,s[9],!0),u||(b=K(e,"change",s[29]),u=!0)},p(h,_){_[0]&66048&&Ne(e,h[9])},d(h){h&&g(e),u=!1,b()}}}function il(s){let e,t=s[44]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{class:!0});var r=y(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[44],U(e,e.__value),a(e,"class","svelte-1nhhhnk")},m(l,r){G(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function Rn(s){let e,t,n=[],l=new Map,r,c,o,u=s[12].length===0&&s[1].length>0&&cl(),b=de(s[12]);const h=d=>d[33].key;for(let d=0;d<b.length;d+=1){let f=Zt(s,b,d),k=h(f);l.set(k,n[d]=ml(k,f))}let _=s[12].length>0&&bl(s);return{c(){e=p("div"),u&&u.c(),t=S();for(let d=0;d<n.length;d+=1)n[d].c();c=S(),_&&_.c(),o=mt(),this.h()},l(d){e=v(d,"DIV",{class:!0});var f=y(e);u&&u.l(f),t=I(f);for(let k=0;k<n.length;k+=1)n[k].l(f);f.forEach(g),c=I(d),_&&_.l(d),o=mt(),this.h()},h(){a(e,"class","sessions-list svelte-1nhhhnk")},m(d,f){G(d,e,f),u&&u.m(e,null),i(e,t);for(let k=0;k<n.length;k+=1)n[k]&&n[k].m(e,null);G(d,c,f),_&&_.m(d,f),G(d,o,f)},p(d,f){d[12].length===0&&d[1].length>0?u||(u=cl(),u.c(),u.m(e,t)):u&&(u.d(1),u=null),f[0]&14352&&(b=de(d[12]),n=kt(n,f,h,1,d,b,l,e,Bl,ml,null,Zt)),d[12].length>0?_?(_.p(d,f),f[0]&4096&&we(_,1)):(_=bl(d),_.c(),we(_,1),_.m(o.parentNode,o)):_&&(_.d(1),_=null)},i(d){d&&(r||De(()=>{r=Ge(e,He,{}),r.start()})),we(_)},o:be,d(d){d&&(g(e),g(c),g(o)),u&&u.d();for(let f=0;f<n.length;f+=1)n[f].d();_&&_.d(d)}}}function Un(s){let e,t=`<p>No data cached for this activity. Click &quot;Fetch Data&quot; to sync
                from the server.</p> <div class="empty-state"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg></div>`,n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-h6ex8u"&&(e.innerHTML=t),this.h()},h(){a(e,"class","placeholder svelte-1nhhhnk")},m(l,r){G(l,e,r)},p:be,i(l){l&&(n||De(()=>{n=Ge(e,He,{}),n.start()}))},o:be,d(l){l&&g(e)}}}function zn(s){let e,t,n,l,r,c,o="Retry",u,b,h;return{c(){e=p("div"),t=p("p"),n=_e("Error: "),l=_e(s[3]),r=S(),c=p("button"),c.textContent=o,this.h()},l(_){e=v(_,"DIV",{class:!0});var d=y(e);t=v(d,"P",{});var f=y(t);n=pe(f,"Error: "),l=pe(f,s[3]),f.forEach(g),r=I(d),c=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),j(c)!=="svelte-1n0rt7s"&&(c.textContent=o),d.forEach(g),this.h()},h(){a(c,"class","retry-btn svelte-1nhhhnk"),a(e,"class","status-msg error svelte-1nhhhnk")},m(_,d){G(_,e,d),i(e,t),i(t,n),i(t,l),i(e,r),i(e,c),b||(h=K(c,"click",s[17]),b=!0)},p(_,d){d[0]&8&&Ve(l,_[3])},i(_){_&&(u||De(()=>{u=Ge(e,He,{}),u.start()}))},o:be,d(_){_&&g(e),b=!1,h()}}}function Hn(s){let e,t=`<div class="spinner svelte-1nhhhnk"></div>
            Loading your training history...`,n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-7ltysi"&&(e.innerHTML=t),this.h()},h(){a(e,"class","status-msg svelte-1nhhhnk")},m(l,r){G(l,e,r)},p:be,i(l){l&&(n||De(()=>{n=Ge(e,He,{}),n.start()}))},o:be,d(l){l&&g(e)}}}function cl(s){let e,t="No results match your filters.";return{c(){e=p("div"),e.textContent=t,this.h()},l(n){e=v(n,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-1m70tcd"&&(e.textContent=t),this.h()},h(){a(e,"class","no-results svelte-1nhhhnk")},m(n,l){G(n,e,l)},d(n){n&&g(e)}}}function ul(s){let e,t,n,l,r,c,o,u,b=de(s[11].filter(wl)),h=[];for(let f=0;f<b.length;f+=1)h[f]=hl(tl(s,b,f));let _=de(s[33].items),d=[];for(let f=0;f<_.length;f+=1)d[f]=gl($t(s,_,f));return{c(){e=p("div"),t=p("table"),n=p("thead"),l=p("tr");for(let f=0;f<h.length;f+=1)h[f].c();r=S(),c=p("tbody");for(let f=0;f<d.length;f+=1)d[f].c();this.h()},l(f){e=v(f,"DIV",{class:!0});var k=y(e);t=v(k,"TABLE",{class:!0});var m=y(t);n=v(m,"THEAD",{});var w=y(n);l=v(w,"TR",{});var T=y(l);for(let C=0;C<h.length;C+=1)h[C].l(T);T.forEach(g),w.forEach(g),r=I(m),c=v(m,"TBODY",{});var L=y(c);for(let C=0;C<d.length;C+=1)d[C].l(L);L.forEach(g),m.forEach(g),k.forEach(g),this.h()},h(){a(t,"class","details-table svelte-1nhhhnk"),a(e,"class","session-details svelte-1nhhhnk")},m(f,k){G(f,e,k),i(e,t),i(t,n),i(n,l);for(let m=0;m<h.length;m+=1)h[m]&&h[m].m(l,null);i(t,r),i(t,c);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(c,null);u=!0},p(f,k){if(k[0]&2048){b=de(f[11].filter(wl));let m;for(m=0;m<b.length;m+=1){const w=tl(f,b,m);h[m]?h[m].p(w,k):(h[m]=hl(w),h[m].c(),h[m].m(l,null))}for(;m<h.length;m+=1)h[m].d(1);h.length=b.length}if(k[0]&6144){_=de(f[33].items);let m;for(m=0;m<_.length;m+=1){const w=$t(f,_,m);d[m]?d[m].p(w,k):(d[m]=gl(w),d[m].c(),d[m].m(c,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=_.length}},i(f){u||(f&&De(()=>{u&&(o||(o=Ye(e,ot,{},!0)),o.run(1))}),u=!0)},o(f){f&&(o||(o=Ye(e,ot,{},!1)),o.run(0)),u=!1},d(f){f&&g(e),je(h,f),je(d,f),f&&o&&o.end()}}}function hl(s){let e,t=s[39].label+"",n;return{c(){e=p("th"),n=_e(t),this.h()},l(l){e=v(l,"TH",{class:!0});var r=y(e);n=pe(r,t),r.forEach(g),this.h()},h(){a(e,"class","svelte-1nhhhnk")},m(l,r){G(l,e,r),i(e,n)},p(l,r){r[0]&2048&&t!==(t=l[39].label+"")&&Ve(n,t)},d(l){l&&g(e)}}}function Fn(s){let e=(s[36][s[39].key]||"-")+"",t;return{c(){t=_e(e)},l(n){t=pe(n,e)},m(n,l){G(n,t,l)},p(n,l){l[0]&6144&&e!==(e=(n[36][n[39].key]||"-")+"")&&Ve(t,e)},d(n){n&&g(t)}}}function jn(s){let e,t,n=(s[36].route||s[36].name||"-")+"",l,r,c,o,u,b=s[36].grade&&fl(s),h=s[36].weight&&dl(s),_=(s[36].sets||s[36].reps)&&vl(s),d=s[36].notes&&pl(s);return{c(){e=p("div"),t=p("span"),l=_e(n),r=S(),b&&b.c(),c=S(),h&&h.c(),o=S(),_&&_.c(),u=S(),d&&d.c(),this.h()},l(f){e=v(f,"DIV",{class:!0});var k=y(e);t=v(k,"SPAN",{class:!0});var m=y(t);l=pe(m,n),m.forEach(g),r=I(k),b&&b.l(k),c=I(k),h&&h.l(k),o=I(k),_&&_.l(k),u=I(k),d&&d.l(k),k.forEach(g),this.h()},h(){a(t,"class","ex-name svelte-1nhhhnk"),a(e,"class","exercise-row svelte-1nhhhnk")},m(f,k){G(f,e,k),i(e,t),i(t,l),i(e,r),b&&b.m(e,null),i(e,c),h&&h.m(e,null),i(e,o),_&&_.m(e,null),i(e,u),d&&d.m(e,null)},p(f,k){k[0]&4096&&n!==(n=(f[36].route||f[36].name||"-")+"")&&Ve(l,n),f[36].grade?b?b.p(f,k):(b=fl(f),b.c(),b.m(e,c)):b&&(b.d(1),b=null),f[36].weight?h?h.p(f,k):(h=dl(f),h.c(),h.m(e,o)):h&&(h.d(1),h=null),f[36].sets||f[36].reps?_?_.p(f,k):(_=vl(f),_.c(),_.m(e,u)):_&&(_.d(1),_=null),f[36].notes?d?d.p(f,k):(d=pl(f),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(f){f&&g(e),b&&b.d(),h&&h.d(),_&&_.d(),d&&d.d()}}}function fl(s){let e,t=s[36].grade+"",n;return{c(){e=p("span"),n=_e(t),this.h()},l(l){e=v(l,"SPAN",{class:!0});var r=y(e);n=pe(r,t),r.forEach(g),this.h()},h(){a(e,"class","ex-meta grade svelte-1nhhhnk")},m(l,r){G(l,e,r),i(e,n)},p(l,r){r[0]&4096&&t!==(t=l[36].grade+"")&&Ve(n,t)},d(l){l&&g(e)}}}function dl(s){let e,t=s[36].weight+"",n,l;return{c(){e=p("span"),n=_e(t),l=_e("kg"),this.h()},l(r){e=v(r,"SPAN",{class:!0});var c=y(e);n=pe(c,t),l=pe(c,"kg"),c.forEach(g),this.h()},h(){a(e,"class","ex-meta weight svelte-1nhhhnk")},m(r,c){G(r,e,c),i(e,n),i(e,l)},p(r,c){c[0]&4096&&t!==(t=r[36].weight+"")&&Ve(n,t)},d(r){r&&g(e)}}}function vl(s){let e,t=s[36].sets+"",n,l,r=s[36].reps+"",c;return{c(){e=p("span"),n=_e(t),l=_e("x"),c=_e(r),this.h()},l(o){e=v(o,"SPAN",{class:!0});var u=y(e);n=pe(u,t),l=pe(u,"x"),c=pe(u,r),u.forEach(g),this.h()},h(){a(e,"class","ex-meta sets svelte-1nhhhnk")},m(o,u){G(o,e,u),i(e,n),i(e,l),i(e,c)},p(o,u){u[0]&4096&&t!==(t=o[36].sets+"")&&Ve(n,t),u[0]&4096&&r!==(r=o[36].reps+"")&&Ve(c,r)},d(o){o&&g(e)}}}function pl(s){let e,t=s[36].notes+"",n;return{c(){e=p("span"),n=_e(t),this.h()},l(l){e=v(l,"SPAN",{class:!0});var r=y(e);n=pe(r,t),r.forEach(g),this.h()},h(){a(e,"class","ex-notes svelte-1nhhhnk")},m(l,r){G(l,e,r),i(e,n)},p(l,r){r[0]&4096&&t!==(t=l[36].notes+"")&&Ve(n,t)},d(l){l&&g(e)}}}function _l(s){let e;function t(r,c){return r[39].isObject?jn:Fn}let n=t(s),l=n(s);return{c(){e=p("td"),l.c(),this.h()},l(r){e=v(r,"TD",{class:!0});var c=y(e);l.l(c),c.forEach(g),this.h()},h(){a(e,"class","svelte-1nhhhnk")},m(r,c){G(r,e,c),l.m(e,null)},p(r,c){n===(n=t(r))&&l?l.p(r,c):(l.d(1),l=n(r),l&&(l.c(),l.m(e,null)))},d(r){r&&g(e),l.d()}}}function gl(s){let e,t,n=de(s[11].filter(yl)),l=[];for(let r=0;r<n.length;r+=1)l[r]=_l(el(s,n,r));return{c(){e=p("tr");for(let r=0;r<l.length;r+=1)l[r].c();t=S()},l(r){e=v(r,"TR",{});var c=y(e);for(let o=0;o<l.length;o+=1)l[o].l(c);t=I(c),c.forEach(g)},m(r,c){G(r,e,c);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null);i(e,t)},p(r,c){if(c[0]&6144){n=de(r[11].filter(yl));let o;for(o=0;o<n.length;o+=1){const u=el(r,n,o);l[o]?l[o].p(u,c):(l[o]=_l(u),l[o].c(),l[o].m(e,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(r){r&&g(e),je(l,r)}}}function ml(s,e){let t,n,l,r,c=kl(e[33].date)+"",o,u,b,h=e[33].location+"",_,d,f,k=e[33].session+"",m,w,T,L,C,O="FI",E,B,N=e[33].fingerLoad+"",D,M,H,Y,ne="SH",ke,V,A=e[33].shoulderLoad+"",oe,Z,J,re,x="FO",Ee,ie,ue=e[33].forearmLoad+"",$,Pe,ce,ve,he,Le=e[4].has(e[33].key),se,ee,F;function Te(){return e[32](e[33])}let ae=Le&&ul(e);return{key:s,first:null,c(){t=p("div"),n=p("button"),l=p("div"),r=p("span"),o=_e(c),u=S(),b=p("span"),_=_e(h),d=S(),f=p("span"),m=_e(k),w=S(),T=p("div"),L=p("div"),C=p("span"),C.textContent=O,E=S(),B=p("span"),D=_e(N),M=S(),H=p("div"),Y=p("span"),Y.textContent=ne,ke=S(),V=p("span"),oe=_e(A),Z=S(),J=p("div"),re=p("span"),re.textContent=x,Ee=S(),ie=p("span"),$=_e(ue),Pe=S(),ce=ht("svg"),ve=ht("path"),he=S(),ae&&ae.c(),se=S(),this.h()},l(R){t=v(R,"DIV",{class:!0});var z=y(t);n=v(z,"BUTTON",{class:!0});var q=y(n);l=v(q,"DIV",{class:!0});var ge=y(l);r=v(ge,"SPAN",{class:!0});var Ie=y(r);o=pe(Ie,c),Ie.forEach(g),u=I(ge),b=v(ge,"SPAN",{class:!0});var fe=y(b);_=pe(fe,h),fe.forEach(g),d=I(ge),f=v(ge,"SPAN",{class:!0});var Ue=y(f);m=pe(Ue,k),Ue.forEach(g),ge.forEach(g),w=I(q),T=v(q,"DIV",{class:!0});var Se=y(T);L=v(Se,"DIV",{class:!0});var me=y(L);C=v(me,"SPAN",{class:!0,"data-svelte-h":!0}),j(C)!=="svelte-lon4bu"&&(C.textContent=O),E=I(me),B=v(me,"SPAN",{class:!0});var Me=y(B);D=pe(Me,N),Me.forEach(g),me.forEach(g),M=I(Se),H=v(Se,"DIV",{class:!0});var ye=y(H);Y=v(ye,"SPAN",{class:!0,"data-svelte-h":!0}),j(Y)!=="svelte-ryswzs"&&(Y.textContent=ne),ke=I(ye),V=v(ye,"SPAN",{class:!0});var Re=y(V);oe=pe(Re,A),Re.forEach(g),ye.forEach(g),Z=I(Se),J=v(Se,"DIV",{class:!0});var Ce=y(J);re=v(Ce,"SPAN",{class:!0,"data-svelte-h":!0}),j(re)!=="svelte-1q34mlw"&&(re.textContent=x),Ee=I(Ce),ie=v(Ce,"SPAN",{class:!0});var P=y(ie);$=pe(P,ue),P.forEach(g),Ce.forEach(g),Pe=I(Se),ce=ut(Se,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var X=y(ce);ve=ut(X,"path",{d:!0}),y(ve).forEach(g),X.forEach(g),Se.forEach(g),q.forEach(g),he=I(z),ae&&ae.l(z),se=I(z),z.forEach(g),this.h()},h(){a(r,"class","date svelte-1nhhhnk"),a(b,"class","location svelte-1nhhhnk"),a(f,"class","tag svelte-1nhhhnk"),a(l,"class","session-info svelte-1nhhhnk"),a(C,"class","label svelte-1nhhhnk"),a(B,"class","val"),a(L,"class","load-pill finger svelte-1nhhhnk"),a(Y,"class","label svelte-1nhhhnk"),a(V,"class","val"),a(H,"class","load-pill shoulder svelte-1nhhhnk"),a(re,"class","label svelte-1nhhhnk"),a(ie,"class","val"),a(J,"class","load-pill forearm svelte-1nhhhnk"),a(ve,"d","m6 9 6 6 6-6"),a(ce,"class","chevron svelte-1nhhhnk"),a(ce,"xmlns","http://www.w3.org/2000/svg"),a(ce,"width","20"),a(ce,"height","20"),a(ce,"viewBox","0 0 24 24"),a(ce,"fill","none"),a(ce,"stroke","currentColor"),a(ce,"stroke-width","2"),a(ce,"stroke-linecap","round"),a(ce,"stroke-linejoin","round"),a(T,"class","load-summary svelte-1nhhhnk"),a(n,"class","session-header svelte-1nhhhnk"),a(t,"class","session-card svelte-1nhhhnk"),xe(t,"expanded",e[4].has(e[33].key)),this.first=t},m(R,z){G(R,t,z),i(t,n),i(n,l),i(l,r),i(r,o),i(l,u),i(l,b),i(b,_),i(l,d),i(l,f),i(f,m),i(n,w),i(n,T),i(T,L),i(L,C),i(L,E),i(L,B),i(B,D),i(T,M),i(T,H),i(H,Y),i(H,ke),i(H,V),i(V,oe),i(T,Z),i(T,J),i(J,re),i(J,Ee),i(J,ie),i(ie,$),i(T,Pe),i(T,ce),i(ce,ve),i(t,he),ae&&ae.m(t,null),i(t,se),ee||(F=K(n,"click",Te),ee=!0)},p(R,z){e=R,z[0]&4096&&c!==(c=kl(e[33].date)+"")&&Ve(o,c),z[0]&4096&&h!==(h=e[33].location+"")&&Ve(_,h),z[0]&4096&&k!==(k=e[33].session+"")&&Ve(m,k),z[0]&4096&&N!==(N=e[33].fingerLoad+"")&&Ve(D,N),z[0]&4096&&A!==(A=e[33].shoulderLoad+"")&&Ve(oe,A),z[0]&4096&&ue!==(ue=e[33].forearmLoad+"")&&Ve($,ue),z[0]&4112&&(Le=e[4].has(e[33].key)),Le?ae?(ae.p(e,z),z[0]&4112&&we(ae,1)):(ae=ul(e),ae.c(),we(ae,1),ae.m(t,se)):ae&&(We(),Ae(ae,1,1,()=>{ae=null}),Ke()),z[0]&4112&&xe(t,"expanded",e[4].has(e[33].key))},d(R){R&&g(t),ae&&ae.d(),ee=!1,F()}}}function bl(s){let e,t,n=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    Export to CSV`,l,r,c;return{c(){e=p("div"),t=p("button"),t.innerHTML=n,this.h()},l(o){e=v(o,"DIV",{class:!0});var u=y(e);t=v(u,"BUTTON",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-jjg4f9"&&(t.innerHTML=n),u.forEach(g),this.h()},h(){a(t,"class","export-btn svelte-1nhhhnk"),a(e,"class","footer-actions svelte-1nhhhnk")},m(o,u){G(o,e,u),i(e,t),r||(c=K(t,"click",s[20]),r=!0)},p:be,i(o){o&&(l||De(()=>{l=Ge(e,He,{}),l.start()}))},o:be,d(o){o&&g(e),r=!1,c()}}}function xn(s){let e,t,n,l,r,c,o,u=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>
                Filters`,b,h,_,d,f,k;function m(D,M){return D[2]?An:Nn}let w=m(s),T=w(s),L=de(s[14]),C=[];for(let D=0;D<L.length;D+=1)C[D]=ol(sl(s,L,D));let O=s[5]&&rl(s);function E(D,M){return D[2]?Hn:D[3]?zn:D[1].length===0?Un:Rn}let B=E(s),N=B(s);return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("button"),T.c(),r=_e(`
                Fetch Data`),c=S(),o=p("button"),o.innerHTML=u,b=S(),h=p("select");for(let D=0;D<C.length;D+=1)C[D].c();_=S(),O&&O.c(),d=S(),N.c(),this.h()},l(D){e=v(D,"DIV",{class:!0});var M=y(e);t=v(M,"DIV",{class:!0});var H=y(t);n=v(H,"DIV",{class:!0});var Y=y(n);l=v(Y,"BUTTON",{class:!0,title:!0});var ne=y(l);T.l(ne),r=pe(ne,`
                Fetch Data`),ne.forEach(g),c=I(Y),o=v(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-vw25g4"&&(o.innerHTML=u),b=I(Y),h=v(Y,"SELECT",{class:!0});var ke=y(h);for(let V=0;V<C.length;V+=1)C[V].l(ke);ke.forEach(g),Y.forEach(g),H.forEach(g),_=I(M),O&&O.l(M),d=I(M),N.l(M),M.forEach(g),this.h()},h(){a(l,"class","fetch-btn svelte-1nhhhnk"),l.disabled=s[2],a(l,"title","Fetch latest data"),a(o,"class","filter-toggle svelte-1nhhhnk"),xe(o,"active",s[5]),a(h,"class","type-select svelte-1nhhhnk"),s[0]===void 0&&De(()=>s[24].call(h)),a(n,"class","header-actions svelte-1nhhhnk"),a(t,"class","header-row svelte-1nhhhnk"),a(e,"class","view-container svelte-1nhhhnk")},m(D,M){G(D,e,M),i(e,t),i(t,n),i(n,l),T.m(l,null),i(l,r),i(n,c),i(n,o),i(n,b),i(n,h);for(let H=0;H<C.length;H+=1)C[H]&&C[H].m(h,null);Ne(h,s[0],!0),i(e,_),O&&O.m(e,null),i(e,d),N.m(e,null),f||(k=[K(l,"click",s[17]),K(o,"click",s[23]),K(h,"change",s[24])],f=!0)},p(D,M){if(w!==(w=m(D))&&(T.d(1),T=w(D),T&&(T.c(),T.m(l,r))),M[0]&4&&(l.disabled=D[2]),M[0]&32&&xe(o,"active",D[5]),M[0]&16384){L=de(D[14]);let H;for(H=0;H<L.length;H+=1){const Y=sl(D,L,H);C[H]?C[H].p(Y,M):(C[H]=ol(Y),C[H].c(),C[H].m(h,null))}for(;H<C.length;H+=1)C[H].d(1);C.length=L.length}M[0]&16385&&Ne(h,D[0]),D[5]?O?(O.p(D,M),M[0]&32&&we(O,1)):(O=rl(D),O.c(),we(O,1),O.m(e,d)):O&&(We(),Ae(O,1,1,()=>{O=null}),Ke()),B===(B=E(D))&&N?N.p(D,M):(N.d(1),N=B(D),N&&(N.c(),we(N,1),N.m(e,null)))},i(D){we(O),we(N)},o(D){Ae(O)},d(D){D&&g(e),T.d(),je(C,D),O&&O.d(),N.d(),f=!1,Je(k)}}}const Gn="https://get-log-825153765638.europe-west1.run.app";function qn(s,e,t,n,l,r){const c=s.filter(u=>{var b,h,_;if(e&&new Date(((b=u.date)==null?void 0:b.value)||u.date)<new Date(e))return!1;if(t){const d=new Date(t);if(d.setHours(23,59,59,999),new Date(((h=u.date)==null?void 0:h.value)||u.date)>d)return!1}return!(n&&u.location!==n||l&&u.session_type!==l||r&&((_=u.climbs)==null?void 0:_.grade)!==r)}),o={};return c.forEach(u=>{var d;const b=((d=u.date)==null?void 0:d.value)||u.date,_=`${new Date(b).toISOString().split("T")[0]}|${u.location}|${u.session_type}`;o[_]||(o[_]={key:_,date:u.date,location:u.location,session:u.session_type,fingerLoad:0,shoulderLoad:0,forearmLoad:0,items:[]}),o[_].fingerLoad=Math.max(o[_].fingerLoad,u.finger_load||0),o[_].shoulderLoad=Math.max(o[_].shoulderLoad,u.shoulder_load||0),o[_].forearmLoad=Math.max(o[_].forearmLoad,u.forearm_load||0),o[_].items.push(u.climbs)}),Object.values(o).sort((u,b)=>{const h=new Date(u.date.value||u.date);return new Date(b.date.value||b.date).getTime()-h.getTime()})}function kl(s){return s?new Date(s.value||s).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"2-digit"}):"-"}function Wn(s){switch(s){case"indoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Session"},{key:"climbs",label:"Data",isObject:!0}];case"fingerboard":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Hang",isObject:!0}];case"outdoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Routes",isObject:!0}];default:return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"}]}}const wl=s=>s.key!=="date"&&s.key!=="location"&&s.key!=="session_type",yl=s=>s.key!=="date"&&s.key!=="location"&&s.key!=="session_type";function Kn(s,e,t){let n,l,r,c;Il(s,Et,x=>t(22,c=x));let o="indoor",u=!1,b="",h=new Set;function _(x){h.has(x)?h.delete(x):h.add(x),t(4,h)}let d=!1,f="",k="",m="",w="",T="",L={startDate:"",endDate:"",location:"",session:"",grade:""};const C=[{id:"indoor",label:"Indoor Climb"},{id:"fingerboard",label:"Fingerboarding"},{id:"gym",label:"Gym Session"},{id:"outdoor",label:"Outdoor Climb"},{id:"other",label:"Other"}],O=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],E=["Strength","Endurance","Power","Recovery"];async function B(){if(o){t(2,u=!0),t(3,b="");try{const x=Ll(ct),Ee=new URLSearchParams({type:o}),ie=await fetch(`${Gn}?${Ee.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${x}`}});if(!ie.ok){const $=await ie.text();throw new Error($||"Failed to fetch data")}const ue=await ie.json();Ul(o,ue)}catch(x){console.error("Fetch Error:",x),t(3,b=x.message||"An unknown error occurred")}finally{t(2,u=!1)}}}function N(){t(21,L={startDate:f,endDate:k,location:m,session:w,grade:T}),t(5,d=!1)}function D(){t(6,f=""),t(7,k=""),t(8,m=""),t(9,w=""),t(10,T=""),N()}function M(){if(!n||n.length===0)return;const x=["date","location","session_type","finger_load","shoulder_load","forearm_load"],Ee=new Set;n.forEach(Le=>{Le.climbs&&Object.keys(Le.climbs).forEach(se=>Ee.add(se))});const ie=Array.from(Ee),ue=[...x,...ie],$=[];$.push(ue.join(",")),n.forEach(Le=>{const se=ue.map(ee=>{let F;return x.includes(ee)?F=Le[ee]:F=Le.climbs?Le.climbs[ee]:"",F&&typeof F=="object"&&F.value&&(F=F.value),`"${(F==null?"":String(F)).replace(/"/g,'""')}"`});$.push(se.join(","))});const Pe=$.join(`
`),ce=new Blob([Pe],{type:"text/csv;charset=utf-8;"}),ve=URL.createObjectURL(ce),he=document.createElement("a");he.setAttribute("href",ve),he.setAttribute("download",`training_data_${o}_${new Date().toISOString().split("T")[0]}.csv`),he.style.visibility="hidden",document.body.appendChild(he),he.click(),document.body.removeChild(he)}Fl(()=>{});const H=()=>t(5,d=!d);function Y(){o=qe(this),t(0,o),t(14,C)}function ne(){f=this.value,t(6,f)}function ke(){k=this.value,t(7,k)}function V(){m=this.value,t(8,m),t(15,O)}function A(){m=qe(this),t(8,m),t(15,O)}function oe(){w=qe(this),t(9,w),t(16,E)}function Z(){w=qe(this),t(9,w),t(16,E)}function J(){T=this.value,t(10,T)}const re=x=>_(x.key);return s.$$.update=()=>{s.$$.dirty[0]&4194305&&t(1,n=c[o]||[]),s.$$.dirty[0]&2097154&&t(12,l=qn(n,L.startDate,L.endDate,L.location,L.session,L.grade)),s.$$.dirty[0]&1&&t(11,r=Wn(o))},[o,n,u,b,h,d,f,k,m,w,T,r,l,_,C,O,E,B,N,D,M,L,c,H,Y,ne,ke,V,A,oe,Z,J,re]}class Yn extends Xe{constructor(e){super(),Ze(this,e,Kn,xn,Qe,{},null,[-1,-1])}}function Jn(s){let e,t='<h2 class="svelte-dqa28t">Graph Data</h2> <div class="placeholder svelte-dqa28t"><p class="svelte-dqa28t">Visual progress charts and graphs will be displayed here.</p> <div class="empty-state svelte-dqa28t"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-line-chart"><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"></path></svg></div></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(n){e=v(n,"DIV",{class:!0,"data-svelte-h":!0}),j(e)!=="svelte-r5xejk"&&(e.innerHTML=t),this.h()},h(){a(e,"class","tab-content svelte-dqa28t")},m(n,l){G(n,e,l)},p:be,i:be,o:be,d(n){n&&g(e)}}}class Qn extends Xe{constructor(e){super(),Ze(this,e,null,Jn,Qe,{})}}function Cl(s,e,t){const n=s.slice();return n[5]=e[t],n}function El(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg>',n,l;return{c(){e=p("button"),e.innerHTML=t,this.h()},l(r){e=v(r,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),j(e)!=="svelte-1y2odl3"&&(e.innerHTML=t),this.h()},h(){a(e,"class","logout-button svelte-xzza9f"),a(e,"title","Logout")},m(r,c){G(r,e,c),n||(l=K(e,"click",$l),n=!0)},d(r){r&&g(e),n=!1,l()}}}function Xn(s){let e,t,n;return t=new ln({}),{c(){e=p("div"),dt(t.$$.fragment),this.h()},l(l){e=v(l,"DIV",{class:!0});var r=y(e);yt(t.$$.fragment,r),r.forEach(g),this.h()},h(){a(e,"class","content-container svelte-xzza9f")},m(l,r){G(l,e,r),vt(t,e,null),n=!0},p:be,i(l){n||(we(t.$$.fragment,l),n=!0)},o(l){Ae(t.$$.fragment,l),n=!1},d(l){l&&g(e),ft(t)}}}function Zn(s){let e,t,n,l,r,c=de(s[3]),o=[];for(let h=0;h<c.length;h+=1)o[h]=Tl(Cl(s,c,h));var u=s[1].component;function b(h,_){return{}}return u&&(l=bt(u,b())),{c(){e=p("nav");for(let h=0;h<o.length;h+=1)o[h].c();t=S(),n=p("div"),l&&dt(l.$$.fragment),this.h()},l(h){e=v(h,"NAV",{class:!0});var _=y(e);for(let f=0;f<o.length;f+=1)o[f].l(_);_.forEach(g),t=I(h),n=v(h,"DIV",{class:!0});var d=y(n);l&&yt(l.$$.fragment,d),d.forEach(g),this.h()},h(){a(e,"class","tabs-nav svelte-xzza9f"),a(n,"class","content-container svelte-xzza9f")},m(h,_){G(h,e,_);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(e,null);G(h,t,_),G(h,n,_),l&&vt(l,n,null),r=!0},p(h,_){if(_&9){c=de(h[3]);let d;for(d=0;d<c.length;d+=1){const f=Cl(h,c,d);o[d]?o[d].p(f,_):(o[d]=Tl(f),o[d].c(),o[d].m(e,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=c.length}if(_&2&&u!==(u=h[1].component)){if(l){We();const d=l;Ae(d.$$.fragment,1,0,()=>{ft(d,1)}),Ke()}u?(l=bt(u,b()),dt(l.$$.fragment),we(l.$$.fragment,1),vt(l,n,null)):l=null}},i(h){r||(l&&we(l.$$.fragment,h),r=!0)},o(h){l&&Ae(l.$$.fragment,h),r=!1},d(h){h&&(g(e),g(t),g(n)),je(o,h),l&&ft(l)}}}function Tl(s){let e,t=s[5].label+"",n,l,r,c;function o(){return s[4](s[5])}return{c(){e=p("button"),n=_e(t),l=S(),this.h()},l(u){e=v(u,"BUTTON",{class:!0});var b=y(e);n=pe(b,t),l=I(b),b.forEach(g),this.h()},h(){a(e,"class","tab-button svelte-xzza9f"),xe(e,"active",s[0]===s[5].id)},m(u,b){G(u,e,b),i(e,n),i(e,l),r||(c=K(e,"click",o),r=!0)},p(u,b){s=u,b&9&&xe(e,"active",s[0]===s[5].id)},d(u){u&&g(e),r=!1,c()}}}function $n(s){let e,t,n,l,r,c,o,u="Training Tracker",b,h,_,d,f;document.title=e="Training Tracker "+(s[2]?"- "+s[1].label:"(Locked)");let k=s[2]&&El();const m=[Zn,Xn],w=[];function T(L,C){return L[2]?0:1}return _=T(s),d=w[_]=m[_](s),{c(){t=p("meta"),n=S(),l=p("main"),r=p("div"),c=p("header"),o=p("h1"),o.textContent=u,b=S(),k&&k.c(),h=S(),d.c(),this.h()},l(L){const C=Kl("svelte-ggv3pg",document.head);t=v(C,"META",{name:!0,content:!0}),C.forEach(g),n=I(L),l=v(L,"MAIN",{});var O=y(l);r=v(O,"DIV",{class:!0});var E=y(r);c=v(E,"HEADER",{class:!0});var B=y(c);o=v(B,"H1",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-95sjtq"&&(o.textContent=u),b=I(B),k&&k.l(B),B.forEach(g),h=I(E),d.l(E),E.forEach(g),O.forEach(g),this.h()},h(){a(t,"name","description"),a(t,"content","A simple Svelte webapp for tracking training"),a(o,"class","svelte-xzza9f"),a(c,"class","svelte-xzza9f"),a(r,"class","app-container svelte-xzza9f")},m(L,C){i(document.head,t),G(L,n,C),G(L,l,C),i(l,r),i(r,c),i(c,o),i(c,b),k&&k.m(c,null),i(r,h),w[_].m(r,null),f=!0},p(L,[C]){(!f||C&6)&&e!==(e="Training Tracker "+(L[2]?"- "+L[1].label:"(Locked)"))&&(document.title=e),L[2]?k||(k=El(),k.c(),k.m(c,null)):k&&(k.d(1),k=null);let O=_;_=T(L),_===O?w[_].p(L,C):(We(),Ae(w[O],1,1,()=>{w[O]=null}),Ke(),d=w[_],d?d.p(L,C):(d=w[_]=m[_](L),d.c()),we(d,1),d.m(r,null))},i(L){f||(we(d),f=!0)},o(L){Ae(d),f=!1},d(L){L&&(g(n),g(l)),g(t),k&&k.d(),w[_].d()}}}function es(s,e,t){let n,l;Il(s,ct,u=>t(2,l=u));const r=[{id:"log",label:"Log Exercise",component:On},{id:"view",label:"View Data",component:Yn},{id:"graph",label:"Graph Data",component:Qn}];let c="log";const o=u=>t(0,c=u.id);return s.$$.update=()=>{s.$$.dirty&1&&t(1,n=r.find(u=>u.id===c))},[c,n,l,r,o]}class ss extends Xe{constructor(e){super(),Ze(this,e,es,$n,Qe,{})}}export{ss as component};
