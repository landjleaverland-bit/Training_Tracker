import{n as Ee,f as Sl,r as Xe,s as Ze,h as ke,i as ql,e as Wl,y as Ol,c as jl,o as Kl}from"../chunks/GsYGQhEn.js";import{y as Yl,z as Jl,A as Ql,B as Xl,l as ce,k as Se,S as xe,i as $e,d as _,C as Je,D as V,E as Ke,a as F,b as a,F as q,G as Zl,w as i,c as d,e as E,H as z,g as j,h as v,j as N,s as Be,f as de,t as ve,I as He,J as Ie,K as Ve,m as Ge,n as qe,L as Nl,M as We,N as Fe,o as bt,p as mt,q as ht,r as dt,u as vt,v as Et,O as ut,P as ft,Q as xl}from"../chunks/BD0eBpJ7.js";import{w as Al}from"../chunks/ZG84kFMr.js";function Bl(n,e,t,s){if(!e)return Ee;const l=n.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return Ee;const{delay:r=0,duration:u=300,easing:o=Sl,start:c=Yl()+r,end:b=c+u,tick:f=Ee,css:m}=t(n,{from:e,to:l},s);let p=!0,h=!1,k;function g(){m&&(k=Xl(n,0,1,u,r,o,m)),r||(h=!0)}function C(){m&&Ql(n,k),p=!1}return Jl(I=>{if(!h&&I>=c&&(h=!0),h&&I>=b&&(f(1,0),C()),!p)return!1;if(h){const D=I-c,T=0+1*o(D/u);f(T,1-T)}return!0}),g(),f(0,1),C}function Vl(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:s}=e,l=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=s,yt(n,l)}}function yt(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const s=getComputedStyle(n),l=s.transform==="none"?"":s.transform;n.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function ue(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Pl(n,e){n.d(1),e.delete(n.key)}function $l(n,e){Se(n,1,1,()=>{e.delete(n.key)})}function Ml(n,e){n.f(),$l(n,e)}function kt(n,e,t,s,l,r,u,o,c,b,f,m){let p=n.length,h=r.length,k=p;const g={};for(;k--;)g[n[k].key]=k;const C=[],I=new Map,D=new Map,T=[];for(k=h;k--;){const O=m(l,r,k),w=t(O);let B=u.get(w);B?T.push(()=>B.p(O,e)):(B=b(w,O),B.c()),I.set(w,C[k]=B),w in g&&D.set(w,Math.abs(k-g[w]))}const S=new Set,y=new Set;function L(O){ce(O,1),O.m(o,f),u.set(O.key,O),f=O.first,h--}for(;p&&h;){const O=C[h-1],w=n[p-1],B=O.key,P=w.key;O===w?(f=O.first,p--,h--):I.has(P)?!u.has(B)||S.has(B)?L(O):y.has(P)?p--:D.get(B)>D.get(P)?(y.add(B),L(O)):(S.add(P),p--):(c(w,u),p--)}for(;p--;){const O=n[p];I.has(O.key)||c(O,u)}for(;h;)L(C[h-1]);return Xe(T),C}const Ct="training_tracker_api_key",es="c2fb788c7deedbeaa296e424d4c2921b871a4f6cb4cf393c1c1105653ab399b4",ts=localStorage.getItem(Ct),ct=Al(ts);ct.subscribe(n=>{n?localStorage.setItem(Ct,n):localStorage.removeItem(Ct)});async function ls(n){const e=new TextEncoder().encode(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(l=>l.toString(16).padStart(2,"0")).join("")}async function ss(n){return await ls(n)===es?(ct.set(n),!0):!1}function ns(){ct.set(null)}function Rl(n){const e=n-1;return e*e*e+1}function Re(n,{delay:e=0,duration:t=400,easing:s=Sl}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:r=>`opacity: ${r*l}`}}function Ye(n,{delay:e=0,duration:t=400,easing:s=Rl,axis:l="y"}={}){const r=getComputedStyle(n),u=+r.opacity,o=l==="y"?"height":"width",c=parseFloat(r[o]),b=l==="y"?["top","bottom"]:["left","right"],f=b.map(I=>`${I[0].toUpperCase()}${I.slice(1)}`),m=parseFloat(r[`padding${f[0]}`]),p=parseFloat(r[`padding${f[1]}`]),h=parseFloat(r[`margin${f[0]}`]),k=parseFloat(r[`margin${f[1]}`]),g=parseFloat(r[`border${f[0]}Width`]),C=parseFloat(r[`border${f[1]}Width`]);return{delay:e,duration:t,easing:s,css:I=>`overflow: hidden;opacity: ${Math.min(I*20,1)*u};${o}: ${I*c}px;padding-${b[0]}: ${I*m}px;padding-${b[1]}: ${I*p}px;margin-${b[0]}: ${I*h}px;margin-${b[1]}: ${I*k}px;border-${b[0]}-width: ${I*g}px;border-${b[1]}-width: ${I*C}px;`}}function Lt(n){let e,t;return{c(){e=v("span"),t=ve(n[1]),this.h()},l(s){e=d(s,"SPAN",{class:!0});var l=E(e);t=de(l,n[1]),l.forEach(_),this.h()},h(){i(e,"class","error-text svelte-9dby7l")},m(s,l){F(s,e,l),a(e,t)},p(s,l){l&2&&Be(t,s[1])},d(s){s&&_(e)}}}function os(n){let e,t,s='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',l,r,u="Access Restricted",o,c,b="Please enter your password to unlock the application.",f,m,p,h,k,g,C,I="Unlock App",D,T,S,y=n[1]&&Lt(n);return{c(){e=v("div"),t=v("div"),t.innerHTML=s,l=N(),r=v("h2"),r.textContent=u,o=N(),c=v("p"),c.textContent=b,f=N(),m=v("form"),p=v("div"),h=v("input"),k=N(),y&&y.c(),g=N(),C=v("button"),C.textContent=I,this.h()},l(L){e=d(L,"DIV",{class:!0});var O=E(e);t=d(O,"DIV",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1lmknyl"&&(t.innerHTML=s),l=j(O),r=d(O,"H2",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-r8hgrj"&&(r.textContent=u),o=j(O),c=d(O,"P",{class:!0,"data-svelte-h":!0}),z(c)!=="svelte-1ix94go"&&(c.textContent=b),f=j(O),m=d(O,"FORM",{class:!0});var w=E(m);p=d(w,"DIV",{class:!0});var B=E(p);h=d(B,"INPUT",{type:!0,placeholder:!0,class:!0}),k=j(B),y&&y.l(B),B.forEach(_),g=j(w),C=d(w,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(C)!=="svelte-6e23ii"&&(C.textContent=I),w.forEach(_),O.forEach(_),this.h()},h(){i(t,"class","lock-icon svelte-9dby7l"),i(r,"class","svelte-9dby7l"),i(c,"class","svelte-9dby7l"),i(h,"type","password"),i(h,"placeholder","Enter Password"),h.disabled=n[2],i(h,"class","svelte-9dby7l"),Ke(h,"error",n[1]),i(p,"class","input-group svelte-9dby7l"),i(C,"type","submit"),i(C,"class","unlock-button svelte-9dby7l"),i(m,"class","svelte-9dby7l"),i(e,"class","login-container svelte-9dby7l")},m(L,O){F(L,e,O),a(e,t),a(e,l),a(e,r),a(e,o),a(e,c),a(e,f),a(e,m),a(m,p),a(p,h),V(h,n[0]),a(p,k),y&&y.m(p,null),a(m,g),a(m,C),T||(S=[q(h,"input",n[4]),q(m,"submit",Zl(n[3]))],T=!0)},p(L,[O]){O&4&&(h.disabled=L[2]),O&1&&h.value!==L[0]&&V(h,L[0]),O&2&&Ke(h,"error",L[1]),L[1]?y?y.p(L,O):(y=Lt(L),y.c(),y.m(p,null)):y&&(y.d(1),y=null)},i(L){L&&(D||ke(()=>{D=Je(e,Re,{}),D.start()}))},o:Ee,d(L){L&&_(e),y&&y.d(),T=!1,Xe(S)}}}function rs(n,e,t){let s="",l="",r=!1;async function u(){if(!s.trim()){t(1,l="Please enter a password");return}t(2,r=!0),t(1,l="");try{await ss(s.trim())||t(1,l="Incorrect password")}catch{t(1,l="An error occurred")}finally{t(2,r=!1)}}function o(){s=this.value,t(0,s)}return[s,l,r,u,o]}class is extends xe{constructor(e){super(),$e(this,e,rs,os,Ze,{})}}function Ul(n,{from:e,to:t},s={}){const l=getComputedStyle(n),r=l.transform==="none"?"":l.transform,[u,o]=l.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*u/t.width-(t.left+u),b=e.top+e.height*o/t.height-(t.top+o),{delay:f=0,duration:m=h=>Math.sqrt(h)*120,easing:p=Rl}=s;return{delay:f,duration:ql(m)?m(Math.sqrt(c*c+b*b)):m,easing:p,css:(h,k)=>{const g=k*c,C=k*b,I=h+k*e.width/t.width,D=h+k*e.height/t.height;return`transform: ${r} translate(${g}px, ${C}px) scale(${I}, ${D});`}}}function It(n,e,t){const s=n.slice();return s[21]=e[t],s[22]=e,s[23]=t,s}function St(n,e,t){const s=n.slice();return s[24]=e[t],s}function Ot(n,e,t){const s=n.slice();return s[24]=e[t],s}function jt(n){let e,t=n[24]+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=d(l,"OPTION",{});var r=E(e);s=de(r,t),r.forEach(_),this.h()},h(){e.__value=n[24],V(e,e.__value)},m(l,r){F(l,e,r),a(e,s)},p:Ee,d(l){l&&_(e)}}}function Nt(n){let e,t=n[24]+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=d(l,"OPTION",{});var r=E(e);s=de(r,t),r.forEach(_),this.h()},h(){e.__value=n[24],V(e,e.__value)},m(l,r){F(l,e,r),a(e,s)},p:Ee,d(l){l&&_(e)}}}function At(n,e){let t,s,l,r,u,o,c,b,f,m,p,h,k,g,C,I='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',D,T,S,y=Ee,L,O,w;function B(){e[16].call(l,e[22],e[23])}function P(){e[17].call(o,e[22],e[23])}function Y(){e[18].call(f,e[22],e[23])}function le(){e[19].call(h,e[22],e[23])}function ye(){return e[20](e[21])}return{key:n,first:null,c(){t=v("tr"),s=v("td"),l=v("input"),r=N(),u=v("td"),o=v("input"),c=N(),b=v("td"),f=v("input"),m=N(),p=v("td"),h=v("textarea"),k=N(),g=v("td"),C=v("button"),C.innerHTML=I,D=N(),this.h()},l(M){t=d(M,"TR",{});var A=E(t);s=d(A,"TD",{class:!0});var x=E(s);l=d(x,"INPUT",{type:!0,class:!0}),x.forEach(_),r=j(A),u=d(A,"TD",{class:!0});var re=E(u);o=d(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(_),c=j(A),b=d(A,"TD",{class:!0});var ee=E(b);f=d(ee,"INPUT",{type:!0,placeholder:!0,class:!0}),ee.forEach(_),m=j(A),p=d(A,"TD",{class:!0});var ie=E(p);h=d(ie,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),E(h).forEach(_),ie.forEach(_),k=j(A),g=d(A,"TD",{class:!0});var Z=E(g);C=d(Z,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),z(C)!=="svelte-zfon6j"&&(C.innerHTML=I),Z.forEach(_),D=j(A),A.forEach(_),this.h()},h(){i(l,"type","checkbox"),i(l,"class","svelte-89kcbh"),i(s,"class","checkbox-col svelte-89kcbh"),i(o,"type","text"),i(o,"placeholder","e.g. Blue"),i(o,"class","svelte-89kcbh"),i(u,"class","svelte-89kcbh"),i(f,"type","text"),i(f,"placeholder","e.g. 6b+"),i(f,"class","svelte-89kcbh"),i(b,"class","svelte-89kcbh"),i(h,"placeholder","e.g. Smooth"),i(h,"rows","1"),i(h,"class","svelte-89kcbh"),i(p,"class","svelte-89kcbh"),i(C,"class","delete-btn svelte-89kcbh"),i(C,"title","Remove row"),i(g,"class","actions-col svelte-89kcbh"),this.first=t},m(M,A){F(M,t,A),a(t,s),a(s,l),l.checked=e[21].isRopes,a(t,r),a(t,u),a(u,o),V(o,e[21].name),a(t,c),a(t,b),a(b,f),V(f,e[21].grade),a(t,m),a(t,p),a(p,h),V(h,e[21].notes),a(t,k),a(t,g),a(g,C),a(t,D),L=!0,O||(w=[q(l,"change",B),q(o,"input",P),q(f,"input",Y),q(h,"input",le),q(C,"click",ye)],O=!0)},p(M,A){e=M,A&32&&(l.checked=e[21].isRopes),A&32&&o.value!==e[21].name&&V(o,e[21].name),A&32&&f.value!==e[21].grade&&V(f,e[21].grade),A&32&&V(h,e[21].notes)},r(){S=t.getBoundingClientRect()},f(){Vl(t),y(),yt(t,S)},a(){y(),y=Bl(t,S,Ul,{duration:300})},i(M){L||(T&&T.end(1),L=!0)},o(M){M&&(T=Nl(t,Ye,{duration:200})),L=!1},d(M){M&&_(t),M&&T&&T.end(),O=!1,Xe(w)}}}function as(n){let e,t,s,l,r="Location",u,o,c,b="Select Location",f,m,p,h="Session Focus",k,g,C,I="Select Focus",D,T,S,y,L="Finger Load (0-5)",O,w,B,P,Y,le="Shoulder Load (0-5)",ye,M,A,x,re,ee="Forearm Load (0-5)",ie,Z,Le,_e,pe,se,Pe="Exercises / Routes",fe,he,we=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,Oe,J,$,W,ge='<tr><th class="checkbox-col svelte-89kcbh">Ropes?</th> <th class="svelte-89kcbh">Route</th> <th class="svelte-89kcbh">Grade</th> <th class="svelte-89kcbh">Notes</th> <th class="actions-col svelte-89kcbh"></th></tr>',te,U,H=[],G=new Map,ae,Te,oe,Ae,be=ue(n[6]),me=[];for(let R=0;R<be.length;R+=1)me[R]=jt(Ot(n,be,R));let Me=ue(n[7]),De=[];for(let R=0;R<Me.length;R+=1)De[R]=Nt(St(n,Me,R));let ze=ue(n[5]);const je=R=>R[21].id;for(let R=0;R<ze.length;R+=1){let X=It(n,ze,R),K=je(X);G.set(K,H[R]=At(K,X))}return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=r,u=N(),o=v("select"),c=v("option"),c.textContent=b;for(let R=0;R<me.length;R+=1)me[R].c();f=N(),m=v("div"),p=v("label"),p.textContent=h,k=N(),g=v("select"),C=v("option"),C.textContent=I;for(let R=0;R<De.length;R+=1)De[R].c();D=N(),T=v("div"),S=v("div"),y=v("label"),y.textContent=L,O=N(),w=v("input"),B=N(),P=v("div"),Y=v("label"),Y.textContent=le,ye=N(),M=v("input"),A=N(),x=v("div"),re=v("label"),re.textContent=ee,ie=N(),Z=v("input"),Le=N(),_e=v("div"),pe=v("div"),se=v("h3"),se.textContent=Pe,fe=N(),he=v("button"),he.innerHTML=we,Oe=N(),J=v("div"),$=v("table"),W=v("thead"),W.innerHTML=ge,te=N(),U=v("tbody");for(let R=0;R<H.length;R+=1)H[R].c();this.h()},l(R){e=d(R,"DIV",{class:!0});var X=E(e);t=d(X,"DIV",{class:!0});var K=E(t);s=d(K,"DIV",{class:!0});var Ne=E(s);l=d(Ne,"LABEL",{for:!0,"data-svelte-h":!0}),z(l)!=="svelte-1ij7h26"&&(l.textContent=r),u=j(Ne),o=d(Ne,"SELECT",{id:!0,class:!0});var et=E(o);c=d(et,"OPTION",{"data-svelte-h":!0}),z(c)!=="svelte-mwu9va"&&(c.textContent=b);for(let Ue=0;Ue<me.length;Ue+=1)me[Ue].l(et);et.forEach(_),Ne.forEach(_),f=j(K),m=d(K,"DIV",{class:!0});var rt=E(m);p=d(rt,"LABEL",{for:!0,"data-svelte-h":!0}),z(p)!=="svelte-tg5qne"&&(p.textContent=h),k=j(rt),g=d(rt,"SELECT",{id:!0,class:!0});var Q=E(g);C=d(Q,"OPTION",{"data-svelte-h":!0}),z(C)!=="svelte-1ni71k3"&&(C.textContent=I);for(let Ue=0;Ue<De.length;Ue+=1)De[Ue].l(Q);Q.forEach(_),rt.forEach(_),K.forEach(_),D=j(X),T=d(X,"DIV",{class:!0});var ne=E(T);S=d(ne,"DIV",{class:!0});var Ce=E(S);y=d(Ce,"LABEL",{for:!0,"data-svelte-h":!0}),z(y)!=="svelte-oda77g"&&(y.textContent=L),O=j(Ce),w=d(Ce,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Ce.forEach(_),B=j(ne),P=d(ne,"DIV",{class:!0});var Qe=E(P);Y=d(Qe,"LABEL",{for:!0,"data-svelte-h":!0}),z(Y)!=="svelte-1vtbxrq"&&(Y.textContent=le),ye=j(Qe),M=d(Qe,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Qe.forEach(_),A=j(ne),x=d(ne,"DIV",{class:!0});var ot=E(x);re=d(ot,"LABEL",{for:!0,"data-svelte-h":!0}),z(re)!=="svelte-198js8s"&&(re.textContent=ee),ie=j(ot),Z=d(ot,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),ot.forEach(_),ne.forEach(_),Le=j(X),_e=d(X,"DIV",{class:!0});var tt=E(_e);pe=d(tt,"DIV",{class:!0});var lt=E(pe);se=d(lt,"H3",{class:!0,"data-svelte-h":!0}),z(se)!=="svelte-10xktbo"&&(se.textContent=Pe),fe=j(lt),he=d(lt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),z(he)!=="svelte-psf54d"&&(he.innerHTML=we),lt.forEach(_),Oe=j(tt),J=d(tt,"DIV",{class:!0});var st=E(J);$=d(st,"TABLE",{class:!0});var nt=E($);W=d(nt,"THEAD",{"data-svelte-h":!0}),z(W)!=="svelte-3ucy7b"&&(W.innerHTML=ge),te=j(nt),U=d(nt,"TBODY",{});var it=E(U);for(let Ue=0;Ue<H.length;Ue+=1)H[Ue].l(it);it.forEach(_),nt.forEach(_),st.forEach(_),tt.forEach(_),X.forEach(_),this.h()},h(){i(l,"for","climb-location"),c.__value="",V(c,c.__value),c.disabled=!0,c.selected=!0,i(o,"id","climb-location"),i(o,"class","svelte-89kcbh"),n[0]===void 0&&ke(()=>n[11].call(o)),i(s,"class","input-group svelte-89kcbh"),i(p,"for","climb-session"),C.__value="",V(C,C.__value),C.disabled=!0,C.selected=!0,i(g,"id","climb-session"),i(g,"class","svelte-89kcbh"),n[1]===void 0&&ke(()=>n[12].call(g)),i(m,"class","input-group svelte-89kcbh"),i(t,"class","form-grid svelte-89kcbh"),i(y,"for","finger-load"),i(w,"id","finger-load"),i(w,"type","number"),i(w,"min","0"),i(w,"max","5"),i(w,"class","svelte-89kcbh"),i(S,"class","load-group svelte-89kcbh"),i(Y,"for","shoulder-load"),i(M,"id","shoulder-load"),i(M,"type","number"),i(M,"min","0"),i(M,"max","5"),i(M,"class","svelte-89kcbh"),i(P,"class","load-group svelte-89kcbh"),i(re,"for","forearm-load"),i(Z,"id","forearm-load"),i(Z,"type","number"),i(Z,"min","0"),i(Z,"max","5"),i(Z,"class","svelte-89kcbh"),i(x,"class","load-group svelte-89kcbh"),i(T,"class","load-metrics svelte-89kcbh"),i(se,"class","svelte-89kcbh"),i(he,"class","add-row-btn svelte-89kcbh"),i(he,"title","Add Exercise"),i(pe,"class","section-header svelte-89kcbh"),i($,"class","svelte-89kcbh"),i(J,"class","table-container svelte-89kcbh"),i(_e,"class","exercise-section svelte-89kcbh"),i(e,"class","indoor-config svelte-89kcbh")},m(R,X){F(R,e,X),a(e,t),a(t,s),a(s,l),a(s,u),a(s,o),a(o,c);for(let K=0;K<me.length;K+=1)me[K]&&me[K].m(o,null);Ie(o,n[0],!0),a(t,f),a(t,m),a(m,p),a(m,k),a(m,g),a(g,C);for(let K=0;K<De.length;K+=1)De[K]&&De[K].m(g,null);Ie(g,n[1],!0),a(e,D),a(e,T),a(T,S),a(S,y),a(S,O),a(S,w),V(w,n[2]),a(T,B),a(T,P),a(P,Y),a(P,ye),a(P,M),V(M,n[3]),a(T,A),a(T,x),a(x,re),a(x,ie),a(x,Z),V(Z,n[4]),a(e,Le),a(e,_e),a(_e,pe),a(pe,se),a(pe,fe),a(pe,he),a(_e,Oe),a(_e,J),a(J,$),a($,W),a($,te),a($,U);for(let K=0;K<H.length;K+=1)H[K]&&H[K].m(U,null);Te=!0,oe||(Ae=[q(o,"change",n[11]),q(g,"change",n[12]),q(w,"input",n[13]),q(M,"input",n[14]),q(Z,"input",n[15]),q(he,"click",n[8])],oe=!0)},p(R,[X]){if(X&64){be=ue(R[6]);let K;for(K=0;K<be.length;K+=1){const Ne=Ot(R,be,K);me[K]?me[K].p(Ne,X):(me[K]=jt(Ne),me[K].c(),me[K].m(o,null))}for(;K<me.length;K+=1)me[K].d(1);me.length=be.length}if(X&65&&Ie(o,R[0]),X&128){Me=ue(R[7]);let K;for(K=0;K<Me.length;K+=1){const Ne=St(R,Me,K);De[K]?De[K].p(Ne,X):(De[K]=Nt(Ne),De[K].c(),De[K].m(g,null))}for(;K<De.length;K+=1)De[K].d(1);De.length=Me.length}if(X&130&&Ie(g,R[1]),X&4&&Ve(w.value)!==R[2]&&V(w,R[2]),X&8&&Ve(M.value)!==R[3]&&V(M,R[3]),X&16&&Ve(Z.value)!==R[4]&&V(Z,R[4]),X&544){ze=ue(R[5]),Ge();for(let K=0;K<H.length;K+=1)H[K].r();H=kt(H,X,je,1,R,ze,G,U,Ml,At,null,It);for(let K=0;K<H.length;K+=1)H[K].a();qe()}},i(R){if(!Te){for(let X=0;X<ze.length;X+=1)ce(H[X]);R&&(ae||ke(()=>{ae=Je(e,Re,{}),ae.start()})),Te=!0}},o(R){for(let X=0;X<H.length;X+=1)Se(H[X]);Te=!1},d(R){R&&_(e),He(me,R),He(De,R);for(let X=0;X<H.length;X+=1)H[X].d();oe=!1,Xe(Ae)}}}function cs(n,e,t){let s="",l="",r=0,u=0,o=0,c=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];const b=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],f=["Strength","Endurance","Power","Recovery"];function m(){t(5,c=[...c,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function p(w){c.length>1?t(5,c=c.filter(B=>B.id!==w)):t(5,c=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function h(){return{location:s,session:l,fingerLoad:r,shoulderLoad:u,forearmLoad:o,exercises:c}}function k(){s=We(this),t(0,s),t(6,b)}function g(){l=We(this),t(1,l),t(7,f)}function C(){r=Ve(this.value),t(2,r)}function I(){u=Ve(this.value),t(3,u)}function D(){o=Ve(this.value),t(4,o)}function T(w,B){w[B].isRopes=this.checked,t(5,c)}function S(w,B){w[B].name=this.value,t(5,c)}function y(w,B){w[B].grade=this.value,t(5,c)}function L(w,B){w[B].notes=this.value,t(5,c)}return[s,l,r,u,o,c,b,f,m,p,h,k,g,C,I,D,T,S,y,L,w=>p(w.id)]}class us extends xe{constructor(e){super(),$e(this,e,cs,as,Ze,{getData:10})}get getData(){return this.$$.ctx[10]}}function fs(n){let e,t=`<h3 class="svelte-fh7bet">Gym Session Config</h3> <p class="svelte-fh7bet">Specific fields for gym sessions will go here (e.g., Focus, Exercises,
        Sets/Reps).</p> <div class="placeholder-box svelte-fh7bet"></div>`,s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-gs8whu"&&(e.innerHTML=t),this.h()},h(){i(e,"class","activity-config svelte-fh7bet")},m(l,r){F(l,e,r)},p:Ee,i(l){l&&(s||ke(()=>{s=Je(e,Re,{}),s.start()}))},o:Ee,d(l){l&&_(e)}}}let hs="",ds="";function vs(n,e,t){let s=[];function l(){return{location:hs,session:ds,exercises:s,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class _s extends xe{constructor(e){super(),$e(this,e,vs,fs,Ze,{getData:0})}get getData(){return this.$$.ctx[0]}}const Hl=["Portland","Swanage","Bristol","Costa Del Severn","Cotswolds","Mendips","Wye Valley","Gower","South Wales","North Wales","Peak District","Devon","Fontainebleau","Switzerland","Other"],Fl={Portland:["Blacknor Far North","Blacknor North","Blacknor Central","Blacknor South","Blacknor Far South","Battleship Edge","Battleship Back Cliff","Wallsend North","Wallsend South","Coastguard North","Coastguard South","Godnor","Neddyfields","Cheyne Cliff","The Cuttings","The New Cuttings","The Cuttings Boulderfield"],Swanage:["Dancing Ledge","Hedbury","Winspit"],"Wye Valley":["Ban-y-Gor","Biblins Cave","Woodcroft Quarry","Wyndcliff Quarry"],"Costa Del Severn":["Brean","Clevedon","Portishead Quarry"],Bristol:["Avon Gorge","Leigh Woods","Bickley Wood","Hambrook"],Cotswolds:["Sally-in-the-Wood","Browns Folly"],Mendips:["Cheddar Gorge"],Gower:["Rhossili","Trial Wall Area","Foxhole"],"South Wales":["Dinas Rock","Ogmore"],"North Wales":["Cromlech","Australia"],"Peak District":["Burbage South Valley","Gardoms Edge","Raven Tor","Stanage","Curbar Edge"],Devon:["Dartmoor","Hartland","Tintagel"],Fontainebleau:["Bas Cuvier","Apremont","Franchard Isatis","Roche aux Sabots","Cul de Chien","Elephant"],Switzerland:["Magic Wood","Chironico","Cresciano","Brione","San Carlo"]};function Bt(n,e,t){const s=n.slice();return s[28]=e[t],s[29]=e,s[30]=t,s}function Vt(n,e,t){const s=n.slice();return s[31]=e[t],s}function ps(n,e,t){const s=n.slice();return s[34]=e[t],s}function gs(n){let e,t;return{c(){e=v("option"),t=ve(n[34]),this.h()},l(s){e=d(s,"OPTION",{});var l=E(e);t=de(l,n[34]),l.forEach(_),this.h()},h(){e.__value=n[34],V(e,e.__value)},m(s,l){F(s,e,l),a(e,t)},p:Ee,d(s){s&&_(e)}}}function Pt(n){let e,t,s,l,r,u;return{c(){e=v("div"),t=v("input"),this.h()},l(o){e=d(o,"DIV",{});var c=E(e);t=d(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(_),this.h()},h(){i(t,"type","text"),i(t,"placeholder","Enter Custom Area..."),i(t,"class","custom-input svelte-dcgklv")},m(o,c){F(o,e,c),a(e,t),V(t,n[1]),l=!0,r||(u=q(t,"input",n[15]),r=!0)},p(o,c){c[0]&2&&t.value!==o[1]&&V(t,o[1])},i(o){l||(o&&ke(()=>{l&&(s||(s=Fe(e,Ye,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=Fe(e,Ye,{},!1)),s.run(0)),l=!1},d(o){o&&_(e),o&&s&&s.end(),r=!1,u()}}}function bs(n){let e,t,s,l,r;return{c(){e=v("input"),this.h()},l(u){e=d(u,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){i(e,"id","climb-crag"),i(e,"type","text"),i(e,"placeholder",t=n[0]==="Other"?"Enter Crag Name":"Select area first..."),e.disabled=s=!n[0],i(e,"class","svelte-dcgklv")},m(u,o){F(u,e,o),V(e,n[2]),l||(r=q(e,"input",n[18]),l=!0)},p(u,o){o[0]&1&&t!==(t=u[0]==="Other"?"Enter Crag Name":"Select area first...")&&i(e,"placeholder",t),o[0]&1&&s!==(s=!u[0])&&(e.disabled=s),o[0]&516&&e.value!==u[2]&&V(e,u[2])},d(u){u&&_(e),l=!1,r()}}}function ms(n){let e,t,s="Select Crag",l,r="Other (Custom)",u,o,c,b,f=ue(n[9]),m=[];for(let h=0;h<f.length;h+=1)m[h]=Mt(Vt(n,f,h));let p=n[2]==="Other"&&Rt(n);return{c(){e=v("select"),t=v("option"),t.textContent=s;for(let h=0;h<m.length;h+=1)m[h].c();l=v("option"),l.textContent=r,u=N(),p&&p.c(),o=bt(),this.h()},l(h){e=d(h,"SELECT",{id:!0,class:!0});var k=E(e);t=d(k,"OPTION",{"data-svelte-h":!0}),z(t)!=="svelte-1bf8330"&&(t.textContent=s);for(let g=0;g<m.length;g+=1)m[g].l(k);l=d(k,"OPTION",{"data-svelte-h":!0}),z(l)!=="svelte-1ws39oy"&&(l.textContent=r),k.forEach(_),u=j(h),p&&p.l(h),o=bt(),this.h()},h(){t.__value="",V(t,t.__value),t.disabled=!0,t.selected=!0,l.__value="Other",V(l,l.__value),i(e,"id","climb-crag"),i(e,"class","svelte-dcgklv"),n[2]===void 0&&ke(()=>n[16].call(e))},m(h,k){F(h,e,k),a(e,t);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(e,null);a(e,l),Ie(e,n[2],!0),F(h,u,k),p&&p.m(h,k),F(h,o,k),c||(b=q(e,"change",n[16]),c=!0)},p(h,k){if(k[0]&512){f=ue(h[9]);let g;for(g=0;g<f.length;g+=1){const C=Vt(h,f,g);m[g]?m[g].p(C,k):(m[g]=Mt(C),m[g].c(),m[g].m(e,l))}for(;g<m.length;g+=1)m[g].d(1);m.length=f.length}k[0]&516&&Ie(e,h[2]),h[2]==="Other"?p?(p.p(h,k),k[0]&4&&ce(p,1)):(p=Rt(h),p.c(),ce(p,1),p.m(o.parentNode,o)):p&&(Ge(),Se(p,1,1,()=>{p=null}),qe())},d(h){h&&(_(e),_(u),_(o)),He(m,h),p&&p.d(h),c=!1,b()}}}function Mt(n){let e,t=n[31]+"",s,l;return{c(){e=v("option"),s=ve(t),this.h()},l(r){e=d(r,"OPTION",{});var u=E(e);s=de(u,t),u.forEach(_),this.h()},h(){e.__value=l=n[31],V(e,e.__value)},m(r,u){F(r,e,u),a(e,s)},p(r,u){u[0]&512&&t!==(t=r[31]+"")&&Be(s,t),u[0]&512&&l!==(l=r[31])&&(e.__value=l,V(e,e.__value))},d(r){r&&_(e)}}}function Rt(n){let e,t,s,l,r,u;return{c(){e=v("div"),t=v("input"),this.h()},l(o){e=d(o,"DIV",{});var c=E(e);t=d(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(_),this.h()},h(){i(t,"type","text"),i(t,"placeholder","Enter Custom Crag..."),i(t,"class","custom-input svelte-dcgklv")},m(o,c){F(o,e,c),a(e,t),V(t,n[3]),l=!0,r||(u=q(t,"input",n[17]),r=!0)},p(o,c){c[0]&8&&t.value!==o[3]&&V(t,o[3])},i(o){l||(o&&ke(()=>{l&&(s||(s=Fe(e,Ye,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=Fe(e,Ye,{},!1)),s.run(0)),l=!1},d(o){o&&_(e),o&&s&&s.end(),r=!1,u()}}}function Ut(n,e){let t,s,l,r,u,o,c,b,f,m,p,h,k,g,C,I='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',D,T,S,y=Ee,L,O,w;function B(){e[23].call(l,e[29],e[30])}function P(){e[24].call(o,e[29],e[30])}function Y(){e[25].call(f,e[29],e[30])}function le(){e[26].call(h,e[29],e[30])}function ye(){return e[27](e[28])}return{key:n,first:null,c(){t=v("tr"),s=v("td"),l=v("input"),r=N(),u=v("td"),o=v("input"),c=N(),b=v("td"),f=v("input"),m=N(),p=v("td"),h=v("textarea"),k=N(),g=v("td"),C=v("button"),C.innerHTML=I,D=N(),this.h()},l(M){t=d(M,"TR",{});var A=E(t);s=d(A,"TD",{class:!0});var x=E(s);l=d(x,"INPUT",{type:!0,class:!0}),x.forEach(_),r=j(A),u=d(A,"TD",{class:!0});var re=E(u);o=d(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(_),c=j(A),b=d(A,"TD",{class:!0});var ee=E(b);f=d(ee,"INPUT",{type:!0,placeholder:!0,class:!0}),ee.forEach(_),m=j(A),p=d(A,"TD",{class:!0});var ie=E(p);h=d(ie,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),E(h).forEach(_),ie.forEach(_),k=j(A),g=d(A,"TD",{class:!0});var Z=E(g);C=d(Z,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),z(C)!=="svelte-zfon6j"&&(C.innerHTML=I),Z.forEach(_),D=j(A),A.forEach(_),this.h()},h(){i(l,"type","checkbox"),i(l,"class","svelte-dcgklv"),i(s,"class","checkbox-col svelte-dcgklv"),i(o,"type","text"),i(o,"placeholder","e.g. Deliverance"),i(o,"class","svelte-dcgklv"),i(u,"class","svelte-dcgklv"),i(f,"type","text"),i(f,"placeholder","e.g. 7a+"),i(f,"class","svelte-dcgklv"),i(b,"class","svelte-dcgklv"),i(h,"placeholder","e.g. 2nd go"),i(h,"rows","1"),i(h,"class","svelte-dcgklv"),i(p,"class","svelte-dcgklv"),i(C,"class","delete-btn svelte-dcgklv"),i(C,"title","Remove row"),i(g,"class","actions-col svelte-dcgklv"),this.first=t},m(M,A){F(M,t,A),a(t,s),a(s,l),l.checked=e[28].isRopes,a(t,r),a(t,u),a(u,o),V(o,e[28].name),a(t,c),a(t,b),a(b,f),V(f,e[28].grade),a(t,m),a(t,p),a(p,h),V(h,e[28].notes),a(t,k),a(t,g),a(g,C),a(t,D),L=!0,O||(w=[q(l,"change",B),q(o,"input",P),q(f,"input",Y),q(h,"input",le),q(C,"click",ye)],O=!0)},p(M,A){e=M,A[0]&256&&(l.checked=e[28].isRopes),A[0]&256&&o.value!==e[28].name&&V(o,e[28].name),A[0]&256&&f.value!==e[28].grade&&V(f,e[28].grade),A[0]&256&&V(h,e[28].notes)},r(){S=t.getBoundingClientRect()},f(){Vl(t),y(),yt(t,S)},a(){y(),y=Bl(t,S,Ul,{duration:300})},i(M){L||(T&&T.end(1),L=!0)},o(M){M&&(T=Nl(t,Ye,{duration:200})),L=!1},d(M){M&&_(t),M&&T&&T.end(),O=!1,Xe(w)}}}function ks(n){let e,t,s,l,r="Area",u,o,c,b="Select Area",f,m,p,h,k="Crag",g,C,I,D,T="Wall / Sector",S,y,L,O,w,B,P="Finger Load (0-5)",Y,le,ye,M,A,x="Shoulder Load (0-5)",re,ee,ie,Z,Le,_e="Forearm Load (0-5)",pe,se,Pe,fe,he,we,Oe="Routes",J,$,W=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,ge,te,U,H,G='<tr><th class="checkbox-col svelte-dcgklv">Ropes?</th> <th class="svelte-dcgklv">Route</th> <th class="svelte-dcgklv">Grade</th> <th class="svelte-dcgklv">Notes</th> <th class="actions-col svelte-dcgklv"></th></tr>',ae,Te,oe=[],Ae=new Map,be,me,Me,De,ze=ue(Hl),je=[];for(let Q=0;Q<ze.length;Q+=1)je[Q]=gs(ps(n,ze,Q));let R=n[0]==="Other"&&Pt(n);function X(Q,ne){return Q[0]&&Q[0]!=="Other"?ms:bs}let K=X(n),Ne=K(n),et=ue(n[8]);const rt=Q=>Q[28].id;for(let Q=0;Q<et.length;Q+=1){let ne=Bt(n,et,Q),Ce=rt(ne);Ae.set(Ce,oe[Q]=Ut(Ce,ne))}return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=r,u=N(),o=v("select"),c=v("option"),c.textContent=b;for(let Q=0;Q<je.length;Q+=1)je[Q].c();f=N(),R&&R.c(),m=N(),p=v("div"),h=v("label"),h.textContent=k,g=N(),Ne.c(),C=N(),I=v("div"),D=v("label"),D.textContent=T,S=N(),y=v("input"),L=N(),O=v("div"),w=v("div"),B=v("label"),B.textContent=P,Y=N(),le=v("input"),ye=N(),M=v("div"),A=v("label"),A.textContent=x,re=N(),ee=v("input"),ie=N(),Z=v("div"),Le=v("label"),Le.textContent=_e,pe=N(),se=v("input"),Pe=N(),fe=v("div"),he=v("div"),we=v("h3"),we.textContent=Oe,J=N(),$=v("button"),$.innerHTML=W,ge=N(),te=v("div"),U=v("table"),H=v("thead"),H.innerHTML=G,ae=N(),Te=v("tbody");for(let Q=0;Q<oe.length;Q+=1)oe[Q].c();this.h()},l(Q){e=d(Q,"DIV",{class:!0});var ne=E(e);t=d(ne,"DIV",{class:!0});var Ce=E(t);s=d(Ce,"DIV",{class:!0});var Qe=E(s);l=d(Qe,"LABEL",{for:!0,"data-svelte-h":!0}),z(l)!=="svelte-10bxq12"&&(l.textContent=r),u=j(Qe),o=d(Qe,"SELECT",{id:!0,class:!0});var ot=E(o);c=d(ot,"OPTION",{"data-svelte-h":!0}),z(c)!=="svelte-18hyx00"&&(c.textContent=b);for(let at=0;at<je.length;at+=1)je[at].l(ot);ot.forEach(_),f=j(Qe),R&&R.l(Qe),Qe.forEach(_),m=j(Ce),p=d(Ce,"DIV",{class:!0});var tt=E(p);h=d(tt,"LABEL",{for:!0,"data-svelte-h":!0}),z(h)!=="svelte-1d1q4si"&&(h.textContent=k),g=j(tt),Ne.l(tt),tt.forEach(_),C=j(Ce),I=d(Ce,"DIV",{class:!0});var lt=E(I);D=d(lt,"LABEL",{for:!0,"data-svelte-h":!0}),z(D)!=="svelte-2wtmd"&&(D.textContent=T),S=j(lt),y=d(lt,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),lt.forEach(_),Ce.forEach(_),L=j(ne),O=d(ne,"DIV",{class:!0});var st=E(O);w=d(st,"DIV",{class:!0});var nt=E(w);B=d(nt,"LABEL",{for:!0,"data-svelte-h":!0}),z(B)!=="svelte-oda77g"&&(B.textContent=P),Y=j(nt),le=d(nt,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),nt.forEach(_),ye=j(st),M=d(st,"DIV",{class:!0});var it=E(M);A=d(it,"LABEL",{for:!0,"data-svelte-h":!0}),z(A)!=="svelte-1vtbxrq"&&(A.textContent=x),re=j(it),ee=d(it,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),it.forEach(_),ie=j(st),Z=d(st,"DIV",{class:!0});var Ue=E(Z);Le=d(Ue,"LABEL",{for:!0,"data-svelte-h":!0}),z(Le)!=="svelte-198js8s"&&(Le.textContent=_e),pe=j(Ue),se=d(Ue,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Ue.forEach(_),st.forEach(_),Pe=j(ne),fe=d(ne,"DIV",{class:!0});var _t=E(fe);he=d(_t,"DIV",{class:!0});var pt=E(he);we=d(pt,"H3",{class:!0,"data-svelte-h":!0}),z(we)!=="svelte-1nagf2u"&&(we.textContent=Oe),J=j(pt),$=d(pt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),z($)!=="svelte-uzzlti"&&($.innerHTML=W),pt.forEach(_),ge=j(_t),te=d(_t,"DIV",{class:!0});var Tt=E(te);U=d(Tt,"TABLE",{class:!0});var gt=E(U);H=d(gt,"THEAD",{"data-svelte-h":!0}),z(H)!=="svelte-3ucy7b"&&(H.innerHTML=G),ae=j(gt),Te=d(gt,"TBODY",{});var Dt=E(Te);for(let at=0;at<oe.length;at+=1)oe[at].l(Dt);Dt.forEach(_),gt.forEach(_),Tt.forEach(_),_t.forEach(_),ne.forEach(_),this.h()},h(){i(l,"for","climb-area"),c.__value="",V(c,c.__value),c.disabled=!0,c.selected=!0,i(o,"id","climb-area"),i(o,"class","svelte-dcgklv"),n[0]===void 0&&ke(()=>n[14].call(o)),i(s,"class","input-group svelte-dcgklv"),i(h,"for","climb-crag"),i(p,"class","input-group svelte-dcgklv"),i(D,"for","climb-wall"),i(y,"id","climb-wall"),i(y,"type","text"),i(y,"placeholder","e.g. Popular End"),i(y,"class","svelte-dcgklv"),i(I,"class","input-group svelte-dcgklv"),i(t,"class","form-grid svelte-dcgklv"),i(B,"for","finger-load"),i(le,"id","finger-load"),i(le,"type","number"),i(le,"min","0"),i(le,"max","5"),i(le,"class","svelte-dcgklv"),i(w,"class","load-group svelte-dcgklv"),i(A,"for","shoulder-load"),i(ee,"id","shoulder-load"),i(ee,"type","number"),i(ee,"min","0"),i(ee,"max","5"),i(ee,"class","svelte-dcgklv"),i(M,"class","load-group svelte-dcgklv"),i(Le,"for","forearm-load"),i(se,"id","forearm-load"),i(se,"type","number"),i(se,"min","0"),i(se,"max","5"),i(se,"class","svelte-dcgklv"),i(Z,"class","load-group svelte-dcgklv"),i(O,"class","load-metrics svelte-dcgklv"),i(we,"class","svelte-dcgklv"),i($,"class","add-row-btn svelte-dcgklv"),i($,"title","Add Route"),i(he,"class","section-header svelte-dcgklv"),i(U,"class","svelte-dcgklv"),i(te,"class","table-container svelte-dcgklv"),i(fe,"class","exercise-section svelte-dcgklv"),i(e,"class","outdoor-config svelte-dcgklv")},m(Q,ne){F(Q,e,ne),a(e,t),a(t,s),a(s,l),a(s,u),a(s,o),a(o,c);for(let Ce=0;Ce<je.length;Ce+=1)je[Ce]&&je[Ce].m(o,null);Ie(o,n[0],!0),a(s,f),R&&R.m(s,null),a(t,m),a(t,p),a(p,h),a(p,g),Ne.m(p,null),a(t,C),a(t,I),a(I,D),a(I,S),a(I,y),V(y,n[4]),a(e,L),a(e,O),a(O,w),a(w,B),a(w,Y),a(w,le),V(le,n[5]),a(O,ye),a(O,M),a(M,A),a(M,re),a(M,ee),V(ee,n[6]),a(O,ie),a(O,Z),a(Z,Le),a(Z,pe),a(Z,se),V(se,n[7]),a(e,Pe),a(e,fe),a(fe,he),a(he,we),a(he,J),a(he,$),a(fe,ge),a(fe,te),a(te,U),a(U,H),a(U,ae),a(U,Te);for(let Ce=0;Ce<oe.length;Ce+=1)oe[Ce]&&oe[Ce].m(Te,null);me=!0,Me||(De=[q(o,"change",n[14]),q(o,"change",n[10]),q(y,"input",n[19]),q(le,"input",n[20]),q(ee,"input",n[21]),q(se,"input",n[22]),q($,"click",n[11])],Me=!0)},p(Q,ne){if(ne[0]&1&&Ie(o,Q[0]),Q[0]==="Other"?R?(R.p(Q,ne),ne[0]&1&&ce(R,1)):(R=Pt(Q),R.c(),ce(R,1),R.m(s,null)):R&&(Ge(),Se(R,1,1,()=>{R=null}),qe()),K===(K=X(Q))&&Ne?Ne.p(Q,ne):(Ne.d(1),Ne=K(Q),Ne&&(Ne.c(),Ne.m(p,null))),ne[0]&16&&y.value!==Q[4]&&V(y,Q[4]),ne[0]&32&&Ve(le.value)!==Q[5]&&V(le,Q[5]),ne[0]&64&&Ve(ee.value)!==Q[6]&&V(ee,Q[6]),ne[0]&128&&Ve(se.value)!==Q[7]&&V(se,Q[7]),ne[0]&4352){et=ue(Q[8]),Ge();for(let Ce=0;Ce<oe.length;Ce+=1)oe[Ce].r();oe=kt(oe,ne,rt,1,Q,et,Ae,Te,Ml,Ut,null,Bt);for(let Ce=0;Ce<oe.length;Ce+=1)oe[Ce].a();qe()}},i(Q){if(!me){ce(R);for(let ne=0;ne<et.length;ne+=1)ce(oe[ne]);Q&&(be||ke(()=>{be=Je(e,Re,{}),be.start()})),me=!0}},o(Q){Se(R);for(let ne=0;ne<oe.length;ne+=1)Se(oe[ne]);me=!1},d(Q){Q&&_(e),He(je,Q),R&&R.d(),Ne.d();for(let ne=0;ne<oe.length;ne+=1)oe[ne].d();Me=!1,Xe(De)}}}function Cs(n,e,t){let s,l="",r="",u="",o="",c="",b=0,f=0,m=0;function p(){t(2,u=""),t(3,o="")}let h=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];function k(){t(8,h=[...h,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function g(A){h.length>1?t(8,h=h.filter(x=>x.id!==A)):t(8,h=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function C(){return{location:{area:l==="Other"?r:l,crag:u==="Other"?o:u,wall:c},session:"Outdoor",fingerLoad:b,shoulderLoad:f,forearmLoad:m,exercises:h}}function I(){l=We(this),t(0,l)}function D(){r=this.value,t(1,r)}function T(){u=We(this),t(2,u),t(9,s),t(0,l)}function S(){o=this.value,t(3,o)}function y(){u=this.value,t(2,u),t(9,s),t(0,l)}function L(){c=this.value,t(4,c)}function O(){b=Ve(this.value),t(5,b)}function w(){f=Ve(this.value),t(6,f)}function B(){m=Ve(this.value),t(7,m)}function P(A,x){A[x].isRopes=this.checked,t(8,h)}function Y(A,x){A[x].name=this.value,t(8,h)}function le(A,x){A[x].grade=this.value,t(8,h)}function ye(A,x){A[x].notes=this.value,t(8,h)}const M=A=>g(A.id);return n.$$.update=()=>{n.$$.dirty[0]&1&&t(9,s=Fl[l]||[])},[l,r,u,o,c,b,f,m,h,s,p,k,g,C,I,D,T,S,y,L,O,w,B,P,Y,le,ye,M]}class Es extends xe{constructor(e){super(),$e(this,e,Cs,ks,Ze,{getData:13},null,[-1,-1])}get getData(){return this.$$.ctx[13]}}function ys(n){let e,t='<h3 class="svelte-fh7bet">Other Activity Config</h3> <p class="svelte-fh7bet">Generic fields for other activities will go here.</p> <div class="placeholder-box svelte-fh7bet"></div>',s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-kjirec"&&(e.innerHTML=t),this.h()},h(){i(e,"class","activity-config svelte-fh7bet")},m(l,r){F(l,e,r)},p:Ee,i(l){l&&(s||ke(()=>{s=Je(e,Re,{}),s.start()}))},o:Ee,d(l){l&&_(e)}}}let ws="",Ts="";function Ds(n,e,t){let s=[];function l(){return{location:ws,session:Ts,exercises:s,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class Ls extends xe{constructor(e){super(),$e(this,e,Ds,ys,Ze,{getData:0})}get getData(){return this.$$.ctx[0]}}function Ht(n,e,t){const s=n.slice();return s[18]=e[t],s[19]=e,s[20]=t,s}function Ft(n,e,t){const s=n.slice();return s[21]=e[t],s}function zt(n,e,t){const s=n.slice();return s[24]=e[t],s}function Gt(n){let e,t=n[24]+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=d(l,"OPTION",{});var r=E(e);s=de(r,t),r.forEach(_),this.h()},h(){e.__value=n[24],V(e,e.__value)},m(l,r){F(l,e,r),a(e,s)},p:Ee,d(l){l&&_(e)}}}function qt(n){let e,t=n[21]+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=d(l,"OPTION",{});var r=E(e);s=de(r,t),r.forEach(_),this.h()},h(){e.__value=n[21],V(e,e.__value)},m(l,r){F(l,e,r),a(e,s)},p:Ee,d(l){l&&_(e)}}}function Wt(n,e){let t,s,l,r,u,o,c,b,f,m,p,h,k,g,C,I,D,T,S="Ã—",y,L,O;function w(){e[12].call(l,e[19],e[20])}function B(){e[13].call(o,e[19],e[20])}function P(){e[14].call(f,e[19],e[20])}function Y(){e[15].call(h,e[19],e[20])}function le(){e[16].call(C,e[19],e[20])}function ye(){return e[17](e[18])}return{key:n,first:null,c(){t=v("tr"),s=v("td"),l=v("input"),r=N(),u=v("td"),o=v("input"),c=N(),b=v("td"),f=v("input"),m=N(),p=v("td"),h=v("input"),k=N(),g=v("td"),C=v("input"),I=N(),D=v("td"),T=v("button"),T.textContent=S,y=N(),this.h()},l(M){t=d(M,"TR",{});var A=E(t);s=d(A,"TD",{class:!0});var x=E(s);l=d(x,"INPUT",{type:!0,placeholder:!0,class:!0}),x.forEach(_),r=j(A),u=d(A,"TD",{class:!0});var re=E(u);o=d(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(_),c=j(A),b=d(A,"TD",{class:!0});var ee=E(b);f=d(ee,"INPUT",{type:!0,placeholder:!0,class:!0}),ee.forEach(_),m=j(A),p=d(A,"TD",{class:!0});var ie=E(p);h=d(ie,"INPUT",{type:!0,placeholder:!0,class:!0}),ie.forEach(_),k=j(A),g=d(A,"TD",{class:!0});var Z=E(g);C=d(Z,"INPUT",{type:!0,placeholder:!0,class:!0}),Z.forEach(_),I=j(A),D=d(A,"TD",{class:!0});var Le=E(D);T=d(Le,"BUTTON",{class:!0,"data-svelte-h":!0}),z(T)!=="svelte-rn69i5"&&(T.textContent=S),Le.forEach(_),y=j(A),A.forEach(_),this.h()},h(){i(l,"type","text"),i(l,"placeholder","Hang"),i(l,"class","svelte-152m2bn"),i(s,"class","svelte-152m2bn"),i(o,"type","number"),i(o,"placeholder","0"),i(o,"class","svelte-152m2bn"),i(u,"class","svelte-152m2bn"),i(f,"type","number"),i(f,"placeholder","1"),i(f,"class","svelte-152m2bn"),i(b,"class","svelte-152m2bn"),i(h,"type","number"),i(h,"placeholder","1"),i(h,"class","svelte-152m2bn"),i(p,"class","svelte-152m2bn"),i(C,"type","text"),i(C,"placeholder","Notes"),i(C,"class","svelte-152m2bn"),i(g,"class","svelte-152m2bn"),i(T,"class","delete-btn svelte-152m2bn"),i(D,"class","actions-col svelte-152m2bn"),this.first=t},m(M,A){F(M,t,A),a(t,s),a(s,l),V(l,e[18].name),a(t,r),a(t,u),a(u,o),V(o,e[18].weight),a(t,c),a(t,b),a(b,f),V(f,e[18].sets),a(t,m),a(t,p),a(p,h),V(h,e[18].reps),a(t,k),a(t,g),a(g,C),V(C,e[18].notes),a(t,I),a(t,D),a(D,T),a(t,y),L||(O=[q(l,"input",w),q(o,"input",B),q(f,"input",P),q(h,"input",Y),q(C,"input",le),q(T,"click",ye)],L=!0)},p(M,A){e=M,A&8&&l.value!==e[18].name&&V(l,e[18].name),A&8&&Ve(o.value)!==e[18].weight&&V(o,e[18].weight),A&8&&Ve(f.value)!==e[18].sets&&V(f,e[18].sets),A&8&&Ve(h.value)!==e[18].reps&&V(h,e[18].reps),A&8&&C.value!==e[18].notes&&V(C,e[18].notes)},d(M){M&&_(t),L=!1,Xe(O)}}}function Is(n){let e,t,s,l,r="Location",u,o,c,b="Select Location",f,m,p,h="Session Type",k,g,C,I="Select Session",D,T,S,y,L="Finger Load (0-5)",O,w,B,P,Y,le,ye="Sets / Exercises",M,A,x="Add Row",re,ee,ie,Z,Le='<tr><th class="svelte-152m2bn">Exercise</th> <th class="svelte-152m2bn">Weight (+/-)</th> <th class="svelte-152m2bn">Sets</th> <th class="svelte-152m2bn">Reps</th> <th class="svelte-152m2bn">Notes</th> <th class="actions-col svelte-152m2bn"></th></tr>',_e,pe,se=[],Pe=new Map,fe,he,we,Oe=ue(n[6]),J=[];for(let U=0;U<Oe.length;U+=1)J[U]=Gt(zt(n,Oe,U));let $=ue(n[7]),W=[];for(let U=0;U<$.length;U+=1)W[U]=qt(Ft(n,$,U));let ge=ue(n[3]);const te=U=>U[18].id;for(let U=0;U<ge.length;U+=1){let H=Ht(n,ge,U),G=te(H);Pe.set(G,se[U]=Wt(G,H))}return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=r,u=N(),o=v("select"),c=v("option"),c.textContent=b;for(let U=0;U<J.length;U+=1)J[U].c();f=N(),m=v("div"),p=v("label"),p.textContent=h,k=N(),g=v("select"),C=v("option"),C.textContent=I;for(let U=0;U<W.length;U+=1)W[U].c();D=N(),T=v("div"),S=v("div"),y=v("label"),y.textContent=L,O=N(),w=v("input"),B=N(),P=v("div"),Y=v("div"),le=v("h3"),le.textContent=ye,M=N(),A=v("button"),A.textContent=x,re=N(),ee=v("div"),ie=v("table"),Z=v("thead"),Z.innerHTML=Le,_e=N(),pe=v("tbody");for(let U=0;U<se.length;U+=1)se[U].c();this.h()},l(U){e=d(U,"DIV",{class:!0});var H=E(e);t=d(H,"DIV",{class:!0});var G=E(t);s=d(G,"DIV",{class:!0});var ae=E(s);l=d(ae,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(l)!=="svelte-1dxgp9b"&&(l.textContent=r),u=j(ae),o=d(ae,"SELECT",{id:!0,class:!0});var Te=E(o);c=d(Te,"OPTION",{"data-svelte-h":!0}),z(c)!=="svelte-mwu9va"&&(c.textContent=b);for(let X=0;X<J.length;X+=1)J[X].l(Te);Te.forEach(_),ae.forEach(_),f=j(G),m=d(G,"DIV",{class:!0});var oe=E(m);p=d(oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(p)!=="svelte-h0spd7"&&(p.textContent=h),k=j(oe),g=d(oe,"SELECT",{id:!0,class:!0});var Ae=E(g);C=d(Ae,"OPTION",{"data-svelte-h":!0}),z(C)!=="svelte-1ekya2v"&&(C.textContent=I);for(let X=0;X<W.length;X+=1)W[X].l(Ae);Ae.forEach(_),oe.forEach(_),G.forEach(_),D=j(H),T=d(H,"DIV",{class:!0});var be=E(T);S=d(be,"DIV",{class:!0});var me=E(S);y=d(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(y)!=="svelte-1w9evqp"&&(y.textContent=L),O=j(me),w=d(me,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),me.forEach(_),be.forEach(_),B=j(H),P=d(H,"DIV",{class:!0});var Me=E(P);Y=d(Me,"DIV",{class:!0});var De=E(Y);le=d(De,"H3",{class:!0,"data-svelte-h":!0}),z(le)!=="svelte-rv2rcn"&&(le.textContent=ye),M=j(De),A=d(De,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),z(A)!=="svelte-tawc64"&&(A.textContent=x),De.forEach(_),re=j(Me),ee=d(Me,"DIV",{class:!0});var ze=E(ee);ie=d(ze,"TABLE",{class:!0});var je=E(ie);Z=d(je,"THEAD",{"data-svelte-h":!0}),z(Z)!=="svelte-163hj14"&&(Z.innerHTML=Le),_e=j(je),pe=d(je,"TBODY",{});var R=E(pe);for(let X=0;X<se.length;X+=1)se[X].l(R);R.forEach(_),je.forEach(_),ze.forEach(_),Me.forEach(_),H.forEach(_),this.h()},h(){i(l,"for","fb-location"),i(l,"class","svelte-152m2bn"),c.__value="",V(c,c.__value),c.disabled=!0,c.selected=!0,i(o,"id","fb-location"),i(o,"class","svelte-152m2bn"),n[0]===void 0&&ke(()=>n[9].call(o)),i(s,"class","input-group svelte-152m2bn"),i(p,"for","fb-session"),i(p,"class","svelte-152m2bn"),C.__value="",V(C,C.__value),C.disabled=!0,C.selected=!0,i(g,"id","fb-session"),i(g,"class","svelte-152m2bn"),n[1]===void 0&&ke(()=>n[10].call(g)),i(m,"class","input-group svelte-152m2bn"),i(t,"class","form-grid svelte-152m2bn"),i(y,"for","fb-finger-load"),i(y,"class","svelte-152m2bn"),i(w,"id","fb-finger-load"),i(w,"type","number"),i(w,"min","0"),i(w,"max","5"),i(w,"class","svelte-152m2bn"),i(S,"class","load-group svelte-152m2bn"),i(T,"class","load-metrics svelte-152m2bn"),i(le,"class","svelte-152m2bn"),i(A,"class","add-row-btn svelte-152m2bn"),i(A,"title","Add Row"),i(Y,"class","section-header svelte-152m2bn"),i(ie,"class","svelte-152m2bn"),i(ee,"class","table-container svelte-152m2bn"),i(P,"class","exercise-section"),i(e,"class","fingerboard-config svelte-152m2bn")},m(U,H){F(U,e,H),a(e,t),a(t,s),a(s,l),a(s,u),a(s,o),a(o,c);for(let G=0;G<J.length;G+=1)J[G]&&J[G].m(o,null);Ie(o,n[0],!0),a(t,f),a(t,m),a(m,p),a(m,k),a(m,g),a(g,C);for(let G=0;G<W.length;G+=1)W[G]&&W[G].m(g,null);Ie(g,n[1],!0),a(e,D),a(e,T),a(T,S),a(S,y),a(S,O),a(S,w),V(w,n[2]),a(e,B),a(e,P),a(P,Y),a(Y,le),a(Y,M),a(Y,A),a(P,re),a(P,ee),a(ee,ie),a(ie,Z),a(ie,_e),a(ie,pe);for(let G=0;G<se.length;G+=1)se[G]&&se[G].m(pe,null);he||(we=[q(o,"change",n[9]),q(g,"change",n[10]),q(w,"input",n[11]),q(A,"click",n[4])],he=!0)},p(U,[H]){if(H&64){Oe=ue(U[6]);let G;for(G=0;G<Oe.length;G+=1){const ae=zt(U,Oe,G);J[G]?J[G].p(ae,H):(J[G]=Gt(ae),J[G].c(),J[G].m(o,null))}for(;G<J.length;G+=1)J[G].d(1);J.length=Oe.length}if(H&65&&Ie(o,U[0]),H&128){$=ue(U[7]);let G;for(G=0;G<$.length;G+=1){const ae=Ft(U,$,G);W[G]?W[G].p(ae,H):(W[G]=qt(ae),W[G].c(),W[G].m(g,null))}for(;G<W.length;G+=1)W[G].d(1);W.length=$.length}H&130&&Ie(g,U[1]),H&4&&Ve(w.value)!==U[2]&&V(w,U[2]),H&40&&(ge=ue(U[3]),se=kt(se,H,te,1,U,ge,Pe,pe,Pl,Wt,null,Ht))},i(U){U&&(fe||ke(()=>{fe=Je(e,Re,{}),fe.start()}))},o:Ee,d(U){U&&_(e),He(J,U),He(W,U);for(let H=0;H<se.length;H+=1)se[H].d();he=!1,Xe(we)}}}function Ss(n,e,t){let s="",l="",r=0,u=[{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}];function o(){return{location:s,session:l,fingerLoad:r,exercises:u}}function c(){t(3,u=[...u,{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}])}function b(y){u.length>1&&t(3,u=u.filter(L=>L.id!==y))}const f=["Home","Gym","Crag"],m=["Strength","Endurance","Recovery"];function p(){s=We(this),t(0,s),t(6,f)}function h(){l=We(this),t(1,l),t(7,m)}function k(){r=Ve(this.value),t(2,r)}function g(y,L){y[L].name=this.value,t(3,u)}function C(y,L){y[L].weight=Ve(this.value),t(3,u)}function I(y,L){y[L].sets=Ve(this.value),t(3,u)}function D(y,L){y[L].reps=Ve(this.value),t(3,u)}function T(y,L){y[L].notes=this.value,t(3,u)}return[s,l,r,u,c,b,f,m,o,p,h,k,g,C,I,D,T,y=>b(y.id)]}class Os extends xe{constructor(e){super(),$e(this,e,Ss,Is,Ze,{getData:8})}get getData(){return this.$$.ctx[8]}}const zl="training_history_cache",js=JSON.parse(localStorage.getItem(zl)||"{}"),wt=Al(js);wt.subscribe(n=>{localStorage.setItem(zl,JSON.stringify(n))});function Gl(n,e){wt.update(t=>{const s=t[n]||[],l=[...e,...s],r=new Map;return l.forEach(u=>{var f;const o=((f=u.date)==null?void 0:f.value)||u.date,b=`${o?new Date(o).toISOString():""}|${u.location}|${u.session_type}|${JSON.stringify(u.climbs)}`;r.has(b)||r.set(b,u)}),{...t,[n]:Array.from(r.values()).sort((u,o)=>{var f,m;const c=new Date(((f=u.date)==null?void 0:f.value)||u.date);return new Date(((m=o.date)==null?void 0:m.value)||o.date).getTime()-c.getTime()})}})}function Ns(n,e){Gl(n,[e])}function Kt(n,e,t){const s=n.slice();return s[10]=e[t],s}function Yt(n){let e,t=n[10].text+"",s,l;return{c(){e=v("option"),s=ve(t),l=N(),this.h()},l(r){e=d(r,"OPTION",{});var u=E(e);s=de(u,t),l=j(u),u.forEach(_),this.h()},h(){e.__value=n[10].id,V(e,e.__value)},m(r,u){F(r,e,u),a(e,s),a(e,l)},p:Ee,d(r){r&&_(e)}}}function Jt(n){let e,t,s,l,r,u=n[2]?"Saving...":"Save Log",o,c,b,f,m;var p=n[5].component;function h(g,C){return{props:{}}}p&&(t=mt(p,h()),n[9](t));let k=n[3]&&Qt(n);return{c(){e=v("div"),t&&dt(t.$$.fragment),s=N(),k&&k.c(),l=N(),r=v("button"),o=ve(u),this.h()},l(g){e=d(g,"DIV",{class:!0});var C=E(e);t&&Et(t.$$.fragment,C),s=j(C),k&&k.l(C),l=j(C),r=d(C,"BUTTON",{class:!0});var I=E(r);o=de(I,u),I.forEach(_),C.forEach(_),this.h()},h(){i(r,"class","save-button svelte-148fipo"),r.disabled=n[2],i(e,"class","config-wrapper svelte-148fipo")},m(g,C){F(g,e,C),t&&vt(t,e,null),a(e,s),k&&k.m(e,null),a(e,l),a(e,r),a(r,o),b=!0,f||(m=q(r,"click",n[7]),f=!0)},p(g,C){if(C&32&&p!==(p=g[5].component)){if(t){Ge();const I=t;Se(I.$$.fragment,1,0,()=>{ht(I,1)}),qe()}p?(t=mt(p,h()),g[9](t),dt(t.$$.fragment),ce(t.$$.fragment,1),vt(t,e,s)):t=null}else if(p){const I={};t.$set(I)}g[3]?k?(k.p(g,C),C&8&&ce(k,1)):(k=Qt(g),k.c(),ce(k,1),k.m(e,l)):k&&(Ge(),Se(k,1,1,()=>{k=null}),qe()),(!b||C&4)&&u!==(u=g[2]?"Saving...":"Save Log")&&Be(o,u),(!b||C&4)&&(r.disabled=g[2])},i(g){b||(t&&ce(t.$$.fragment,g),ce(k),g&&(c||ke(()=>{c=Je(e,Re,{}),c.start()})),b=!0)},o(g){t&&Se(t.$$.fragment,g),Se(k),b=!1},d(g){g&&_(e),n[9](null),t&&ht(t),k&&k.d(),f=!1,m()}}}function Qt(n){let e,t,s,l;return{c(){e=v("div"),t=ve(n[3]),this.h()},l(r){e=d(r,"DIV",{class:!0});var u=E(e);t=de(u,n[3]),u.forEach(_),this.h()},h(){i(e,"class","message svelte-148fipo"),Ke(e,"success",n[4]),Ke(e,"error",!n[4])},m(r,u){F(r,e,u),a(e,t),l=!0},p(r,u){(!l||u&8)&&Be(t,r[3]),(!l||u&16)&&Ke(e,"success",r[4]),(!l||u&16)&&Ke(e,"error",!r[4])},i(r){l||(r&&ke(()=>{l&&(s||(s=Fe(e,Re,{},!0)),s.run(1))}),l=!0)},o(r){r&&(s||(s=Fe(e,Re,{},!1)),s.run(0)),l=!1},d(r){r&&_(e),r&&s&&s.end()}}}function As(n){let e,t,s="Log Exercise",l,r,u,o="What did you do today?",c,b,f,m="Select activity type...",p,h,k,g,C=ue(n[6]),I=[];for(let T=0;T<C.length;T+=1)I[T]=Yt(Kt(n,C,T));let D=n[5]&&Jt(n);return{c(){e=v("div"),t=v("h2"),t.textContent=s,l=N(),r=v("div"),u=v("label"),u.textContent=o,c=N(),b=v("select"),f=v("option"),f.textContent=m;for(let T=0;T<I.length;T+=1)I[T].c();p=N(),D&&D.c(),this.h()},l(T){e=d(T,"DIV",{class:!0});var S=E(e);t=d(S,"H2",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1eeau7i"&&(t.textContent=s),l=j(S),r=d(S,"DIV",{class:!0});var y=E(r);u=d(y,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(u)!=="svelte-1ndwsee"&&(u.textContent=o),c=j(y),b=d(y,"SELECT",{id:!0,class:!0});var L=E(b);f=d(L,"OPTION",{"data-svelte-h":!0}),z(f)!=="svelte-11gchci"&&(f.textContent=m);for(let O=0;O<I.length;O+=1)I[O].l(L);L.forEach(_),y.forEach(_),p=j(S),D&&D.l(S),S.forEach(_),this.h()},h(){i(t,"class","svelte-148fipo"),i(u,"for","exercise-type"),i(u,"class","svelte-148fipo"),f.__value="",V(f,f.__value),f.disabled=!0,f.selected=!0,i(b,"id","exercise-type"),i(b,"class","svelte-148fipo"),n[0]===void 0&&ke(()=>n[8].call(b)),i(r,"class","dropdown-wrapper svelte-148fipo"),i(e,"class","tab-content svelte-148fipo")},m(T,S){F(T,e,S),a(e,t),a(e,l),a(e,r),a(r,u),a(r,c),a(r,b),a(b,f);for(let y=0;y<I.length;y+=1)I[y]&&I[y].m(b,null);Ie(b,n[0],!0),a(e,p),D&&D.m(e,null),h=!0,k||(g=q(b,"change",n[8]),k=!0)},p(T,[S]){if(S&64){C=ue(T[6]);let y;for(y=0;y<C.length;y+=1){const L=Kt(T,C,y);I[y]?I[y].p(L,S):(I[y]=Yt(L),I[y].c(),I[y].m(b,null))}for(;y<I.length;y+=1)I[y].d(1);I.length=C.length}S&65&&Ie(b,T[0]),T[5]?D?(D.p(T,S),S&32&&ce(D,1)):(D=Jt(T),D.c(),ce(D,1),D.m(e,null)):D&&(Ge(),Se(D,1,1,()=>{D=null}),qe())},i(T){h||(ce(D),h=!0)},o(T){Se(D),h=!1},d(T){T&&_(e),He(I,T),D&&D.d(),k=!1,g()}}}const Bs="https://save-log-825153765638.europe-west1.run.app";function Vs(n,e,t){let s,l="";const r=[{id:"indoor",text:"Indoor Climb",component:us},{id:"fingerboard",text:"Fingerboarding",component:Os},{id:"gym",text:"Gym Session",component:_s},{id:"outdoor",text:"Outdoor Climb",component:Es},{id:"other",text:"Other",component:Ls}];let u,o=!1,c="",b=!1;async function f(){if(!u||!u.getData){console.error("Component does not support data export");return}const h=u.getData(),k=Ol(ct);if(!h.location||!h.session||h.exercises&&h.exercises.length===0){t(3,c="Please select a Location, Session, and add at least one exercise."),t(4,b=!1);return}if(!k){t(3,c="Authentication error. Please log in again."),t(4,b=!1);return}t(2,o=!0),t(3,c="");try{const g={activity_type:l,location:h.location,session_type:h.session,finger_load:h.fingerLoad||0,shoulder_load:h.shoulderLoad||0,forearm_load:h.forearmLoad||0,climbs:h.exercises,date:new Date().toISOString()},C=await fetch(Bs,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(g)});if(!C.ok){const I=await C.text();throw new Error(`Server error (${C.status}): ${I}`)}t(3,c="Log saved successfully!"),t(4,b=!0),Ns(l,g)}catch(g){console.error("Save Error:",g),t(3,c="Failed to save log. Check console for details."),t(4,b=!1)}finally{t(2,o=!1)}}function m(){l=We(this),t(0,l),t(6,r)}function p(h){Wl[h?"unshift":"push"](()=>{u=h,t(1,u)})}return n.$$.update=()=>{n.$$.dirty&1&&t(5,s=r.find(h=>h.id===l)),n.$$.dirty&1&&l&&t(3,c="")},[l,u,o,c,b,s,r,f,m,p]}class Ps extends xe{constructor(e){super(),$e(this,e,Vs,As,Ze,{})}}function Xt(n,e,t){const s=n.slice();return s[43]=e[t],s}function Zt(n,e,t){const s=n.slice();return s[46]=e[t],s}function xt(n,e,t){const s=n.slice();return s[49]=e[t],s}function $t(n,e,t){const s=n.slice();return s[49]=e[t],s}function el(n,e,t){const s=n.slice();return s[54]=e[t],s}function tl(n,e,t){const s=n.slice();return s[63]=e[t],s}function ll(n,e,t){const s=n.slice();return s[57]=e[t],s}function Ms(n,e,t){const s=n.slice();return s[60]=e[t],s}function sl(n,e,t){const s=n.slice();return s[66]=e[t],s}function Rs(n){let e,t,s;return{c(){e=ft("svg"),t=ft("path"),s=ft("path"),this.h()},l(l){e=ut(l,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var r=E(e);t=ut(r,"path",{d:!0}),E(t).forEach(_),s=ut(r,"path",{d:!0}),E(s).forEach(_),r.forEach(_),this.h()},h(){i(t,"d","M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"),i(s,"d","M21 3v5h-5"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"width","16"),i(e,"height","16"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2"),i(e,"stroke-linecap","round"),i(e,"stroke-linejoin","round")},m(l,r){F(l,e,r),a(e,t),a(e,s)},d(l){l&&_(e)}}}function Us(n){let e;return{c(){e=v("div"),this.h()},l(t){e=d(t,"DIV",{class:!0}),E(e).forEach(_),this.h()},h(){i(e,"class","spinner-small svelte-1vjb6uv")},m(t,s){F(t,e,s)},d(t){t&&_(e)}}}function nl(n){let e,t=n[66].label+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=d(l,"OPTION",{class:!0});var r=E(e);s=de(r,t),r.forEach(_),this.h()},h(){e.__value=n[66].id,V(e,e.__value),i(e,"class","svelte-1vjb6uv")},m(l,r){F(l,e,r),a(e,s)},p:Ee,d(l){l&&_(e)}}}function ol(n){let e,t,s,l,r="Start Date",u,o,c,b,f,m="End Date",p,h,k,g,C,I="Location",D,T,S,y,L,O="Session / Type",w,B,P,Y,le="Grade (Exact)",ye,M,A,x,re,ee="Clear",ie,Z,Le="Apply",_e,pe,se,Pe;function fe(W,ge){return W[0]==="outdoor"?Fs:Hs}let he=fe(n),we=he(n);function Oe(W,ge){return W[0]==="outdoor"?qs:Gs}let J=Oe(n),$=J(n);return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=r,u=N(),o=v("input"),c=N(),b=v("div"),f=v("label"),f.textContent=m,p=N(),h=v("input"),k=N(),g=v("div"),C=v("label"),C.textContent=I,D=N(),we.c(),T=N(),S=v("div"),y=v("div"),L=v("label"),L.textContent=O,w=N(),$.c(),B=N(),P=v("div"),Y=v("label"),Y.textContent=le,ye=N(),M=v("input"),A=N(),x=v("div"),re=v("button"),re.textContent=ee,ie=N(),Z=v("button"),Z.textContent=Le,this.h()},l(W){e=d(W,"DIV",{class:!0});var ge=E(e);t=d(ge,"DIV",{class:!0});var te=E(t);s=d(te,"DIV",{class:!0});var U=E(s);l=d(U,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(l)!=="svelte-1kxlpsi"&&(l.textContent=r),u=j(U),o=d(U,"INPUT",{id:!0,type:!0,class:!0}),U.forEach(_),c=j(te),b=d(te,"DIV",{class:!0});var H=E(b);f=d(H,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(f)!=="svelte-j60kik"&&(f.textContent=m),p=j(H),h=d(H,"INPUT",{id:!0,type:!0,class:!0}),H.forEach(_),k=j(te),g=d(te,"DIV",{class:!0});var G=E(g);C=d(G,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(C)!=="svelte-3cwczo"&&(C.textContent=I),D=j(G),we.l(G),G.forEach(_),te.forEach(_),T=j(ge),S=d(ge,"DIV",{class:!0});var ae=E(S);y=d(ae,"DIV",{class:!0});var Te=E(y);L=d(Te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(L)!=="svelte-jb3f35"&&(L.textContent=O),w=j(Te),$.l(Te),Te.forEach(_),B=j(ae),P=d(ae,"DIV",{class:!0});var oe=E(P);Y=d(oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(Y)!=="svelte-f1ofpo"&&(Y.textContent=le),ye=j(oe),M=d(oe,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),oe.forEach(_),A=j(ae),x=d(ae,"DIV",{class:!0});var Ae=E(x);re=d(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),z(re)!=="svelte-1hjrww8"&&(re.textContent=ee),ie=j(Ae),Z=d(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),z(Z)!=="svelte-1ch465z"&&(Z.textContent=Le),Ae.forEach(_),ae.forEach(_),ge.forEach(_),this.h()},h(){i(l,"for","startDate"),i(l,"class","svelte-1vjb6uv"),i(o,"id","startDate"),i(o,"type","date"),i(o,"class","svelte-1vjb6uv"),i(s,"class","filter-group svelte-1vjb6uv"),i(f,"for","endDate"),i(f,"class","svelte-1vjb6uv"),i(h,"id","endDate"),i(h,"type","date"),i(h,"class","svelte-1vjb6uv"),i(b,"class","filter-group svelte-1vjb6uv"),i(C,"for","filterLocation"),i(C,"class","svelte-1vjb6uv"),i(g,"class","filter-group svelte-1vjb6uv"),i(t,"class","filter-row svelte-1vjb6uv"),i(L,"for","filterSession"),i(L,"class","svelte-1vjb6uv"),i(y,"class","filter-group svelte-1vjb6uv"),i(Y,"for","filterGrade"),i(Y,"class","svelte-1vjb6uv"),i(M,"id","filterGrade"),i(M,"type","text"),i(M,"placeholder","e.g. 7a+"),i(M,"class","svelte-1vjb6uv"),i(P,"class","filter-group svelte-1vjb6uv"),i(re,"class","clear-btn svelte-1vjb6uv"),i(Z,"class","apply-btn svelte-1vjb6uv"),i(x,"class","filter-actions svelte-1vjb6uv"),i(S,"class","filter-row svelte-1vjb6uv"),i(e,"class","filters-panel svelte-1vjb6uv")},m(W,ge){F(W,e,ge),a(e,t),a(t,s),a(s,l),a(s,u),a(s,o),V(o,n[10]),a(t,c),a(t,b),a(b,f),a(b,p),a(b,h),V(h,n[11]),a(t,k),a(t,g),a(g,C),a(g,D),we.m(g,null),a(e,T),a(e,S),a(S,y),a(y,L),a(y,w),$.m(y,null),a(S,B),a(S,P),a(P,Y),a(P,ye),a(P,M),V(M,n[14]),a(S,A),a(S,x),a(x,re),a(x,ie),a(x,Z),pe=!0,se||(Pe=[q(o,"input",n[30]),q(h,"input",n[31]),q(M,"input",n[41]),q(re,"click",n[24]),q(Z,"click",n[23])],se=!0)},p(W,ge){ge[0]&1024&&V(o,W[10]),ge[0]&2048&&V(h,W[11]),he===(he=fe(W))&&we?we.p(W,ge):(we.d(1),we=he(W),we&&(we.c(),we.m(g,null))),J===(J=Oe(W))&&$?$.p(W,ge):($.d(1),$=J(W),$&&($.c(),$.m(y,null))),ge[0]&16384&&M.value!==W[14]&&V(M,W[14])},i(W){pe||(W&&ke(()=>{pe&&(_e||(_e=Fe(e,Re,{},!0)),_e.run(1))}),pe=!0)},o(W){W&&(_e||(_e=Fe(e,Re,{},!1)),_e.run(0)),pe=!1},d(W){W&&_(e),we.d(),$.d(),W&&_e&&_e.end(),se=!1,Xe(Pe)}}}function Hs(n){let e,t,s="Any Location",l,r,u=ue(n[20]),o=[];for(let c=0;c<u.length;c+=1)o[c]=rl(tl(n,u,c));return{c(){e=v("select"),t=v("option"),t.textContent=s;for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=d(c,"SELECT",{id:!0,class:!0});var b=E(e);t=d(b,"OPTION",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-vg9lqd"&&(t.textContent=s);for(let f=0;f<o.length;f+=1)o[f].l(b);b.forEach(_),this.h()},h(){t.__value="",V(t,t.__value),i(t,"class","svelte-1vjb6uv"),i(e,"id","filterLocation"),i(e,"class","svelte-1vjb6uv"),n[12]===void 0&&ke(()=>n[38].call(e))},m(c,b){F(c,e,b),a(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);Ie(e,n[12],!0),l||(r=q(e,"change",n[38]),l=!0)},p(c,b){if(b[0]&1048576){u=ue(c[20]);let f;for(f=0;f<u.length;f+=1){const m=tl(c,u,f);o[f]?o[f].p(m,b):(o[f]=rl(m),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=u.length}b[0]&1052672&&Ie(e,c[12])},d(c){c&&_(e),He(o,c),l=!1,r()}}}function Fs(n){let e,t,s,l="Any Area",r,u,o,c,b="Any Crag",f,m="Other (Custom)",p,h,k,g,C=ue(Hl),I=[];for(let L=0;L<C.length;L+=1)I[L]=zs(Ms(n,C,L));let D=n[1]==="Other"&&il(n),T=ue(n[16]),S=[];for(let L=0;L<T.length;L+=1)S[L]=al(ll(n,T,L));let y=n[3]==="Other"&&cl(n);return{c(){e=v("div"),t=v("select"),s=v("option"),s.textContent=l;for(let L=0;L<I.length;L+=1)I[L].c();r=N(),D&&D.c(),u=N(),o=v("select"),c=v("option"),c.textContent=b;for(let L=0;L<S.length;L+=1)S[L].c();f=v("option"),f.textContent=m,h=N(),y&&y.c(),this.h()},l(L){e=d(L,"DIV",{class:!0});var O=E(e);t=d(O,"SELECT",{id:!0,class:!0});var w=E(t);s=d(w,"OPTION",{class:!0,"data-svelte-h":!0}),z(s)!=="svelte-1a0ocwf"&&(s.textContent=l);for(let P=0;P<I.length;P+=1)I[P].l(w);w.forEach(_),r=j(O),D&&D.l(O),u=j(O),o=d(O,"SELECT",{id:!0,class:!0});var B=E(o);c=d(B,"OPTION",{class:!0,"data-svelte-h":!0}),z(c)!=="svelte-1fifq8b"&&(c.textContent=b);for(let P=0;P<S.length;P+=1)S[P].l(B);f=d(B,"OPTION",{class:!0,"data-svelte-h":!0}),z(f)!=="svelte-1ws39oy"&&(f.textContent=m),B.forEach(_),h=j(O),y&&y.l(O),O.forEach(_),this.h()},h(){s.__value="",V(s,s.__value),i(s,"class","svelte-1vjb6uv"),i(t,"id","filterArea"),i(t,"class","svelte-1vjb6uv"),n[1]===void 0&&ke(()=>n[32].call(t)),c.__value="",V(c,c.__value),i(c,"class","svelte-1vjb6uv"),f.__value="Other",V(f,f.__value),i(f,"class","svelte-1vjb6uv"),i(o,"id","filterCrag"),o.disabled=p=!n[1],i(o,"class","svelte-1vjb6uv"),n[3]===void 0&&ke(()=>n[35].call(o)),i(e,"class","outdoor-filters svelte-1vjb6uv")},m(L,O){F(L,e,O),a(e,t),a(t,s);for(let w=0;w<I.length;w+=1)I[w]&&I[w].m(t,null);Ie(t,n[1],!0),a(e,r),D&&D.m(e,null),a(e,u),a(e,o),a(o,c);for(let w=0;w<S.length;w+=1)S[w]&&S[w].m(o,null);a(o,f),Ie(o,n[3],!0),a(e,h),y&&y.m(e,null),k||(g=[q(t,"change",n[32]),q(t,"change",n[33]),q(o,"change",n[35]),q(o,"change",n[36])],k=!0)},p(L,O){if(O[0]&2&&Ie(t,L[1]),L[1]==="Other"?D?(D.p(L,O),O[0]&2&&ce(D,1)):(D=il(L),D.c(),ce(D,1),D.m(e,u)):D&&(Ge(),Se(D,1,1,()=>{D=null}),qe()),O[0]&65536){T=ue(L[16]);let w;for(w=0;w<T.length;w+=1){const B=ll(L,T,w);S[w]?S[w].p(B,O):(S[w]=al(B),S[w].c(),S[w].m(o,f))}for(;w<S.length;w+=1)S[w].d(1);S.length=T.length}O[0]&2&&p!==(p=!L[1])&&(o.disabled=p),O[0]&65544&&Ie(o,L[3]),L[3]==="Other"?y?(y.p(L,O),O[0]&8&&ce(y,1)):(y=cl(L),y.c(),ce(y,1),y.m(e,null)):y&&(Ge(),Se(y,1,1,()=>{y=null}),qe())},d(L){L&&_(e),He(I,L),D&&D.d(),He(S,L),y&&y.d(),k=!1,Xe(g)}}}function rl(n){let e,t=n[63]+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=d(l,"OPTION",{class:!0});var r=E(e);s=de(r,t),r.forEach(_),this.h()},h(){e.__value=n[63],V(e,e.__value),i(e,"class","svelte-1vjb6uv")},m(l,r){F(l,e,r),a(e,s)},p:Ee,d(l){l&&_(e)}}}function zs(n){let e,t;return{c(){e=v("option"),t=ve(n[60]),this.h()},l(s){e=d(s,"OPTION",{class:!0});var l=E(e);t=de(l,n[60]),l.forEach(_),this.h()},h(){e.__value=n[60],V(e,e.__value),i(e,"class","svelte-1vjb6uv")},m(s,l){F(s,e,l),a(e,t)},p:Ee,d(s){s&&_(e)}}}function il(n){let e,t,s,l,r,u;return{c(){e=v("div"),t=v("input"),this.h()},l(o){e=d(o,"DIV",{});var c=E(e);t=d(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(_),this.h()},h(){i(t,"type","text"),i(t,"placeholder","Enter Area..."),i(t,"class","custom-filter-input svelte-1vjb6uv")},m(o,c){F(o,e,c),a(e,t),V(t,n[2]),l=!0,r||(u=q(t,"input",n[34]),r=!0)},p(o,c){c[0]&4&&t.value!==o[2]&&V(t,o[2])},i(o){l||(o&&ke(()=>{l&&(s||(s=Fe(e,Ye,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=Fe(e,Ye,{},!1)),s.run(0)),l=!1},d(o){o&&_(e),o&&s&&s.end(),r=!1,u()}}}function al(n){let e,t=n[57]+"",s,l;return{c(){e=v("option"),s=ve(t),this.h()},l(r){e=d(r,"OPTION",{class:!0});var u=E(e);s=de(u,t),u.forEach(_),this.h()},h(){e.__value=l=n[57],V(e,e.__value),i(e,"class","svelte-1vjb6uv")},m(r,u){F(r,e,u),a(e,s)},p(r,u){u[0]&65536&&t!==(t=r[57]+"")&&Be(s,t),u[0]&65536&&l!==(l=r[57])&&(e.__value=l,V(e,e.__value))},d(r){r&&_(e)}}}function cl(n){let e,t,s,l,r,u;return{c(){e=v("div"),t=v("input"),this.h()},l(o){e=d(o,"DIV",{});var c=E(e);t=d(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(_),this.h()},h(){i(t,"type","text"),i(t,"placeholder","Enter Crag..."),i(t,"class","custom-filter-input svelte-1vjb6uv")},m(o,c){F(o,e,c),a(e,t),V(t,n[4]),l=!0,r||(u=q(t,"input",n[37]),r=!0)},p(o,c){c[0]&16&&t.value!==o[4]&&V(t,o[4])},i(o){l||(o&&ke(()=>{l&&(s||(s=Fe(e,Ye,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=Fe(e,Ye,{},!1)),s.run(0)),l=!1},d(o){o&&_(e),o&&s&&s.end(),r=!1,u()}}}function Gs(n){let e,t,s="Any Session",l,r,u=ue(n[21]),o=[];for(let c=0;c<u.length;c+=1)o[c]=ul(el(n,u,c));return{c(){e=v("select"),t=v("option"),t.textContent=s;for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=d(c,"SELECT",{id:!0,class:!0});var b=E(e);t=d(b,"OPTION",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-178oehu"&&(t.textContent=s);for(let f=0;f<o.length;f+=1)o[f].l(b);b.forEach(_),this.h()},h(){t.__value="",V(t,t.__value),i(t,"class","svelte-1vjb6uv"),i(e,"id","filterSession"),i(e,"class","svelte-1vjb6uv"),n[13]===void 0&&ke(()=>n[40].call(e))},m(c,b){F(c,e,b),a(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);Ie(e,n[13],!0),l||(r=q(e,"change",n[40]),l=!0)},p(c,b){if(b[0]&2097152){u=ue(c[21]);let f;for(f=0;f<u.length;f+=1){const m=el(c,u,f);o[f]?o[f].p(m,b):(o[f]=ul(m),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=u.length}b[0]&2105344&&Ie(e,c[13])},d(c){c&&_(e),He(o,c),l=!1,r()}}}function qs(n){let e,t,s="Any Type",l,r="Bouldering",u,o="Ropes",c,b;return{c(){e=v("select"),t=v("option"),t.textContent=s,l=v("option"),l.textContent=r,u=v("option"),u.textContent=o,this.h()},l(f){e=d(f,"SELECT",{id:!0,class:!0});var m=E(e);t=d(m,"OPTION",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-c7i2yo"&&(t.textContent=s),l=d(m,"OPTION",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-ffaje2"&&(l.textContent=r),u=d(m,"OPTION",{class:!0,"data-svelte-h":!0}),z(u)!=="svelte-78wj0c"&&(u.textContent=o),m.forEach(_),this.h()},h(){t.__value="",V(t,t.__value),i(t,"class","svelte-1vjb6uv"),l.__value="Bouldering",V(l,l.__value),i(l,"class","svelte-1vjb6uv"),u.__value="Ropes",V(u,u.__value),i(u,"class","svelte-1vjb6uv"),i(e,"id","filterSession"),i(e,"class","svelte-1vjb6uv"),n[13]===void 0&&ke(()=>n[39].call(e))},m(f,m){F(f,e,m),a(e,t),a(e,l),a(e,u),Ie(e,n[13],!0),c||(b=q(e,"change",n[39]),c=!0)},p(f,m){m[0]&2105344&&Ie(e,f[13])},d(f){f&&_(e),c=!1,b()}}}function ul(n){let e,t=n[54]+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=d(l,"OPTION",{class:!0});var r=E(e);s=de(r,t),r.forEach(_),this.h()},h(){e.__value=n[54],V(e,e.__value),i(e,"class","svelte-1vjb6uv")},m(l,r){F(l,e,r),a(e,s)},p:Ee,d(l){l&&_(e)}}}function Ws(n){let e,t,s,l=[],r=new Map,u,o,c,b=n[17].length>0&&fl(),f=n[17].length===0&&n[5].length>0&&hl(),m=ue(n[17]);const p=k=>k[43].key;for(let k=0;k<m.length;k+=1){let g=Xt(n,m,k),C=p(g);r.set(C,l[k]=Cl(C,g))}let h=n[17].length>0&&El(n);return{c(){b&&b.c(),e=N(),t=v("div"),f&&f.c(),s=N();for(let k=0;k<l.length;k+=1)l[k].c();o=N(),h&&h.c(),c=bt(),this.h()},l(k){b&&b.l(k),e=j(k),t=d(k,"DIV",{class:!0});var g=E(t);f&&f.l(g),s=j(g);for(let C=0;C<l.length;C+=1)l[C].l(g);g.forEach(_),o=j(k),h&&h.l(k),c=bt(),this.h()},h(){i(t,"class","sessions-list svelte-1vjb6uv")},m(k,g){b&&b.m(k,g),F(k,e,g),F(k,t,g),f&&f.m(t,null),a(t,s);for(let C=0;C<l.length;C+=1)l[C]&&l[C].m(t,null);F(k,o,g),h&&h.m(k,g),F(k,c,g)},p(k,g){k[17].length>0?b?g[0]&131072&&ce(b,1):(b=fl(),b.c(),ce(b,1),b.m(e.parentNode,e)):b&&(Ge(),Se(b,1,1,()=>{b=null}),qe()),k[17].length===0&&k[5].length>0?f||(f=hl(),f.c(),f.m(t,s)):f&&(f.d(1),f=null),g[0]&426240&&(m=ue(k[17]),l=kt(l,g,p,1,k,m,r,t,Pl,Cl,null,Xt)),k[17].length>0?h?(h.p(k,g),g[0]&131072&&ce(h,1)):(h=El(k),h.c(),ce(h,1),h.m(c.parentNode,c)):h&&(h.d(1),h=null)},i(k){ce(b),k&&(u||ke(()=>{u=Je(t,Re,{}),u.start()})),ce(h)},o(k){Se(b)},d(k){k&&(_(e),_(t),_(o),_(c)),b&&b.d(k),f&&f.d();for(let g=0;g<l.length;g+=1)l[g].d();h&&h.d(k)}}}function Ks(n){let e,t=`<p>No data cached for this activity. Click &quot;Fetch Data&quot; to sync
                from the server.</p> <div class="empty-state"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg></div>`,s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-h6ex8u"&&(e.innerHTML=t),this.h()},h(){i(e,"class","placeholder svelte-1vjb6uv")},m(l,r){F(l,e,r)},p:Ee,i(l){l&&(s||ke(()=>{s=Je(e,Re,{}),s.start()}))},o:Ee,d(l){l&&_(e)}}}function Ys(n){let e,t,s,l,r,u,o="Retry",c,b,f;return{c(){e=v("div"),t=v("p"),s=ve("Error: "),l=ve(n[7]),r=N(),u=v("button"),u.textContent=o,this.h()},l(m){e=d(m,"DIV",{class:!0});var p=E(e);t=d(p,"P",{});var h=E(t);s=de(h,"Error: "),l=de(h,n[7]),h.forEach(_),r=j(p),u=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),z(u)!=="svelte-1n0rt7s"&&(u.textContent=o),p.forEach(_),this.h()},h(){i(u,"class","retry-btn svelte-1vjb6uv"),i(e,"class","status-msg error svelte-1vjb6uv")},m(m,p){F(m,e,p),a(e,t),a(t,s),a(t,l),a(e,r),a(e,u),b||(f=q(u,"click",n[22]),b=!0)},p(m,p){p[0]&128&&Be(l,m[7])},i(m){m&&(c||ke(()=>{c=Je(e,Re,{}),c.start()}))},o:Ee,d(m){m&&_(e),b=!1,f()}}}function Js(n){let e,t=`<div class="spinner svelte-1vjb6uv"></div>
            Loading your training history...`,s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-7ltysi"&&(e.innerHTML=t),this.h()},h(){i(e,"class","status-msg svelte-1vjb6uv")},m(l,r){F(l,e,r)},p:Ee,i(l){l&&(s||ke(()=>{s=Je(e,Re,{}),s.start()}))},o:Ee,d(l){l&&_(e)}}}function fl(n){let e,t='<div class="legend-item finger svelte-1vjb6uv"><span class="dot svelte-1vjb6uv"></span> Finger</div> <div class="legend-item shoulder svelte-1vjb6uv"><span class="dot svelte-1vjb6uv"></span> Shoulder</div> <div class="legend-item forearm svelte-1vjb6uv"><span class="dot svelte-1vjb6uv"></span> Forearm</div> <span class="legend-note">(0-5 Scale)</span>',s,l;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(r){e=d(r,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-s8a0lt"&&(e.innerHTML=t),this.h()},h(){i(e,"class","legend-row svelte-1vjb6uv")},m(r,u){F(r,e,u),l=!0},i(r){l||(r&&ke(()=>{l&&(s||(s=Fe(e,Re,{},!0)),s.run(1))}),l=!0)},o(r){r&&(s||(s=Fe(e,Re,{},!1)),s.run(0)),l=!1},d(r){r&&_(e),r&&s&&s.end()}}}function hl(n){let e,t="No results match your filters.";return{c(){e=v("div"),e.textContent=t,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1m70tcd"&&(e.textContent=t),this.h()},h(){i(e,"class","no-results svelte-1vjb6uv")},m(s,l){F(s,e,l)},d(s){s&&_(e)}}}function dl(n){let e,t,s,l,r,u,o,c,b=ue(n[15].filter(wl)),f=[];for(let h=0;h<b.length;h+=1)f[h]=vl($t(n,b,h));let m=ue(n[43].items),p=[];for(let h=0;h<m.length;h+=1)p[h]=kl(Zt(n,m,h));return{c(){e=v("div"),t=v("table"),s=v("thead"),l=v("tr");for(let h=0;h<f.length;h+=1)f[h].c();r=N(),u=v("tbody");for(let h=0;h<p.length;h+=1)p[h].c();this.h()},l(h){e=d(h,"DIV",{class:!0});var k=E(e);t=d(k,"TABLE",{class:!0});var g=E(t);s=d(g,"THEAD",{});var C=E(s);l=d(C,"TR",{});var I=E(l);for(let T=0;T<f.length;T+=1)f[T].l(I);I.forEach(_),C.forEach(_),r=j(g),u=d(g,"TBODY",{});var D=E(u);for(let T=0;T<p.length;T+=1)p[T].l(D);D.forEach(_),g.forEach(_),k.forEach(_),this.h()},h(){i(t,"class","details-table svelte-1vjb6uv"),i(e,"class","session-details svelte-1vjb6uv")},m(h,k){F(h,e,k),a(e,t),a(t,s),a(s,l);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(l,null);a(t,r),a(t,u);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(u,null);c=!0},p(h,k){if(k[0]&32768){b=ue(h[15].filter(wl));let g;for(g=0;g<b.length;g+=1){const C=$t(h,b,g);f[g]?f[g].p(C,k):(f[g]=vl(C),f[g].c(),f[g].m(l,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=b.length}if(k[0]&163840){m=ue(h[43].items);let g;for(g=0;g<m.length;g+=1){const C=Zt(h,m,g);p[g]?p[g].p(C,k):(p[g]=kl(C),p[g].c(),p[g].m(u,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=m.length}},i(h){c||(h&&ke(()=>{c&&(o||(o=Fe(e,Ye,{},!0)),o.run(1))}),c=!0)},o(h){h&&(o||(o=Fe(e,Ye,{},!1)),o.run(0)),c=!1},d(h){h&&_(e),He(f,h),He(p,h),h&&o&&o.end()}}}function vl(n){let e,t=n[49].label+"",s;return{c(){e=v("th"),s=ve(t),this.h()},l(l){e=d(l,"TH",{class:!0});var r=E(e);s=de(r,t),r.forEach(_),this.h()},h(){i(e,"class","svelte-1vjb6uv")},m(l,r){F(l,e,r),a(e,s)},p(l,r){r[0]&32768&&t!==(t=l[49].label+"")&&Be(s,t)},d(l){l&&_(e)}}}function Qs(n){let e=(n[46][n[49].key]||"-")+"",t;return{c(){t=ve(e)},l(s){t=de(s,e)},m(s,l){F(s,t,l)},p(s,l){l[0]&163840&&e!==(e=(s[46][s[49].key]||"-")+"")&&Be(t,e)},d(s){s&&_(t)}}}function Xs(n){let e,t,s=(n[46].route||n[46].name||"-")+"",l,r,u,o,c,b=n[46].grade&&_l(n),f=n[46].weight&&pl(n),m=(n[46].sets||n[46].reps)&&gl(n),p=n[46].notes&&bl(n);return{c(){e=v("div"),t=v("span"),l=ve(s),r=N(),b&&b.c(),u=N(),f&&f.c(),o=N(),m&&m.c(),c=N(),p&&p.c(),this.h()},l(h){e=d(h,"DIV",{class:!0});var k=E(e);t=d(k,"SPAN",{class:!0});var g=E(t);l=de(g,s),g.forEach(_),r=j(k),b&&b.l(k),u=j(k),f&&f.l(k),o=j(k),m&&m.l(k),c=j(k),p&&p.l(k),k.forEach(_),this.h()},h(){i(t,"class","ex-name svelte-1vjb6uv"),i(e,"class","exercise-row svelte-1vjb6uv")},m(h,k){F(h,e,k),a(e,t),a(t,l),a(e,r),b&&b.m(e,null),a(e,u),f&&f.m(e,null),a(e,o),m&&m.m(e,null),a(e,c),p&&p.m(e,null)},p(h,k){k[0]&131072&&s!==(s=(h[46].route||h[46].name||"-")+"")&&Be(l,s),h[46].grade?b?b.p(h,k):(b=_l(h),b.c(),b.m(e,u)):b&&(b.d(1),b=null),h[46].weight?f?f.p(h,k):(f=pl(h),f.c(),f.m(e,o)):f&&(f.d(1),f=null),h[46].sets||h[46].reps?m?m.p(h,k):(m=gl(h),m.c(),m.m(e,c)):m&&(m.d(1),m=null),h[46].notes?p?p.p(h,k):(p=bl(h),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(h){h&&_(e),b&&b.d(),f&&f.d(),m&&m.d(),p&&p.d()}}}function _l(n){let e,t=n[46].grade+"",s;return{c(){e=v("span"),s=ve(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=E(e);s=de(r,t),r.forEach(_),this.h()},h(){i(e,"class","ex-meta grade svelte-1vjb6uv")},m(l,r){F(l,e,r),a(e,s)},p(l,r){r[0]&131072&&t!==(t=l[46].grade+"")&&Be(s,t)},d(l){l&&_(e)}}}function pl(n){let e,t=n[46].weight+"",s,l;return{c(){e=v("span"),s=ve(t),l=ve("kg"),this.h()},l(r){e=d(r,"SPAN",{class:!0});var u=E(e);s=de(u,t),l=de(u,"kg"),u.forEach(_),this.h()},h(){i(e,"class","ex-meta weight svelte-1vjb6uv")},m(r,u){F(r,e,u),a(e,s),a(e,l)},p(r,u){u[0]&131072&&t!==(t=r[46].weight+"")&&Be(s,t)},d(r){r&&_(e)}}}function gl(n){let e,t=n[46].sets+"",s,l,r=n[46].reps+"",u;return{c(){e=v("span"),s=ve(t),l=ve("x"),u=ve(r),this.h()},l(o){e=d(o,"SPAN",{class:!0});var c=E(e);s=de(c,t),l=de(c,"x"),u=de(c,r),c.forEach(_),this.h()},h(){i(e,"class","ex-meta sets svelte-1vjb6uv")},m(o,c){F(o,e,c),a(e,s),a(e,l),a(e,u)},p(o,c){c[0]&131072&&t!==(t=o[46].sets+"")&&Be(s,t),c[0]&131072&&r!==(r=o[46].reps+"")&&Be(u,r)},d(o){o&&_(e)}}}function bl(n){let e,t=n[46].notes+"",s;return{c(){e=v("span"),s=ve(t),this.h()},l(l){e=d(l,"SPAN",{class:!0});var r=E(e);s=de(r,t),r.forEach(_),this.h()},h(){i(e,"class","ex-notes svelte-1vjb6uv")},m(l,r){F(l,e,r),a(e,s)},p(l,r){r[0]&131072&&t!==(t=l[46].notes+"")&&Be(s,t)},d(l){l&&_(e)}}}function ml(n){let e;function t(r,u){return r[49].isObject?Xs:Qs}let s=t(n),l=s(n);return{c(){e=v("td"),l.c(),this.h()},l(r){e=d(r,"TD",{class:!0});var u=E(e);l.l(u),u.forEach(_),this.h()},h(){i(e,"class","svelte-1vjb6uv")},m(r,u){F(r,e,u),l.m(e,null)},p(r,u){s===(s=t(r))&&l?l.p(r,u):(l.d(1),l=s(r),l&&(l.c(),l.m(e,null)))},d(r){r&&_(e),l.d()}}}function kl(n){let e,t,s=ue(n[15].filter(Tl)),l=[];for(let r=0;r<s.length;r+=1)l[r]=ml(xt(n,s,r));return{c(){e=v("tr");for(let r=0;r<l.length;r+=1)l[r].c();t=N()},l(r){e=d(r,"TR",{});var u=E(e);for(let o=0;o<l.length;o+=1)l[o].l(u);t=j(u),u.forEach(_)},m(r,u){F(r,e,u);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null);a(e,t)},p(r,u){if(u[0]&163840){s=ue(r[15].filter(Tl));let o;for(o=0;o<s.length;o+=1){const c=xt(r,s,o);l[o]?l[o].p(c,u):(l[o]=ml(c),l[o].c(),l[o].m(e,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=s.length}},d(r){r&&_(e),He(l,r)}}}function Cl(n,e){let t,s,l,r,u=yl(e[43].date)+"",o,c,b,f=e[43].location+"",m,p,h,k=e[43].session+"",g,C,I,D,T,S="FI",y,L,O=e[43].fingerLoad+"",w,B,P,Y,le="SH",ye,M,A=e[43].shoulderLoad+"",x,re,ee,ie,Z="FO",Le,_e,pe=e[43].forearmLoad+"",se,Pe,fe,he,we,Oe=e[8].has(e[43].key),J,$,W;function ge(){return e[42](e[43])}let te=Oe&&dl(e);return{key:n,first:null,c(){t=v("div"),s=v("button"),l=v("div"),r=v("span"),o=ve(u),c=N(),b=v("span"),m=ve(f),p=N(),h=v("span"),g=ve(k),C=N(),I=v("div"),D=v("div"),T=v("span"),T.textContent=S,y=N(),L=v("span"),w=ve(O),B=N(),P=v("div"),Y=v("span"),Y.textContent=le,ye=N(),M=v("span"),x=ve(A),re=N(),ee=v("div"),ie=v("span"),ie.textContent=Z,Le=N(),_e=v("span"),se=ve(pe),Pe=N(),fe=ft("svg"),he=ft("path"),we=N(),te&&te.c(),J=N(),this.h()},l(U){t=d(U,"DIV",{class:!0});var H=E(t);s=d(H,"BUTTON",{class:!0});var G=E(s);l=d(G,"DIV",{class:!0});var ae=E(l);r=d(ae,"SPAN",{class:!0});var Te=E(r);o=de(Te,u),Te.forEach(_),c=j(ae),b=d(ae,"SPAN",{class:!0});var oe=E(b);m=de(oe,f),oe.forEach(_),p=j(ae),h=d(ae,"SPAN",{class:!0});var Ae=E(h);g=de(Ae,k),Ae.forEach(_),ae.forEach(_),C=j(G),I=d(G,"DIV",{class:!0});var be=E(I);D=d(be,"DIV",{class:!0});var me=E(D);T=d(me,"SPAN",{class:!0,"data-svelte-h":!0}),z(T)!=="svelte-lon4bu"&&(T.textContent=S),y=j(me),L=d(me,"SPAN",{class:!0});var Me=E(L);w=de(Me,O),Me.forEach(_),me.forEach(_),B=j(be),P=d(be,"DIV",{class:!0});var De=E(P);Y=d(De,"SPAN",{class:!0,"data-svelte-h":!0}),z(Y)!=="svelte-ryswzs"&&(Y.textContent=le),ye=j(De),M=d(De,"SPAN",{class:!0});var ze=E(M);x=de(ze,A),ze.forEach(_),De.forEach(_),re=j(be),ee=d(be,"DIV",{class:!0});var je=E(ee);ie=d(je,"SPAN",{class:!0,"data-svelte-h":!0}),z(ie)!=="svelte-1q34mlw"&&(ie.textContent=Z),Le=j(je),_e=d(je,"SPAN",{class:!0});var R=E(_e);se=de(R,pe),R.forEach(_),je.forEach(_),Pe=j(be),fe=ut(be,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var X=E(fe);he=ut(X,"path",{d:!0}),E(he).forEach(_),X.forEach(_),be.forEach(_),G.forEach(_),we=j(H),te&&te.l(H),J=j(H),H.forEach(_),this.h()},h(){i(r,"class","date svelte-1vjb6uv"),i(b,"class","location svelte-1vjb6uv"),i(h,"class","tag svelte-1vjb6uv"),i(l,"class","session-info svelte-1vjb6uv"),i(T,"class","label svelte-1vjb6uv"),i(L,"class","val"),i(D,"class","load-pill finger svelte-1vjb6uv"),i(Y,"class","label svelte-1vjb6uv"),i(M,"class","val"),i(P,"class","load-pill shoulder svelte-1vjb6uv"),i(ie,"class","label svelte-1vjb6uv"),i(_e,"class","val"),i(ee,"class","load-pill forearm svelte-1vjb6uv"),i(he,"d","m6 9 6 6 6-6"),i(fe,"class","chevron svelte-1vjb6uv"),i(fe,"xmlns","http://www.w3.org/2000/svg"),i(fe,"width","20"),i(fe,"height","20"),i(fe,"viewBox","0 0 24 24"),i(fe,"fill","none"),i(fe,"stroke","currentColor"),i(fe,"stroke-width","2"),i(fe,"stroke-linecap","round"),i(fe,"stroke-linejoin","round"),i(I,"class","load-summary svelte-1vjb6uv"),i(s,"class","session-header svelte-1vjb6uv"),i(t,"class","session-card svelte-1vjb6uv"),Ke(t,"expanded",e[8].has(e[43].key)),this.first=t},m(U,H){F(U,t,H),a(t,s),a(s,l),a(l,r),a(r,o),a(l,c),a(l,b),a(b,m),a(l,p),a(l,h),a(h,g),a(s,C),a(s,I),a(I,D),a(D,T),a(D,y),a(D,L),a(L,w),a(I,B),a(I,P),a(P,Y),a(P,ye),a(P,M),a(M,x),a(I,re),a(I,ee),a(ee,ie),a(ee,Le),a(ee,_e),a(_e,se),a(I,Pe),a(I,fe),a(fe,he),a(t,we),te&&te.m(t,null),a(t,J),$||(W=q(s,"click",ge),$=!0)},p(U,H){e=U,H[0]&131072&&u!==(u=yl(e[43].date)+"")&&Be(o,u),H[0]&131072&&f!==(f=e[43].location+"")&&Be(m,f),H[0]&131072&&k!==(k=e[43].session+"")&&Be(g,k),H[0]&131072&&O!==(O=e[43].fingerLoad+"")&&Be(w,O),H[0]&131072&&A!==(A=e[43].shoulderLoad+"")&&Be(x,A),H[0]&131072&&pe!==(pe=e[43].forearmLoad+"")&&Be(se,pe),H[0]&131328&&(Oe=e[8].has(e[43].key)),Oe?te?(te.p(e,H),H[0]&131328&&ce(te,1)):(te=dl(e),te.c(),ce(te,1),te.m(t,J)):te&&(Ge(),Se(te,1,1,()=>{te=null}),qe()),H[0]&131328&&Ke(t,"expanded",e[8].has(e[43].key))},d(U){U&&_(t),te&&te.d(),$=!1,W()}}}function El(n){let e,t,s=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    Export to CSV`,l,r,u;return{c(){e=v("div"),t=v("button"),t.innerHTML=s,this.h()},l(o){e=d(o,"DIV",{class:!0});var c=E(e);t=d(c,"BUTTON",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-jjg4f9"&&(t.innerHTML=s),c.forEach(_),this.h()},h(){i(t,"class","export-btn svelte-1vjb6uv"),i(e,"class","footer-actions svelte-1vjb6uv")},m(o,c){F(o,e,c),a(e,t),r||(u=q(t,"click",n[25]),r=!0)},p:Ee,i(o){o&&(l||ke(()=>{l=Je(e,Re,{}),l.start()}))},o:Ee,d(o){o&&_(e),r=!1,u()}}}function Zs(n){let e,t,s,l,r,u,o,c=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>
                Filters`,b,f,m,p,h,k;function g(w,B){return w[6]?Us:Rs}let C=g(n),I=C(n),D=ue(n[19]),T=[];for(let w=0;w<D.length;w+=1)T[w]=nl(sl(n,D,w));let S=n[9]&&ol(n);function y(w,B){return w[6]?Js:w[7]?Ys:w[5].length===0?Ks:Ws}let L=y(n),O=L(n);return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("button"),I.c(),r=ve(`
                Fetch Data`),u=N(),o=v("button"),o.innerHTML=c,b=N(),f=v("select");for(let w=0;w<T.length;w+=1)T[w].c();m=N(),S&&S.c(),p=N(),O.c(),this.h()},l(w){e=d(w,"DIV",{class:!0});var B=E(e);t=d(B,"DIV",{class:!0});var P=E(t);s=d(P,"DIV",{class:!0});var Y=E(s);l=d(Y,"BUTTON",{class:!0,title:!0});var le=E(l);I.l(le),r=de(le,`
                Fetch Data`),le.forEach(_),u=j(Y),o=d(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-vw25g4"&&(o.innerHTML=c),b=j(Y),f=d(Y,"SELECT",{class:!0});var ye=E(f);for(let M=0;M<T.length;M+=1)T[M].l(ye);ye.forEach(_),Y.forEach(_),P.forEach(_),m=j(B),S&&S.l(B),p=j(B),O.l(B),B.forEach(_),this.h()},h(){i(l,"class","fetch-btn svelte-1vjb6uv"),l.disabled=n[6],i(l,"title","Fetch latest data"),i(o,"class","filter-toggle svelte-1vjb6uv"),Ke(o,"active",n[9]),i(f,"class","type-select svelte-1vjb6uv"),n[0]===void 0&&ke(()=>n[29].call(f)),i(s,"class","header-actions svelte-1vjb6uv"),i(t,"class","header-row svelte-1vjb6uv"),i(e,"class","view-container svelte-1vjb6uv")},m(w,B){F(w,e,B),a(e,t),a(t,s),a(s,l),I.m(l,null),a(l,r),a(s,u),a(s,o),a(s,b),a(s,f);for(let P=0;P<T.length;P+=1)T[P]&&T[P].m(f,null);Ie(f,n[0],!0),a(e,m),S&&S.m(e,null),a(e,p),O.m(e,null),h||(k=[q(l,"click",n[22]),q(o,"click",n[28]),q(f,"change",n[29])],h=!0)},p(w,B){if(C!==(C=g(w))&&(I.d(1),I=C(w),I&&(I.c(),I.m(l,r))),B[0]&64&&(l.disabled=w[6]),B[0]&512&&Ke(o,"active",w[9]),B[0]&524288){D=ue(w[19]);let P;for(P=0;P<D.length;P+=1){const Y=sl(w,D,P);T[P]?T[P].p(Y,B):(T[P]=nl(Y),T[P].c(),T[P].m(f,null))}for(;P<T.length;P+=1)T[P].d(1);T.length=D.length}B[0]&524289&&Ie(f,w[0]),w[9]?S?(S.p(w,B),B[0]&512&&ce(S,1)):(S=ol(w),S.c(),ce(S,1),S.m(e,p)):S&&(Ge(),Se(S,1,1,()=>{S=null}),qe()),L===(L=y(w))&&O?O.p(w,B):(O.d(1),O=L(w),O&&(O.c(),ce(O,1),O.m(e,null)))},i(w){ce(S),ce(O)},o(w){Se(S)},d(w){w&&_(e),I.d(),He(T,w),S&&S.d(),O.d(),h=!1,Xe(k)}}}const xs="https://get-log-825153765638.europe-west1.run.app";function $s(n,e,t,s,l,r){const u=n.filter(c=>{var b,f,m;if(e&&new Date(((b=c.date)==null?void 0:b.value)||c.date)<new Date(e))return!1;if(t){const p=new Date(t);if(p.setHours(23,59,59,999),new Date(((f=c.date)==null?void 0:f.value)||c.date)>p)return!1}return!(s&&c.location!==s||l&&c.session_type!==l||r&&((m=c.climbs)==null?void 0:m.grade)!==r)}),o={};return u.forEach(c=>{var p;const b=((p=c.date)==null?void 0:p.value)||c.date,m=`${new Date(b).toISOString().split("T")[0]}|${c.location}|${c.session_type}`;o[m]||(o[m]={key:m,date:c.date,location:c.location,session:c.session_type,fingerLoad:0,shoulderLoad:0,forearmLoad:0,items:[]}),o[m].fingerLoad=Math.max(o[m].fingerLoad,c.finger_load||0),o[m].shoulderLoad=Math.max(o[m].shoulderLoad,c.shoulder_load||0),o[m].forearmLoad=Math.max(o[m].forearmLoad,c.forearm_load||0),o[m].items.push(c.climbs)}),Object.values(o).sort((c,b)=>{const f=new Date(c.date.value||c.date);return new Date(b.date.value||b.date).getTime()-f.getTime()})}function yl(n){return n?new Date(n.value||n).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"2-digit"}):"-"}function en(n){switch(n){case"indoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Session"},{key:"climbs",label:"Data",isObject:!0}];case"fingerboard":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Hang",isObject:!0}];case"outdoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Routes",isObject:!0}];default:return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"}]}}const wl=n=>n.key!=="date"&&n.key!=="location"&&n.key!=="session_type",Tl=n=>n.key!=="date"&&n.key!=="location"&&n.key!=="session_type";function tn(n,e,t){let s,l,r,u,o;jl(n,wt,J=>t(27,o=J));let c="indoor",b=!1,f="",m=new Set;function p(J){m.has(J)?m.delete(J):m.add(J),t(8,m)}let h=!1,k="",g="",C="",I="",D="",T="",S="",y="",L="",O={startDate:"",endDate:"",location:"",session:"",grade:""};const w=[{id:"indoor",label:"Indoor Climb"},{id:"fingerboard",label:"Fingerboarding"},{id:"gym",label:"Gym Session"},{id:"outdoor",label:"Outdoor Climb"},{id:"other",label:"Other"}],B=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],P=["Strength","Endurance","Power","Recovery"];async function Y(){if(c){t(6,b=!0),t(7,f="");try{const J=Ol(ct),$=new URLSearchParams({type:c}),W=await fetch(`${xs}?${$.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${J}`}});if(!W.ok){const te=await W.text();throw new Error(te||"Failed to fetch data")}const ge=await W.json();Gl(c,ge)}catch(J){console.error("Fetch Error:",J),t(7,f=J.message||"An unknown error occurred")}finally{t(6,b=!1)}}}function le(){t(26,O={startDate:k,endDate:g,location:C,session:y,grade:L}),t(9,h=!1)}function ye(){t(10,k=""),t(11,g=""),t(12,C=""),t(13,y=""),t(14,L=""),le()}function M(){if(!s||s.length===0)return;const J=["date","location","session_type","finger_load","shoulder_load","forearm_load"],$=new Set;s.forEach(Te=>{Te.climbs&&Object.keys(Te.climbs).forEach(oe=>$.add(oe))});const W=Array.from($),ge=[...J,...W],te=[];te.push(ge.join(",")),s.forEach(Te=>{const oe=ge.map(Ae=>{let be;return J.includes(Ae)?be=Te[Ae]:be=Te.climbs?Te.climbs[Ae]:"",be&&typeof be=="object"&&be.value&&(be=be.value),`"${(be==null?"":String(be)).replace(/"/g,'""')}"`});te.push(oe.join(","))});const U=te.join(`
`),H=new Blob([U],{type:"text/csv;charset=utf-8;"}),G=URL.createObjectURL(H),ae=document.createElement("a");ae.setAttribute("href",G),ae.setAttribute("download",`training_data_${c}_${new Date().toISOString().split("T")[0]}.csv`),ae.style.visibility="hidden",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae)}Kl(()=>{});const A=()=>t(9,h=!h);function x(){c=We(this),t(0,c),t(19,w)}function re(){k=this.value,t(10,k)}function ee(){g=this.value,t(11,g)}function ie(){I=We(this),t(1,I)}const Z=()=>{t(3,T=""),t(2,D="")};function Le(){D=this.value,t(2,D)}function _e(){T=We(this),t(3,T),t(16,r),t(1,I)}const pe=()=>t(4,S="");function se(){S=this.value,t(4,S)}function Pe(){C=We(this),t(12,C),t(0,c),t(1,I),t(2,D),t(3,T),t(4,S),t(20,B)}function fe(){y=We(this),t(13,y),t(21,P)}function he(){y=We(this),t(13,y),t(21,P)}function we(){L=this.value,t(14,L)}const Oe=J=>p(J.key);return n.$$.update=()=>{if(n.$$.dirty[0]&134217729&&t(5,s=o[c]||[]),n.$$.dirty[0]&67108896&&t(17,l=$s(s,O.startDate,O.endDate,O.location,O.session,O.grade)),n.$$.dirty[0]&2&&t(16,r=Fl[I]||[]),n.$$.dirty[0]&31&&c==="outdoor"){const J=I==="Other"?D:I,$=T==="Other"?S:T;$?t(12,C=$):J?t(12,C=J):t(12,C="")}n.$$.dirty[0]&1&&t(15,u=en(c))},[c,I,D,T,S,s,b,f,m,h,k,g,C,y,L,u,r,l,p,w,B,P,Y,le,ye,M,O,o,A,x,re,ee,ie,Z,Le,_e,pe,se,Pe,fe,he,we,Oe]}class ln extends xe{constructor(e){super(),$e(this,e,tn,Zs,Ze,{},null,[-1,-1,-1])}}function sn(n){let e,t='<h2 class="svelte-dqa28t">Graph Data</h2> <div class="placeholder svelte-dqa28t"><p class="svelte-dqa28t">Visual progress charts and graphs will be displayed here.</p> <div class="empty-state svelte-dqa28t"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-line-chart"><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"></path></svg></div></div>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(s){e=d(s,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-r5xejk"&&(e.innerHTML=t),this.h()},h(){i(e,"class","tab-content svelte-dqa28t")},m(s,l){F(s,e,l)},p:Ee,i:Ee,o:Ee,d(s){s&&_(e)}}}class nn extends xe{constructor(e){super(),$e(this,e,null,sn,Ze,{})}}function Dl(n,e,t){const s=n.slice();return s[5]=e[t],s}function Ll(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg>',s,l;return{c(){e=v("button"),e.innerHTML=t,this.h()},l(r){e=d(r,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),z(e)!=="svelte-1y2odl3"&&(e.innerHTML=t),this.h()},h(){i(e,"class","logout-button svelte-xzza9f"),i(e,"title","Logout")},m(r,u){F(r,e,u),s||(l=q(e,"click",ns),s=!0)},d(r){r&&_(e),s=!1,l()}}}function on(n){let e,t,s;return t=new is({}),{c(){e=v("div"),dt(t.$$.fragment),this.h()},l(l){e=d(l,"DIV",{class:!0});var r=E(e);Et(t.$$.fragment,r),r.forEach(_),this.h()},h(){i(e,"class","content-container svelte-xzza9f")},m(l,r){F(l,e,r),vt(t,e,null),s=!0},p:Ee,i(l){s||(ce(t.$$.fragment,l),s=!0)},o(l){Se(t.$$.fragment,l),s=!1},d(l){l&&_(e),ht(t)}}}function rn(n){let e,t,s,l,r,u=ue(n[3]),o=[];for(let f=0;f<u.length;f+=1)o[f]=Il(Dl(n,u,f));var c=n[1].component;function b(f,m){return{}}return c&&(l=mt(c,b())),{c(){e=v("nav");for(let f=0;f<o.length;f+=1)o[f].c();t=N(),s=v("div"),l&&dt(l.$$.fragment),this.h()},l(f){e=d(f,"NAV",{class:!0});var m=E(e);for(let h=0;h<o.length;h+=1)o[h].l(m);m.forEach(_),t=j(f),s=d(f,"DIV",{class:!0});var p=E(s);l&&Et(l.$$.fragment,p),p.forEach(_),this.h()},h(){i(e,"class","tabs-nav svelte-xzza9f"),i(s,"class","content-container svelte-xzza9f")},m(f,m){F(f,e,m);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(e,null);F(f,t,m),F(f,s,m),l&&vt(l,s,null),r=!0},p(f,m){if(m&9){u=ue(f[3]);let p;for(p=0;p<u.length;p+=1){const h=Dl(f,u,p);o[p]?o[p].p(h,m):(o[p]=Il(h),o[p].c(),o[p].m(e,null))}for(;p<o.length;p+=1)o[p].d(1);o.length=u.length}if(m&2&&c!==(c=f[1].component)){if(l){Ge();const p=l;Se(p.$$.fragment,1,0,()=>{ht(p,1)}),qe()}c?(l=mt(c,b()),dt(l.$$.fragment),ce(l.$$.fragment,1),vt(l,s,null)):l=null}},i(f){r||(l&&ce(l.$$.fragment,f),r=!0)},o(f){l&&Se(l.$$.fragment,f),r=!1},d(f){f&&(_(e),_(t),_(s)),He(o,f),l&&ht(l)}}}function Il(n){let e,t=n[5].label+"",s,l,r,u;function o(){return n[4](n[5])}return{c(){e=v("button"),s=ve(t),l=N(),this.h()},l(c){e=d(c,"BUTTON",{class:!0});var b=E(e);s=de(b,t),l=j(b),b.forEach(_),this.h()},h(){i(e,"class","tab-button svelte-xzza9f"),Ke(e,"active",n[0]===n[5].id)},m(c,b){F(c,e,b),a(e,s),a(e,l),r||(u=q(e,"click",o),r=!0)},p(c,b){n=c,b&9&&Ke(e,"active",n[0]===n[5].id)},d(c){c&&_(e),r=!1,u()}}}function an(n){let e,t,s,l,r,u,o,c="Training Tracker",b,f,m,p,h;document.title=e="Training Tracker "+(n[2]?"- "+n[1].label:"(Locked)");let k=n[2]&&Ll();const g=[rn,on],C=[];function I(D,T){return D[2]?0:1}return m=I(n),p=C[m]=g[m](n),{c(){t=v("meta"),s=N(),l=v("main"),r=v("div"),u=v("header"),o=v("h1"),o.textContent=c,b=N(),k&&k.c(),f=N(),p.c(),this.h()},l(D){const T=xl("svelte-ggv3pg",document.head);t=d(T,"META",{name:!0,content:!0}),T.forEach(_),s=j(D),l=d(D,"MAIN",{});var S=E(l);r=d(S,"DIV",{class:!0});var y=E(r);u=d(y,"HEADER",{class:!0});var L=E(u);o=d(L,"H1",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-95sjtq"&&(o.textContent=c),b=j(L),k&&k.l(L),L.forEach(_),f=j(y),p.l(y),y.forEach(_),S.forEach(_),this.h()},h(){i(t,"name","description"),i(t,"content","A simple Svelte webapp for tracking training"),i(o,"class","svelte-xzza9f"),i(u,"class","svelte-xzza9f"),i(r,"class","app-container svelte-xzza9f")},m(D,T){a(document.head,t),F(D,s,T),F(D,l,T),a(l,r),a(r,u),a(u,o),a(u,b),k&&k.m(u,null),a(r,f),C[m].m(r,null),h=!0},p(D,[T]){(!h||T&6)&&e!==(e="Training Tracker "+(D[2]?"- "+D[1].label:"(Locked)"))&&(document.title=e),D[2]?k||(k=Ll(),k.c(),k.m(u,null)):k&&(k.d(1),k=null);let S=m;m=I(D),m===S?C[m].p(D,T):(Ge(),Se(C[S],1,1,()=>{C[S]=null}),qe(),p=C[m],p?p.p(D,T):(p=C[m]=g[m](D),p.c()),ce(p,1),p.m(r,null))},i(D){h||(ce(p),h=!0)},o(D){Se(p),h=!1},d(D){D&&(_(s),_(l)),_(t),k&&k.d(),C[m].d()}}}function cn(n,e,t){let s,l;jl(n,ct,c=>t(2,l=c));const r=[{id:"log",label:"Log Exercise",component:Ps},{id:"view",label:"View Data",component:ln},{id:"graph",label:"Graph Data",component:nn}];let u="log";const o=c=>t(0,u=c.id);return n.$$.update=()=>{n.$$.dirty&1&&t(1,s=r.find(c=>c.id===u))},[u,s,l,r,o]}class dn extends xe{constructor(e){super(),$e(this,e,cn,an,Ze,{})}}export{dn as component};
