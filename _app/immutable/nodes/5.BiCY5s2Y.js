import{f as n,a as i,c as Ke,t as jt}from"../chunks/DyQPh7qp.js";import{p as xt,c as a,s,k as e,aL as h,r as t,t as u,a as wt,z as v,b1 as Zt,f as Pe,ar as Ot,aM as ut,y as ot,o as $t,b9 as ta,e as la}from"../chunks/BqGvmHQq.js";import{d as gt,s as d}from"../chunks/sY9Eg0a2.js";import{i as c}from"../chunks/NlvVmrxM.js";import{h as st,r as Ve,i as Ee,j as je,p as va}from"../chunks/CSJSiKp5.js";import{b as Ie,a as Ft,c as ra,m as na,f as nt,u as aa,n as oa,o as da,p as sa,q as ca,r as _a,g as pa,t as ua,v as fa,w as ga,x as ma,y as ha}from"../chunks/C7zeNa-9.js";import{t as it,c as lt,D as Xt,g as ba,a as ya,E as xa}from"../chunks/BA87Vc-o.js";import{s as dt}from"../chunks/B0iMaRsR.js";import{p as Kt}from"../chunks/L2ghMvhc.js";var wa=n('<span class="chevron svelte-12crvy">‚ñ≤</span>'),ka=n('<span class="chevron svelte-12crvy">‚ñº</span>'),Sa=n('<div class="input-with-action svelte-12crvy"><input type="text" id="location-manual" placeholder="Custom location..." class="flat-left svelte-12crvy"/> <button type="button" class="action-btn flat-right svelte-12crvy" title="Back to list">‚úï</button></div>'),Ta=n("<option> </option>"),Da=n('<select id="location-filter" class="svelte-12crvy"><option>Any Location</option><!></select>'),qa=n("<option> </option>"),La=n("<option> </option>"),za=n('<div class="filter-body svelte-12crvy"><div class="filter-grid svelte-12crvy"><div class="filter-item svelte-12crvy"><label for="start-date" class="svelte-12crvy">Start Date</label> <input type="date" id="start-date" class="svelte-12crvy"/></div> <div class="filter-item svelte-12crvy"><label for="end-date" class="svelte-12crvy">End Date</label> <input type="date" id="end-date" class="svelte-12crvy"/></div> <div class="filter-item svelte-12crvy"><label for="location-filter" class="svelte-12crvy">Location</label> <!></div> <div class="filter-item svelte-12crvy"><label for="climbing-type-filter" class="svelte-12crvy">Climb Type</label> <select id="climbing-type-filter" class="svelte-12crvy"><option>Any Type</option><!></select></div> <div class="filter-item svelte-12crvy"><label for="session-type-filter" class="svelte-12crvy">Session Type</label> <select id="session-type-filter" class="svelte-12crvy"><option>Any Type</option><!></select></div> <div class="filter-item svelte-12crvy"><label for="grade-filter" class="svelte-12crvy">Grade (Exact)</label> <input type="text" id="grade-filter" placeholder="e.g. V4" class="svelte-12crvy"/></div></div> <div class="filter-actions svelte-12crvy"><button class="reset-btn svelte-12crvy">Reset Filters</button></div></div>'),Fa=n('<div class="filter-container svelte-12crvy"><button class="filter-header svelte-12crvy"><div class="header-content svelte-12crvy"><span class="icon svelte-12crvy">üîç</span> <span class="title svelte-12crvy">Filters</span> <!></div></button> <!></div>');function Ca(ze,_){xt(_,!0);const r=["Rockstar Swindon","Flashpoint Swindon","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","Other"],m=["Bouldering","Sport","Mixed"],q=["Projecting","Onsighting","Campusing","Repeaters"];let w=h(!1),f=h(""),T=h(""),y=h(""),M=h(""),re=h(""),Z=h(""),fe=h(!1);function R(){v(w,!e(w))}function Y(){v(f,""),v(T,""),v(y,""),v(M,""),v(fe,!1),v(re,""),v(Z,""),z()}function z(){_.onFilterParamsChange({startDate:e(f),endDate:e(T),location:e(y),climbingType:e(M),sessionType:e(re),grade:e(Z)})}function ve(){e(y)==="Other"?(v(fe,!0),v(y,"")):z()}function ie(){v(fe,!1),v(y,""),z()}var be=Fa(),$=a(be);$.__click=R;var ne=a($),ee=s(a(ne),4);{var ke=F=>{var le=wa();i(F,le)},Se=F=>{var le=ka();i(F,le)};c(ee,F=>{e(w)?F(ke):F(Se,!1)})}t(ne),t($);var N=s($,2);{var te=F=>{var le=za(),ae=a(le),se=a(ae),k=s(a(se),2);Ve(k),k.__change=z,t(se);var D=s(se,2),J=s(a(D),2);Ve(J),J.__change=z,t(D);var l=s(D,2),o=s(a(l),2);{var g=W=>{var G=Sa(),X=a(G);Ve(X),X.__input=z;var De=s(X,2);De.__click=ie,t(G),Ie(X,()=>e(y),qe=>v(y,qe)),i(W,G)},U=W=>{var G=Da();G.__change=ve;var X=a(G);X.value=X.__value="";var De=s(X);Ee(De,17,()=>r,je,(qe,ce)=>{var pe=Ta(),B=a(pe,!0);t(pe);var ue={};u(()=>{d(B,e(ce)),ue!==(ue=e(ce))&&(pe.value=(pe.__value=e(ce))??"")}),i(qe,pe)}),t(G),Ft(G,()=>e(y),qe=>v(y,qe)),i(W,G)};c(o,W=>{e(fe)?W(g):W(U,!1)})}t(l);var oe=s(l,2),Te=s(a(oe),2);Te.__change=z;var Le=a(Te);Le.value=Le.__value="";var V=s(Le);Ee(V,17,()=>m,je,(W,G)=>{var X=qa(),De=a(X,!0);t(X);var qe={};u(()=>{d(De,e(G)),qe!==(qe=e(G))&&(X.value=(X.__value=e(G))??"")}),i(W,X)}),t(Te),t(oe);var ye=s(oe,2),_e=s(a(ye),2);_e.__change=z;var Fe=a(_e);Fe.value=Fe.__value="";var S=s(Fe);Ee(S,17,()=>q,je,(W,G)=>{var X=La(),De=a(X,!0);t(X);var qe={};u(()=>{d(De,e(G)),qe!==(qe=e(G))&&(X.value=(X.__value=e(G))??"")}),i(W,X)}),t(_e),t(ye);var Q=s(ye,2),C=s(a(Q),2);Ve(C),C.__input=z,t(Q),t(ae);var me=s(ae,2),xe=a(me);xe.__click=Y,t(me),t(le),Ie(k,()=>e(f),W=>v(f,W)),Ie(J,()=>e(T),W=>v(T,W)),Ft(Te,()=>e(M),W=>v(M,W)),Ft(_e,()=>e(re),W=>v(re,W)),Ie(C,()=>e(Z),W=>v(Z,W)),it(3,le,()=>lt,()=>({duration:200})),i(F,le)};c(N,F=>{e(w)&&F(te)})}t(be),u(()=>st($,"aria-expanded",e(w))),i(ze,be),wt()}gt(["click","change","input"]);var Ea=n('<label class="type-toggle svelte-yz0xxt"><input type="checkbox"/> <span>Sport?</span></label>'),Ga=n("<option> </option>"),Na=n('<div class="edit-form svelte-yz0xxt"><div class="edit-row main svelte-yz0xxt"><input type="text" class="edit-input grade svelte-yz0xxt" placeholder="Grade"/> <input type="text" class="edit-input name svelte-yz0xxt" placeholder="Route Name"/> <!></div> <div class="edit-row meta svelte-yz0xxt"><select class="edit-select svelte-yz0xxt"></select> <div class="attempts-input-wrapper svelte-yz0xxt"><span>#</span> <input type="number" min="1" class="edit-input num svelte-yz0xxt"/></div></div> <div class="edit-row notes svelte-yz0xxt"><textarea class="edit-input notes-area svelte-yz0xxt" placeholder="Notes..."></textarea></div> <div class="edit-actions svelte-yz0xxt"><button class="action-btn cancel svelte-yz0xxt">Cancel</button> <button class="action-btn save svelte-yz0xxt">Save</button></div></div>'),ja=n('<span class="climb-type-tag svelte-yz0xxt"> </span>'),Oa=n('<span class="notes-preview svelte-yz0xxt"> </span>'),Aa=n('<span class="wall-tag svelte-yz0xxt"> </span>'),Ma=n('<span class="technique-tag svelte-yz0xxt"> </span>'),Pa=n('<span class="attempts-count svelte-yz0xxt"> </span>'),Ia=n('<div class="detail-row svelte-yz0xxt"><span class="label svelte-yz0xxt">Notes:</span> <p class="notes svelte-yz0xxt"> </p></div>'),Ba=n('<p class="empty-notes svelte-yz0xxt">No notes for this climb.</p>'),Ra=n('<div class="climb-details svelte-yz0xxt"><!> <div class="tags svelte-yz0xxt"><span class="tag type svelte-yz0xxt"> </span> <span class="tag attempt-text svelte-yz0xxt"> </span></div></div>'),Va=n('<div class="climb-header svelte-yz0xxt" role="button" tabindex="0"><div class="climb-main-info svelte-yz0xxt"><span> </span> <span class="climb-name svelte-yz0xxt"> </span> <!> <!> <!> <!></div> <div class="climb-meta svelte-yz0xxt"><span><span class="icon svelte-yz0xxt"> </span> <!></span> <button class="icon-btn edit-btn svelte-yz0xxt" aria-label="Edit climb" title="Edit climb">‚úé</button> <button class="icon-btn delete-btn svelte-yz0xxt" aria-label="Delete climb" title="Delete climb">üóëÔ∏è</button> <span class="chevron svelte-yz0xxt"> </span></div></div> <!>',1),Ua=n("<div><!></div>");function Wa(ze,_){xt(_,!0);let r=Kt(_,"showClimbType",3,!1),m=h(!1),q=h(!1),w=h(""),f=h(""),T=h(""),y=h(1),M=h(""),re=h(!1);function Z(){e(q)||v(m,!e(m))}function fe(N){N.stopPropagation(),_.onDelete()}function R(N){N.stopPropagation(),v(w,_.climb.name,!0),v(f,_.climb.grade,!0),v(T,_.climb.attemptType,!0),v(y,_.climb.attemptsNum,!0),v(M,_.climb.notes,!0),v(re,_.climb.isSport,!0),v(q,!0),v(m,!0)}function Y(N){N.stopPropagation(),v(q,!1)}function z(N){N.stopPropagation();const te={..._.climb,name:e(w),grade:e(f),attemptType:e(T),attemptsNum:e(y),notes:e(M),isSport:e(re)};_.onUpdate(te),v(q,!1)}function ve(){(e(T)==="Flash"||e(T)==="Onsight")&&v(y,1)}const ie={Flash:"‚ö°",Onsight:"üëÅÔ∏è",Redpoint:"üî¥",Dogged:"üõ†Ô∏è",DNF:"‚ùå"},be=["Flash","Onsight","Redpoint","Dogged","DNF"];var $=Ua();let ne;var ee=a($);{var ke=N=>{var te=Na(),F=a(te),le=a(F);Ve(le);var ae=s(le,2);Ve(ae);var se=s(ae,2);{var k=V=>{var ye=Ea(),_e=a(ye);Ve(_e),Ot(2),t(ye),ra(_e,()=>e(re),Fe=>v(re,Fe)),i(V,ye)};c(se,V=>{r()&&V(k)})}t(F);var D=s(F,2),J=a(D);J.__change=ve,Ee(J,21,()=>be,je,(V,ye)=>{var _e=Ga(),Fe=a(_e,!0);t(_e);var S={};u(()=>{d(Fe,e(ye)),S!==(S=e(ye))&&(_e.value=(_e.__value=e(ye))??"")}),i(V,_e)}),t(J);var l=s(J,2),o=s(a(l),2);Ve(o),t(l),t(D);var g=s(D,2),U=a(g);Zt(U),t(g);var oe=s(g,2),Te=a(oe);Te.__click=Y;var Le=s(Te,2);Le.__click=z,t(oe),t(te),u(()=>o.disabled=e(T)==="Flash"||e(T)==="Onsight"),Ie(le,()=>e(f),V=>v(f,V)),Ie(ae,()=>e(w),V=>v(w,V)),Ft(J,()=>e(T),V=>v(T,V)),Ie(o,()=>e(y),V=>v(y,V)),Ie(U,()=>e(M),V=>v(M,V)),i(N,te)},Se=N=>{var te=Va(),F=Pe(te);F.__click=Z,F.__keydown=ce=>(ce.key==="Enter"||ce.key===" ")&&Z();var le=a(F),ae=a(le);let se;var k=a(ae,!0);t(ae);var D=s(ae,2),J=a(D,!0);t(D);var l=s(D,2);{var o=ce=>{var pe=ja(),B=a(pe,!0);t(pe),u(()=>d(B,_.climb.isSport?"Sport":"Boulder")),i(ce,pe)};c(l,ce=>{r()&&ce(o)})}var g=s(l,2);{var U=ce=>{var pe=Oa(),B=a(pe);t(pe),u(()=>d(B,`- ${_.climb.notes??""}`)),i(ce,pe)};c(g,ce=>{!e(m)&&_.climb.notes&&ce(U)})}var oe=s(g,2);{var Te=ce=>{var pe=Aa(),B=a(pe,!0);t(pe),u(()=>d(B,_.climb.wall)),i(ce,pe)};c(oe,ce=>{_.climb.wall&&ce(Te)})}var Le=s(oe,2);{var V=ce=>{var pe=Ma(),B=a(pe,!0);t(pe),u(()=>d(B,_.climb.techniqueFocus)),i(ce,pe)};c(Le,ce=>{_.climb.techniqueFocus&&ce(V)})}t(le);var ye=s(le,2),_e=a(ye);let Fe;var S=a(_e),Q=a(S,!0);t(S);var C=s(S,2);{var me=ce=>{var pe=Pa(),B=a(pe,!0);t(pe),u(()=>d(B,_.climb.attemptsNum)),i(ce,pe)};c(C,ce=>{_.climb.attemptType!=="Flash"&&_.climb.attemptType!=="Onsight"&&ce(me)})}t(_e);var xe=s(_e,2);xe.__click=R;var W=s(xe,2);W.__click=fe;var G=s(W,2),X=a(G,!0);t(G),t(ye),t(F);var De=s(F,2);{var qe=ce=>{var pe=Ra(),B=a(pe);{var ue=b=>{var O=Ia(),Ce=s(a(O),2),Me=a(Ce,!0);t(Ce),t(O),u(()=>d(Me,_.climb.notes)),i(b,O)},ge=b=>{var O=Ba();i(b,O)};c(B,b=>{_.climb.notes?b(ue):b(ge,!1)})}var j=s(B,2),P=a(j),he=a(P,!0);t(P);var we=s(P,2),L=a(we,!0);t(we),t(j),t(pe),u(()=>{d(he,_.climb.isSport?"Sport":"Boulder"),d(L,_.climb.attemptType)}),it(3,pe,()=>lt,()=>({duration:150})),i(ce,pe)};c(De,ce=>{e(m)&&ce(qe)})}u(()=>{st(F,"aria-expanded",e(m)),se=dt(ae,1,"grade-badge svelte-yz0xxt",null,se,{sport:_.climb.isSport}),d(k,_.climb.grade),d(J,_.climb.name||"Unnamed Route"),Fe=dt(_e,1,"attempt-type svelte-yz0xxt",null,Fe,{flash:_.climb.attemptType==="Flash"}),d(Q,ie[_.climb.attemptType]||_.climb.attemptType),d(X,e(m)?"‚ñ≤":"‚ñº")}),i(N,te)};c(ee,N=>{e(q)?N(ke):N(Se,!1)})}t($),u(()=>ne=dt($,1,"climb-entry svelte-yz0xxt",null,ne,{expanded:e(m),editing:e(q)})),i(ze,$),wt()}gt(["change","click","keydown"]);var Ha=n('<span class="stat svelte-7vqogn"> </span>'),Ya=n('<span class="status-icon pending svelte-7vqogn" title="Waiting to sync">üîÑ</span>'),Ja=n('<span class="status-icon error svelte-7vqogn" title="Sync error">‚ö†Ô∏è</span>'),Za=n('<span class="chip svelte-7vqogn"> </span>'),Xa=n('<span class="text-none svelte-7vqogn">None</span>'),Ka=n('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Difficulty</span> <span class="value svelte-7vqogn"> </span></div>'),Qa=n('<span class="chip svelte-7vqogn"> </span>'),$a=n('<span class="text-none svelte-7vqogn">None</span>'),es=n('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Category</span> <div class="value-chips svelte-7vqogn"><!></div></div>'),ts=n('<span class="chip svelte-7vqogn"> </span>'),as=n('<span class="text-none svelte-7vqogn">None</span>'),ss=n('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Energy System</span> <div class="value-chips svelte-7vqogn"><!></div></div>'),rs=n('<span class="chip svelte-7vqogn"> </span>'),is=n('<span class="text-none svelte-7vqogn">None</span>'),ls=n('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Wall</span> <div class="value-chips svelte-7vqogn"><!></div></div>'),vs=n('<button class="icon-btn edit-notes-btn svelte-7vqogn" title="Edit Notes">‚úé</button>'),ns=n('<div class="edit-notes-area"><textarea placeholder="Add session notes..." rows="3" class="notes-editor svelte-7vqogn"></textarea> <div class="edit-actions svelte-7vqogn"><button class="cancel-btn svelte-7vqogn">Cancel</button> <button class="save-btn svelte-7vqogn"> </button></div></div>'),os=n('<p class="notes-text svelte-7vqogn"> </p>'),ds=n('<p class="notes-placeholder svelte-7vqogn">No notes.</p>'),cs=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Open Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),_s=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Crimp Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),ps=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Pinch Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),us=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Sloper Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),fs=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Jug Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),gs=n('<p class="no-climbs svelte-7vqogn">No climbs logged for this session.</p>'),ms=n('<div class="card-body svelte-7vqogn"><div class="details-grid svelte-7vqogn"><div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Training Type</span> <div class="value-chips svelte-7vqogn"><!></div></div> <!> <!> <!> <!></div> <div class="notes-container svelte-7vqogn"><div class="notes-header svelte-7vqogn"><span class="label svelte-7vqogn">Session Notes</span> <!></div> <!></div> <div class="metrics-container svelte-7vqogn"><div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Finger Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div> <div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Shoulder Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div> <div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Forearm Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div> <!> <!> <!> <!> <!></div> <div class="climbs-list svelte-7vqogn"><h4 class="svelte-7vqogn">Climbs</h4> <div class="climbs-container svelte-7vqogn"><!> <!></div></div></div>'),hs=n('<div><div class="card-header svelte-7vqogn" role="button" tabindex="0"><div class="header-main svelte-7vqogn"><div class="date-badge svelte-7vqogn"><span class="day svelte-7vqogn"> </span> <span class="month svelte-7vqogn"> </span> <span class="year svelte-7vqogn"> </span></div> <div class="session-info svelte-7vqogn"><div class="session-text svelte-7vqogn"><h3 class="location svelte-7vqogn"> </h3> <div class="session-meta svelte-7vqogn"><span class="type-tag svelte-7vqogn"> </span> <span class="stat svelte-7vqogn"> </span> <!></div></div> <div class="load-summary svelte-7vqogn"><div class="load-badge finger svelte-7vqogn"> </div> <div class="load-badge shoulder svelte-7vqogn"> </div> <div class="load-badge forearm svelte-7vqogn"> </div></div></div></div> <div class="header-actions"><div class="header-status svelte-7vqogn"><!></div>  <button class="btn-icon delete-session" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-7vqogn"> </span></div></div> <!> <!></div>');function bs(ze,_){xt(_,!0);let r=Kt(_,"session",7),m=h(!1),q=h(!1);function w(){v(m,!e(m))}function f(){v(q,!0)}async function T(){try{const j=await na(r().id);j.ok?(v(q,!1),_.onDelete()):(console.error("Failed to delete session:",j.error),alert("Failed to delete session: "+j.error))}catch(j){console.error("Exception deleting session:",j),alert("Error deleting session")}}function y(j){const P=[...r().climbs];P.splice(j,1),re(P),_.onDelete()}function M(j,P){const he=[...r().climbs];he[j]=P,re(he)}async function re(j){r().climbs=j;const P={date:r().date,time:r().time||"12:00",location:r().location,customLocation:r().customLocation,climbingType:r().climbingType,trainingTypes:r().trainingTypes||[],difficulty:r().difficulty,categories:r().categories||[],energySystems:r().energySystems||[],wallAngles:r().wallAngles||[],fingerLoad:r().fingerLoad,shoulderLoad:r().shoulderLoad,forearmLoad:r().forearmLoad,openGrip:r().openGrip,crimpGrip:r().crimpGrip,pinchGrip:r().pinchGrip,sloperGrip:r().sloperGrip,jugGrip:r().jugGrip,climbs:j};try{const he=await aa(r().id,P);he.ok||console.error("Failed to sync update:",he.error)}catch(he){console.error("Exception syncing update:",he)}}let Z=ut(()=>r().climbs?.length??0),fe=ut(()=>(r().climbs||[]).reduce((j,P)=>{const he=parseInt(P.grade.replace(/\D/g,""))||0,we=parseInt(j.replace(/\D/g,""))||0;return he>we?P.grade:j},"V0")),R=h(!1),Y=h(""),z=h(!1);function ve(){v(Y,r().notes||"",!0),v(R,!0)}function ie(){v(R,!1),v(Y,"")}async function be(){if(e(z))return;v(z,!0),r().notes=e(Y);const j={date:r().date,time:r().time||"12:00",location:r().location,customLocation:r().customLocation,climbingType:r().climbingType,trainingTypes:r().trainingTypes||[],difficulty:r().difficulty,categories:r().categories||[],energySystems:r().energySystems||[],wallAngles:r().wallAngles||[],fingerLoad:r().fingerLoad,shoulderLoad:r().shoulderLoad,forearmLoad:r().forearmLoad,openGrip:r().openGrip,crimpGrip:r().crimpGrip,pinchGrip:r().pinchGrip,sloperGrip:r().sloperGrip,jugGrip:r().jugGrip,climbs:r().climbs,notes:e(Y)};try{const P=await aa(r().id,j);P.ok||console.error("Failed to sync note update:",P.error)}catch(P){console.error("Exception syncing note update:",P)}v(R,!1),v(z,!1)}var $=hs();let ne;var ee=a($);ee.__click=w,ee.__keydown=j=>j.key==="Enter"&&w();var ke=a(ee),Se=a(ke),N=a(Se),te=a(N,!0);t(N);var F=s(N,2),le=a(F,!0);t(F);var ae=s(F,2),se=a(ae,!0);t(ae),t(Se);var k=s(Se,2),D=a(k),J=a(D),l=a(J,!0);t(J);var o=s(J,2),g=a(o),U=a(g,!0);t(g);var oe=s(g,2),Te=a(oe);t(oe);var Le=s(oe,2);{var V=j=>{var P=Ha(),he=a(P);t(P),u(()=>d(he,`Max: ${e(fe)??""}`)),i(j,P)};c(Le,j=>{e(Z)>0&&j(V)})}t(o),t(D);var ye=s(D,2),_e=a(ye),Fe=a(_e,!0);t(_e);var S=s(_e,2),Q=a(S,!0);t(S);var C=s(S,2),me=a(C,!0);t(C),t(ye),t(k),t(ke);var xe=s(ke,2),W=a(xe),G=a(W);{var X=j=>{var P=Ya();i(j,P)},De=j=>{var P=Ke(),he=Pe(P);{var we=L=>{var b=Ja();i(L,b)};c(he,L=>{r().syncStatus==="error"&&L(we)},!0)}i(j,P)};c(G,j=>{r().syncStatus==="pending"?j(X):j(De,!1)})}t(W);var qe=s(W,2);qe.__click=j=>{j.stopPropagation(),f()};var ce=s(qe,2),pe=a(ce,!0);t(ce),t(xe),t(ee);var B=s(ee,2);{var ue=j=>{var P=ms(),he=a(P),we=a(he),L=s(a(we),2),b=a(L);{var O=I=>{var A=Ke(),p=Pe(A);Ee(p,17,()=>r().trainingTypes,je,(x,E)=>{var K=Za(),H=a(K,!0);t(K),u(()=>d(H,e(E))),i(x,K)}),i(I,A)},Ce=I=>{var A=Xa();i(I,A)};c(b,I=>{r().trainingTypes&&r().trainingTypes.length>0&&!r().trainingTypes.includes("None")?I(O):I(Ce,!1)})}t(L),t(we);var Me=s(we,2);{var Oe=I=>{var A=Ka(),p=s(a(A),2),x=a(p,!0);t(p),t(A),u(()=>d(x,r().difficulty)),i(I,A)};c(Me,I=>{r().difficulty&&I(Oe)})}var Qe=s(Me,2);{var He=I=>{var A=es(),p=s(a(A),2),x=a(p);{var E=H=>{var de=Ke(),Ae=Pe(de);Ee(Ae,17,()=>r().categories,je,($e,Gt)=>{var pt=Qa(),Nt=a(pt,!0);t(pt),u(()=>d(Nt,e(Gt))),i($e,pt)}),i(H,de)},K=H=>{var de=$a();i(H,de)};c(x,H=>{r().categories.length>0&&!r().categories.includes("None")?H(E):H(K,!1)})}t(p),t(A),i(I,A)};c(Qe,I=>{r().categories?.length&&I(He)})}var Ye=s(Qe,2);{var Dt=I=>{var A=ss(),p=s(a(A),2),x=a(p);{var E=H=>{var de=Ke(),Ae=Pe(de);Ee(Ae,17,()=>r().energySystems,je,($e,Gt)=>{var pt=ts(),Nt=a(pt,!0);t(pt),u(()=>d(Nt,e(Gt))),i($e,pt)}),i(H,de)},K=H=>{var de=as();i(H,de)};c(x,H=>{r().energySystems.length>0&&!r().energySystems.includes("None")?H(E):H(K,!1)})}t(p),t(A),i(I,A)};c(Ye,I=>{r().energySystems?.length&&I(Dt)})}var mt=s(Ye,2);{var qt=I=>{var A=ls(),p=s(a(A),2),x=a(p);{var E=H=>{var de=Ke(),Ae=Pe(de);Ee(Ae,17,()=>r().wallAngles,je,($e,Gt)=>{var pt=rs(),Nt=a(pt,!0);t(pt),u(()=>d(Nt,e(Gt))),i($e,pt)}),i(H,de)},K=H=>{var de=is();i(H,de)};c(x,H=>{r().wallAngles.length>0&&!r().wallAngles.includes("None")?H(E):H(K,!1)})}t(p),t(A),i(I,A)};c(mt,I=>{r().wallAngles?.length&&I(qt)})}t(he);var ht=s(he,2),Lt=a(ht),kt=s(a(Lt),2);{var vt=I=>{var A=vs();A.__click=ve,i(I,A)};c(kt,I=>{e(R)||I(vt)})}t(Lt);var Je=s(Lt,2);{var Be=I=>{var A=ns(),p=a(A);Zt(p);var x=s(p,2),E=a(x);E.__click=ie;var K=s(E,2);K.__click=be;var H=a(K,!0);t(K),t(x),t(A),u(()=>{E.disabled=e(z),K.disabled=e(z),d(H,e(z)?"Saving...":"Save")}),Ie(p,()=>e(Y),de=>v(Y,de)),it(3,A,()=>lt,()=>({duration:150})),i(I,A)},ft=I=>{var A=Ke(),p=Pe(A);{var x=K=>{var H=os(),de=a(H,!0);t(H),u(()=>d(de,r().notes)),i(K,H)},E=K=>{var H=ds();i(K,H)};c(p,K=>{r().notes?K(x):K(E,!1)},!0)}i(I,A)};c(Je,I=>{e(R)?I(Be):I(ft,!1)})}t(ht);var et=s(ht,2),bt=a(et),tt=s(a(bt),2),Ge=a(tt);t(tt);var Ne=s(tt,2),Ze=a(Ne);t(Ne),t(bt);var Ue=s(bt,2),at=s(a(Ue),2),Re=a(at);t(at);var We=s(at,2),ct=a(We);t(We),t(Ue);var St=s(Ue,2),Tt=s(a(St),2),zt=a(Tt);t(Tt);var Xe=s(Tt,2),rt=a(Xe);t(Xe),t(St);var yt=s(St,2);{var Pt=I=>{var A=cs(),p=s(a(A),2),x=a(p);t(p);var E=s(p,2),K=a(E);t(E),t(A),u(()=>{nt(x,`width: ${r().openGrip/5*100}%`),d(K,`${r().openGrip??""}/5`)}),i(I,A)};c(yt,I=>{r().openGrip&&I(Pt)})}var _t=s(yt,2);{var Vt=I=>{var A=_s(),p=s(a(A),2),x=a(p);t(p);var E=s(p,2),K=a(E);t(E),t(A),u(()=>{nt(x,`width: ${r().crimpGrip/5*100}%`),d(K,`${r().crimpGrip??""}/5`)}),i(I,A)};c(_t,I=>{r().crimpGrip&&I(Vt)})}var Ct=s(_t,2);{var It=I=>{var A=ps(),p=s(a(A),2),x=a(p);t(p);var E=s(p,2),K=a(E);t(E),t(A),u(()=>{nt(x,`width: ${r().pinchGrip/5*100}%`),d(K,`${r().pinchGrip??""}/5`)}),i(I,A)};c(Ct,I=>{r().pinchGrip&&I(It)})}var Et=s(Ct,2);{var Yt=I=>{var A=us(),p=s(a(A),2),x=a(p);t(p);var E=s(p,2),K=a(E);t(E),t(A),u(()=>{nt(x,`width: ${r().sloperGrip/5*100}%`),d(K,`${r().sloperGrip??""}/5`)}),i(I,A)};c(Et,I=>{r().sloperGrip&&I(Yt)})}var Ut=s(Et,2);{var Jt=I=>{var A=fs(),p=s(a(A),2),x=a(p);t(p);var E=s(p,2),K=a(E);t(E),t(A),u(()=>{nt(x,`width: ${r().jugGrip/5*100}%`),d(K,`${r().jugGrip??""}/5`)}),i(I,A)};c(Ut,I=>{r().jugGrip&&I(Jt)})}t(et);var Bt=s(et,2),At=s(a(Bt),2),Mt=a(At);Ee(Mt,17,()=>r().climbs||[],je,(I,A,p)=>{{let x=ut(()=>r().climbingType==="Mixed");Wa(I,{get climb(){return e(A)},onDelete:()=>y(p),onUpdate:E=>M(p,E),get showClimbType(){return e(x)}})}});var Wt=s(Mt,2);{var Ht=I=>{var A=gs();i(I,A)};c(Wt,I=>{(r().climbs||[]).length===0&&I(Ht)})}t(At),t(Bt),t(P),u(()=>{nt(Ge,`width: ${r().fingerLoad/5*100}%`),d(Ze,`${r().fingerLoad??""}/5`),nt(Re,`width: ${r().shoulderLoad/5*100}%`),d(ct,`${r().shoulderLoad??""}/5`),nt(zt,`width: ${r().forearmLoad/5*100}%`),d(rt,`${r().forearmLoad??""}/5`)}),it(3,P,()=>lt,()=>({duration:150})),i(j,P)};c(B,j=>{e(m)&&j(ue)})}var ge=s(B,2);Xt(ge,{get isOpen(){return e(q)},title:"Delete Session",message:"Are you sure you want to delete this session? This action cannot be undone.",onConfirm:T,onCancel:()=>v(q,!1)}),t($),u((j,P,he)=>{ne=dt($,1,"session-card svelte-7vqogn",null,ne,{expanded:e(m)}),st(ee,"aria-expanded",e(m)),d(te,j),d(le,P),d(se,he),d(l,r().location),d(U,r().climbingType),d(Te,`${e(Z)??""} climbs`),st(_e,"title",`Finger Load: ${r().fingerLoad??""}`),d(Fe,r().fingerLoad),st(S,"title",`Shoulder Load: ${r().shoulderLoad??""}`),d(Q,r().shoulderLoad),st(C,"title",`Forearm Load: ${r().forearmLoad??""}`),d(me,r().forearmLoad),d(pe,e(m)?"‚ñ≤":"‚ñº")},[()=>new Date(r().date).getDate(),()=>new Date(r().date).toLocaleDateString("en-GB",{month:"short"}),()=>new Date(r().date).getFullYear()]),i(ze,$),wt()}gt(["click","keydown"]);var ys=n('<div class="legend-item svelte-11p9lqi"><span class="l-icon svelte-11p9lqi"> </span> <span class="l-label svelte-11p9lqi"> </span></div>'),xs=n('<div class="legend-content svelte-11p9lqi"><div class="legend-grid svelte-11p9lqi"></div></div>'),ws=n('<div class="legend-container svelte-11p9lqi"><button class="legend-toggle svelte-11p9lqi"><span class="icon">‚ÑπÔ∏è</span> <span class="text">Icon Legend</span> <span class="chevron svelte-11p9lqi"> </span></button> <!></div>');function ia(ze){let _=h(!1);const r=[{icon:"üëÅÔ∏è",label:"Onsight"},{icon:"‚ö°",label:"Flash"},{icon:"üî¥",label:"Redpoint"},{icon:"üõ†Ô∏è",label:"Dogged"},{icon:"‚ùå",label:"DNF"}];var m=ws(),q=a(m);q.__click=()=>v(_,!e(_));var w=s(a(q),4),f=a(w,!0);t(w),t(q);var T=s(q,2);{var y=M=>{var re=xs(),Z=a(re);Ee(Z,21,()=>r,je,(fe,R)=>{var Y=ys(),z=a(Y),ve=a(z,!0);t(z);var ie=s(z,2),be=a(ie,!0);t(ie),t(Y),u(()=>{d(ve,e(R).icon),d(be,e(R).label)}),i(fe,Y)}),t(Z),t(re),it(3,re,()=>lt),i(M,re)};c(T,M=>{e(_)&&M(y)})}t(m),u(()=>{st(q,"aria-expanded",e(_)),d(f,e(_)?"‚ñº":"‚ñ∂")}),i(ze,m)}gt(["click"]);function ea(ze,_){if(!ze||ze.length===0){alert("No data to export");return}const r=Array.from(new Set(ze.flatMap(Object.keys))),m=[r.join(","),...ze.map(f=>r.map(T=>{let y=f[T];if(y==null)return"";if(typeof y=="object"){if(y instanceof Date)return y.toISOString();y=JSON.stringify(y).replace(/"/g,'""')}else typeof y=="string"&&(y=y.replace(/"/g,'""'));return typeof y=="string"&&(y.includes(",")||y.includes('"')||y.includes(`
`))?`"${y}"`:y}).join(","))].join(`
`),q=new Blob([m],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a");if(w.download!==void 0){const f=URL.createObjectURL(q);w.setAttribute("href",f),w.setAttribute("download",_.endsWith(".csv")?_:`${_}.csv`),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w)}}var ks=n('<span class="spinner svelte-14fqz8w"></span> Fetching...',1),Ss=n('<div class="error-banner svelte-14fqz8w"> </div>'),Ts=n('<small class="svelte-14fqz8w">Try adjusting your filters.</small>'),Ds=n('<div class="empty-state svelte-14fqz8w"><p class="svelte-14fqz8w">No indoor climbing sessions found.</p> <!></div>'),qs=n('<div class="load-more-container svelte-14fqz8w"><button class="load-more-btn svelte-14fqz8w"> </button></div>'),Ls=n('<div class="view-container svelte-14fqz8w"><div class="view-header svelte-14fqz8w"><h2 class="view-title svelte-14fqz8w">üßó Indoor Climbing History</h2> <div class="header-actions svelte-14fqz8w"><button class="action-btn secondary svelte-14fqz8w" title="Export filtered data to CSV">üì• Export</button> <button class="action-btn svelte-14fqz8w" title="Fetch data from cloud"><!></button></div></div> <!> <!> <div class="info-bar svelte-14fqz8w"><div class="legend-wrapper svelte-14fqz8w"><!></div> <div class="load-key svelte-14fqz8w"><span class="key-label svelte-14fqz8w">Load:</span> <div class="key-item svelte-14fqz8w"><span class="dot finger svelte-14fqz8w"></span> Finger</div> <div class="key-item svelte-14fqz8w"><span class="dot shoulder svelte-14fqz8w"></span> Shoulder</div> <div class="key-item svelte-14fqz8w"><span class="dot forearm svelte-14fqz8w"></span> Forearm</div></div></div> <div class="sessions-list"><!> <!> <!></div></div>');function zs(ze,_){xt(_,!0);let r=h(ot([])),m=h(ot([])),q=h(!1),w=h(""),f=h(ot({startDate:"",endDate:"",location:"",climbingType:"",sessionType:"",grade:""})),T=h(20);const y=20;$t(()=>{M()});async function M(){v(q,!0),v(w,"");try{const l=await oa();l.ok&&l.data?(v(r,l.data.map(o=>({...o,activityType:"indoor_climb"})),!0),e(r).sort((o,g)=>new Date(g.date).getTime()-new Date(o.date).getTime()),Z()):v(w,l.error||"Failed to fetch data",!0)}catch(l){v(w,l instanceof Error?l.message:"Unknown error",!0)}finally{v(q,!1)}}function re(l){v(f,l,!0),Z()}function Z(){v(T,y),v(m,e(r).filter(l=>{if(e(f).startDate&&l.date<e(f).startDate||e(f).endDate&&l.date>e(f).endDate||e(f).location&&l.location!==e(f).location)return!1;if(e(f).climbingType&&(l.climbingType==="Leading"?"Sport":l.climbingType)!==e(f).climbingType)if(l.climbingType==="Mixed")if(e(f).climbingType==="Bouldering"){if(!l.climbs.some(g=>!g.isSport))return!1}else if(e(f).climbingType==="Sport"){if(!l.climbs.some(g=>g.isSport))return!1}else return!1;else return!1;if(e(f).sessionType&&!l.trainingTypes?.includes(e(f).sessionType))return!1;if(e(f).grade){const o=e(f).grade.trim().toLowerCase();if(!l.climbs.some(U=>U.grade.trim().toLowerCase()===o))return!1}return!0}),!0)}function fe(){v(T,e(T)+y)}var R=Ls(),Y=a(R),z=s(a(Y),2),ve=a(z);ve.__click=()=>ea(e(m),"indoor_climbs");var ie=s(ve,2);ie.__click=M;var be=a(ie);{var $=l=>{var o=ks();Ot(),i(l,o)},ne=l=>{var o=jt("‚òÅÔ∏è Fetch Data");i(l,o)};c(be,l=>{e(q)?l($):l(ne,!1)})}t(ie),t(z),t(Y);var ee=s(Y,2);{var ke=l=>{var o=Ss(),g=a(o,!0);t(o),u(()=>d(g,e(w))),it(3,o,()=>lt),i(l,o)};c(ee,l=>{e(w)&&l(ke)})}var Se=s(ee,2);Ca(Se,{onFilterParamsChange:re});var N=s(Se,2),te=a(N),F=a(te);ia(F),t(te),Ot(2),t(N);var le=s(N,2),ae=a(le);Ee(ae,17,()=>e(m).slice(0,e(T)),l=>l.id,(l,o)=>{bs(l,{get session(){return e(o)},onDelete:M})});var se=s(ae,2);{var k=l=>{var o=Ds(),g=s(a(o),2);{var U=oe=>{var Te=Ts();i(oe,Te)};c(g,oe=>{e(r).length>0&&oe(U)})}t(o),i(l,o)};c(se,l=>{e(m).length===0&&l(k)})}var D=s(se,2);{var J=l=>{var o=qs(),g=a(o);g.__click=fe;var U=a(g);t(g),t(o),u(()=>d(U,`Load More (${e(m).length-e(T)} remaining)`)),i(l,o)};c(D,l=>{e(T)<e(m).length&&l(J)})}t(le),t(R),u(()=>ie.disabled=e(q)),i(ze,R),wt()}gt(["click"]);var Fs=n('<span class="chevron svelte-1frtlim">‚ñ≤</span>'),Cs=n('<span class="chevron svelte-1frtlim">‚ñº</span>'),Es=n('<div class="input-with-action svelte-1frtlim"><input type="text" id="area-filter-text" placeholder="Type area name..." class="flat-left svelte-1frtlim"/> <button class="action-btn flat-right svelte-1frtlim" title="Back to list">‚úï</button></div>'),Gs=n("<option> </option>"),Ns=n('<select id="area-filter" class="svelte-1frtlim"><option>All Areas</option><!><option>Other (Manual Entry)</option></select>'),js=n('<div class="input-with-action svelte-1frtlim"><input type="text" id="crag-filter-text" placeholder="Type crag name..." class="flat-left svelte-1frtlim"/> <button class="action-btn flat-right svelte-1frtlim" title="Back to list">‚úï</button></div>'),Os=n("<option> </option>"),As=n('<select id="crag-filter" class="svelte-1frtlim"><option>All Crags</option><!><option>Other (Manual Entry)</option></select>'),Ms=n('<input type="text" id="crag-filter-text" class="svelte-1frtlim"/>'),Ps=n("<option> </option>"),Is=n("<option> </option>"),Bs=n('<div class="filter-body svelte-1frtlim"><div class="filter-grid svelte-1frtlim"><div class="filter-item svelte-1frtlim"><label for="start-date" class="svelte-1frtlim">Start Date</label> <input type="date" id="start-date" class="svelte-1frtlim"/></div> <div class="filter-item svelte-1frtlim"><label for="end-date" class="svelte-1frtlim">End Date</label> <input type="date" id="end-date" class="svelte-1frtlim"/></div> <div class="filter-item svelte-1frtlim"><label for="area-filter" class="svelte-1frtlim">Area</label> <!></div> <div class="filter-item svelte-1frtlim"><label for="crag-filter" class="svelte-1frtlim">Crag</label> <!></div> <div class="filter-item svelte-1frtlim"><label for="climbing-type-filter" class="svelte-1frtlim">Climb Type</label> <select id="climbing-type-filter" class="svelte-1frtlim"><option>Any Type</option><!></select></div> <div class="filter-item svelte-1frtlim"><label for="session-type-filter" class="svelte-1frtlim">Session Type</label> <select id="session-type-filter" class="svelte-1frtlim"><option>Any Type</option><!></select></div> <div class="filter-item svelte-1frtlim"><label for="grade-filter" class="svelte-1frtlim">Grade (Exact)</label> <input type="text" id="grade-filter" placeholder="e.g. 7a" class="svelte-1frtlim"/></div></div> <div class="filter-actions svelte-1frtlim"><button class="reset-btn svelte-1frtlim">Reset Filters</button></div></div>'),Rs=n('<div class="filter-container svelte-1frtlim"><button class="filter-header svelte-1frtlim"><div class="header-content svelte-1frtlim"><span class="icon svelte-1frtlim">üîç</span> <span class="title svelte-1frtlim">Filters</span> <!></div></button> <!></div>');function Vs(ze,_){xt(_,!0);const r=ba(),m=["Bouldering","Sport","Mixed","Trad"],q=["Projecting","Onsighting","Campusing","Repeaters","Fun","Volume"];let w=h(!1),f=h(""),T=h(""),y=h(""),M=h(""),re=h(""),Z=h(""),fe=h(""),R=h(!1),Y=h(!1),z=ut(()=>e(y)&&e(y)!=="Other"?ya(e(y)):[]);function ve(){e(y)==="Other"?(v(R,!0),v(y,"")):v(R,!1),v(M,""),v(Y,!1),ne()}function ie(){e(M)==="Other"?(v(Y,!0),v(M,"")):v(Y,!1),ne()}function be(){v(w,!e(w))}function $(){v(f,""),v(T,""),v(y,""),v(M,""),v(re,""),v(Z,""),v(fe,""),v(R,!1),v(Y,!1),ne()}function ne(){_.onFilterParamsChange({startDate:e(f),endDate:e(T),area:e(y),crag:e(M),climbingType:e(re),sessionType:e(Z),grade:e(fe)})}var ee=Rs(),ke=a(ee);ke.__click=be;var Se=a(ke),N=s(a(Se),4);{var te=se=>{var k=Fs();i(se,k)},F=se=>{var k=Cs();i(se,k)};c(N,se=>{e(w)?se(te):se(F,!1)})}t(Se),t(ke);var le=s(ke,2);{var ae=se=>{var k=Bs(),D=a(k),J=a(D),l=s(a(J),2);Ve(l),l.__change=ne,t(J);var o=s(J,2),g=s(a(o),2);Ve(g),g.__change=ne,t(o);var U=s(o,2),oe=s(a(U),2);{var Te=B=>{var ue=Es(),ge=a(ue);Ve(ge),ge.__input=ne;var j=s(ge,2);j.__click=()=>{v(R,!1),v(y,""),ne()},t(ue),Ie(ge,()=>e(y),P=>v(y,P)),i(B,ue)},Le=B=>{var ue=Ns();ue.__change=ve;var ge=a(ue);ge.value=ge.__value="";var j=s(ge);Ee(j,17,()=>r,je,(he,we)=>{var L=Gs(),b=a(L,!0);t(L);var O={};u(()=>{d(b,e(we)),O!==(O=e(we))&&(L.value=(L.__value=e(we))??"")}),i(he,L)});var P=s(j);P.value=P.__value="Other",t(ue),Ft(ue,()=>e(y),he=>v(y,he)),i(B,ue)};c(oe,B=>{e(R)?B(Te):B(Le,!1)})}t(U);var V=s(U,2),ye=s(a(V),2);{var _e=B=>{var ue=js(),ge=a(ue);Ve(ge),ge.__input=ne;var j=s(ge,2);j.__click=()=>{v(Y,!1),v(M,""),ne()},t(ue),Ie(ge,()=>e(M),P=>v(M,P)),i(B,ue)},Fe=B=>{var ue=Ke(),ge=Pe(ue);{var j=he=>{var we=As();we.__change=ie;var L=a(we);L.value=L.__value="";var b=s(L);Ee(b,17,()=>e(z),je,(Ce,Me)=>{var Oe=Os(),Qe=a(Oe,!0);t(Oe);var He={};u(()=>{d(Qe,e(Me)),He!==(He=e(Me))&&(Oe.value=(Oe.__value=e(Me))??"")}),i(Ce,Oe)});var O=s(b);O.value=O.__value="Other",t(we),Ft(we,()=>e(M),Ce=>v(M,Ce)),i(he,we)},P=he=>{var we=Ms();Ve(we),we.__input=ne,u(()=>{st(we,"placeholder",e(y)?"Filter crag...":"Select area first"),we.disabled=!e(R)&&!e(y)}),Ie(we,()=>e(M),L=>v(M,L)),i(he,we)};c(ge,he=>{!e(R)&&e(y)&&e(z).length>0?he(j):he(P,!1)},!0)}i(B,ue)};c(ye,B=>{e(Y)?B(_e):B(Fe,!1)})}t(V);var S=s(V,2),Q=s(a(S),2);Q.__change=ne;var C=a(Q);C.value=C.__value="";var me=s(C);Ee(me,17,()=>m,je,(B,ue)=>{var ge=Ps(),j=a(ge,!0);t(ge);var P={};u(()=>{d(j,e(ue)),P!==(P=e(ue))&&(ge.value=(ge.__value=e(ue))??"")}),i(B,ge)}),t(Q),t(S);var xe=s(S,2),W=s(a(xe),2);W.__change=ne;var G=a(W);G.value=G.__value="";var X=s(G);Ee(X,17,()=>q,je,(B,ue)=>{var ge=Is(),j=a(ge,!0);t(ge);var P={};u(()=>{d(j,e(ue)),P!==(P=e(ue))&&(ge.value=(ge.__value=e(ue))??"")}),i(B,ge)}),t(W),t(xe);var De=s(xe,2),qe=s(a(De),2);Ve(qe),qe.__input=ne,t(De),t(D);var ce=s(D,2),pe=a(ce);pe.__click=$,t(ce),t(k),Ie(l,()=>e(f),B=>v(f,B)),Ie(g,()=>e(T),B=>v(T,B)),Ft(Q,()=>e(re),B=>v(re,B)),Ft(W,()=>e(Z),B=>v(Z,B)),Ie(qe,()=>e(fe),B=>v(fe,B)),it(3,k,()=>lt,()=>({duration:200})),i(se,k)};c(le,se=>{e(w)&&se(ae)})}t(ee),u(()=>st(ke,"aria-expanded",e(w))),i(ze,ee),wt()}gt(["click","change","input"]);var Us=n('<label class="type-toggle svelte-1k6anfh"><input type="checkbox"/> <span>Sport?</span></label>'),Ws=n("<option> </option>"),Hs=n('<div class="edit-form svelte-1k6anfh"><div class="edit-row main svelte-1k6anfh"><input type="text" class="edit-input grade svelte-1k6anfh" placeholder="Grade"/> <input type="text" class="edit-input name svelte-1k6anfh" placeholder="Route Name"/> <!></div> <div class="edit-row meta svelte-1k6anfh"><select class="edit-select svelte-1k6anfh"></select> <div class="attempts-input-wrapper svelte-1k6anfh"><span>#</span> <input type="number" min="1" class="edit-input num svelte-1k6anfh"/></div></div> <div class="edit-row notes svelte-1k6anfh"><textarea class="edit-input notes-area svelte-1k6anfh" placeholder="Notes..."></textarea></div> <div class="edit-actions svelte-1k6anfh"><button class="action-btn cancel svelte-1k6anfh">Cancel</button> <button class="action-btn save svelte-1k6anfh">Save</button></div></div>'),Ys=n('<span class="climb-type-tag svelte-1k6anfh"> </span>'),Js=n('<span class="notes-preview svelte-1k6anfh"> </span>'),Zs=n('<span class="attempts-count svelte-1k6anfh"> </span>'),Xs=n('<div class="detail-row svelte-1k6anfh"><span class="label svelte-1k6anfh">Notes:</span> <p class="notes svelte-1k6anfh"> </p></div>'),Ks=n('<p class="empty-notes svelte-1k6anfh">No notes for this climb.</p>'),Qs=n('<span class="tag wall-tag svelte-1k6anfh"> </span>'),$s=n('<span class="tag technique-tag svelte-1k6anfh"> </span>'),er=n('<div class="climb-details svelte-1k6anfh"><!> <div class="tags svelte-1k6anfh"><span class="tag type svelte-1k6anfh"> </span> <!> <!> <span class="tag attempt-text svelte-1k6anfh"> </span></div></div>'),tr=n('<div class="climb-header svelte-1k6anfh" role="button" tabindex="0"><div class="climb-main-info svelte-1k6anfh"><span> </span> <span class="climb-name svelte-1k6anfh"> </span> <!> <!></div> <div class="climb-meta svelte-1k6anfh"><span><span class="icon svelte-1k6anfh"> </span> <!></span> <button class="icon-btn edit-btn svelte-1k6anfh" aria-label="Edit climb" title="Edit climb">‚úé</button> <button class="icon-btn delete-btn svelte-1k6anfh" aria-label="Delete climb" title="Delete climb">üóëÔ∏è</button> <span class="chevron svelte-1k6anfh"> </span></div></div> <!>',1),ar=n("<div><!></div>");function sr(ze,_){xt(_,!0);let r=Kt(_,"showClimbType",3,!1),m=h(!1),q=h(!1),w=h(""),f=h(""),T=h(""),y=h(1),M=h(""),re=h(!1);function Z(){e(q)||v(m,!e(m))}function fe(N){N.stopPropagation(),_.onDelete()}function R(N){N.stopPropagation(),v(w,_.climb.name,!0),v(f,_.climb.grade,!0),v(T,_.climb.attemptType,!0),v(y,_.climb.attemptsNum,!0),v(M,_.climb.notes,!0),v(re,_.climb.isSport,!0),v(q,!0),v(m,!0)}function Y(N){N.stopPropagation(),v(q,!1)}function z(N){N.stopPropagation();const te={..._.climb,name:e(w),grade:e(f),attemptType:e(T),attemptsNum:e(y),notes:e(M),isSport:e(re)};_.onUpdate(te),v(q,!1)}function ve(){(e(T)==="Flash"||e(T)==="Onsight")&&v(y,1)}const ie={Flash:"‚ö°",Onsight:"üëÅÔ∏è",Redpoint:"üî¥",Dogged:"üõ†Ô∏è",DNF:"‚ùå"},be=["Flash","Onsight","Redpoint","Dogged","DNF"];var $=ar();let ne;var ee=a($);{var ke=N=>{var te=Hs(),F=a(te),le=a(F);Ve(le);var ae=s(le,2);Ve(ae);var se=s(ae,2);{var k=V=>{var ye=Us(),_e=a(ye);Ve(_e),Ot(2),t(ye),ra(_e,()=>e(re),Fe=>v(re,Fe)),i(V,ye)};c(se,V=>{r()&&V(k)})}t(F);var D=s(F,2),J=a(D);J.__change=ve,Ee(J,21,()=>be,je,(V,ye)=>{var _e=Ws(),Fe=a(_e,!0);t(_e);var S={};u(()=>{d(Fe,e(ye)),S!==(S=e(ye))&&(_e.value=(_e.__value=e(ye))??"")}),i(V,_e)}),t(J);var l=s(J,2),o=s(a(l),2);Ve(o),t(l),t(D);var g=s(D,2),U=a(g);Zt(U),t(g);var oe=s(g,2),Te=a(oe);Te.__click=Y;var Le=s(Te,2);Le.__click=z,t(oe),t(te),u(()=>o.disabled=e(T)==="Flash"||e(T)==="Onsight"),Ie(le,()=>e(f),V=>v(f,V)),Ie(ae,()=>e(w),V=>v(w,V)),Ft(J,()=>e(T),V=>v(T,V)),Ie(o,()=>e(y),V=>v(y,V)),Ie(U,()=>e(M),V=>v(M,V)),i(N,te)},Se=N=>{var te=tr(),F=Pe(te);F.__click=Z,F.__keydown=G=>(G.key==="Enter"||G.key===" ")&&Z();var le=a(F),ae=a(le);let se;var k=a(ae,!0);t(ae);var D=s(ae,2),J=a(D,!0);t(D);var l=s(D,2);{var o=G=>{var X=Ys(),De=a(X,!0);t(X),u(()=>d(De,_.climb.isSport?"Sport":"Boulder")),i(G,X)};c(l,G=>{r()&&G(o)})}var g=s(l,2);{var U=G=>{var X=Js(),De=a(X);t(X),u(()=>d(De,`- ${_.climb.notes??""}`)),i(G,X)};c(g,G=>{!e(m)&&_.climb.notes&&G(U)})}t(le);var oe=s(le,2),Te=a(oe);let Le;var V=a(Te),ye=a(V,!0);t(V);var _e=s(V,2);{var Fe=G=>{var X=Zs(),De=a(X,!0);t(X),u(()=>d(De,_.climb.attemptsNum)),i(G,X)};c(_e,G=>{_.climb.attemptType!=="Flash"&&_.climb.attemptType!=="Onsight"&&G(Fe)})}t(Te);var S=s(Te,2);S.__click=R;var Q=s(S,2);Q.__click=fe;var C=s(Q,2),me=a(C,!0);t(C),t(oe),t(F);var xe=s(F,2);{var W=G=>{var X=er(),De=a(X);{var qe=b=>{var O=Xs(),Ce=s(a(O),2),Me=a(Ce,!0);t(Ce),t(O),u(()=>d(Me,_.climb.notes)),i(b,O)},ce=b=>{var O=Ks();i(b,O)};c(De,b=>{_.climb.notes?b(qe):b(ce,!1)})}var pe=s(De,2),B=a(pe),ue=a(B,!0);t(B);var ge=s(B,2);{var j=b=>{var O=Qs(),Ce=a(O,!0);t(O),u(()=>d(Ce,_.climb.wall)),i(b,O)};c(ge,b=>{_.climb.wall&&b(j)})}var P=s(ge,2);{var he=b=>{var O=$s(),Ce=a(O,!0);t(O),u(()=>d(Ce,_.climb.techniqueFocus)),i(b,O)};c(P,b=>{_.climb.techniqueFocus&&b(he)})}var we=s(P,2),L=a(we,!0);t(we),t(pe),t(X),u(()=>{d(ue,_.climb.isSport?"Sport":"Boulder"),d(L,_.climb.attemptType)}),it(3,X,()=>lt,()=>({duration:150})),i(G,X)};c(xe,G=>{e(m)&&G(W)})}u(()=>{st(F,"aria-expanded",e(m)),se=dt(ae,1,"grade-badge svelte-1k6anfh",null,se,{sport:_.climb.isSport}),d(k,_.climb.grade),d(J,_.climb.name||"Unnamed Route"),Le=dt(Te,1,"attempt-type svelte-1k6anfh",null,Le,{flash:_.climb.attemptType==="Flash"}),d(ye,ie[_.climb.attemptType]||_.climb.attemptType),d(me,e(m)?"‚ñ≤":"‚ñº")}),i(N,te)};c(ee,N=>{e(q)?N(ke):N(Se,!1)})}t($),u(()=>ne=dt($,1,"climb-entry svelte-1k6anfh",null,ne,{expanded:e(m),editing:e(q)})),i(ze,$),wt()}gt(["change","click","keydown"]);var rr=n('<div class="sector-meta"> </div>'),ir=n('<span class="stat svelte-d5hg2r"> </span>'),lr=n('<span class="status-icon pending svelte-d5hg2r" title="Waiting to sync">üîÑ</span>'),vr=n('<span class="status-icon error svelte-d5hg2r" title="Sync error">‚ö†Ô∏è</span>'),nr=n('<span class="chip svelte-d5hg2r"> </span>'),or=n('<span class="text-none svelte-d5hg2r">None</span>'),dr=n('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Difficulty</span> <span class="value svelte-d5hg2r"> </span></div>'),cr=n('<span class="chip svelte-d5hg2r"> </span>'),_r=n('<span class="text-none svelte-d5hg2r">None</span>'),pr=n('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Category</span> <div class="value-chips svelte-d5hg2r"><!></div></div>'),ur=n('<span class="chip svelte-d5hg2r"> </span>'),fr=n('<span class="text-none svelte-d5hg2r">None</span>'),gr=n('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Energy System</span> <div class="value-chips svelte-d5hg2r"><!></div></div>'),mr=n('<button class="icon-btn edit-notes-btn svelte-d5hg2r" title="Edit Notes">‚úé</button>'),hr=n('<div class="edit-notes-area"><textarea placeholder="Add session notes..." rows="3" class="notes-editor svelte-d5hg2r"></textarea> <div class="edit-actions svelte-d5hg2r"><button class="cancel-btn svelte-d5hg2r">Cancel</button> <button class="save-btn svelte-d5hg2r"> </button></div></div>'),br=n('<p class="notes-text svelte-d5hg2r"> </p>'),yr=n('<p class="notes-placeholder svelte-d5hg2r">No notes.</p>'),xr=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Open Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),wr=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Crimp Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),kr=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Pinch Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),Sr=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Sloper Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),Tr=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Jug Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),Dr=n('<p class="no-climbs svelte-d5hg2r">No climbs logged for this session.</p>'),qr=n('<div class="card-body svelte-d5hg2r"><div class="details-grid svelte-d5hg2r"><div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Training Type</span> <div class="value-chips svelte-d5hg2r"><!></div></div> <!> <!> <!></div> <div class="notes-container svelte-d5hg2r"><div class="notes-header svelte-d5hg2r"><span class="label svelte-d5hg2r">Session Notes</span> <!></div> <!></div> <div class="metrics-container svelte-d5hg2r"><div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Finger Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div> <div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Shoulder Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div> <div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Forearm Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div> <!> <!> <!> <!> <!></div> <div class="climbs-list svelte-d5hg2r"><h4 class="svelte-d5hg2r">Climbs</h4> <div class="climbs-container svelte-d5hg2r"><!> <!></div></div></div>'),Lr=n('<div><div class="card-header svelte-d5hg2r" role="button" tabindex="0"><div class="header-main svelte-d5hg2r"><div class="date-badge svelte-d5hg2r"><span class="day svelte-d5hg2r"> </span> <span class="month svelte-d5hg2r"> </span> <span class="year svelte-d5hg2r"> </span></div> <div class="session-info svelte-d5hg2r"><div class="session-text svelte-d5hg2r"><h3 class="location svelte-d5hg2r"> <!></h3> <!> <div class="session-meta svelte-d5hg2r"><span class="type-tag svelte-d5hg2r"> </span> <span class="stat svelte-d5hg2r"> </span> <!></div></div> <div class="load-summary svelte-d5hg2r"><div class="load-badge finger svelte-d5hg2r"> </div> <div class="load-badge shoulder svelte-d5hg2r"> </div> <div class="load-badge forearm svelte-d5hg2r"> </div></div></div></div> <div class="header-actions"><div class="header-status svelte-d5hg2r"><!></div> <button class="btn-icon delete-session" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-d5hg2r"> </span></div></div> <!> <!></div>');function zr(ze,_){xt(_,!0);let r=Kt(_,"session",7),m=h(!1),q=h(!1);function w(){v(m,!e(m))}function f(){v(q,!0)}async function T(){try{const L=await da(r().id);L.ok?(v(q,!1),_.onDelete()):(console.error("Failed to delete session:",L.error),alert("Failed to delete session: "+L.error))}catch(L){console.error("Exception deleting session:",L),alert("Error deleting session")}}function y(L){const b=[...r().climbs];b.splice(L,1),re(b),_.onDelete()}function M(L,b){const O=[...r().climbs];O[L]=b,re(O)}async function re(L){r().climbs=L;const b={date:r().date,time:r().time||"12:00",area:r().area,crag:r().crag,sector:r().sector,climbingType:r().climbingType,trainingTypes:r().trainingTypes||[],difficulty:r().difficulty,categories:r().categories||[],energySystems:r().energySystems||[],fingerLoad:r().fingerLoad,shoulderLoad:r().shoulderLoad,forearmLoad:r().forearmLoad,climbs:L,notes:r().notes};try{const O=await sa(r().id,b);O.ok||console.error("Failed to sync update:",O.error)}catch(O){console.error("Exception syncing update:",O)}}let Z=ut(()=>r().climbs?.length??0),fe=ut(()=>(r().climbs||[]).reduce((L,b)=>{const O=parseInt(b.grade.replace(/\D/g,""))||0,Ce=parseInt(L.replace(/\D/g,""))||0;return O>Ce?b.grade:L},"V0/4a")),R=h(!1),Y=h(""),z=h(!1);function ve(){v(Y,r().notes||"",!0),v(R,!0)}function ie(){v(R,!1),v(Y,"")}async function be(){if(e(z))return;v(z,!0),r().notes=e(Y);const L={date:r().date,time:r().time||"12:00",area:r().area,crag:r().crag,sector:r().sector,climbingType:r().climbingType,trainingTypes:r().trainingTypes||[],difficulty:r().difficulty,categories:r().categories||[],energySystems:r().energySystems||[],fingerLoad:r().fingerLoad,shoulderLoad:r().shoulderLoad,forearmLoad:r().forearmLoad,climbs:r().climbs,notes:e(Y)};try{const b=await sa(r().id,L);b.ok||console.error("Failed to sync note update:",b.error)}catch(b){console.error("Exception syncing note update:",b)}v(R,!1),v(z,!1)}var $=Lr();let ne;var ee=a($);ee.__click=w,ee.__keydown=L=>L.key==="Enter"&&w();var ke=a(ee),Se=a(ke),N=a(Se),te=a(N,!0);t(N);var F=s(N,2),le=a(F,!0);t(F);var ae=s(F,2),se=a(ae,!0);t(ae),t(Se);var k=s(Se,2),D=a(k),J=a(D),l=a(J),o=s(l);{var g=L=>{var b=jt();u(()=>d(b,`- ${r().crag??""}`)),i(L,b)};c(o,L=>{r().crag&&L(g)})}t(J);var U=s(J,2);{var oe=L=>{var b=rr(),O=a(b);t(b),u(()=>d(O,`üìç ${r().sector??""}`)),i(L,b)};c(U,L=>{r().sector&&L(oe)})}var Te=s(U,2),Le=a(Te),V=a(Le,!0);t(Le);var ye=s(Le,2),_e=a(ye);t(ye);var Fe=s(ye,2);{var S=L=>{var b=ir(),O=a(b);t(b),u(()=>d(O,`Max: ${e(fe)??""}`)),i(L,b)};c(Fe,L=>{e(Z)>0&&L(S)})}t(Te),t(D);var Q=s(D,2),C=a(Q),me=a(C,!0);t(C);var xe=s(C,2),W=a(xe,!0);t(xe);var G=s(xe,2),X=a(G,!0);t(G),t(Q),t(k),t(ke);var De=s(ke,2),qe=a(De),ce=a(qe);{var pe=L=>{var b=lr();i(L,b)},B=L=>{var b=Ke(),O=Pe(b);{var Ce=Me=>{var Oe=vr();i(Me,Oe)};c(O,Me=>{r().syncStatus==="error"&&Me(Ce)},!0)}i(L,b)};c(ce,L=>{r().syncStatus==="pending"?L(pe):L(B,!1)})}t(qe);var ue=s(qe,2);ue.__click=L=>{L.stopPropagation(),f()};var ge=s(ue,2),j=a(ge,!0);t(ge),t(De),t(ee);var P=s(ee,2);{var he=L=>{var b=qr(),O=a(b),Ce=a(O),Me=s(a(Ce),2),Oe=a(Me);{var Qe=p=>{var x=Ke(),E=Pe(x);Ee(E,17,()=>r().trainingTypes,je,(K,H)=>{var de=nr(),Ae=a(de,!0);t(de),u(()=>d(Ae,e(H))),i(K,de)}),i(p,x)},He=p=>{var x=or();i(p,x)};c(Oe,p=>{r().trainingTypes&&r().trainingTypes.length>0&&!r().trainingTypes.includes("None")?p(Qe):p(He,!1)})}t(Me),t(Ce);var Ye=s(Ce,2);{var Dt=p=>{var x=dr(),E=s(a(x),2),K=a(E,!0);t(E),t(x),u(()=>d(K,r().difficulty)),i(p,x)};c(Ye,p=>{r().difficulty&&p(Dt)})}var mt=s(Ye,2);{var qt=p=>{var x=pr(),E=s(a(x),2),K=a(E);{var H=Ae=>{var $e=Ke(),Gt=Pe($e);Ee(Gt,17,()=>r().categories,je,(pt,Nt)=>{var Rt=cr(),Qt=a(Rt,!0);t(Rt),u(()=>d(Qt,e(Nt))),i(pt,Rt)}),i(Ae,$e)},de=Ae=>{var $e=_r();i(Ae,$e)};c(K,Ae=>{r().categories.length>0&&!r().categories.includes("None")?Ae(H):Ae(de,!1)})}t(E),t(x),i(p,x)};c(mt,p=>{r().categories?.length&&p(qt)})}var ht=s(mt,2);{var Lt=p=>{var x=gr(),E=s(a(x),2),K=a(E);{var H=Ae=>{var $e=Ke(),Gt=Pe($e);Ee(Gt,17,()=>r().energySystems,je,(pt,Nt)=>{var Rt=ur(),Qt=a(Rt,!0);t(Rt),u(()=>d(Qt,e(Nt))),i(pt,Rt)}),i(Ae,$e)},de=Ae=>{var $e=fr();i(Ae,$e)};c(K,Ae=>{r().energySystems.length>0&&!r().energySystems.includes("None")?Ae(H):Ae(de,!1)})}t(E),t(x),i(p,x)};c(ht,p=>{r().energySystems?.length&&p(Lt)})}t(O);var kt=s(O,2),vt=a(kt),Je=s(a(vt),2);{var Be=p=>{var x=mr();x.__click=ve,i(p,x)};c(Je,p=>{e(R)||p(Be)})}t(vt);var ft=s(vt,2);{var et=p=>{var x=hr(),E=a(x);Zt(E);var K=s(E,2),H=a(K);H.__click=ie;var de=s(H,2);de.__click=be;var Ae=a(de,!0);t(de),t(K),t(x),u(()=>{H.disabled=e(z),de.disabled=e(z),d(Ae,e(z)?"Saving...":"Save")}),Ie(E,()=>e(Y),$e=>v(Y,$e)),it(3,x,()=>lt,()=>({duration:150})),i(p,x)},bt=p=>{var x=Ke(),E=Pe(x);{var K=de=>{var Ae=br(),$e=a(Ae,!0);t(Ae),u(()=>d($e,r().notes)),i(de,Ae)},H=de=>{var Ae=yr();i(de,Ae)};c(E,de=>{r().notes?de(K):de(H,!1)},!0)}i(p,x)};c(ft,p=>{e(R)?p(et):p(bt,!1)})}t(kt);var tt=s(kt,2),Ge=a(tt),Ne=s(a(Ge),2),Ze=a(Ne);t(Ne);var Ue=s(Ne,2),at=a(Ue);t(Ue),t(Ge);var Re=s(Ge,2),We=s(a(Re),2),ct=a(We);t(We);var St=s(We,2),Tt=a(St);t(St),t(Re);var zt=s(Re,2),Xe=s(a(zt),2),rt=a(Xe);t(Xe);var yt=s(Xe,2),Pt=a(yt);t(yt),t(zt);var _t=s(zt,2);{var Vt=p=>{var x=xr(),E=s(a(x),2),K=a(E);t(E);var H=s(E,2),de=a(H);t(H),t(x),u(()=>{nt(K,`width: ${r().openGrip/5*100}%`),d(de,`${r().openGrip??""}/5`)}),i(p,x)};c(_t,p=>{r().openGrip&&p(Vt)})}var Ct=s(_t,2);{var It=p=>{var x=wr(),E=s(a(x),2),K=a(E);t(E);var H=s(E,2),de=a(H);t(H),t(x),u(()=>{nt(K,`width: ${r().crimpGrip/5*100}%`),d(de,`${r().crimpGrip??""}/5`)}),i(p,x)};c(Ct,p=>{r().crimpGrip&&p(It)})}var Et=s(Ct,2);{var Yt=p=>{var x=kr(),E=s(a(x),2),K=a(E);t(E);var H=s(E,2),de=a(H);t(H),t(x),u(()=>{nt(K,`width: ${r().pinchGrip/5*100}%`),d(de,`${r().pinchGrip??""}/5`)}),i(p,x)};c(Et,p=>{r().pinchGrip&&p(Yt)})}var Ut=s(Et,2);{var Jt=p=>{var x=Sr(),E=s(a(x),2),K=a(E);t(E);var H=s(E,2),de=a(H);t(H),t(x),u(()=>{nt(K,`width: ${r().sloperGrip/5*100}%`),d(de,`${r().sloperGrip??""}/5`)}),i(p,x)};c(Ut,p=>{r().sloperGrip&&p(Jt)})}var Bt=s(Ut,2);{var At=p=>{var x=Tr(),E=s(a(x),2),K=a(E);t(E);var H=s(E,2),de=a(H);t(H),t(x),u(()=>{nt(K,`width: ${r().jugGrip/5*100}%`),d(de,`${r().jugGrip??""}/5`)}),i(p,x)};c(Bt,p=>{r().jugGrip&&p(At)})}t(tt);var Mt=s(tt,2),Wt=s(a(Mt),2),Ht=a(Wt);Ee(Ht,17,()=>r().climbs||[],je,(p,x,E)=>{{let K=ut(()=>r().climbingType==="Mixed");sr(p,{get climb(){return e(x)},onDelete:()=>y(E),onUpdate:H=>M(E,H),get showClimbType(){return e(K)}})}});var I=s(Ht,2);{var A=p=>{var x=Dr();i(p,x)};c(I,p=>{(r().climbs||[]).length===0&&p(A)})}t(Wt),t(Mt),t(b),u(()=>{nt(Ze,`width: ${r().fingerLoad/5*100}%`),d(at,`${r().fingerLoad??""}/5`),nt(ct,`width: ${r().shoulderLoad/5*100}%`),d(Tt,`${r().shoulderLoad??""}/5`),nt(rt,`width: ${r().forearmLoad/5*100}%`),d(Pt,`${r().forearmLoad??""}/5`)}),it(3,b,()=>lt,()=>({duration:150})),i(L,b)};c(P,L=>{e(m)&&L(he)})}var we=s(P,2);Xt(we,{get isOpen(){return e(q)},title:"Delete Session",message:"Are you sure you want to delete this session? This action cannot be undone.",onConfirm:T,onCancel:()=>v(q,!1)}),t($),u((L,b,O)=>{ne=dt($,1,"session-card svelte-d5hg2r",null,ne,{expanded:e(m)}),st(ee,"aria-expanded",e(m)),d(te,L),d(le,b),d(se,O),d(l,`${r().area??""} `),d(V,r().climbingType),d(_e,`${e(Z)??""} climbs`),st(C,"title",`Finger Load: ${r().fingerLoad??""}`),d(me,r().fingerLoad),st(xe,"title",`Shoulder Load: ${r().shoulderLoad??""}`),d(W,r().shoulderLoad),st(G,"title",`Forearm Load: ${r().forearmLoad??""}`),d(X,r().forearmLoad),d(j,e(m)?"‚ñ≤":"‚ñº")},[()=>new Date(r().date).getDate(),()=>new Date(r().date).toLocaleDateString(void 0,{month:"short"}),()=>new Date(r().date).getFullYear()]),i(ze,$),wt()}gt(["click","keydown"]);var Fr=n('<span class="spinner svelte-1s7jdlh"></span> Fetching...',1),Cr=n('<div class="error-banner svelte-1s7jdlh"> </div>'),Er=n('<small class="svelte-1s7jdlh">Try adjusting your filters.</small>'),Gr=n('<div class="empty-state svelte-1s7jdlh"><p class="svelte-1s7jdlh">No outdoor climbing sessions found.</p> <!></div>'),Nr=n('<div class="load-more-container svelte-1s7jdlh"><button class="load-more-btn svelte-1s7jdlh"> </button></div>'),jr=n('<div class="view-container svelte-1s7jdlh"><div class="view-header svelte-1s7jdlh"><h2 class="view-title svelte-1s7jdlh">‚õ∞Ô∏è Outdoor Climbing History</h2> <div class="header-actions svelte-1s7jdlh"><button class="action-btn secondary svelte-1s7jdlh" title="Export filtered data to CSV">üì• Export</button> <button class="action-btn svelte-1s7jdlh" title="Fetch data from cloud"><!></button></div></div> <!> <!> <div class="info-bar svelte-1s7jdlh"><div class="legend-wrapper svelte-1s7jdlh"><!></div> <div class="load-key svelte-1s7jdlh"><span class="key-label svelte-1s7jdlh">Load:</span> <div class="key-item svelte-1s7jdlh"><span class="dot finger svelte-1s7jdlh"></span> Finger</div> <div class="key-item svelte-1s7jdlh"><span class="dot shoulder svelte-1s7jdlh"></span> Shoulder</div> <div class="key-item svelte-1s7jdlh"><span class="dot forearm svelte-1s7jdlh"></span> Forearm</div></div></div> <div class="sessions-list"><!> <!> <!></div></div>');function Or(ze,_){xt(_,!0);let r=h(ot([])),m=h(ot([])),q=h(!1),w=h(""),f=h(ot({startDate:"",endDate:"",area:"",crag:"",climbingType:"",sessionType:"",grade:""})),T=h(20);const y=20;$t(()=>{M()});async function M(){v(q,!0),v(w,"");try{const l=await ca();l.ok&&l.data?(v(r,l.data.map(o=>({...o,activityType:"outdoor_climb"})),!0),e(r).sort((o,g)=>new Date(g.date).getTime()-new Date(o.date).getTime()),Z()):v(w,l.error||"Failed to fetch data",!0)}catch(l){v(w,l instanceof Error?l.message:"Unknown error",!0)}finally{v(q,!1)}}function re(l){v(f,l,!0),Z()}function Z(){v(T,y),v(m,e(r).filter(l=>{if(e(f).startDate&&l.date<e(f).startDate||e(f).endDate&&l.date>e(f).endDate||e(f).area&&!l.area.toLowerCase().includes(e(f).area.toLowerCase())||e(f).crag&&!l.crag.toLowerCase().includes(e(f).crag.toLowerCase()))return!1;if(e(f).climbingType&&(l.climbingType==="Leading"?"Sport":l.climbingType)!==e(f).climbingType)if(l.climbingType==="Mixed")if(e(f).climbingType==="Bouldering"){if(!l.climbs.some(g=>!g.isSport))return!1}else if(e(f).climbingType==="Sport"||e(f).climbingType==="Trad"){if(!l.climbs.some(g=>g.isSport))return!1}else return!1;else return!1;if(e(f).sessionType&&!l.trainingTypes?.includes(e(f).sessionType))return!1;if(e(f).grade){const o=e(f).grade.trim().toLowerCase();if(!l.climbs.some(U=>U.grade.trim().toLowerCase()===o))return!1}return!0}),!0)}function fe(){v(T,e(T)+y)}var R=jr(),Y=a(R),z=s(a(Y),2),ve=a(z);ve.__click=()=>ea(e(m),"outdoor_climbs");var ie=s(ve,2);ie.__click=M;var be=a(ie);{var $=l=>{var o=Fr();Ot(),i(l,o)},ne=l=>{var o=jt("‚òÅÔ∏è Fetch Data");i(l,o)};c(be,l=>{e(q)?l($):l(ne,!1)})}t(ie),t(z),t(Y);var ee=s(Y,2);{var ke=l=>{var o=Cr(),g=a(o,!0);t(o),u(()=>d(g,e(w))),it(3,o,()=>lt),i(l,o)};c(ee,l=>{e(w)&&l(ke)})}var Se=s(ee,2);Vs(Se,{onFilterParamsChange:re});var N=s(Se,2),te=a(N),F=a(te);ia(F),t(te),Ot(2),t(N);var le=s(N,2),ae=a(le);Ee(ae,17,()=>e(m).slice(0,e(T)),l=>l.id,(l,o)=>{zr(l,{get session(){return e(o)},onDelete:M})});var se=s(ae,2);{var k=l=>{var o=Gr(),g=s(a(o),2);{var U=oe=>{var Te=Er();i(oe,Te)};c(g,oe=>{e(r).length>0&&oe(U)})}t(o),i(l,o)};c(se,l=>{e(m).length===0&&l(k)})}var D=s(se,2);{var J=l=>{var o=Nr(),g=a(o);g.__click=fe;var U=a(g);t(g),t(o),u(()=>d(U,`Load More (${e(m).length-e(T)} remaining)`)),i(l,o)};c(D,l=>{e(T)<e(m).length&&l(J)})}t(le),t(R),u(()=>ie.disabled=e(q)),i(ze,R),wt()}gt(["click"]);var Ar=n('<span class="chevron svelte-11rkzid">‚ñ≤</span>'),Mr=n('<span class="chevron svelte-11rkzid">‚ñº</span>'),Pr=n('<div class="filter-body svelte-11rkzid"><div class="filter-grid svelte-11rkzid"><div class="filter-item svelte-11rkzid"><label for="start-date" class="svelte-11rkzid">Start Date</label> <input type="date" id="start-date" class="svelte-11rkzid"/></div> <div class="filter-item svelte-11rkzid"><label for="end-date" class="svelte-11rkzid">End Date</label> <input type="date" id="end-date" class="svelte-11rkzid"/></div> <div class="filter-item svelte-11rkzid"><label for="name-filter" class="svelte-11rkzid">Session Name</label> <input type="text" id="name-filter" placeholder="e.g. Leg Day" class="svelte-11rkzid"/></div> <div class="filter-item svelte-11rkzid"><label for="block-filter" class="svelte-11rkzid">Training Block</label> <select id="block-filter" class="svelte-11rkzid"><option>All Blocks</option><option>Strength</option><option>Power</option><option>Power Endurance</option><option>Muscular Endurance</option></select></div></div> <div class="filter-actions svelte-11rkzid"><button class="reset-btn svelte-11rkzid">Reset Filters</button></div></div>'),Ir=n('<div class="filter-container svelte-11rkzid"><button class="filter-header svelte-11rkzid"><div class="header-content svelte-11rkzid"><span class="icon svelte-11rkzid">üîç</span> <span class="title svelte-11rkzid">Filters</span> <!></div></button> <!></div>');function Br(ze,_){xt(_,!0);let r=h(!1),m=h(""),q=h(""),w=h(""),f=h("");function T(){v(r,!e(r))}function y(){v(m,""),v(q,""),v(w,""),v(f,""),M()}function M(){_.onFilterParamsChange({startDate:e(m),endDate:e(q),name:e(w),trainingBlock:e(f)})}var re=Ir(),Z=a(re);Z.__click=T;var fe=a(Z),R=s(a(fe),4);{var Y=be=>{var $=Ar();i(be,$)},z=be=>{var $=Mr();i(be,$)};c(R,be=>{e(r)?be(Y):be(z,!1)})}t(fe),t(Z);var ve=s(Z,2);{var ie=be=>{var $=Pr(),ne=a($),ee=a(ne),ke=s(a(ee),2);Ve(ke),ke.__change=M,t(ee);var Se=s(ee,2),N=s(a(Se),2);Ve(N),N.__change=M,t(Se);var te=s(Se,2),F=s(a(te),2);Ve(F),F.__input=M,t(te);var le=s(te,2),ae=s(a(le),2);ae.__change=M;var se=a(ae);se.value=se.__value="";var k=s(se);k.value=k.__value="Strength";var D=s(k);D.value=D.__value="Power";var J=s(D);J.value=J.__value="Power Endurance";var l=s(J);l.value=l.__value="Muscular Endurance",t(ae),t(le),t(ne);var o=s(ne,2),g=a(o);g.__click=y,t(o),t($),Ie(ke,()=>e(m),U=>v(m,U)),Ie(N,()=>e(q),U=>v(q,U)),Ie(F,()=>e(w),U=>v(w,U)),Ft(ae,()=>e(f),U=>v(f,U)),it(3,$,()=>lt,()=>({duration:200})),i(be,$)};c(ve,be=>{e(r)&&be(ie)})}t(re),u(()=>st(Z,"aria-expanded",e(r))),i(ze,re),wt()}gt(["click","change","input"]);var Rr=n('<span class="status-icon pending svelte-cirrfc" title="Waiting to sync">üîÑ</span>'),Vr=n('<span class="status-icon error svelte-cirrfc" title="Sync error">‚ö†Ô∏è</span>'),Ur=n('<div class="bw-info svelte-cirrfc"><span class="label svelte-cirrfc">Bodyweight:</span> </div>'),Wr=n('<span class="muscle-tag svelte-cirrfc"> </span>'),Hr=n('<span class="muscle-tag svelte-cirrfc"> </span>'),Yr=n('<div class="muscle-tags svelte-cirrfc"><!> <!></div>'),Jr=n('<span class="tag w svelte-cirrfc">W</span>'),Zr=n('<span class="tag f svelte-cirrfc">F</span>'),Xr=n('<span class="tag d svelte-cirrfc">D</span>'),Kr=n('<div><span class="set-num svelte-cirrfc"></span> <!> <!> <!> <span class="val svelte-cirrfc"><span class="weight"> </span> <span class="x svelte-cirrfc">x</span> <span class="reps"> </span></span></div>'),Qr=n('<div class="exercise-item svelte-cirrfc"><div class="exercise-header svelte-cirrfc"><h4 class="svelte-cirrfc"> </h4> <!></div> <div class="sets-grid svelte-cirrfc"></div></div>'),$r=n('<div class="subcategory-group svelte-cirrfc"><h5 class="subcategory-header svelte-cirrfc"> </h5> <!></div>'),ei=n('<div class="category-group svelte-cirrfc"><h4 class="category-header svelte-cirrfc"> </h4> <!></div>'),ti=n('<div class="card-body svelte-cirrfc"><!> <div class="exercises-list svelte-cirrfc"></div></div>'),ai=n('<div><div class="card-header svelte-cirrfc" role="button" tabindex="0"><div class="header-main svelte-cirrfc"><div class="date-badge svelte-cirrfc"><span class="day svelte-cirrfc"> </span> <span class="month svelte-cirrfc"> </span> <span class="year svelte-cirrfc"> </span></div> <div class="session-info svelte-cirrfc"><div class="session-text"><h3 class="name svelte-cirrfc"> </h3> <div class="session-meta svelte-cirrfc"><span class="stat svelte-cirrfc"> </span> <span class="stat svelte-cirrfc"> </span> <span class="stat svelte-cirrfc"> </span></div></div></div></div> <div class="header-actions svelte-cirrfc"><div class="header-status"><!></div> <button class="btn-icon delete-session svelte-cirrfc" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-cirrfc"> </span></div></div> <!></div> <!>',1);function si(ze,_){xt(_,!0);let r=h(!1),m=h(!1);function q(){v(r,!e(r))}function w(){v(m,!0)}async function f(){try{const C=await _a(_.session.id);C.ok?(v(m,!1),_.onDelete()):(console.error("Failed to delete session:",C.error),alert("Failed to delete session"))}catch(C){console.error("Exception deleting session:",C),alert("Error deleting session")}}function T(C){return xa.find(me=>me.name===C)}let y=ut(()=>_.session.exercises?.length??0),M=ut(()=>(_.session.exercises||[]).reduce((C,me)=>C+(me.sets?.length||0),0)),re=ut(()=>(_.session.exercises||[]).reduce((C,me)=>C+(me.sets||[]).reduce((xe,W)=>xe+(W.weight||0)*(W.reps||0),0),0)),Z=ut(()=>(_.session.exercises||[]).reduce((C,me)=>{const xe=T(me.name),W=xe?.category||"Other",G=xe?.subcategory||"Misc";return C[W]||(C[W]={}),C[W][G]||(C[W][G]=[]),C[W][G].push(me),C},{}));var fe=ai(),R=Pe(fe);let Y;var z=a(R);z.__click=q,z.__keydown=C=>C.key==="Enter"&&q();var ve=a(z),ie=a(ve),be=a(ie),$=a(be,!0);t(be);var ne=s(be,2),ee=a(ne,!0);t(ne);var ke=s(ne,2),Se=a(ke,!0);t(ke),t(ie);var N=s(ie,2),te=a(N),F=a(te),le=a(F,!0);t(F);var ae=s(F,2),se=a(ae),k=a(se);t(se);var D=s(se,2),J=a(D);t(D);var l=s(D,2),o=a(l);t(l),t(ae),t(te),t(N),t(ve);var g=s(ve,2),U=a(g),oe=a(U);{var Te=C=>{var me=Rr();i(C,me)},Le=C=>{var me=Ke(),xe=Pe(me);{var W=G=>{var X=Vr();i(G,X)};c(xe,G=>{_.session.syncStatus==="error"&&G(W)},!0)}i(C,me)};c(oe,C=>{_.session.syncStatus==="pending"?C(Te):C(Le,!1)})}t(U);var V=s(U,2);V.__click=C=>{C.stopPropagation(),w()};var ye=s(V,2),_e=a(ye,!0);t(ye),t(g),t(z);var Fe=s(z,2);{var S=C=>{var me=ti(),xe=a(me);{var W=X=>{var De=Ur(),qe=s(a(De));t(De),u(()=>d(qe,` ${_.session.bodyweight??""}kg`)),i(X,De)};c(xe,X=>{_.session.bodyweight&&X(W)})}var G=s(xe,2);Ee(G,21,()=>Object.entries(e(Z)),je,(X,De)=>{var qe=ut(()=>ta(e(De),2));let ce=()=>e(qe)[0],pe=()=>e(qe)[1];var B=ei(),ue=a(B),ge=a(ue,!0);t(ue);var j=s(ue,2);Ee(j,17,()=>Object.entries(pe()),je,(P,he)=>{var we=ut(()=>ta(e(he),2));let L=()=>e(we)[0],b=()=>e(we)[1];var O=$r(),Ce=a(O),Me=a(Ce,!0);t(Ce);var Oe=s(Ce,2);Ee(Oe,17,b,je,(Qe,He)=>{const Ye=ut(()=>T(e(He).name));var Dt=Qr(),mt=a(Dt),qt=a(mt),ht=a(qt,!0);t(qt);var Lt=s(qt,2);{var kt=Je=>{var Be=Yr(),ft=a(Be);Ee(ft,17,()=>e(Ye).targetMuscles.slice(0,3),je,(tt,Ge)=>{var Ne=Wr(),Ze=a(Ne,!0);t(Ne),u(()=>d(Ze,e(Ge))),i(tt,Ne)});var et=s(ft,2);{var bt=tt=>{var Ge=Hr(),Ne=a(Ge);t(Ge),u(()=>d(Ne,`+${e(Ye).targetMuscles.length-3}`)),i(tt,Ge)};c(et,tt=>{e(Ye).targetMuscles.length>3&&tt(bt)})}t(Be),i(Je,Be)};c(Lt,Je=>{e(Ye)&&Je(kt)})}t(mt);var vt=s(mt,2);Ee(vt,21,()=>e(He).sets,je,(Je,Be,ft)=>{var et=Kr();let bt;var tt=a(et);tt.textContent=ft+1;var Ge=s(tt,2);{var Ne=Xe=>{var rt=Jr();i(Xe,rt)};c(Ge,Xe=>{e(Be).isWarmup&&Xe(Ne)})}var Ze=s(Ge,2);{var Ue=Xe=>{var rt=Zr();i(Xe,rt)};c(Ze,Xe=>{e(Be).isFailure&&Xe(Ue)})}var at=s(Ze,2);{var Re=Xe=>{var rt=Xr();i(Xe,rt)};c(at,Xe=>{e(Be).isDropSet&&Xe(Re)})}var We=s(at,2),ct=a(We),St=a(ct);t(ct);var Tt=s(ct,4),zt=a(Tt,!0);t(Tt),t(We),t(et),u(()=>{bt=dt(et,1,"set-pill svelte-cirrfc",null,bt,{completed:e(Be).completed,warmup:e(Be).isWarmup}),d(St,`${e(Be).weight??""}kg`),d(zt,e(Be).reps)}),i(Je,et)}),t(vt),t(Dt),u(()=>d(ht,e(He).name)),i(Qe,Dt)}),t(O),u(()=>d(Me,L())),i(P,O)}),t(B),u(()=>d(ge,ce())),i(X,B)}),t(G),t(me),it(3,me,()=>lt,()=>({duration:150})),i(C,me)};c(Fe,C=>{e(r)&&C(S)})}t(R);var Q=s(R,2);Xt(Q,{get isOpen(){return e(m)},title:"Delete Session",message:"Are you sure you want to delete this session? This cannot be undone.",onConfirm:f,onCancel:()=>v(m,!1)}),u((C,me,xe,W)=>{Y=dt(R,1,"session-card svelte-cirrfc",null,Y,{expanded:e(r)}),st(z,"aria-expanded",e(r)),d($,C),d(ee,me),d(Se,xe),d(le,_.session.name),d(k,`${e(y)??""} Exercises`),d(J,`${e(M)??""} Sets`),d(o,`~${W??""}kg Vol`),d(_e,e(r)?"‚ñ≤":"‚ñº")},[()=>new Date(_.session.date).getDate(),()=>new Date(_.session.date).toLocaleDateString("en-GB",{month:"short"}),()=>new Date(_.session.date).getFullYear(),()=>Math.round(e(re)).toLocaleString()]),i(ze,fe),wt()}gt(["click","keydown"]);var ri=n('<span class="spinner svelte-133enjd"></span> Fetching...',1),ii=n('<div class="error-banner svelte-133enjd"> </div>'),li=n('<small class="svelte-133enjd">Try adjusting your filters.</small>'),vi=n('<div class="empty-state svelte-133enjd"><p class="svelte-133enjd">No gym sessions found.</p> <!></div>'),ni=n('<div class="load-more-container svelte-133enjd"><button class="load-more-btn svelte-133enjd"> </button></div>'),oi=n('<div class="view-container svelte-133enjd"><div class="view-header svelte-133enjd"><h2 class="view-title svelte-133enjd">üèãÔ∏è Gym Session History</h2> <div class="header-actions svelte-133enjd"><button class="action-btn secondary svelte-133enjd" title="Export filtered data to CSV">üì• Export</button> <button class="action-btn svelte-133enjd" title="Fetch data from cloud"><!></button></div></div> <!> <!> <div class="sessions-list"><!> <!> <!></div></div>');function di(ze,_){xt(_,!0);let r=h(ot([])),m=h(ot([])),q=h(!1),w=h(""),f=h(ot({startDate:"",endDate:"",name:"",trainingBlock:""})),T=h(20);const y=20;$t(()=>{M()});async function M(){v(q,!0),v(w,"");try{const k=await pa();k.ok&&k.data?(v(r,k.data.map(D=>({...D,activityType:"gym_session"})),!0),e(r).sort((D,J)=>new Date(J.date).getTime()-new Date(D.date).getTime()),Z()):v(w,k.error||"Failed to fetch data",!0)}catch(k){v(w,k instanceof Error?k.message:"Unknown error",!0)}finally{v(q,!1)}}function re(k){v(f,k,!0),Z()}function Z(){v(T,y),v(m,e(r).filter(k=>!(e(f).startDate&&k.date<e(f).startDate||e(f).endDate&&k.date>e(f).endDate||e(f).name&&!k.name.toLowerCase().includes(e(f).name.toLowerCase())||e(f).trainingBlock&&k.trainingBlock!==e(f).trainingBlock)),!0)}function fe(){v(T,e(T)+y)}var R=oi(),Y=a(R),z=s(a(Y),2),ve=a(z);ve.__click=()=>ea(e(m),"gym_sessions");var ie=s(ve,2);ie.__click=M;var be=a(ie);{var $=k=>{var D=ri();Ot(),i(k,D)},ne=k=>{var D=jt("‚òÅÔ∏è Fetch Data");i(k,D)};c(be,k=>{e(q)?k($):k(ne,!1)})}t(ie),t(z),t(Y);var ee=s(Y,2);{var ke=k=>{var D=ii(),J=a(D,!0);t(D),u(()=>d(J,e(w))),it(3,D,()=>lt),i(k,D)};c(ee,k=>{e(w)&&k(ke)})}var Se=s(ee,2);Br(Se,{onFilterParamsChange:re});var N=s(Se,2),te=a(N);Ee(te,17,()=>e(m).slice(0,e(T)),k=>k.id,(k,D)=>{si(k,{get session(){return e(D)},onDelete:M})});var F=s(te,2);{var le=k=>{var D=vi(),J=s(a(D),2);{var l=o=>{var g=li();i(o,g)};c(J,o=>{e(r).length>0&&o(l)})}t(D),i(k,D)};c(F,k=>{e(m).length===0&&k(le)})}var ae=s(F,2);{var se=k=>{var D=ni(),J=a(D);J.__click=fe;var l=a(J);t(J),t(D),u(()=>d(l,`Load More (${e(m).length-e(T)} remaining)`)),i(k,D)};c(ae,k=>{e(T)<e(m).length&&k(se)})}t(N),t(R),u(()=>ie.disabled=e(q)),i(ze,R),wt()}gt(["click"]);var ci=n('<span class="spinner svelte-1szs0u9"></span> Fetching...',1),_i=n('<div class="loading svelte-1szs0u9">Loading sessions...</div>'),pi=n('<div class="empty-state svelte-1szs0u9"><!></div>'),ui=n('<span class="set-tag svelte-1szs0u9"> <span class="x svelte-1szs0u9">x</span> </span>'),fi=n('<div class="ex-notes svelte-1szs0u9"> </div>'),gi=n('<div class="exercise-item svelte-1szs0u9"><div class="ex-header svelte-1szs0u9"><span class="ex-name svelte-1szs0u9"> </span> <span class="ex-grip svelte-1szs0u9"> </span></div> <div class="ex-sets svelte-1szs0u9"></div> <!></div>'),mi=n('<div class="card-body svelte-1szs0u9"><div class="exercises-list svelte-1szs0u9"></div></div>'),hi=n('<div><div class="card-header svelte-1szs0u9" role="button" tabindex="0"><div class="header-main"><span class="session-date svelte-1szs0u9"> </span> <span class="meta svelte-1szs0u9"><!> </span></div> <div class="header-status svelte-1szs0u9"><span>‚óè</span> <button class="btn-icon delete-btn svelte-1szs0u9" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-1szs0u9"> </span></div></div> <!></div>'),bi=n('<div class="load-more-container svelte-1szs0u9"><button class="load-more-btn svelte-1szs0u9"> </button></div>'),yi=n('<div class="timeline svelte-1szs0u9"><!> <!></div>'),xi=n('<div class="view-content svelte-1szs0u9"><div class="header svelte-1szs0u9"><h3 class="svelte-1szs0u9">ü§è Fingerboarding Log</h3> <button class="fetch-btn svelte-1szs0u9" title="Fetch data from cloud"><!></button></div> <div class="filters svelte-1szs0u9"><div class="filter-group svelte-1szs0u9"><label for="start-date" class="svelte-1szs0u9">From</label> <input type="date" id="start-date" class="svelte-1szs0u9"/></div> <div class="filter-group svelte-1szs0u9"><label for="end-date" class="svelte-1szs0u9">To</label> <input type="date" id="end-date" class="svelte-1szs0u9"/></div></div> <!></div> <!>',1);function wi(ze,_){xt(_,!0);let r=h(ot([])),m=h(!0),q=h(""),w=h(""),f=h(ot(new Set)),T=h(20);const y=20;la(()=>{e(q),e(w),v(T,y)});let M=h(!1),re=h(null);function Z(o){v(re,o,!0),v(M,!0)}async function fe(){if(e(re))try{const o=await ua(e(re));o.ok?(v(re,null),v(M,!1),R()):(console.error("Failed to delete session:",o.error),alert("Failed to delete session"))}catch(o){console.error("Exception deleting session:",o)}}async function R(){v(m,!0);try{const o=await fa();o.ok&&o.data&&v(r,o.data.map(g=>({...g,activityType:"fingerboarding",syncStatus:"synced"})).sort((g,U)=>new Date(U.date).getTime()-new Date(g.date).getTime()),!0)}catch(o){console.error("Failed to fetch sessions",o)}finally{v(m,!1)}}R();let Y=ut(()=>e(r).filter(o=>!(e(q)&&new Date(o.date)<new Date(e(q))||e(w)&&new Date(o.date)>new Date(e(w)))));function z(){v(T,e(T)+y)}function ve(o){e(f).has(o)?e(f).delete(o):e(f).add(o),v(f,new Set(e(f)),!0)}function ie(o){return o.exercises.reduce((g,U)=>g+U.details.length,0)}var be=xi(),$=Pe(be),ne=a($),ee=s(a(ne),2);ee.__click=R;var ke=a(ee);{var Se=o=>{var g=ci();Ot(),i(o,g)},N=o=>{var g=jt("‚òÅÔ∏è Fetch Data");i(o,g)};c(ke,o=>{e(m)?o(Se):o(N,!1)})}t(ee),t(ne);var te=s(ne,2),F=a(te),le=s(a(F),2);Ve(le),t(F);var ae=s(F,2),se=s(a(ae),2);Ve(se),t(ae),t(te);var k=s(te,2);{var D=o=>{var g=_i();i(o,g)},J=o=>{var g=Ke(),U=Pe(g);{var oe=Le=>{var V=pi(),ye=a(V);{var _e=S=>{var Q=jt("No sessions match filter.");i(S,Q)},Fe=S=>{var Q=jt("No fingerboarding sessions logged yet.");i(S,Q)};c(ye,S=>{e(r).length>0?S(_e):S(Fe,!1)})}t(V),i(Le,V)},Te=Le=>{var V=yi(),ye=a(V);Ee(ye,17,()=>e(Y).slice(0,e(T)),je,(S,Q)=>{var C=hi();let me;var xe=a(C);xe.__click=()=>ve(e(Q).id),xe.__keydown=b=>b.key==="Enter"&&ve(e(Q).id);var W=a(xe),G=a(W),X=a(G,!0);t(G);var De=s(G,2),qe=a(De);{var ce=b=>{var O=jt();u(()=>d(O,`${e(Q).location??""} ¬∑`)),i(b,O)};c(qe,b=>{e(Q).location&&e(Q).location!=="N/A"&&e(Q).location!=="Home"&&b(ce)})}var pe=s(qe);t(De),t(W);var B=s(W,2),ue=a(B);let ge;var j=s(ue,2);j.__click=b=>{b.stopPropagation(),Z(e(Q).id)};var P=s(j,2),he=a(P,!0);t(P),t(B),t(xe);var we=s(xe,2);{var L=b=>{var O=mi(),Ce=a(O);Ee(Ce,21,()=>e(Q).exercises||[],je,(Me,Oe)=>{var Qe=gi(),He=a(Qe),Ye=a(He),Dt=a(Ye,!0);t(Ye);var mt=s(Ye,2),qt=a(mt,!0);t(mt),t(He);var ht=s(He,2);Ee(ht,21,()=>e(Oe).details,je,(vt,Je)=>{var Be=ui(),ft=a(Be),et=s(ft,2);t(Be),u(()=>{d(ft,`${e(Je).weight>0?`+${e(Je).weight}kg`:"BW"} `),d(et,` ${e(Je).reps??""}s/reps`)}),i(vt,Be)}),t(ht);var Lt=s(ht,2);{var kt=vt=>{var Je=fi(),Be=a(Je);t(Je),u(()=>d(Be,`"${e(Oe).notes??""}"`)),i(vt,Je)};c(Lt,vt=>{e(Oe).notes&&vt(kt)})}t(Qe),u(()=>{d(Dt,e(Oe).name),d(qt,e(Oe).gripType)}),i(Me,Qe)}),t(Ce),t(O),it(3,O,()=>lt,()=>({duration:150})),i(b,O)};c(we,b=>{e(f).has(e(Q).id)&&b(L)})}t(C),u((b,O,Ce,Me)=>{me=dt(C,1,"session-card svelte-1szs0u9",null,me,b),d(X,O),d(pe,` ${e(Q).exercises.length??""} Exercises ¬∑ ${Ce??""} Sets`),ge=dt(ue,1,"sync-dot svelte-1szs0u9",null,ge,{synced:e(Q).syncStatus==="synced"}),st(ue,"title",e(Q).syncStatus==="synced"?"Synced":"Local"),d(he,Me)},[()=>({expanded:e(f).has(e(Q).id)}),()=>new Date(e(Q).date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"}),()=>ie(e(Q)),()=>e(f).has(e(Q).id)?"‚ñ≤":"‚ñº"]),i(S,C)});var _e=s(ye,2);{var Fe=S=>{var Q=bi(),C=a(Q);C.__click=z;var me=a(C);t(C),t(Q),u(()=>d(me,`Load More (${e(Y).length-e(T)} remaining)`)),i(S,Q)};c(_e,S=>{e(T)<e(Y).length&&S(Fe)})}t(V),i(Le,V)};c(U,Le=>{e(Y).length===0?Le(oe):Le(Te,!1)},!0)}i(o,g)};c(k,o=>{e(m)&&e(r).length===0?o(D):o(J,!1)})}t($);var l=s($,2);Xt(l,{get isOpen(){return e(M)},title:"Delete Fingerboard Session",message:"Are you sure you want to delete this session? This cannot be undone.",onConfirm:fe,onCancel:()=>v(M,!1)}),u(()=>ee.disabled=e(m)),Ie(le,()=>e(q),o=>v(q,o)),Ie(se,()=>e(w),o=>v(w,o)),i(ze,be),wt()}gt(["click","keydown"]);var ki=n('<span class="spinner svelte-xyvf5r"></span> Fetching...',1),Si=n('<div class="loading svelte-xyvf5r">Loading sessions...</div>'),Ti=n('<div class="empty-state svelte-xyvf5r">No competitions logged yet.</div>'),Di=n('<button class="icon-btn edit-notes-btn svelte-xyvf5r" title="Edit Notes">‚úé</button>'),qi=n('<div class="edit-notes-area"><textarea placeholder="Add session notes..." rows="3" class="notes-editor svelte-xyvf5r"></textarea> <div class="edit-actions svelte-xyvf5r"><button class="cancel-btn svelte-xyvf5r">Cancel</button> <button class="save-btn svelte-xyvf5r"> </button></div></div>'),Li=n('<p class="note-text svelte-xyvf5r"> </p>'),zi=n('<p class="notes-placeholder svelte-xyvf5r">No notes.</p>'),Fi=n('<span class="round-pos svelte-xyvf5r"> </span>'),Ci=n('<span class="c-attempts svelte-xyvf5r"> </span>'),Ei=n('<div class="climb-notes svelte-xyvf5r"> </div>'),Gi=n('<div class="climb-row svelte-xyvf5r"><div class="climb-info svelte-xyvf5r"><span class="c-name svelte-xyvf5r"> </span> <!></div> <div class="climb-result"><span> </span></div></div> <!>',1),Ni=n('<div class="climbs-list"></div>'),ji=n('<div class="round-item svelte-xyvf5r"><div class="round-header svelte-xyvf5r"><span class="round-name"> </span> <!></div> <!></div>'),Oi=n('<div class="rounds-list svelte-xyvf5r"></div>'),Ai=n('<div class="load-meta svelte-xyvf5r"><span> </span></div>'),Mi=n('<div class="card-body svelte-xyvf5r"><div class="session-notes-container svelte-xyvf5r"><div class="notes-header svelte-xyvf5r"><span class="note-label svelte-xyvf5r">Session Notes</span> <!></div> <!></div> <!> <!> <div class="session-footer svelte-xyvf5r"><span> </span></div></div>'),Pi=n('<div><div class="card-header svelte-xyvf5r" role="button" tabindex="0"><div class="header-main svelte-xyvf5r"><div class="left-col svelte-xyvf5r"><span class="venue svelte-xyvf5r"> </span> <span class="date svelte-xyvf5r"> </span></div> <div class="right-col svelte-xyvf5r"><div class="badges svelte-xyvf5r"><span class="type-tag svelte-xyvf5r"> </span> <span class="result-tag svelte-xyvf5r"> </span></div></div></div> <div class="header-status svelte-xyvf5r"><span>‚óè</span> <button class="btn-icon delete-btn svelte-xyvf5r" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-xyvf5r"> </span></div></div> <!></div>'),Ii=n('<div class="load-more-container svelte-xyvf5r"><button class="load-more-btn svelte-xyvf5r"> </button></div>'),Bi=n('<div class="timeline svelte-xyvf5r"><!> <!></div>'),Ri=n('<div class="view-content svelte-xyvf5r"><div class="header svelte-xyvf5r"><h3 class="svelte-xyvf5r">üèÜ Competition Log</h3> <button class="fetch-btn svelte-xyvf5r" title="Fetch data from cloud"><!></button></div> <!> <!></div>');function Vi(ze,_){xt(_,!0);let r=h(ot([])),m=h(!0),q=h(ot(new Set)),w=h(20);const f=20;let T=h(!1),y=h(null);function M(l){v(y,l,!0),v(T,!0)}async function re(){if(e(y))try{const l=await ga(e(y));l.ok?(v(y,null),v(T,!1),Z()):(console.error("Failed to delete session:",l.error),alert("Failed to delete session"))}catch(l){console.error("Exception deleting session:",l)}}async function Z(){v(m,!0),v(w,f);try{const l=await ma();l.ok&&l.data&&v(r,l.data.map(o=>({...o,activityType:"competition",syncStatus:"synced",type:o.type,rounds:o.rounds.map(g=>({...g,climbs:g.climbs?.map(U=>({...U,status:U.status}))}))})).sort((o,g)=>new Date(g.date).getTime()-new Date(o.date).getTime()),!0)}catch(l){console.error("Failed to fetch sessions",l)}finally{v(m,!1)}}Z();function fe(l){e(q).has(l)?e(q).delete(l):e(q).add(l),v(q,new Set(e(q)),!0)}function R(){v(w,e(w)+f)}function Y(l){if(!l.rounds||l.rounds.length===0)return"No rounds";const o=l.rounds[l.rounds.length-1];if(o.position)return`#${o.position} ${o.name}`;if(o.climbs){const g=o.climbs.filter(oe=>oe.status==="Top"||oe.status==="Flash").length,U=o.climbs.filter(oe=>oe.status==="Zone").length;return`${l.rounds.length} Rnds ¬∑ Final: ${g}T ${U+g}Z`}return o.name}let z=h(ot(new Set)),ve=h(ot(new Map)),ie=h(ot(new Set));function be(l){e(ve).set(l.id,l.notes||""),v(ve,new Map(e(ve)),!0),e(z).add(l.id),v(z,new Set(e(z)),!0)}function $(l){e(z).delete(l),v(z,new Set(e(z)),!0),e(ve).delete(l),v(ve,new Map(e(ve)),!0)}function ne(l){return e(ve).get(l)||""}function ee(l,o){e(ve).set(l,o),v(ve,new Map(e(ve)),!0)}async function ke(l){if(e(ie).has(l.id))return;const o=e(ve).get(l.id);if(o===void 0)return;e(ie).add(l.id),v(ie,new Set(e(ie)),!0);const g=e(r).find(oe=>oe.id===l.id);g&&(g.notes=o);const U={date:l.date,time:l.time||"12:00",venue:l.venue,customVenue:l.customVenue,type:l.type,fingerLoad:l.fingerLoad,shoulderLoad:l.shoulderLoad,forearmLoad:l.forearmLoad,rounds:l.rounds,notes:o};try{const oe=await ha(l.id,U);oe.ok||console.error("Failed to sync note update:",oe.error)}catch(oe){console.error("Exception syncing note update:",oe)}e(z).delete(l.id),v(z,new Set(e(z)),!0),e(ie).delete(l.id),v(ie,new Set(e(ie)),!0)}var Se=Ri(),N=a(Se),te=s(a(N),2);te.__click=Z;var F=a(te);{var le=l=>{var o=ki();Ot(),i(l,o)},ae=l=>{var o=jt("‚òÅÔ∏è Fetch Data");i(l,o)};c(F,l=>{e(m)?l(le):l(ae,!1)})}t(te),t(N);var se=s(N,2);{var k=l=>{var o=Si();i(l,o)},D=l=>{var o=Ke(),g=Pe(o);{var U=Te=>{var Le=Ti();i(Te,Le)},oe=Te=>{var Le=Bi(),V=a(Le);Ee(V,17,()=>e(r).slice(0,e(w)),je,(Fe,S)=>{var Q=Pi();let C;var me=a(Q);me.__click=()=>fe(e(S).id),me.__keydown=Oe=>Oe.key==="Enter"&&fe(e(S).id);var xe=a(me),W=a(xe),G=a(W),X=a(G,!0);t(G);var De=s(G,2),qe=a(De,!0);t(De),t(W);var ce=s(W,2),pe=a(ce),B=a(pe),ue=a(B,!0);t(B);var ge=s(B,2),j=a(ge,!0);t(ge),t(pe),t(ce),t(xe);var P=s(xe,2),he=a(P);let we;var L=s(he,2);L.__click=Oe=>{Oe.stopPropagation(),M(e(S).id)};var b=s(L,2),O=a(b,!0);t(b),t(P),t(me);var Ce=s(me,2);{var Me=Oe=>{var Qe=Mi(),He=a(Qe),Ye=a(He),Dt=s(a(Ye),2);{var mt=Ge=>{var Ne=Di();Ne.__click=()=>be(e(S)),i(Ge,Ne)};c(Dt,Ge=>{e(z).has(e(S).id)||Ge(mt)})}t(Ye);var qt=s(Ye,2);{var ht=Ge=>{var Ne=qi(),Ze=a(Ne);Zt(Ze),Ze.__input=ct=>ee(e(S).id,ct.currentTarget.value);var Ue=s(Ze,2),at=a(Ue);at.__click=()=>$(e(S).id);var Re=s(at,2);Re.__click=()=>ke(e(S));var We=a(Re,!0);t(Re),t(Ue),t(Ne),u((ct,St,Tt,zt)=>{va(Ze,ct),at.disabled=St,Re.disabled=Tt,d(We,zt)},[()=>ne(e(S).id),()=>e(ie).has(e(S).id),()=>e(ie).has(e(S).id),()=>e(ie).has(e(S).id)?"Saving...":"Save"]),it(3,Ne,()=>lt,()=>({duration:150})),i(Ge,Ne)},Lt=Ge=>{var Ne=Ke(),Ze=Pe(Ne);{var Ue=Re=>{var We=Li(),ct=a(We,!0);t(We),u(()=>d(ct,e(S).notes)),i(Re,We)},at=Re=>{var We=zi();i(Re,We)};c(Ze,Re=>{e(S).notes?Re(Ue):Re(at,!1)},!0)}i(Ge,Ne)};c(qt,Ge=>{e(z).has(e(S).id)?Ge(ht):Ge(Lt,!1)})}t(He);var kt=s(He,2);{var vt=Ge=>{var Ne=Oi();Ee(Ne,21,()=>e(S).rounds||[],je,(Ze,Ue)=>{var at=ji(),Re=a(at),We=a(Re),ct=a(We,!0);t(We);var St=s(We,2);{var Tt=rt=>{var yt=Fi(),Pt=a(yt);t(yt),u(()=>d(Pt,`#${e(Ue).position??""}`)),i(rt,yt)};c(St,rt=>{e(Ue).position&&rt(Tt)})}t(Re);var zt=s(Re,2);{var Xe=rt=>{var yt=Ni();Ee(yt,21,()=>e(Ue).climbs||[],je,(Pt,_t)=>{var Vt=Gi(),Ct=Pe(Vt),It=a(Ct),Et=a(It),Yt=a(Et,!0);t(Et);var Ut=s(Et,2);{var Jt=A=>{var p=Ci(),x=a(p);t(p),u(()=>d(x,`(${e(_t).attemptCount??""} tries)`)),i(A,p)};c(Ut,A=>{e(_t).attemptCount>1&&A(Jt)})}t(It);var Bt=s(It,2),At=a(Bt);let Mt;var Wt=a(At,!0);t(At),t(Bt),t(Ct);var Ht=s(Ct,2);{var I=A=>{var p=Ei(),x=a(p);t(p),u(()=>d(x,`"${e(_t).notes??""}"`)),i(A,p)};c(Ht,A=>{e(_t).notes&&A(I)})}u(()=>{d(Yt,e(_t).name),Mt=dt(At,1,"status-badge svelte-xyvf5r",null,Mt,{top:e(_t).status==="Top"||e(_t).status==="Flash",zone:e(_t).status==="Zone"}),d(Wt,e(_t).status)}),i(Pt,Vt)}),t(yt),i(rt,yt)};c(zt,rt=>{e(Ue).climbs&&rt(Xe)})}t(at),u(()=>d(ct,e(Ue).name)),i(Ze,at)}),t(Ne),i(Ge,Ne)};c(kt,Ge=>{e(S).rounds&&Ge(vt)})}var Je=s(kt,2);{var Be=Ge=>{var Ne=Ai(),Ze=a(Ne),Ue=a(Ze);t(Ze),t(Ne),u(()=>d(Ue,`Detailed Load: Fingers ${e(S).fingerLoad??""}/5, Shoulders ${e(S).shoulderLoad??""}/5,
										Forearms ${e(S).forearmLoad??""}/5`)),i(Ge,Ne)};c(Je,Ge=>{(e(S).fingerLoad||e(S).shoulderLoad)&&Ge(Be)})}var ft=s(Je,2),et=a(ft);let bt;var tt=a(et,!0);t(et),t(ft),t(Qe),u(()=>{bt=dt(et,1,"sync-status svelte-xyvf5r",null,bt,{synced:e(S).syncStatus==="synced"}),d(tt,e(S).syncStatus==="synced"?"‚úì Synced":"‚òÅ Local")}),it(3,Qe,()=>lt,()=>({duration:150})),i(Oe,Qe)};c(Ce,Oe=>{e(q).has(e(S).id)&&Oe(Me)})}t(Q),u((Oe,Qe,He,Ye)=>{C=dt(Q,1,"session-card svelte-xyvf5r",null,C,Oe),d(X,e(S).customVenue||e(S).venue),d(qe,Qe),d(ue,e(S).type),d(j,He),we=dt(he,1,"sync-dot",null,we,{synced:e(S).syncStatus==="synced"}),st(he,"title",e(S).syncStatus==="synced"?"Synced":"Local"),d(O,Ye)},[()=>({expanded:e(q).has(e(S).id)}),()=>new Date(e(S).date).toLocaleDateString(void 0,{weekday:"short",day:"numeric",month:"short",year:"numeric"}),()=>Y(e(S)),()=>e(q).has(e(S).id)?"‚ñ≤":"‚ñº"]),i(Fe,Q)});var ye=s(V,2);{var _e=Fe=>{var S=Ii(),Q=a(S);Q.__click=R;var C=a(Q);t(Q),t(S),u(()=>d(C,`Load More (${e(r).length-e(w)} remaining)`)),i(Fe,S)};c(ye,Fe=>{e(w)<e(r).length&&Fe(_e)})}t(Le),i(Te,Le)};c(g,Te=>{e(r).length===0?Te(U):Te(oe,!1)},!0)}i(l,o)};c(se,l=>{e(m)&&e(r).length===0?l(k):l(D,!1)})}var J=s(se,2);Xt(J,{get isOpen(){return e(T)},title:"Delete Competition",message:"Are you sure you want to delete this competition session? This action cannot be undone.",onConfirm:re,onCancel:()=>v(T,!1)}),t(Se),u(()=>te.disabled=e(m)),i(ze,Se),wt()}gt(["click","keydown","input"]);var Ui=n("<option> </option>"),Wi=n('<div class="view-container svelte-108px9u"><!></div>'),Hi=n('<div class="page svelte-108px9u"><div class="page-header svelte-108px9u"><div><h1 class="svelte-108px9u">üìä View Data</h1> <p class="subtitle svelte-108px9u">Browse your training history</p></div></div> <div class="content-card svelte-108px9u"><div class="form-group svelte-108px9u"><label for="activity-type" class="svelte-108px9u">Activity Type</label> <select id="activity-type" class="svelte-108px9u"><option disabled>Select an activity...</option><!></select></div> <!></div></div>');function al(ze){const _=[{value:"indoor_climb",label:"Indoor Climb",icon:"üßó"},{value:"outdoor_climb",label:"Outdoor Climb",icon:"‚õ∞Ô∏è"},{value:"gym_session",label:"Gym Session",icon:"üèãÔ∏è"},{value:"fingerboarding",label:"Fingerboarding",icon:"ü§è"},{value:"competition",label:"Competition",icon:"üèÜ"}];let r=h("");var m=Hi(),q=s(a(m),2),w=a(q),f=s(a(w),2),T=a(f);T.value=T.__value="";var y=s(T);Ee(y,17,()=>_,Z=>Z.value,(Z,fe)=>{var R=Ui(),Y=a(R);t(R);var z={};u(()=>{d(Y,`${e(fe).icon??""} ${e(fe).label??""}`),z!==(z=e(fe).value)&&(R.value=(R.__value=e(fe).value)??"")}),i(Z,R)}),t(f),t(w);var M=s(w,2);{var re=Z=>{var fe=Wi(),R=a(fe);{var Y=ve=>{zs(ve,{})},z=ve=>{var ie=Ke(),be=Pe(ie);{var $=ee=>{Or(ee,{})},ne=ee=>{var ke=Ke(),Se=Pe(ke);{var N=F=>{di(F,{})},te=F=>{var le=Ke(),ae=Pe(le);{var se=D=>{wi(D,{})},k=D=>{var J=Ke(),l=Pe(J);{var o=g=>{Vi(g,{})};c(l,g=>{e(r)==="competition"&&g(o)},!0)}i(D,J)};c(ae,D=>{e(r)==="fingerboarding"?D(se):D(k,!1)},!0)}i(F,le)};c(Se,F=>{e(r)==="gym_session"?F(N):F(te,!1)},!0)}i(ee,ke)};c(be,ee=>{e(r)==="outdoor_climb"?ee($):ee(ne,!1)},!0)}i(ve,ie)};c(R,ve=>{e(r)==="indoor_climb"?ve(Y):ve(z,!1)})}t(fe),i(Z,fe)};c(M,Z=>{e(r)&&Z(re)})}t(q),t(m),Ft(f,()=>e(r),Z=>v(r,Z)),i(ze,m)}export{al as component};
