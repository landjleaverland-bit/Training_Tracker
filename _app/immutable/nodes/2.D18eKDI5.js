import{n as be,f as Dl,r as Je,s as Qe,h as De,i as Hl,e as Fl,y as Ll,c as Il,o as jl}from"../chunks/GsYGQhEn.js";import{y as zl,z as Gl,A as ql,B as Wl,l as ye,k as Ae,S as Xe,i as Ze,d as g,C as qe,D as U,E as Ge,a as q,b as i,F as K,G as xl,w as a,c as v,e as C,H as z,g as I,h as p,j as S,s as Ve,f as pe,t as _e,I as ze,J as Ne,K as Be,m as xe,n as Ke,L as Sl,M as We,N as Ye,o as mt,p as bt,q as ft,r as dt,u as vt,v as Ct,O as ut,P as ht,Q as Kl}from"../chunks/BD0eBpJ7.js";import{w as Ol}from"../chunks/ZG84kFMr.js";function Nl(s,e,t,n){if(!e)return be;const l=s.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return be;const{delay:r=0,duration:c=300,easing:o=Dl,start:u=zl()+r,end:b=u+c,tick:h=be,css:_}=t(s,{from:e,to:l},n);let d=!0,f=!1,k;function m(){_&&(k=Wl(s,0,1,c,r,o,_)),r||(f=!0)}function y(){_&&ql(s,k),d=!1}return Gl(T=>{if(!f&&T>=u&&(f=!0),f&&T>=b&&(h(1,0),y()),!d)return!1;if(f){const L=T-u,E=0+1*o(L/c);h(E,1-E)}return!0}),m(),h(0,1),y}function Al(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,l=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=n,Et(s,l)}}function Et(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(s),l=n.transform==="none"?"":n.transform;s.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function de(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Bl(s,e){s.d(1),e.delete(s.key)}function Yl(s,e){Ae(s,1,1,()=>{e.delete(s.key)})}function Vl(s,e){s.f(),Yl(s,e)}function kt(s,e,t,n,l,r,c,o,u,b,h,_){let d=s.length,f=r.length,k=d;const m={};for(;k--;)m[s[k].key]=k;const y=[],T=new Map,L=new Map,E=[];for(k=f;k--;){const N=_(l,r,k),D=t(N);let M=c.get(D);M?E.push(()=>M.p(N,e)):(M=b(D,N),M.c()),T.set(D,y[k]=M),D in m&&L.set(D,Math.abs(k-m[D]))}const O=new Set,w=new Set;function B(N){ye(N,1),N.m(o,h),c.set(N.key,N),h=N.first,f--}for(;d&&f;){const N=y[f-1],D=s[d-1],M=N.key,F=D.key;N===D?(h=N.first,d--,f--):T.has(F)?!c.has(M)||O.has(M)?B(N):w.has(F)?d--:L.get(M)>L.get(F)?(w.add(M),B(N)):(O.add(F),d--):(u(D,c),d--)}for(;d--;){const N=s[d];T.has(N.key)||u(N,c)}for(;f;)B(y[f-1]);return Je(E),y}const yt="training_tracker_api_key",Jl="c2fb788c7deedbeaa296e424d4c2921b871a4f6cb4cf393c1c1105653ab399b4",Ql=localStorage.getItem(yt),ct=Ol(Ql);ct.subscribe(s=>{s?localStorage.setItem(yt,s):localStorage.removeItem(yt)});async function Xl(s){const e=new TextEncoder().encode(s),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(l=>l.toString(16).padStart(2,"0")).join("")}async function Zl(s){return await Xl(s)===Jl?(ct.set(s),!0):!1}function $l(){ct.set(null)}function Pl(s){const e=s-1;return e*e*e+1}function Fe(s,{delay:e=0,duration:t=400,easing:n=Dl}={}){const l=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:n,css:r=>`opacity: ${r*l}`}}function ot(s,{delay:e=0,duration:t=400,easing:n=Pl,axis:l="y"}={}){const r=getComputedStyle(s),c=+r.opacity,o=l==="y"?"height":"width",u=parseFloat(r[o]),b=l==="y"?["top","bottom"]:["left","right"],h=b.map(T=>`${T[0].toUpperCase()}${T.slice(1)}`),_=parseFloat(r[`padding${h[0]}`]),d=parseFloat(r[`padding${h[1]}`]),f=parseFloat(r[`margin${h[0]}`]),k=parseFloat(r[`margin${h[1]}`]),m=parseFloat(r[`border${h[0]}Width`]),y=parseFloat(r[`border${h[1]}Width`]);return{delay:e,duration:t,easing:n,css:T=>`overflow: hidden;opacity: ${Math.min(T*20,1)*c};${o}: ${T*u}px;padding-${b[0]}: ${T*_}px;padding-${b[1]}: ${T*d}px;margin-${b[0]}: ${T*f}px;margin-${b[1]}: ${T*k}px;border-${b[0]}-width: ${T*m}px;border-${b[1]}-width: ${T*y}px;`}}function Lt(s){let e,t;return{c(){e=p("span"),t=_e(s[1]),this.h()},l(n){e=v(n,"SPAN",{class:!0});var l=C(e);t=pe(l,s[1]),l.forEach(g),this.h()},h(){a(e,"class","error-text svelte-9dby7l")},m(n,l){q(n,e,l),i(e,t)},p(n,l){l&2&&Ve(t,n[1])},d(n){n&&g(e)}}}function en(s){let e,t,n='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',l,r,c="Access Restricted",o,u,b="Please enter your password to unlock the application.",h,_,d,f,k,m,y,T="Unlock App",L,E,O,w=s[1]&&Lt(s);return{c(){e=p("div"),t=p("div"),t.innerHTML=n,l=S(),r=p("h2"),r.textContent=c,o=S(),u=p("p"),u.textContent=b,h=S(),_=p("form"),d=p("div"),f=p("input"),k=S(),w&&w.c(),m=S(),y=p("button"),y.textContent=T,this.h()},l(B){e=v(B,"DIV",{class:!0});var N=C(e);t=v(N,"DIV",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1lmknyl"&&(t.innerHTML=n),l=I(N),r=v(N,"H2",{class:!0,"data-svelte-h":!0}),z(r)!=="svelte-r8hgrj"&&(r.textContent=c),o=I(N),u=v(N,"P",{class:!0,"data-svelte-h":!0}),z(u)!=="svelte-1ix94go"&&(u.textContent=b),h=I(N),_=v(N,"FORM",{class:!0});var D=C(_);d=v(D,"DIV",{class:!0});var M=C(d);f=v(M,"INPUT",{type:!0,placeholder:!0,class:!0}),k=I(M),w&&w.l(M),M.forEach(g),m=I(D),y=v(D,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),z(y)!=="svelte-6e23ii"&&(y.textContent=T),D.forEach(g),N.forEach(g),this.h()},h(){a(t,"class","lock-icon svelte-9dby7l"),a(r,"class","svelte-9dby7l"),a(u,"class","svelte-9dby7l"),a(f,"type","password"),a(f,"placeholder","Enter Password"),f.disabled=s[2],a(f,"class","svelte-9dby7l"),Ge(f,"error",s[1]),a(d,"class","input-group svelte-9dby7l"),a(y,"type","submit"),a(y,"class","unlock-button svelte-9dby7l"),a(_,"class","svelte-9dby7l"),a(e,"class","login-container svelte-9dby7l")},m(B,N){q(B,e,N),i(e,t),i(e,l),i(e,r),i(e,o),i(e,u),i(e,h),i(e,_),i(_,d),i(d,f),U(f,s[0]),i(d,k),w&&w.m(d,null),i(_,m),i(_,y),E||(O=[K(f,"input",s[4]),K(_,"submit",xl(s[3]))],E=!0)},p(B,[N]){N&4&&(f.disabled=B[2]),N&1&&f.value!==B[0]&&U(f,B[0]),N&2&&Ge(f,"error",B[1]),B[1]?w?w.p(B,N):(w=Lt(B),w.c(),w.m(d,null)):w&&(w.d(1),w=null)},i(B){B&&(L||De(()=>{L=qe(e,Fe,{}),L.start()}))},o:be,d(B){B&&g(e),w&&w.d(),E=!1,Je(O)}}}function tn(s,e,t){let n="",l="",r=!1;async function c(){if(!n.trim()){t(1,l="Please enter a password");return}t(2,r=!0),t(1,l="");try{await Zl(n.trim())||t(1,l="Incorrect password")}catch{t(1,l="An error occurred")}finally{t(2,r=!1)}}function o(){n=this.value,t(0,n)}return[n,l,r,c,o]}class ln extends Xe{constructor(e){super(),Ze(this,e,tn,en,Qe,{})}}function Ml(s,{from:e,to:t},n={}){const l=getComputedStyle(s),r=l.transform==="none"?"":l.transform,[c,o]=l.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*c/t.width-(t.left+c),b=e.top+e.height*o/t.height-(t.top+o),{delay:h=0,duration:_=f=>Math.sqrt(f)*120,easing:d=Pl}=n;return{delay:h,duration:Hl(_)?_(Math.sqrt(u*u+b*b)):_,easing:d,css:(f,k)=>{const m=k*u,y=k*b,T=f+k*e.width/t.width,L=f+k*e.height/t.height;return`transform: ${r} translate(${m}px, ${y}px) scale(${T}, ${L});`}}}function It(s,e,t){const n=s.slice();return n[21]=e[t],n[22]=e,n[23]=t,n}function St(s,e,t){const n=s.slice();return n[24]=e[t],n}function Ot(s,e,t){const n=s.slice();return n[24]=e[t],n}function Nt(s){let e,t=s[24]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=C(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[24],U(e,e.__value)},m(l,r){q(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function At(s){let e,t=s[24]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=C(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[24],U(e,e.__value)},m(l,r){q(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function Bt(s,e){let t,n,l,r,c,o,u,b,h,_,d,f,k,m,y,T='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',L,E,O,w=be,B,N,D;function M(){e[16].call(l,e[22],e[23])}function F(){e[17].call(o,e[22],e[23])}function Y(){e[18].call(h,e[22],e[23])}function ne(){e[19].call(f,e[22],e[23])}function ke(){return e[20](e[21])}return{key:s,first:null,c(){t=p("tr"),n=p("td"),l=p("input"),r=S(),c=p("td"),o=p("input"),u=S(),b=p("td"),h=p("input"),_=S(),d=p("td"),f=p("textarea"),k=S(),m=p("td"),y=p("button"),y.innerHTML=T,L=S(),this.h()},l(V){t=v(V,"TR",{});var A=C(t);n=v(A,"TD",{class:!0});var oe=C(n);l=v(oe,"INPUT",{type:!0,class:!0}),oe.forEach(g),r=I(A),c=v(A,"TD",{class:!0});var Z=C(c);o=v(Z,"INPUT",{type:!0,placeholder:!0,class:!0}),Z.forEach(g),u=I(A),b=v(A,"TD",{class:!0});var J=C(b);h=v(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(g),_=I(A),d=v(A,"TD",{class:!0});var re=C(d);f=v(re,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),C(f).forEach(g),re.forEach(g),k=I(A),m=v(A,"TD",{class:!0});var G=C(m);y=v(G,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),z(y)!=="svelte-zfon6j"&&(y.innerHTML=T),G.forEach(g),L=I(A),A.forEach(g),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-89kcbh"),a(n,"class","checkbox-col svelte-89kcbh"),a(o,"type","text"),a(o,"placeholder","e.g. Blue"),a(o,"class","svelte-89kcbh"),a(c,"class","svelte-89kcbh"),a(h,"type","text"),a(h,"placeholder","e.g. 6b+"),a(h,"class","svelte-89kcbh"),a(b,"class","svelte-89kcbh"),a(f,"placeholder","e.g. Smooth"),a(f,"rows","1"),a(f,"class","svelte-89kcbh"),a(d,"class","svelte-89kcbh"),a(y,"class","delete-btn svelte-89kcbh"),a(y,"title","Remove row"),a(m,"class","actions-col svelte-89kcbh"),this.first=t},m(V,A){q(V,t,A),i(t,n),i(n,l),l.checked=e[21].isRopes,i(t,r),i(t,c),i(c,o),U(o,e[21].name),i(t,u),i(t,b),i(b,h),U(h,e[21].grade),i(t,_),i(t,d),i(d,f),U(f,e[21].notes),i(t,k),i(t,m),i(m,y),i(t,L),B=!0,N||(D=[K(l,"change",M),K(o,"input",F),K(h,"input",Y),K(f,"input",ne),K(y,"click",ke)],N=!0)},p(V,A){e=V,A&32&&(l.checked=e[21].isRopes),A&32&&o.value!==e[21].name&&U(o,e[21].name),A&32&&h.value!==e[21].grade&&U(h,e[21].grade),A&32&&U(f,e[21].notes)},r(){O=t.getBoundingClientRect()},f(){Al(t),w(),Et(t,O)},a(){w(),w=Nl(t,O,Ml,{duration:300})},i(V){B||(E&&E.end(1),B=!0)},o(V){V&&(E=Sl(t,ot,{duration:200})),B=!1},d(V){V&&g(t),V&&E&&E.end(),N=!1,Je(D)}}}function nn(s){let e,t,n,l,r="Location",c,o,u,b="Select Location",h,_,d,f="Session Focus",k,m,y,T="Select Focus",L,E,O,w,B="Finger Load (0-5)",N,D,M,F,Y,ne="Shoulder Load (0-5)",ke,V,A,oe,Z,J="Forearm Load (0-5)",re,G,we,ie,ue,$,Pe="Exercises / Routes",ce,ve,he=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,Le,se,ee,j,Te='<tr><th class="checkbox-col svelte-89kcbh">Ropes?</th> <th class="svelte-89kcbh">Route</th> <th class="svelte-89kcbh">Grade</th> <th class="svelte-89kcbh">Notes</th> <th class="actions-col svelte-89kcbh"></th></tr>',ae,R,H=[],W=new Map,ge,Ie,fe,Ue,Se=de(s[6]),me=[];for(let P=0;P<Se.length;P+=1)me[P]=Nt(Ot(s,Se,P));let Me=de(s[7]),Ce=[];for(let P=0;P<Me.length;P+=1)Ce[P]=At(St(s,Me,P));let Re=de(s[5]);const Ee=P=>P[21].id;for(let P=0;P<Re.length;P+=1){let X=It(s,Re,P),x=Ee(X);W.set(x,H[P]=Bt(x,X))}return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=r,c=S(),o=p("select"),u=p("option"),u.textContent=b;for(let P=0;P<me.length;P+=1)me[P].c();h=S(),_=p("div"),d=p("label"),d.textContent=f,k=S(),m=p("select"),y=p("option"),y.textContent=T;for(let P=0;P<Ce.length;P+=1)Ce[P].c();L=S(),E=p("div"),O=p("div"),w=p("label"),w.textContent=B,N=S(),D=p("input"),M=S(),F=p("div"),Y=p("label"),Y.textContent=ne,ke=S(),V=p("input"),A=S(),oe=p("div"),Z=p("label"),Z.textContent=J,re=S(),G=p("input"),we=S(),ie=p("div"),ue=p("div"),$=p("h3"),$.textContent=Pe,ce=S(),ve=p("button"),ve.innerHTML=he,Le=S(),se=p("div"),ee=p("table"),j=p("thead"),j.innerHTML=Te,ae=S(),R=p("tbody");for(let P=0;P<H.length;P+=1)H[P].c();this.h()},l(P){e=v(P,"DIV",{class:!0});var X=C(e);t=v(X,"DIV",{class:!0});var x=C(t);n=v(x,"DIV",{class:!0});var Oe=C(n);l=v(Oe,"LABEL",{for:!0,"data-svelte-h":!0}),z(l)!=="svelte-1ij7h26"&&(l.textContent=r),c=I(Oe),o=v(Oe,"SELECT",{id:!0,class:!0});var $e=C(o);u=v($e,"OPTION",{"data-svelte-h":!0}),z(u)!=="svelte-mwu9va"&&(u.textContent=b);for(let He=0;He<me.length;He+=1)me[He].l($e);$e.forEach(g),Oe.forEach(g),h=I(x),_=v(x,"DIV",{class:!0});var rt=C(_);d=v(rt,"LABEL",{for:!0,"data-svelte-h":!0}),z(d)!=="svelte-tg5qne"&&(d.textContent=f),k=I(rt),m=v(rt,"SELECT",{id:!0,class:!0});var Q=C(m);y=v(Q,"OPTION",{"data-svelte-h":!0}),z(y)!=="svelte-1ni71k3"&&(y.textContent=T);for(let He=0;He<Ce.length;He+=1)Ce[He].l(Q);Q.forEach(g),rt.forEach(g),x.forEach(g),L=I(X),E=v(X,"DIV",{class:!0});var le=C(E);O=v(le,"DIV",{class:!0});var te=C(O);w=v(te,"LABEL",{for:!0,"data-svelte-h":!0}),z(w)!=="svelte-oda77g"&&(w.textContent=B),N=I(te),D=v(te,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),te.forEach(g),M=I(le),F=v(le,"DIV",{class:!0});var je=C(F);Y=v(je,"LABEL",{for:!0,"data-svelte-h":!0}),z(Y)!=="svelte-1vtbxrq"&&(Y.textContent=ne),ke=I(je),V=v(je,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),je.forEach(g),A=I(le),oe=v(le,"DIV",{class:!0});var st=C(oe);Z=v(st,"LABEL",{for:!0,"data-svelte-h":!0}),z(Z)!=="svelte-198js8s"&&(Z.textContent=J),re=I(st),G=v(st,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),st.forEach(g),le.forEach(g),we=I(X),ie=v(X,"DIV",{class:!0});var et=C(ie);ue=v(et,"DIV",{class:!0});var tt=C(ue);$=v(tt,"H3",{class:!0,"data-svelte-h":!0}),z($)!=="svelte-10xktbo"&&($.textContent=Pe),ce=I(tt),ve=v(tt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),z(ve)!=="svelte-psf54d"&&(ve.innerHTML=he),tt.forEach(g),Le=I(et),se=v(et,"DIV",{class:!0});var lt=C(se);ee=v(lt,"TABLE",{class:!0});var nt=C(ee);j=v(nt,"THEAD",{"data-svelte-h":!0}),z(j)!=="svelte-3ucy7b"&&(j.innerHTML=Te),ae=I(nt),R=v(nt,"TBODY",{});var at=C(R);for(let He=0;He<H.length;He+=1)H[He].l(at);at.forEach(g),nt.forEach(g),lt.forEach(g),et.forEach(g),X.forEach(g),this.h()},h(){a(l,"for","climb-location"),u.__value="",U(u,u.__value),u.disabled=!0,u.selected=!0,a(o,"id","climb-location"),a(o,"class","svelte-89kcbh"),s[0]===void 0&&De(()=>s[11].call(o)),a(n,"class","input-group svelte-89kcbh"),a(d,"for","climb-session"),y.__value="",U(y,y.__value),y.disabled=!0,y.selected=!0,a(m,"id","climb-session"),a(m,"class","svelte-89kcbh"),s[1]===void 0&&De(()=>s[12].call(m)),a(_,"class","input-group svelte-89kcbh"),a(t,"class","form-grid svelte-89kcbh"),a(w,"for","finger-load"),a(D,"id","finger-load"),a(D,"type","number"),a(D,"min","0"),a(D,"max","5"),a(D,"class","svelte-89kcbh"),a(O,"class","load-group svelte-89kcbh"),a(Y,"for","shoulder-load"),a(V,"id","shoulder-load"),a(V,"type","number"),a(V,"min","0"),a(V,"max","5"),a(V,"class","svelte-89kcbh"),a(F,"class","load-group svelte-89kcbh"),a(Z,"for","forearm-load"),a(G,"id","forearm-load"),a(G,"type","number"),a(G,"min","0"),a(G,"max","5"),a(G,"class","svelte-89kcbh"),a(oe,"class","load-group svelte-89kcbh"),a(E,"class","load-metrics svelte-89kcbh"),a($,"class","svelte-89kcbh"),a(ve,"class","add-row-btn svelte-89kcbh"),a(ve,"title","Add Exercise"),a(ue,"class","section-header svelte-89kcbh"),a(ee,"class","svelte-89kcbh"),a(se,"class","table-container svelte-89kcbh"),a(ie,"class","exercise-section svelte-89kcbh"),a(e,"class","indoor-config svelte-89kcbh")},m(P,X){q(P,e,X),i(e,t),i(t,n),i(n,l),i(n,c),i(n,o),i(o,u);for(let x=0;x<me.length;x+=1)me[x]&&me[x].m(o,null);Ne(o,s[0],!0),i(t,h),i(t,_),i(_,d),i(_,k),i(_,m),i(m,y);for(let x=0;x<Ce.length;x+=1)Ce[x]&&Ce[x].m(m,null);Ne(m,s[1],!0),i(e,L),i(e,E),i(E,O),i(O,w),i(O,N),i(O,D),U(D,s[2]),i(E,M),i(E,F),i(F,Y),i(F,ke),i(F,V),U(V,s[3]),i(E,A),i(E,oe),i(oe,Z),i(oe,re),i(oe,G),U(G,s[4]),i(e,we),i(e,ie),i(ie,ue),i(ue,$),i(ue,ce),i(ue,ve),i(ie,Le),i(ie,se),i(se,ee),i(ee,j),i(ee,ae),i(ee,R);for(let x=0;x<H.length;x+=1)H[x]&&H[x].m(R,null);Ie=!0,fe||(Ue=[K(o,"change",s[11]),K(m,"change",s[12]),K(D,"input",s[13]),K(V,"input",s[14]),K(G,"input",s[15]),K(ve,"click",s[8])],fe=!0)},p(P,[X]){if(X&64){Se=de(P[6]);let x;for(x=0;x<Se.length;x+=1){const Oe=Ot(P,Se,x);me[x]?me[x].p(Oe,X):(me[x]=Nt(Oe),me[x].c(),me[x].m(o,null))}for(;x<me.length;x+=1)me[x].d(1);me.length=Se.length}if(X&65&&Ne(o,P[0]),X&128){Me=de(P[7]);let x;for(x=0;x<Me.length;x+=1){const Oe=St(P,Me,x);Ce[x]?Ce[x].p(Oe,X):(Ce[x]=At(Oe),Ce[x].c(),Ce[x].m(m,null))}for(;x<Ce.length;x+=1)Ce[x].d(1);Ce.length=Me.length}if(X&130&&Ne(m,P[1]),X&4&&Be(D.value)!==P[2]&&U(D,P[2]),X&8&&Be(V.value)!==P[3]&&U(V,P[3]),X&16&&Be(G.value)!==P[4]&&U(G,P[4]),X&544){Re=de(P[5]),xe();for(let x=0;x<H.length;x+=1)H[x].r();H=kt(H,X,Ee,1,P,Re,W,R,Vl,Bt,null,It);for(let x=0;x<H.length;x+=1)H[x].a();Ke()}},i(P){if(!Ie){for(let X=0;X<Re.length;X+=1)ye(H[X]);P&&(ge||De(()=>{ge=qe(e,Fe,{}),ge.start()})),Ie=!0}},o(P){for(let X=0;X<H.length;X+=1)Ae(H[X]);Ie=!1},d(P){P&&g(e),ze(me,P),ze(Ce,P);for(let X=0;X<H.length;X+=1)H[X].d();fe=!1,Je(Ue)}}}function sn(s,e,t){let n="",l="",r=0,c=0,o=0,u=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];const b=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],h=["Strength","Endurance","Power","Recovery"];function _(){t(5,u=[...u,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function d(D){u.length>1?t(5,u=u.filter(M=>M.id!==D)):t(5,u=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function f(){return{location:n,session:l,fingerLoad:r,shoulderLoad:c,forearmLoad:o,exercises:u}}function k(){n=We(this),t(0,n),t(6,b)}function m(){l=We(this),t(1,l),t(7,h)}function y(){r=Be(this.value),t(2,r)}function T(){c=Be(this.value),t(3,c)}function L(){o=Be(this.value),t(4,o)}function E(D,M){D[M].isRopes=this.checked,t(5,u)}function O(D,M){D[M].name=this.value,t(5,u)}function w(D,M){D[M].grade=this.value,t(5,u)}function B(D,M){D[M].notes=this.value,t(5,u)}return[n,l,r,c,o,u,b,h,_,d,f,k,m,y,T,L,E,O,w,B,D=>d(D.id)]}class on extends Xe{constructor(e){super(),Ze(this,e,sn,nn,Qe,{getData:10})}get getData(){return this.$$.ctx[10]}}function rn(s){let e,t=`<h3 class="svelte-fh7bet">Gym Session Config</h3> <p class="svelte-fh7bet">Specific fields for gym sessions will go here (e.g., Focus, Exercises,
        Sets/Reps).</p> <div class="placeholder-box svelte-fh7bet"></div>`,n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-gs8whu"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,r){q(l,e,r)},p:be,i(l){l&&(n||De(()=>{n=qe(e,Fe,{}),n.start()}))},o:be,d(l){l&&g(e)}}}let an="",cn="";function un(s,e,t){let n=[];function l(){return{location:an,session:cn,exercises:n,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class hn extends Xe{constructor(e){super(),Ze(this,e,un,rn,Qe,{getData:0})}get getData(){return this.$$.ctx[0]}}function Vt(s,e,t){const n=s.slice();return n[30]=e[t],n[31]=e,n[32]=t,n}function Pt(s,e,t){const n=s.slice();return n[33]=e[t],n}function Mt(s,e,t){const n=s.slice();return n[36]=e[t],n}function Rt(s){let e,t=s[36]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=C(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[36],U(e,e.__value)},m(l,r){q(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function Ut(s){let e,t,n,l,r,c;return{c(){e=p("div"),t=p("input"),this.h()},l(o){e=v(o,"DIV",{});var u=C(e);t=v(u,"INPUT",{type:!0,placeholder:!0,class:!0}),u.forEach(g),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Area..."),a(t,"class","custom-input svelte-dcgklv")},m(o,u){q(o,e,u),i(e,t),U(t,s[1]),l=!0,r||(c=K(t,"input",s[16]),r=!0)},p(o,u){u[0]&2&&t.value!==o[1]&&U(t,o[1])},i(o){l||(o&&De(()=>{l&&(n||(n=Ye(e,ot,{},!0)),n.run(1))}),l=!0)},o(o){o&&(n||(n=Ye(e,ot,{},!1)),n.run(0)),l=!1},d(o){o&&g(e),o&&n&&n.end(),r=!1,c()}}}function fn(s){let e,t,n,l,r;return{c(){e=p("input"),this.h()},l(c){e=v(c,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","climb-crag"),a(e,"type","text"),a(e,"placeholder",t=s[0]==="Other"?"Enter Crag Name":"Select area first..."),e.disabled=n=!s[0],a(e,"class","svelte-dcgklv")},m(c,o){q(c,e,o),U(e,s[2]),l||(r=K(e,"input",s[19]),l=!0)},p(c,o){o[0]&1025&&t!==(t=c[0]==="Other"?"Enter Crag Name":"Select area first...")&&a(e,"placeholder",t),o[0]&1025&&n!==(n=!c[0])&&(e.disabled=n),o[0]&516&&e.value!==c[2]&&U(e,c[2])},d(c){c&&g(e),l=!1,r()}}}function dn(s){let e,t,n="Select Crag",l,r="Other (Custom)",c,o,u,b,h=de(s[9]),_=[];for(let f=0;f<h.length;f+=1)_[f]=Ht(Pt(s,h,f));let d=s[2]==="Other"&&Ft(s);return{c(){e=p("select"),t=p("option"),t.textContent=n;for(let f=0;f<_.length;f+=1)_[f].c();l=p("option"),l.textContent=r,c=S(),d&&d.c(),o=mt(),this.h()},l(f){e=v(f,"SELECT",{id:!0,class:!0});var k=C(e);t=v(k,"OPTION",{"data-svelte-h":!0}),z(t)!=="svelte-1bf8330"&&(t.textContent=n);for(let m=0;m<_.length;m+=1)_[m].l(k);l=v(k,"OPTION",{"data-svelte-h":!0}),z(l)!=="svelte-1ws39oy"&&(l.textContent=r),k.forEach(g),c=I(f),d&&d.l(f),o=mt(),this.h()},h(){t.__value="",U(t,t.__value),t.disabled=!0,t.selected=!0,l.__value="Other",U(l,l.__value),a(e,"id","climb-crag"),a(e,"class","svelte-dcgklv"),s[2]===void 0&&De(()=>s[17].call(e))},m(f,k){q(f,e,k),i(e,t);for(let m=0;m<_.length;m+=1)_[m]&&_[m].m(e,null);i(e,l),Ne(e,s[2],!0),q(f,c,k),d&&d.m(f,k),q(f,o,k),u||(b=K(e,"change",s[17]),u=!0)},p(f,k){if(k[0]&512){h=de(f[9]);let m;for(m=0;m<h.length;m+=1){const y=Pt(f,h,m);_[m]?_[m].p(y,k):(_[m]=Ht(y),_[m].c(),_[m].m(e,l))}for(;m<_.length;m+=1)_[m].d(1);_.length=h.length}k[0]&516&&Ne(e,f[2]),f[2]==="Other"?d?(d.p(f,k),k[0]&4&&ye(d,1)):(d=Ft(f),d.c(),ye(d,1),d.m(o.parentNode,o)):d&&(xe(),Ae(d,1,1,()=>{d=null}),Ke())},d(f){f&&(g(e),g(c),g(o)),ze(_,f),d&&d.d(f),u=!1,b()}}}function Ht(s){let e,t=s[33]+"",n,l;return{c(){e=p("option"),n=_e(t),this.h()},l(r){e=v(r,"OPTION",{});var c=C(e);n=pe(c,t),c.forEach(g),this.h()},h(){e.__value=l=s[33],U(e,e.__value)},m(r,c){q(r,e,c),i(e,n)},p(r,c){c[0]&512&&t!==(t=r[33]+"")&&Ve(n,t),c[0]&512&&l!==(l=r[33])&&(e.__value=l,U(e,e.__value))},d(r){r&&g(e)}}}function Ft(s){let e,t,n,l,r,c;return{c(){e=p("div"),t=p("input"),this.h()},l(o){e=v(o,"DIV",{});var u=C(e);t=v(u,"INPUT",{type:!0,placeholder:!0,class:!0}),u.forEach(g),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Crag..."),a(t,"class","custom-input svelte-dcgklv")},m(o,u){q(o,e,u),i(e,t),U(t,s[3]),l=!0,r||(c=K(t,"input",s[18]),r=!0)},p(o,u){u[0]&8&&t.value!==o[3]&&U(t,o[3])},i(o){l||(o&&De(()=>{l&&(n||(n=Ye(e,ot,{},!0)),n.run(1))}),l=!0)},o(o){o&&(n||(n=Ye(e,ot,{},!1)),n.run(0)),l=!1},d(o){o&&g(e),o&&n&&n.end(),r=!1,c()}}}function jt(s,e){let t,n,l,r,c,o,u,b,h,_,d,f,k,m,y,T='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',L,E,O,w=be,B,N,D;function M(){e[24].call(l,e[31],e[32])}function F(){e[25].call(o,e[31],e[32])}function Y(){e[26].call(h,e[31],e[32])}function ne(){e[27].call(f,e[31],e[32])}function ke(){return e[28](e[30])}return{key:s,first:null,c(){t=p("tr"),n=p("td"),l=p("input"),r=S(),c=p("td"),o=p("input"),u=S(),b=p("td"),h=p("input"),_=S(),d=p("td"),f=p("textarea"),k=S(),m=p("td"),y=p("button"),y.innerHTML=T,L=S(),this.h()},l(V){t=v(V,"TR",{});var A=C(t);n=v(A,"TD",{class:!0});var oe=C(n);l=v(oe,"INPUT",{type:!0,class:!0}),oe.forEach(g),r=I(A),c=v(A,"TD",{class:!0});var Z=C(c);o=v(Z,"INPUT",{type:!0,placeholder:!0,class:!0}),Z.forEach(g),u=I(A),b=v(A,"TD",{class:!0});var J=C(b);h=v(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(g),_=I(A),d=v(A,"TD",{class:!0});var re=C(d);f=v(re,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),C(f).forEach(g),re.forEach(g),k=I(A),m=v(A,"TD",{class:!0});var G=C(m);y=v(G,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),z(y)!=="svelte-zfon6j"&&(y.innerHTML=T),G.forEach(g),L=I(A),A.forEach(g),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-dcgklv"),a(n,"class","checkbox-col svelte-dcgklv"),a(o,"type","text"),a(o,"placeholder","e.g. Deliverance"),a(o,"class","svelte-dcgklv"),a(c,"class","svelte-dcgklv"),a(h,"type","text"),a(h,"placeholder","e.g. 7a+"),a(h,"class","svelte-dcgklv"),a(b,"class","svelte-dcgklv"),a(f,"placeholder","e.g. 2nd go"),a(f,"rows","1"),a(f,"class","svelte-dcgklv"),a(d,"class","svelte-dcgklv"),a(y,"class","delete-btn svelte-dcgklv"),a(y,"title","Remove row"),a(m,"class","actions-col svelte-dcgklv"),this.first=t},m(V,A){q(V,t,A),i(t,n),i(n,l),l.checked=e[30].isRopes,i(t,r),i(t,c),i(c,o),U(o,e[30].name),i(t,u),i(t,b),i(b,h),U(h,e[30].grade),i(t,_),i(t,d),i(d,f),U(f,e[30].notes),i(t,k),i(t,m),i(m,y),i(t,L),B=!0,N||(D=[K(l,"change",M),K(o,"input",F),K(h,"input",Y),K(f,"input",ne),K(y,"click",ke)],N=!0)},p(V,A){e=V,A[0]&256&&(l.checked=e[30].isRopes),A[0]&256&&o.value!==e[30].name&&U(o,e[30].name),A[0]&256&&h.value!==e[30].grade&&U(h,e[30].grade),A[0]&256&&U(f,e[30].notes)},r(){O=t.getBoundingClientRect()},f(){Al(t),w(),Et(t,O)},a(){w(),w=Nl(t,O,Ml,{duration:300})},i(V){B||(E&&E.end(1),B=!0)},o(V){V&&(E=Sl(t,ot,{duration:200})),B=!1},d(V){V&&g(t),V&&E&&E.end(),N=!1,Je(D)}}}function vn(s){let e,t,n,l,r="Area",c,o,u,b="Select Area",h,_,d,f,k="Crag",m,y,T,L,E="Wall / Sector",O,w,B,N,D,M,F="Finger Load (0-5)",Y,ne,ke,V,A,oe="Shoulder Load (0-5)",Z,J,re,G,we,ie="Forearm Load (0-5)",ue,$,Pe,ce,ve,he,Le="Routes",se,ee,j=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,Te,ae,R,H,W='<tr><th class="checkbox-col svelte-dcgklv">Ropes?</th> <th class="svelte-dcgklv">Route</th> <th class="svelte-dcgklv">Grade</th> <th class="svelte-dcgklv">Notes</th> <th class="actions-col svelte-dcgklv"></th></tr>',ge,Ie,fe=[],Ue=new Map,Se,me,Me,Ce,Re=de(s[10]),Ee=[];for(let Q=0;Q<Re.length;Q+=1)Ee[Q]=Rt(Mt(s,Re,Q));let P=s[0]==="Other"&&Ut(s);function X(Q,le){return Q[0]&&Q[0]!=="Other"?dn:fn}let x=X(s),Oe=x(s),$e=de(s[8]);const rt=Q=>Q[30].id;for(let Q=0;Q<$e.length;Q+=1){let le=Vt(s,$e,Q),te=rt(le);Ue.set(te,fe[Q]=jt(te,le))}return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=r,c=S(),o=p("select"),u=p("option"),u.textContent=b;for(let Q=0;Q<Ee.length;Q+=1)Ee[Q].c();h=S(),P&&P.c(),_=S(),d=p("div"),f=p("label"),f.textContent=k,m=S(),Oe.c(),y=S(),T=p("div"),L=p("label"),L.textContent=E,O=S(),w=p("input"),B=S(),N=p("div"),D=p("div"),M=p("label"),M.textContent=F,Y=S(),ne=p("input"),ke=S(),V=p("div"),A=p("label"),A.textContent=oe,Z=S(),J=p("input"),re=S(),G=p("div"),we=p("label"),we.textContent=ie,ue=S(),$=p("input"),Pe=S(),ce=p("div"),ve=p("div"),he=p("h3"),he.textContent=Le,se=S(),ee=p("button"),ee.innerHTML=j,Te=S(),ae=p("div"),R=p("table"),H=p("thead"),H.innerHTML=W,ge=S(),Ie=p("tbody");for(let Q=0;Q<fe.length;Q+=1)fe[Q].c();this.h()},l(Q){e=v(Q,"DIV",{class:!0});var le=C(e);t=v(le,"DIV",{class:!0});var te=C(t);n=v(te,"DIV",{class:!0});var je=C(n);l=v(je,"LABEL",{for:!0,"data-svelte-h":!0}),z(l)!=="svelte-10bxq12"&&(l.textContent=r),c=I(je),o=v(je,"SELECT",{id:!0,class:!0});var st=C(o);u=v(st,"OPTION",{"data-svelte-h":!0}),z(u)!=="svelte-18hyx00"&&(u.textContent=b);for(let it=0;it<Ee.length;it+=1)Ee[it].l(st);st.forEach(g),h=I(je),P&&P.l(je),je.forEach(g),_=I(te),d=v(te,"DIV",{class:!0});var et=C(d);f=v(et,"LABEL",{for:!0,"data-svelte-h":!0}),z(f)!=="svelte-1d1q4si"&&(f.textContent=k),m=I(et),Oe.l(et),et.forEach(g),y=I(te),T=v(te,"DIV",{class:!0});var tt=C(T);L=v(tt,"LABEL",{for:!0,"data-svelte-h":!0}),z(L)!=="svelte-2wtmd"&&(L.textContent=E),O=I(tt),w=v(tt,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),tt.forEach(g),te.forEach(g),B=I(le),N=v(le,"DIV",{class:!0});var lt=C(N);D=v(lt,"DIV",{class:!0});var nt=C(D);M=v(nt,"LABEL",{for:!0,"data-svelte-h":!0}),z(M)!=="svelte-oda77g"&&(M.textContent=F),Y=I(nt),ne=v(nt,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),nt.forEach(g),ke=I(lt),V=v(lt,"DIV",{class:!0});var at=C(V);A=v(at,"LABEL",{for:!0,"data-svelte-h":!0}),z(A)!=="svelte-1vtbxrq"&&(A.textContent=oe),Z=I(at),J=v(at,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),at.forEach(g),re=I(lt),G=v(lt,"DIV",{class:!0});var He=C(G);we=v(He,"LABEL",{for:!0,"data-svelte-h":!0}),z(we)!=="svelte-198js8s"&&(we.textContent=ie),ue=I(He),$=v(He,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),He.forEach(g),lt.forEach(g),Pe=I(le),ce=v(le,"DIV",{class:!0});var pt=C(ce);ve=v(pt,"DIV",{class:!0});var _t=C(ve);he=v(_t,"H3",{class:!0,"data-svelte-h":!0}),z(he)!=="svelte-1nagf2u"&&(he.textContent=Le),se=I(_t),ee=v(_t,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),z(ee)!=="svelte-uzzlti"&&(ee.innerHTML=j),_t.forEach(g),Te=I(pt),ae=v(pt,"DIV",{class:!0});var Tt=C(ae);R=v(Tt,"TABLE",{class:!0});var gt=C(R);H=v(gt,"THEAD",{"data-svelte-h":!0}),z(H)!=="svelte-3ucy7b"&&(H.innerHTML=W),ge=I(gt),Ie=v(gt,"TBODY",{});var Dt=C(Ie);for(let it=0;it<fe.length;it+=1)fe[it].l(Dt);Dt.forEach(g),gt.forEach(g),Tt.forEach(g),pt.forEach(g),le.forEach(g),this.h()},h(){a(l,"for","climb-area"),u.__value="",U(u,u.__value),u.disabled=!0,u.selected=!0,a(o,"id","climb-area"),a(o,"class","svelte-dcgklv"),s[0]===void 0&&De(()=>s[15].call(o)),a(n,"class","input-group svelte-dcgklv"),a(f,"for","climb-crag"),a(d,"class","input-group svelte-dcgklv"),a(L,"for","climb-wall"),a(w,"id","climb-wall"),a(w,"type","text"),a(w,"placeholder","e.g. Popular End"),a(w,"class","svelte-dcgklv"),a(T,"class","input-group svelte-dcgklv"),a(t,"class","form-grid svelte-dcgklv"),a(M,"for","finger-load"),a(ne,"id","finger-load"),a(ne,"type","number"),a(ne,"min","0"),a(ne,"max","5"),a(ne,"class","svelte-dcgklv"),a(D,"class","load-group svelte-dcgklv"),a(A,"for","shoulder-load"),a(J,"id","shoulder-load"),a(J,"type","number"),a(J,"min","0"),a(J,"max","5"),a(J,"class","svelte-dcgklv"),a(V,"class","load-group svelte-dcgklv"),a(we,"for","forearm-load"),a($,"id","forearm-load"),a($,"type","number"),a($,"min","0"),a($,"max","5"),a($,"class","svelte-dcgklv"),a(G,"class","load-group svelte-dcgklv"),a(N,"class","load-metrics svelte-dcgklv"),a(he,"class","svelte-dcgklv"),a(ee,"class","add-row-btn svelte-dcgklv"),a(ee,"title","Add Route"),a(ve,"class","section-header svelte-dcgklv"),a(R,"class","svelte-dcgklv"),a(ae,"class","table-container svelte-dcgklv"),a(ce,"class","exercise-section svelte-dcgklv"),a(e,"class","outdoor-config svelte-dcgklv")},m(Q,le){q(Q,e,le),i(e,t),i(t,n),i(n,l),i(n,c),i(n,o),i(o,u);for(let te=0;te<Ee.length;te+=1)Ee[te]&&Ee[te].m(o,null);Ne(o,s[0],!0),i(n,h),P&&P.m(n,null),i(t,_),i(t,d),i(d,f),i(d,m),Oe.m(d,null),i(t,y),i(t,T),i(T,L),i(T,O),i(T,w),U(w,s[4]),i(e,B),i(e,N),i(N,D),i(D,M),i(D,Y),i(D,ne),U(ne,s[5]),i(N,ke),i(N,V),i(V,A),i(V,Z),i(V,J),U(J,s[6]),i(N,re),i(N,G),i(G,we),i(G,ue),i(G,$),U($,s[7]),i(e,Pe),i(e,ce),i(ce,ve),i(ve,he),i(ve,se),i(ve,ee),i(ce,Te),i(ce,ae),i(ae,R),i(R,H),i(R,ge),i(R,Ie);for(let te=0;te<fe.length;te+=1)fe[te]&&fe[te].m(Ie,null);me=!0,Me||(Ce=[K(o,"change",s[15]),K(o,"change",s[11]),K(w,"input",s[20]),K(ne,"input",s[21]),K(J,"input",s[22]),K($,"input",s[23]),K(ee,"click",s[12])],Me=!0)},p(Q,le){if(le[0]&1024){Re=de(Q[10]);let te;for(te=0;te<Re.length;te+=1){const je=Mt(Q,Re,te);Ee[te]?Ee[te].p(je,le):(Ee[te]=Rt(je),Ee[te].c(),Ee[te].m(o,null))}for(;te<Ee.length;te+=1)Ee[te].d(1);Ee.length=Re.length}if(le[0]&1025&&Ne(o,Q[0]),Q[0]==="Other"?P?(P.p(Q,le),le[0]&1&&ye(P,1)):(P=Ut(Q),P.c(),ye(P,1),P.m(n,null)):P&&(xe(),Ae(P,1,1,()=>{P=null}),Ke()),x===(x=X(Q))&&Oe?Oe.p(Q,le):(Oe.d(1),Oe=x(Q),Oe&&(Oe.c(),Oe.m(d,null))),le[0]&16&&w.value!==Q[4]&&U(w,Q[4]),le[0]&32&&Be(ne.value)!==Q[5]&&U(ne,Q[5]),le[0]&64&&Be(J.value)!==Q[6]&&U(J,Q[6]),le[0]&128&&Be($.value)!==Q[7]&&U($,Q[7]),le[0]&8448){$e=de(Q[8]),xe();for(let te=0;te<fe.length;te+=1)fe[te].r();fe=kt(fe,le,rt,1,Q,$e,Ue,Ie,Vl,jt,null,Vt);for(let te=0;te<fe.length;te+=1)fe[te].a();Ke()}},i(Q){if(!me){ye(P);for(let le=0;le<$e.length;le+=1)ye(fe[le]);Q&&(Se||De(()=>{Se=qe(e,Fe,{}),Se.start()})),me=!0}},o(Q){Ae(P);for(let le=0;le<fe.length;le+=1)Ae(fe[le]);me=!1},d(Q){Q&&g(e),ze(Ee,Q),P&&P.d(),Oe.d();for(let le=0;le<fe.length;le+=1)fe[le].d();Me=!1,Je(Ce)}}}function pn(s,e,t){let n,l="",r="",c="",o="",u="",b=0,h=0,_=0;const d=["Portland","Swanage","Bristol","Costa Del Severn","Cotswolds","Mendips","Wye Valley","Gower","South Wales","North Wales","Peak District","Devon","Fontainebleau","Switzerland","Other"],f={Portland:["Blacknor Far North","Blacknor North","Blacknor Central","Blacknor South","Blacknor Far South","Battleship Edge","Battleship Back Cliff","Wallsend North","Wallsend South","Coastguard North","Coastguard South","Godnor","Neddyfields","Cheyne Cliff","The Cuttings","The New Cuttings","The Cuttings Boulderfield"],Swanage:["Dancing Ledge","Hedbury","Winspit"],"Wye Valley":["Ban-y-Gor","Biblins Cave","Woodcroft Quarry","Wyndcliff Quarry"],"Costa Del Severn":["Brean","Clevedon","Portishead Quarry"],Bristol:["Avon Gorge","Leigh Woods","Bickley Wood","Hambrook"],Cotswolds:["Sally-in-the-Wood","Browns Folly"],Mendips:["Cheddar Gorge"],Gower:["Rhossili","Trial Wall Area","Foxhole"],"South Wales":["Dinas Rock","Ogmore"],"North Wales":["Cromlech","Australia"],"Peak District":["Burbage South Valley","Gardoms Edge","Raven Tor","Stanage","Curbar Edge"],Devon:["Dartmoor","Hartland","Tintagel"],Fontainebleau:["Bas Cuvier","Apremont","Franchard Isatis","Roche aux Sabots","Cul de Chien","Elephant"],Switzerland:["Magic Wood","Chironico","Cresciano","Brione","San Carlo"]};function k(){t(2,c=""),t(3,o="")}let m=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];function y(){t(8,m=[...m,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function T(Z){m.length>1?t(8,m=m.filter(J=>J.id!==Z)):t(8,m=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function L(){return{location:{area:l==="Other"?r:l,crag:c==="Other"?o:c,wall:u},session:"Outdoor",fingerLoad:b,shoulderLoad:h,forearmLoad:_,exercises:m}}function E(){l=We(this),t(0,l),t(10,d)}function O(){r=this.value,t(1,r)}function w(){c=We(this),t(2,c),t(9,n),t(0,l)}function B(){o=this.value,t(3,o)}function N(){c=this.value,t(2,c),t(9,n),t(0,l)}function D(){u=this.value,t(4,u)}function M(){b=Be(this.value),t(5,b)}function F(){h=Be(this.value),t(6,h)}function Y(){_=Be(this.value),t(7,_)}function ne(Z,J){Z[J].isRopes=this.checked,t(8,m)}function ke(Z,J){Z[J].name=this.value,t(8,m)}function V(Z,J){Z[J].grade=this.value,t(8,m)}function A(Z,J){Z[J].notes=this.value,t(8,m)}const oe=Z=>T(Z.id);return s.$$.update=()=>{s.$$.dirty[0]&1&&t(9,n=f[l]||[])},[l,r,c,o,u,b,h,_,m,n,d,k,y,T,L,E,O,w,B,N,D,M,F,Y,ne,ke,V,A,oe]}class _n extends Xe{constructor(e){super(),Ze(this,e,pn,vn,Qe,{getData:14},null,[-1,-1])}get getData(){return this.$$.ctx[14]}}function gn(s){let e,t='<h3 class="svelte-fh7bet">Other Activity Config</h3> <p class="svelte-fh7bet">Generic fields for other activities will go here.</p> <div class="placeholder-box svelte-fh7bet"></div>',n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-kjirec"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,r){q(l,e,r)},p:be,i(l){l&&(n||De(()=>{n=qe(e,Fe,{}),n.start()}))},o:be,d(l){l&&g(e)}}}let mn="",bn="";function kn(s,e,t){let n=[];function l(){return{location:mn,session:bn,exercises:n,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class yn extends Xe{constructor(e){super(),Ze(this,e,kn,gn,Qe,{getData:0})}get getData(){return this.$$.ctx[0]}}function zt(s,e,t){const n=s.slice();return n[18]=e[t],n[19]=e,n[20]=t,n}function Gt(s,e,t){const n=s.slice();return n[21]=e[t],n}function qt(s,e,t){const n=s.slice();return n[24]=e[t],n}function Wt(s){let e,t=s[24]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=C(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[24],U(e,e.__value)},m(l,r){q(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function xt(s){let e,t=s[21]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{});var r=C(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[21],U(e,e.__value)},m(l,r){q(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function Kt(s,e){let t,n,l,r,c,o,u,b,h,_,d,f,k,m,y,T,L,E,O="Ã—",w,B,N;function D(){e[12].call(l,e[19],e[20])}function M(){e[13].call(o,e[19],e[20])}function F(){e[14].call(h,e[19],e[20])}function Y(){e[15].call(f,e[19],e[20])}function ne(){e[16].call(y,e[19],e[20])}function ke(){return e[17](e[18])}return{key:s,first:null,c(){t=p("tr"),n=p("td"),l=p("input"),r=S(),c=p("td"),o=p("input"),u=S(),b=p("td"),h=p("input"),_=S(),d=p("td"),f=p("input"),k=S(),m=p("td"),y=p("input"),T=S(),L=p("td"),E=p("button"),E.textContent=O,w=S(),this.h()},l(V){t=v(V,"TR",{});var A=C(t);n=v(A,"TD",{class:!0});var oe=C(n);l=v(oe,"INPUT",{type:!0,placeholder:!0,class:!0}),oe.forEach(g),r=I(A),c=v(A,"TD",{class:!0});var Z=C(c);o=v(Z,"INPUT",{type:!0,placeholder:!0,class:!0}),Z.forEach(g),u=I(A),b=v(A,"TD",{class:!0});var J=C(b);h=v(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(g),_=I(A),d=v(A,"TD",{class:!0});var re=C(d);f=v(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(g),k=I(A),m=v(A,"TD",{class:!0});var G=C(m);y=v(G,"INPUT",{type:!0,placeholder:!0,class:!0}),G.forEach(g),T=I(A),L=v(A,"TD",{class:!0});var we=C(L);E=v(we,"BUTTON",{class:!0,"data-svelte-h":!0}),z(E)!=="svelte-rn69i5"&&(E.textContent=O),we.forEach(g),w=I(A),A.forEach(g),this.h()},h(){a(l,"type","text"),a(l,"placeholder","Hang"),a(l,"class","svelte-152m2bn"),a(n,"class","svelte-152m2bn"),a(o,"type","number"),a(o,"placeholder","0"),a(o,"class","svelte-152m2bn"),a(c,"class","svelte-152m2bn"),a(h,"type","number"),a(h,"placeholder","1"),a(h,"class","svelte-152m2bn"),a(b,"class","svelte-152m2bn"),a(f,"type","number"),a(f,"placeholder","1"),a(f,"class","svelte-152m2bn"),a(d,"class","svelte-152m2bn"),a(y,"type","text"),a(y,"placeholder","Notes"),a(y,"class","svelte-152m2bn"),a(m,"class","svelte-152m2bn"),a(E,"class","delete-btn svelte-152m2bn"),a(L,"class","actions-col svelte-152m2bn"),this.first=t},m(V,A){q(V,t,A),i(t,n),i(n,l),U(l,e[18].name),i(t,r),i(t,c),i(c,o),U(o,e[18].weight),i(t,u),i(t,b),i(b,h),U(h,e[18].sets),i(t,_),i(t,d),i(d,f),U(f,e[18].reps),i(t,k),i(t,m),i(m,y),U(y,e[18].notes),i(t,T),i(t,L),i(L,E),i(t,w),B||(N=[K(l,"input",D),K(o,"input",M),K(h,"input",F),K(f,"input",Y),K(y,"input",ne),K(E,"click",ke)],B=!0)},p(V,A){e=V,A&8&&l.value!==e[18].name&&U(l,e[18].name),A&8&&Be(o.value)!==e[18].weight&&U(o,e[18].weight),A&8&&Be(h.value)!==e[18].sets&&U(h,e[18].sets),A&8&&Be(f.value)!==e[18].reps&&U(f,e[18].reps),A&8&&y.value!==e[18].notes&&U(y,e[18].notes)},d(V){V&&g(t),B=!1,Je(N)}}}function Cn(s){let e,t,n,l,r="Location",c,o,u,b="Select Location",h,_,d,f="Session Type",k,m,y,T="Select Session",L,E,O,w,B="Finger Load (0-5)",N,D,M,F,Y,ne,ke="Sets / Exercises",V,A,oe="Add Row",Z,J,re,G,we='<tr><th class="svelte-152m2bn">Exercise</th> <th class="svelte-152m2bn">Weight (+/-)</th> <th class="svelte-152m2bn">Sets</th> <th class="svelte-152m2bn">Reps</th> <th class="svelte-152m2bn">Notes</th> <th class="actions-col svelte-152m2bn"></th></tr>',ie,ue,$=[],Pe=new Map,ce,ve,he,Le=de(s[6]),se=[];for(let R=0;R<Le.length;R+=1)se[R]=Wt(qt(s,Le,R));let ee=de(s[7]),j=[];for(let R=0;R<ee.length;R+=1)j[R]=xt(Gt(s,ee,R));let Te=de(s[3]);const ae=R=>R[18].id;for(let R=0;R<Te.length;R+=1){let H=zt(s,Te,R),W=ae(H);Pe.set(W,$[R]=Kt(W,H))}return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=r,c=S(),o=p("select"),u=p("option"),u.textContent=b;for(let R=0;R<se.length;R+=1)se[R].c();h=S(),_=p("div"),d=p("label"),d.textContent=f,k=S(),m=p("select"),y=p("option"),y.textContent=T;for(let R=0;R<j.length;R+=1)j[R].c();L=S(),E=p("div"),O=p("div"),w=p("label"),w.textContent=B,N=S(),D=p("input"),M=S(),F=p("div"),Y=p("div"),ne=p("h3"),ne.textContent=ke,V=S(),A=p("button"),A.textContent=oe,Z=S(),J=p("div"),re=p("table"),G=p("thead"),G.innerHTML=we,ie=S(),ue=p("tbody");for(let R=0;R<$.length;R+=1)$[R].c();this.h()},l(R){e=v(R,"DIV",{class:!0});var H=C(e);t=v(H,"DIV",{class:!0});var W=C(t);n=v(W,"DIV",{class:!0});var ge=C(n);l=v(ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(l)!=="svelte-1dxgp9b"&&(l.textContent=r),c=I(ge),o=v(ge,"SELECT",{id:!0,class:!0});var Ie=C(o);u=v(Ie,"OPTION",{"data-svelte-h":!0}),z(u)!=="svelte-mwu9va"&&(u.textContent=b);for(let X=0;X<se.length;X+=1)se[X].l(Ie);Ie.forEach(g),ge.forEach(g),h=I(W),_=v(W,"DIV",{class:!0});var fe=C(_);d=v(fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(d)!=="svelte-h0spd7"&&(d.textContent=f),k=I(fe),m=v(fe,"SELECT",{id:!0,class:!0});var Ue=C(m);y=v(Ue,"OPTION",{"data-svelte-h":!0}),z(y)!=="svelte-1ekya2v"&&(y.textContent=T);for(let X=0;X<j.length;X+=1)j[X].l(Ue);Ue.forEach(g),fe.forEach(g),W.forEach(g),L=I(H),E=v(H,"DIV",{class:!0});var Se=C(E);O=v(Se,"DIV",{class:!0});var me=C(O);w=v(me,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(w)!=="svelte-1w9evqp"&&(w.textContent=B),N=I(me),D=v(me,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),me.forEach(g),Se.forEach(g),M=I(H),F=v(H,"DIV",{class:!0});var Me=C(F);Y=v(Me,"DIV",{class:!0});var Ce=C(Y);ne=v(Ce,"H3",{class:!0,"data-svelte-h":!0}),z(ne)!=="svelte-rv2rcn"&&(ne.textContent=ke),V=I(Ce),A=v(Ce,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),z(A)!=="svelte-tawc64"&&(A.textContent=oe),Ce.forEach(g),Z=I(Me),J=v(Me,"DIV",{class:!0});var Re=C(J);re=v(Re,"TABLE",{class:!0});var Ee=C(re);G=v(Ee,"THEAD",{"data-svelte-h":!0}),z(G)!=="svelte-163hj14"&&(G.innerHTML=we),ie=I(Ee),ue=v(Ee,"TBODY",{});var P=C(ue);for(let X=0;X<$.length;X+=1)$[X].l(P);P.forEach(g),Ee.forEach(g),Re.forEach(g),Me.forEach(g),H.forEach(g),this.h()},h(){a(l,"for","fb-location"),a(l,"class","svelte-152m2bn"),u.__value="",U(u,u.__value),u.disabled=!0,u.selected=!0,a(o,"id","fb-location"),a(o,"class","svelte-152m2bn"),s[0]===void 0&&De(()=>s[9].call(o)),a(n,"class","input-group svelte-152m2bn"),a(d,"for","fb-session"),a(d,"class","svelte-152m2bn"),y.__value="",U(y,y.__value),y.disabled=!0,y.selected=!0,a(m,"id","fb-session"),a(m,"class","svelte-152m2bn"),s[1]===void 0&&De(()=>s[10].call(m)),a(_,"class","input-group svelte-152m2bn"),a(t,"class","form-grid svelte-152m2bn"),a(w,"for","fb-finger-load"),a(w,"class","svelte-152m2bn"),a(D,"id","fb-finger-load"),a(D,"type","number"),a(D,"min","0"),a(D,"max","5"),a(D,"class","svelte-152m2bn"),a(O,"class","load-group svelte-152m2bn"),a(E,"class","load-metrics svelte-152m2bn"),a(ne,"class","svelte-152m2bn"),a(A,"class","add-row-btn svelte-152m2bn"),a(A,"title","Add Row"),a(Y,"class","section-header svelte-152m2bn"),a(re,"class","svelte-152m2bn"),a(J,"class","table-container svelte-152m2bn"),a(F,"class","exercise-section"),a(e,"class","fingerboard-config svelte-152m2bn")},m(R,H){q(R,e,H),i(e,t),i(t,n),i(n,l),i(n,c),i(n,o),i(o,u);for(let W=0;W<se.length;W+=1)se[W]&&se[W].m(o,null);Ne(o,s[0],!0),i(t,h),i(t,_),i(_,d),i(_,k),i(_,m),i(m,y);for(let W=0;W<j.length;W+=1)j[W]&&j[W].m(m,null);Ne(m,s[1],!0),i(e,L),i(e,E),i(E,O),i(O,w),i(O,N),i(O,D),U(D,s[2]),i(e,M),i(e,F),i(F,Y),i(Y,ne),i(Y,V),i(Y,A),i(F,Z),i(F,J),i(J,re),i(re,G),i(re,ie),i(re,ue);for(let W=0;W<$.length;W+=1)$[W]&&$[W].m(ue,null);ve||(he=[K(o,"change",s[9]),K(m,"change",s[10]),K(D,"input",s[11]),K(A,"click",s[4])],ve=!0)},p(R,[H]){if(H&64){Le=de(R[6]);let W;for(W=0;W<Le.length;W+=1){const ge=qt(R,Le,W);se[W]?se[W].p(ge,H):(se[W]=Wt(ge),se[W].c(),se[W].m(o,null))}for(;W<se.length;W+=1)se[W].d(1);se.length=Le.length}if(H&65&&Ne(o,R[0]),H&128){ee=de(R[7]);let W;for(W=0;W<ee.length;W+=1){const ge=Gt(R,ee,W);j[W]?j[W].p(ge,H):(j[W]=xt(ge),j[W].c(),j[W].m(m,null))}for(;W<j.length;W+=1)j[W].d(1);j.length=ee.length}H&130&&Ne(m,R[1]),H&4&&Be(D.value)!==R[2]&&U(D,R[2]),H&40&&(Te=de(R[3]),$=kt($,H,ae,1,R,Te,Pe,ue,Bl,Kt,null,zt))},i(R){R&&(ce||De(()=>{ce=qe(e,Fe,{}),ce.start()}))},o:be,d(R){R&&g(e),ze(se,R),ze(j,R);for(let H=0;H<$.length;H+=1)$[H].d();ve=!1,Je(he)}}}function En(s,e,t){let n="",l="",r=0,c=[{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}];function o(){return{location:n,session:l,fingerLoad:r,exercises:c}}function u(){t(3,c=[...c,{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}])}function b(w){c.length>1&&t(3,c=c.filter(B=>B.id!==w))}const h=["Home","Gym","Crag"],_=["Strength","Endurance","Recovery"];function d(){n=We(this),t(0,n),t(6,h)}function f(){l=We(this),t(1,l),t(7,_)}function k(){r=Be(this.value),t(2,r)}function m(w,B){w[B].name=this.value,t(3,c)}function y(w,B){w[B].weight=Be(this.value),t(3,c)}function T(w,B){w[B].sets=Be(this.value),t(3,c)}function L(w,B){w[B].reps=Be(this.value),t(3,c)}function E(w,B){w[B].notes=this.value,t(3,c)}return[n,l,r,c,u,b,h,_,o,d,f,k,m,y,T,L,E,w=>b(w.id)]}class wn extends Xe{constructor(e){super(),Ze(this,e,En,Cn,Qe,{getData:8})}get getData(){return this.$$.ctx[8]}}const Rl="training_history_cache",Tn=JSON.parse(localStorage.getItem(Rl)||"{}"),wt=Ol(Tn);wt.subscribe(s=>{localStorage.setItem(Rl,JSON.stringify(s))});function Ul(s,e){wt.update(t=>{const n=t[s]||[],l=[...e,...n],r=new Map;return l.forEach(c=>{var h;const o=((h=c.date)==null?void 0:h.value)||c.date,b=`${o?new Date(o).toISOString():""}|${c.location}|${c.session_type}|${JSON.stringify(c.climbs)}`;r.has(b)||r.set(b,c)}),{...t,[s]:Array.from(r.values()).sort((c,o)=>{var h,_;const u=new Date(((h=c.date)==null?void 0:h.value)||c.date);return new Date(((_=o.date)==null?void 0:_.value)||o.date).getTime()-u.getTime()})}})}function Dn(s,e){Ul(s,[e])}function Yt(s,e,t){const n=s.slice();return n[10]=e[t],n}function Jt(s){let e,t=s[10].text+"",n,l;return{c(){e=p("option"),n=_e(t),l=S(),this.h()},l(r){e=v(r,"OPTION",{});var c=C(e);n=pe(c,t),l=I(c),c.forEach(g),this.h()},h(){e.__value=s[10].id,U(e,e.__value)},m(r,c){q(r,e,c),i(e,n),i(e,l)},p:be,d(r){r&&g(e)}}}function Qt(s){let e,t,n,l,r,c=s[2]?"Saving...":"Save Log",o,u,b,h,_;var d=s[5].component;function f(m,y){return{props:{}}}d&&(t=bt(d,f()),s[9](t));let k=s[3]&&Xt(s);return{c(){e=p("div"),t&&dt(t.$$.fragment),n=S(),k&&k.c(),l=S(),r=p("button"),o=_e(c),this.h()},l(m){e=v(m,"DIV",{class:!0});var y=C(e);t&&Ct(t.$$.fragment,y),n=I(y),k&&k.l(y),l=I(y),r=v(y,"BUTTON",{class:!0});var T=C(r);o=pe(T,c),T.forEach(g),y.forEach(g),this.h()},h(){a(r,"class","save-button svelte-148fipo"),r.disabled=s[2],a(e,"class","config-wrapper svelte-148fipo")},m(m,y){q(m,e,y),t&&vt(t,e,null),i(e,n),k&&k.m(e,null),i(e,l),i(e,r),i(r,o),b=!0,h||(_=K(r,"click",s[7]),h=!0)},p(m,y){if(y&32&&d!==(d=m[5].component)){if(t){xe();const T=t;Ae(T.$$.fragment,1,0,()=>{ft(T,1)}),Ke()}d?(t=bt(d,f()),m[9](t),dt(t.$$.fragment),ye(t.$$.fragment,1),vt(t,e,n)):t=null}else if(d){const T={};t.$set(T)}m[3]?k?(k.p(m,y),y&8&&ye(k,1)):(k=Xt(m),k.c(),ye(k,1),k.m(e,l)):k&&(xe(),Ae(k,1,1,()=>{k=null}),Ke()),(!b||y&4)&&c!==(c=m[2]?"Saving...":"Save Log")&&Ve(o,c),(!b||y&4)&&(r.disabled=m[2])},i(m){b||(t&&ye(t.$$.fragment,m),ye(k),m&&(u||De(()=>{u=qe(e,Fe,{}),u.start()})),b=!0)},o(m){t&&Ae(t.$$.fragment,m),Ae(k),b=!1},d(m){m&&g(e),s[9](null),t&&ft(t),k&&k.d(),h=!1,_()}}}function Xt(s){let e,t,n,l;return{c(){e=p("div"),t=_e(s[3]),this.h()},l(r){e=v(r,"DIV",{class:!0});var c=C(e);t=pe(c,s[3]),c.forEach(g),this.h()},h(){a(e,"class","message svelte-148fipo"),Ge(e,"success",s[4]),Ge(e,"error",!s[4])},m(r,c){q(r,e,c),i(e,t),l=!0},p(r,c){(!l||c&8)&&Ve(t,r[3]),(!l||c&16)&&Ge(e,"success",r[4]),(!l||c&16)&&Ge(e,"error",!r[4])},i(r){l||(r&&De(()=>{l&&(n||(n=Ye(e,Fe,{},!0)),n.run(1))}),l=!0)},o(r){r&&(n||(n=Ye(e,Fe,{},!1)),n.run(0)),l=!1},d(r){r&&g(e),r&&n&&n.end()}}}function Ln(s){let e,t,n="Log Exercise",l,r,c,o="What did you do today?",u,b,h,_="Select activity type...",d,f,k,m,y=de(s[6]),T=[];for(let E=0;E<y.length;E+=1)T[E]=Jt(Yt(s,y,E));let L=s[5]&&Qt(s);return{c(){e=p("div"),t=p("h2"),t.textContent=n,l=S(),r=p("div"),c=p("label"),c.textContent=o,u=S(),b=p("select"),h=p("option"),h.textContent=_;for(let E=0;E<T.length;E+=1)T[E].c();d=S(),L&&L.c(),this.h()},l(E){e=v(E,"DIV",{class:!0});var O=C(e);t=v(O,"H2",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-1eeau7i"&&(t.textContent=n),l=I(O),r=v(O,"DIV",{class:!0});var w=C(r);c=v(w,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(c)!=="svelte-1ndwsee"&&(c.textContent=o),u=I(w),b=v(w,"SELECT",{id:!0,class:!0});var B=C(b);h=v(B,"OPTION",{"data-svelte-h":!0}),z(h)!=="svelte-11gchci"&&(h.textContent=_);for(let N=0;N<T.length;N+=1)T[N].l(B);B.forEach(g),w.forEach(g),d=I(O),L&&L.l(O),O.forEach(g),this.h()},h(){a(t,"class","svelte-148fipo"),a(c,"for","exercise-type"),a(c,"class","svelte-148fipo"),h.__value="",U(h,h.__value),h.disabled=!0,h.selected=!0,a(b,"id","exercise-type"),a(b,"class","svelte-148fipo"),s[0]===void 0&&De(()=>s[8].call(b)),a(r,"class","dropdown-wrapper svelte-148fipo"),a(e,"class","tab-content svelte-148fipo")},m(E,O){q(E,e,O),i(e,t),i(e,l),i(e,r),i(r,c),i(r,u),i(r,b),i(b,h);for(let w=0;w<T.length;w+=1)T[w]&&T[w].m(b,null);Ne(b,s[0],!0),i(e,d),L&&L.m(e,null),f=!0,k||(m=K(b,"change",s[8]),k=!0)},p(E,[O]){if(O&64){y=de(E[6]);let w;for(w=0;w<y.length;w+=1){const B=Yt(E,y,w);T[w]?T[w].p(B,O):(T[w]=Jt(B),T[w].c(),T[w].m(b,null))}for(;w<T.length;w+=1)T[w].d(1);T.length=y.length}O&65&&Ne(b,E[0]),E[5]?L?(L.p(E,O),O&32&&ye(L,1)):(L=Qt(E),L.c(),ye(L,1),L.m(e,null)):L&&(xe(),Ae(L,1,1,()=>{L=null}),Ke())},i(E){f||(ye(L),f=!0)},o(E){Ae(L),f=!1},d(E){E&&g(e),ze(T,E),L&&L.d(),k=!1,m()}}}const In="https://save-log-825153765638.europe-west1.run.app";function Sn(s,e,t){let n,l="";const r=[{id:"indoor",text:"Indoor Climb",component:on},{id:"fingerboard",text:"Fingerboarding",component:wn},{id:"gym",text:"Gym Session",component:hn},{id:"outdoor",text:"Outdoor Climb",component:_n},{id:"other",text:"Other",component:yn}];let c,o=!1,u="",b=!1;async function h(){if(!c||!c.getData){console.error("Component does not support data export");return}const f=c.getData(),k=Ll(ct);if(!f.location||!f.session||f.exercises&&f.exercises.length===0){t(3,u="Please select a Location, Session, and add at least one exercise."),t(4,b=!1);return}if(!k){t(3,u="Authentication error. Please log in again."),t(4,b=!1);return}t(2,o=!0),t(3,u="");try{const m={activity_type:l,location:f.location,session_type:f.session,finger_load:f.fingerLoad||0,shoulder_load:f.shoulderLoad||0,forearm_load:f.forearmLoad||0,climbs:f.exercises,date:new Date().toISOString()},y=await fetch(In,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(m)});if(!y.ok){const T=await y.text();throw new Error(`Server error (${y.status}): ${T}`)}t(3,u="Log saved successfully!"),t(4,b=!0),Dn(l,m)}catch(m){console.error("Save Error:",m),t(3,u="Failed to save log. Check console for details."),t(4,b=!1)}finally{t(2,o=!1)}}function _(){l=We(this),t(0,l),t(6,r)}function d(f){Fl[f?"unshift":"push"](()=>{c=f,t(1,c)})}return s.$$.update=()=>{s.$$.dirty&1&&t(5,n=r.find(f=>f.id===l)),s.$$.dirty&1&&l&&t(3,u="")},[l,c,o,u,b,n,r,h,_,d]}class On extends Xe{constructor(e){super(),Ze(this,e,Sn,Ln,Qe,{})}}function Zt(s,e,t){const n=s.slice();return n[33]=e[t],n}function $t(s,e,t){const n=s.slice();return n[36]=e[t],n}function el(s,e,t){const n=s.slice();return n[39]=e[t],n}function tl(s,e,t){const n=s.slice();return n[39]=e[t],n}function ll(s,e,t){const n=s.slice();return n[44]=e[t],n}function nl(s,e,t){const n=s.slice();return n[47]=e[t],n}function sl(s,e,t){const n=s.slice();return n[50]=e[t],n}function Nn(s){let e,t,n;return{c(){e=ht("svg"),t=ht("path"),n=ht("path"),this.h()},l(l){e=ut(l,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var r=C(e);t=ut(r,"path",{d:!0}),C(t).forEach(g),n=ut(r,"path",{d:!0}),C(n).forEach(g),r.forEach(g),this.h()},h(){a(t,"d","M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"),a(n,"d","M21 3v5h-5"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","16"),a(e,"height","16"),a(e,"viewBox","0 0 24 24"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"stroke-width","2"),a(e,"stroke-linecap","round"),a(e,"stroke-linejoin","round")},m(l,r){q(l,e,r),i(e,t),i(e,n)},d(l){l&&g(e)}}}function An(s){let e;return{c(){e=p("div"),this.h()},l(t){e=v(t,"DIV",{class:!0}),C(e).forEach(g),this.h()},h(){a(e,"class","spinner-small svelte-1nhhhnk")},m(t,n){q(t,e,n)},d(t){t&&g(e)}}}function ol(s){let e,t=s[50].label+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{class:!0});var r=C(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[50].id,U(e,e.__value),a(e,"class","svelte-1nhhhnk")},m(l,r){q(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function rl(s){let e,t,n,l,r="Start Date",c,o,u,b,h,_="End Date",d,f,k,m,y,T="Location",L,E,O,w,B,N="Session / Type",D,M,F,Y,ne="Grade (Exact)",ke,V,A,oe,Z,J="Clear",re,G,we="Apply",ie,ue,$,Pe;function ce(j,Te){return j[0]==="outdoor"?Vn:Bn}let ve=ce(s),he=ve(s);function Le(j,Te){return j[0]==="outdoor"?Mn:Pn}let se=Le(s),ee=se(s);return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("label"),l.textContent=r,c=S(),o=p("input"),u=S(),b=p("div"),h=p("label"),h.textContent=_,d=S(),f=p("input"),k=S(),m=p("div"),y=p("label"),y.textContent=T,L=S(),he.c(),E=S(),O=p("div"),w=p("div"),B=p("label"),B.textContent=N,D=S(),ee.c(),M=S(),F=p("div"),Y=p("label"),Y.textContent=ne,ke=S(),V=p("input"),A=S(),oe=p("div"),Z=p("button"),Z.textContent=J,re=S(),G=p("button"),G.textContent=we,this.h()},l(j){e=v(j,"DIV",{class:!0});var Te=C(e);t=v(Te,"DIV",{class:!0});var ae=C(t);n=v(ae,"DIV",{class:!0});var R=C(n);l=v(R,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(l)!=="svelte-1kxlpsi"&&(l.textContent=r),c=I(R),o=v(R,"INPUT",{id:!0,type:!0,class:!0}),R.forEach(g),u=I(ae),b=v(ae,"DIV",{class:!0});var H=C(b);h=v(H,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(h)!=="svelte-j60kik"&&(h.textContent=_),d=I(H),f=v(H,"INPUT",{id:!0,type:!0,class:!0}),H.forEach(g),k=I(ae),m=v(ae,"DIV",{class:!0});var W=C(m);y=v(W,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(y)!=="svelte-3cwczo"&&(y.textContent=T),L=I(W),he.l(W),W.forEach(g),ae.forEach(g),E=I(Te),O=v(Te,"DIV",{class:!0});var ge=C(O);w=v(ge,"DIV",{class:!0});var Ie=C(w);B=v(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(B)!=="svelte-jb3f35"&&(B.textContent=N),D=I(Ie),ee.l(Ie),Ie.forEach(g),M=I(ge),F=v(ge,"DIV",{class:!0});var fe=C(F);Y=v(fe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(Y)!=="svelte-f1ofpo"&&(Y.textContent=ne),ke=I(fe),V=v(fe,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),fe.forEach(g),A=I(ge),oe=v(ge,"DIV",{class:!0});var Ue=C(oe);Z=v(Ue,"BUTTON",{class:!0,"data-svelte-h":!0}),z(Z)!=="svelte-1hjrww8"&&(Z.textContent=J),re=I(Ue),G=v(Ue,"BUTTON",{class:!0,"data-svelte-h":!0}),z(G)!=="svelte-1ch465z"&&(G.textContent=we),Ue.forEach(g),ge.forEach(g),Te.forEach(g),this.h()},h(){a(l,"for","startDate"),a(l,"class","svelte-1nhhhnk"),a(o,"id","startDate"),a(o,"type","date"),a(o,"class","svelte-1nhhhnk"),a(n,"class","filter-group svelte-1nhhhnk"),a(h,"for","endDate"),a(h,"class","svelte-1nhhhnk"),a(f,"id","endDate"),a(f,"type","date"),a(f,"class","svelte-1nhhhnk"),a(b,"class","filter-group svelte-1nhhhnk"),a(y,"for","filterLocation"),a(y,"class","svelte-1nhhhnk"),a(m,"class","filter-group svelte-1nhhhnk"),a(t,"class","filter-row svelte-1nhhhnk"),a(B,"for","filterSession"),a(B,"class","svelte-1nhhhnk"),a(w,"class","filter-group svelte-1nhhhnk"),a(Y,"for","filterGrade"),a(Y,"class","svelte-1nhhhnk"),a(V,"id","filterGrade"),a(V,"type","text"),a(V,"placeholder","e.g. 7a+"),a(V,"class","svelte-1nhhhnk"),a(F,"class","filter-group svelte-1nhhhnk"),a(Z,"class","clear-btn svelte-1nhhhnk"),a(G,"class","apply-btn svelte-1nhhhnk"),a(oe,"class","filter-actions svelte-1nhhhnk"),a(O,"class","filter-row svelte-1nhhhnk"),a(e,"class","filters-panel svelte-1nhhhnk")},m(j,Te){q(j,e,Te),i(e,t),i(t,n),i(n,l),i(n,c),i(n,o),U(o,s[6]),i(t,u),i(t,b),i(b,h),i(b,d),i(b,f),U(f,s[7]),i(t,k),i(t,m),i(m,y),i(m,L),he.m(m,null),i(e,E),i(e,O),i(O,w),i(w,B),i(w,D),ee.m(w,null),i(O,M),i(O,F),i(F,Y),i(F,ke),i(F,V),U(V,s[10]),i(O,A),i(O,oe),i(oe,Z),i(oe,re),i(oe,G),ue=!0,$||(Pe=[K(o,"input",s[25]),K(f,"input",s[26]),K(V,"input",s[31]),K(Z,"click",s[19]),K(G,"click",s[18])],$=!0)},p(j,Te){Te[0]&64&&U(o,j[6]),Te[0]&128&&U(f,j[7]),ve===(ve=ce(j))&&he?he.p(j,Te):(he.d(1),he=ve(j),he&&(he.c(),he.m(m,null))),se===(se=Le(j))&&ee?ee.p(j,Te):(ee.d(1),ee=se(j),ee&&(ee.c(),ee.m(w,null))),Te[0]&1024&&V.value!==j[10]&&U(V,j[10])},i(j){ue||(j&&De(()=>{ue&&(ie||(ie=Ye(e,Fe,{},!0)),ie.run(1))}),ue=!0)},o(j){j&&(ie||(ie=Ye(e,Fe,{},!1)),ie.run(0)),ue=!1},d(j){j&&g(e),he.d(),ee.d(),j&&ie&&ie.end(),$=!1,Je(Pe)}}}function Bn(s){let e,t,n="Any Location",l,r,c=de(s[15]),o=[];for(let u=0;u<c.length;u+=1)o[u]=al(nl(s,c,u));return{c(){e=p("select"),t=p("option"),t.textContent=n;for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=v(u,"SELECT",{id:!0,class:!0});var b=C(e);t=v(b,"OPTION",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-vg9lqd"&&(t.textContent=n);for(let h=0;h<o.length;h+=1)o[h].l(b);b.forEach(g),this.h()},h(){t.__value="",U(t,t.__value),a(t,"class","svelte-1nhhhnk"),a(e,"id","filterLocation"),a(e,"class","svelte-1nhhhnk"),s[8]===void 0&&De(()=>s[28].call(e))},m(u,b){q(u,e,b),i(e,t);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(e,null);Ne(e,s[8],!0),l||(r=K(e,"change",s[28]),l=!0)},p(u,b){if(b[0]&32768){c=de(u[15]);let h;for(h=0;h<c.length;h+=1){const _=nl(u,c,h);o[h]?o[h].p(_,b):(o[h]=al(_),o[h].c(),o[h].m(e,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=c.length}b[0]&33024&&Ne(e,u[8])},d(u){u&&g(e),ze(o,u),l=!1,r()}}}function Vn(s){let e,t,n;return{c(){e=p("input"),this.h()},l(l){e=v(l,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","filterLocation"),a(e,"type","text"),a(e,"placeholder","Crag or Wall"),a(e,"class","svelte-1nhhhnk")},m(l,r){q(l,e,r),U(e,s[8]),t||(n=K(e,"input",s[27]),t=!0)},p(l,r){r[0]&33024&&e.value!==l[8]&&U(e,l[8])},d(l){l&&g(e),t=!1,n()}}}function al(s){let e,t=s[47]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{class:!0});var r=C(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[47],U(e,e.__value),a(e,"class","svelte-1nhhhnk")},m(l,r){q(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function Pn(s){let e,t,n="Any Session",l,r,c=de(s[16]),o=[];for(let u=0;u<c.length;u+=1)o[u]=il(ll(s,c,u));return{c(){e=p("select"),t=p("option"),t.textContent=n;for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=v(u,"SELECT",{id:!0,class:!0});var b=C(e);t=v(b,"OPTION",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-178oehu"&&(t.textContent=n);for(let h=0;h<o.length;h+=1)o[h].l(b);b.forEach(g),this.h()},h(){t.__value="",U(t,t.__value),a(t,"class","svelte-1nhhhnk"),a(e,"id","filterSession"),a(e,"class","svelte-1nhhhnk"),s[9]===void 0&&De(()=>s[30].call(e))},m(u,b){q(u,e,b),i(e,t);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(e,null);Ne(e,s[9],!0),l||(r=K(e,"change",s[30]),l=!0)},p(u,b){if(b[0]&65536){c=de(u[16]);let h;for(h=0;h<c.length;h+=1){const _=ll(u,c,h);o[h]?o[h].p(_,b):(o[h]=il(_),o[h].c(),o[h].m(e,null))}for(;h<o.length;h+=1)o[h].d(1);o.length=c.length}b[0]&66048&&Ne(e,u[9])},d(u){u&&g(e),ze(o,u),l=!1,r()}}}function Mn(s){let e,t,n="Any Type",l,r="Bouldering",c,o="Ropes",u,b;return{c(){e=p("select"),t=p("option"),t.textContent=n,l=p("option"),l.textContent=r,c=p("option"),c.textContent=o,this.h()},l(h){e=v(h,"SELECT",{id:!0,class:!0});var _=C(e);t=v(_,"OPTION",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-c7i2yo"&&(t.textContent=n),l=v(_,"OPTION",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-ffaje2"&&(l.textContent=r),c=v(_,"OPTION",{class:!0,"data-svelte-h":!0}),z(c)!=="svelte-78wj0c"&&(c.textContent=o),_.forEach(g),this.h()},h(){t.__value="",U(t,t.__value),a(t,"class","svelte-1nhhhnk"),l.__value="Bouldering",U(l,l.__value),a(l,"class","svelte-1nhhhnk"),c.__value="Ropes",U(c,c.__value),a(c,"class","svelte-1nhhhnk"),a(e,"id","filterSession"),a(e,"class","svelte-1nhhhnk"),s[9]===void 0&&De(()=>s[29].call(e))},m(h,_){q(h,e,_),i(e,t),i(e,l),i(e,c),Ne(e,s[9],!0),u||(b=K(e,"change",s[29]),u=!0)},p(h,_){_[0]&66048&&Ne(e,h[9])},d(h){h&&g(e),u=!1,b()}}}function il(s){let e,t=s[44]+"",n;return{c(){e=p("option"),n=_e(t),this.h()},l(l){e=v(l,"OPTION",{class:!0});var r=C(e);n=pe(r,t),r.forEach(g),this.h()},h(){e.__value=s[44],U(e,e.__value),a(e,"class","svelte-1nhhhnk")},m(l,r){q(l,e,r),i(e,n)},p:be,d(l){l&&g(e)}}}function Rn(s){let e,t,n=[],l=new Map,r,c,o,u=s[12].length===0&&s[1].length>0&&cl(),b=de(s[12]);const h=d=>d[33].key;for(let d=0;d<b.length;d+=1){let f=Zt(s,b,d),k=h(f);l.set(k,n[d]=ml(k,f))}let _=s[12].length>0&&bl(s);return{c(){e=p("div"),u&&u.c(),t=S();for(let d=0;d<n.length;d+=1)n[d].c();c=S(),_&&_.c(),o=mt(),this.h()},l(d){e=v(d,"DIV",{class:!0});var f=C(e);u&&u.l(f),t=I(f);for(let k=0;k<n.length;k+=1)n[k].l(f);f.forEach(g),c=I(d),_&&_.l(d),o=mt(),this.h()},h(){a(e,"class","sessions-list svelte-1nhhhnk")},m(d,f){q(d,e,f),u&&u.m(e,null),i(e,t);for(let k=0;k<n.length;k+=1)n[k]&&n[k].m(e,null);q(d,c,f),_&&_.m(d,f),q(d,o,f)},p(d,f){d[12].length===0&&d[1].length>0?u||(u=cl(),u.c(),u.m(e,t)):u&&(u.d(1),u=null),f[0]&14352&&(b=de(d[12]),n=kt(n,f,h,1,d,b,l,e,Bl,ml,null,Zt)),d[12].length>0?_?(_.p(d,f),f[0]&4096&&ye(_,1)):(_=bl(d),_.c(),ye(_,1),_.m(o.parentNode,o)):_&&(_.d(1),_=null)},i(d){d&&(r||De(()=>{r=qe(e,Fe,{}),r.start()})),ye(_)},o:be,d(d){d&&(g(e),g(c),g(o)),u&&u.d();for(let f=0;f<n.length;f+=1)n[f].d();_&&_.d(d)}}}function Un(s){let e,t=`<p>No data cached for this activity. Click &quot;Fetch Data&quot; to sync
                from the server.</p> <div class="empty-state"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg></div>`,n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-h6ex8u"&&(e.innerHTML=t),this.h()},h(){a(e,"class","placeholder svelte-1nhhhnk")},m(l,r){q(l,e,r)},p:be,i(l){l&&(n||De(()=>{n=qe(e,Fe,{}),n.start()}))},o:be,d(l){l&&g(e)}}}function Hn(s){let e,t,n,l,r,c,o="Retry",u,b,h;return{c(){e=p("div"),t=p("p"),n=_e("Error: "),l=_e(s[3]),r=S(),c=p("button"),c.textContent=o,this.h()},l(_){e=v(_,"DIV",{class:!0});var d=C(e);t=v(d,"P",{});var f=C(t);n=pe(f,"Error: "),l=pe(f,s[3]),f.forEach(g),r=I(d),c=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),z(c)!=="svelte-1n0rt7s"&&(c.textContent=o),d.forEach(g),this.h()},h(){a(c,"class","retry-btn svelte-1nhhhnk"),a(e,"class","status-msg error svelte-1nhhhnk")},m(_,d){q(_,e,d),i(e,t),i(t,n),i(t,l),i(e,r),i(e,c),b||(h=K(c,"click",s[17]),b=!0)},p(_,d){d[0]&8&&Ve(l,_[3])},i(_){_&&(u||De(()=>{u=qe(e,Fe,{}),u.start()}))},o:be,d(_){_&&g(e),b=!1,h()}}}function Fn(s){let e,t=`<div class="spinner svelte-1nhhhnk"></div>
            Loading your training history...`,n;return{c(){e=p("div"),e.innerHTML=t,this.h()},l(l){e=v(l,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-7ltysi"&&(e.innerHTML=t),this.h()},h(){a(e,"class","status-msg svelte-1nhhhnk")},m(l,r){q(l,e,r)},p:be,i(l){l&&(n||De(()=>{n=qe(e,Fe,{}),n.start()}))},o:be,d(l){l&&g(e)}}}function cl(s){let e,t="No results match your filters.";return{c(){e=p("div"),e.textContent=t,this.h()},l(n){e=v(n,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-1m70tcd"&&(e.textContent=t),this.h()},h(){a(e,"class","no-results svelte-1nhhhnk")},m(n,l){q(n,e,l)},d(n){n&&g(e)}}}function ul(s){let e,t,n,l,r,c,o,u,b=de(s[11].filter(yl)),h=[];for(let f=0;f<b.length;f+=1)h[f]=hl(tl(s,b,f));let _=de(s[33].items),d=[];for(let f=0;f<_.length;f+=1)d[f]=gl($t(s,_,f));return{c(){e=p("div"),t=p("table"),n=p("thead"),l=p("tr");for(let f=0;f<h.length;f+=1)h[f].c();r=S(),c=p("tbody");for(let f=0;f<d.length;f+=1)d[f].c();this.h()},l(f){e=v(f,"DIV",{class:!0});var k=C(e);t=v(k,"TABLE",{class:!0});var m=C(t);n=v(m,"THEAD",{});var y=C(n);l=v(y,"TR",{});var T=C(l);for(let E=0;E<h.length;E+=1)h[E].l(T);T.forEach(g),y.forEach(g),r=I(m),c=v(m,"TBODY",{});var L=C(c);for(let E=0;E<d.length;E+=1)d[E].l(L);L.forEach(g),m.forEach(g),k.forEach(g),this.h()},h(){a(t,"class","details-table svelte-1nhhhnk"),a(e,"class","session-details svelte-1nhhhnk")},m(f,k){q(f,e,k),i(e,t),i(t,n),i(n,l);for(let m=0;m<h.length;m+=1)h[m]&&h[m].m(l,null);i(t,r),i(t,c);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(c,null);u=!0},p(f,k){if(k[0]&2048){b=de(f[11].filter(yl));let m;for(m=0;m<b.length;m+=1){const y=tl(f,b,m);h[m]?h[m].p(y,k):(h[m]=hl(y),h[m].c(),h[m].m(l,null))}for(;m<h.length;m+=1)h[m].d(1);h.length=b.length}if(k[0]&6144){_=de(f[33].items);let m;for(m=0;m<_.length;m+=1){const y=$t(f,_,m);d[m]?d[m].p(y,k):(d[m]=gl(y),d[m].c(),d[m].m(c,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=_.length}},i(f){u||(f&&De(()=>{u&&(o||(o=Ye(e,ot,{},!0)),o.run(1))}),u=!0)},o(f){f&&(o||(o=Ye(e,ot,{},!1)),o.run(0)),u=!1},d(f){f&&g(e),ze(h,f),ze(d,f),f&&o&&o.end()}}}function hl(s){let e,t=s[39].label+"",n;return{c(){e=p("th"),n=_e(t),this.h()},l(l){e=v(l,"TH",{class:!0});var r=C(e);n=pe(r,t),r.forEach(g),this.h()},h(){a(e,"class","svelte-1nhhhnk")},m(l,r){q(l,e,r),i(e,n)},p(l,r){r[0]&2048&&t!==(t=l[39].label+"")&&Ve(n,t)},d(l){l&&g(e)}}}function jn(s){let e=(s[36][s[39].key]||"-")+"",t;return{c(){t=_e(e)},l(n){t=pe(n,e)},m(n,l){q(n,t,l)},p(n,l){l[0]&6144&&e!==(e=(n[36][n[39].key]||"-")+"")&&Ve(t,e)},d(n){n&&g(t)}}}function zn(s){let e,t,n=(s[36].route||s[36].name||"-")+"",l,r,c,o,u,b=s[36].grade&&fl(s),h=s[36].weight&&dl(s),_=(s[36].sets||s[36].reps)&&vl(s),d=s[36].notes&&pl(s);return{c(){e=p("div"),t=p("span"),l=_e(n),r=S(),b&&b.c(),c=S(),h&&h.c(),o=S(),_&&_.c(),u=S(),d&&d.c(),this.h()},l(f){e=v(f,"DIV",{class:!0});var k=C(e);t=v(k,"SPAN",{class:!0});var m=C(t);l=pe(m,n),m.forEach(g),r=I(k),b&&b.l(k),c=I(k),h&&h.l(k),o=I(k),_&&_.l(k),u=I(k),d&&d.l(k),k.forEach(g),this.h()},h(){a(t,"class","ex-name svelte-1nhhhnk"),a(e,"class","exercise-row svelte-1nhhhnk")},m(f,k){q(f,e,k),i(e,t),i(t,l),i(e,r),b&&b.m(e,null),i(e,c),h&&h.m(e,null),i(e,o),_&&_.m(e,null),i(e,u),d&&d.m(e,null)},p(f,k){k[0]&4096&&n!==(n=(f[36].route||f[36].name||"-")+"")&&Ve(l,n),f[36].grade?b?b.p(f,k):(b=fl(f),b.c(),b.m(e,c)):b&&(b.d(1),b=null),f[36].weight?h?h.p(f,k):(h=dl(f),h.c(),h.m(e,o)):h&&(h.d(1),h=null),f[36].sets||f[36].reps?_?_.p(f,k):(_=vl(f),_.c(),_.m(e,u)):_&&(_.d(1),_=null),f[36].notes?d?d.p(f,k):(d=pl(f),d.c(),d.m(e,null)):d&&(d.d(1),d=null)},d(f){f&&g(e),b&&b.d(),h&&h.d(),_&&_.d(),d&&d.d()}}}function fl(s){let e,t=s[36].grade+"",n;return{c(){e=p("span"),n=_e(t),this.h()},l(l){e=v(l,"SPAN",{class:!0});var r=C(e);n=pe(r,t),r.forEach(g),this.h()},h(){a(e,"class","ex-meta grade svelte-1nhhhnk")},m(l,r){q(l,e,r),i(e,n)},p(l,r){r[0]&4096&&t!==(t=l[36].grade+"")&&Ve(n,t)},d(l){l&&g(e)}}}function dl(s){let e,t=s[36].weight+"",n,l;return{c(){e=p("span"),n=_e(t),l=_e("kg"),this.h()},l(r){e=v(r,"SPAN",{class:!0});var c=C(e);n=pe(c,t),l=pe(c,"kg"),c.forEach(g),this.h()},h(){a(e,"class","ex-meta weight svelte-1nhhhnk")},m(r,c){q(r,e,c),i(e,n),i(e,l)},p(r,c){c[0]&4096&&t!==(t=r[36].weight+"")&&Ve(n,t)},d(r){r&&g(e)}}}function vl(s){let e,t=s[36].sets+"",n,l,r=s[36].reps+"",c;return{c(){e=p("span"),n=_e(t),l=_e("x"),c=_e(r),this.h()},l(o){e=v(o,"SPAN",{class:!0});var u=C(e);n=pe(u,t),l=pe(u,"x"),c=pe(u,r),u.forEach(g),this.h()},h(){a(e,"class","ex-meta sets svelte-1nhhhnk")},m(o,u){q(o,e,u),i(e,n),i(e,l),i(e,c)},p(o,u){u[0]&4096&&t!==(t=o[36].sets+"")&&Ve(n,t),u[0]&4096&&r!==(r=o[36].reps+"")&&Ve(c,r)},d(o){o&&g(e)}}}function pl(s){let e,t=s[36].notes+"",n;return{c(){e=p("span"),n=_e(t),this.h()},l(l){e=v(l,"SPAN",{class:!0});var r=C(e);n=pe(r,t),r.forEach(g),this.h()},h(){a(e,"class","ex-notes svelte-1nhhhnk")},m(l,r){q(l,e,r),i(e,n)},p(l,r){r[0]&4096&&t!==(t=l[36].notes+"")&&Ve(n,t)},d(l){l&&g(e)}}}function _l(s){let e;function t(r,c){return r[39].isObject?zn:jn}let n=t(s),l=n(s);return{c(){e=p("td"),l.c(),this.h()},l(r){e=v(r,"TD",{class:!0});var c=C(e);l.l(c),c.forEach(g),this.h()},h(){a(e,"class","svelte-1nhhhnk")},m(r,c){q(r,e,c),l.m(e,null)},p(r,c){n===(n=t(r))&&l?l.p(r,c):(l.d(1),l=n(r),l&&(l.c(),l.m(e,null)))},d(r){r&&g(e),l.d()}}}function gl(s){let e,t,n=de(s[11].filter(Cl)),l=[];for(let r=0;r<n.length;r+=1)l[r]=_l(el(s,n,r));return{c(){e=p("tr");for(let r=0;r<l.length;r+=1)l[r].c();t=S()},l(r){e=v(r,"TR",{});var c=C(e);for(let o=0;o<l.length;o+=1)l[o].l(c);t=I(c),c.forEach(g)},m(r,c){q(r,e,c);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null);i(e,t)},p(r,c){if(c[0]&6144){n=de(r[11].filter(Cl));let o;for(o=0;o<n.length;o+=1){const u=el(r,n,o);l[o]?l[o].p(u,c):(l[o]=_l(u),l[o].c(),l[o].m(e,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(r){r&&g(e),ze(l,r)}}}function ml(s,e){let t,n,l,r,c=kl(e[33].date)+"",o,u,b,h=e[33].location+"",_,d,f,k=e[33].session+"",m,y,T,L,E,O="FI",w,B,N=e[33].fingerLoad+"",D,M,F,Y,ne="SH",ke,V,A=e[33].shoulderLoad+"",oe,Z,J,re,G="FO",we,ie,ue=e[33].forearmLoad+"",$,Pe,ce,ve,he,Le=e[4].has(e[33].key),se,ee,j;function Te(){return e[32](e[33])}let ae=Le&&ul(e);return{key:s,first:null,c(){t=p("div"),n=p("button"),l=p("div"),r=p("span"),o=_e(c),u=S(),b=p("span"),_=_e(h),d=S(),f=p("span"),m=_e(k),y=S(),T=p("div"),L=p("div"),E=p("span"),E.textContent=O,w=S(),B=p("span"),D=_e(N),M=S(),F=p("div"),Y=p("span"),Y.textContent=ne,ke=S(),V=p("span"),oe=_e(A),Z=S(),J=p("div"),re=p("span"),re.textContent=G,we=S(),ie=p("span"),$=_e(ue),Pe=S(),ce=ht("svg"),ve=ht("path"),he=S(),ae&&ae.c(),se=S(),this.h()},l(R){t=v(R,"DIV",{class:!0});var H=C(t);n=v(H,"BUTTON",{class:!0});var W=C(n);l=v(W,"DIV",{class:!0});var ge=C(l);r=v(ge,"SPAN",{class:!0});var Ie=C(r);o=pe(Ie,c),Ie.forEach(g),u=I(ge),b=v(ge,"SPAN",{class:!0});var fe=C(b);_=pe(fe,h),fe.forEach(g),d=I(ge),f=v(ge,"SPAN",{class:!0});var Ue=C(f);m=pe(Ue,k),Ue.forEach(g),ge.forEach(g),y=I(W),T=v(W,"DIV",{class:!0});var Se=C(T);L=v(Se,"DIV",{class:!0});var me=C(L);E=v(me,"SPAN",{class:!0,"data-svelte-h":!0}),z(E)!=="svelte-lon4bu"&&(E.textContent=O),w=I(me),B=v(me,"SPAN",{class:!0});var Me=C(B);D=pe(Me,N),Me.forEach(g),me.forEach(g),M=I(Se),F=v(Se,"DIV",{class:!0});var Ce=C(F);Y=v(Ce,"SPAN",{class:!0,"data-svelte-h":!0}),z(Y)!=="svelte-ryswzs"&&(Y.textContent=ne),ke=I(Ce),V=v(Ce,"SPAN",{class:!0});var Re=C(V);oe=pe(Re,A),Re.forEach(g),Ce.forEach(g),Z=I(Se),J=v(Se,"DIV",{class:!0});var Ee=C(J);re=v(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),z(re)!=="svelte-1q34mlw"&&(re.textContent=G),we=I(Ee),ie=v(Ee,"SPAN",{class:!0});var P=C(ie);$=pe(P,ue),P.forEach(g),Ee.forEach(g),Pe=I(Se),ce=ut(Se,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var X=C(ce);ve=ut(X,"path",{d:!0}),C(ve).forEach(g),X.forEach(g),Se.forEach(g),W.forEach(g),he=I(H),ae&&ae.l(H),se=I(H),H.forEach(g),this.h()},h(){a(r,"class","date svelte-1nhhhnk"),a(b,"class","location svelte-1nhhhnk"),a(f,"class","tag svelte-1nhhhnk"),a(l,"class","session-info svelte-1nhhhnk"),a(E,"class","label svelte-1nhhhnk"),a(B,"class","val"),a(L,"class","load-pill finger svelte-1nhhhnk"),a(Y,"class","label svelte-1nhhhnk"),a(V,"class","val"),a(F,"class","load-pill shoulder svelte-1nhhhnk"),a(re,"class","label svelte-1nhhhnk"),a(ie,"class","val"),a(J,"class","load-pill forearm svelte-1nhhhnk"),a(ve,"d","m6 9 6 6 6-6"),a(ce,"class","chevron svelte-1nhhhnk"),a(ce,"xmlns","http://www.w3.org/2000/svg"),a(ce,"width","20"),a(ce,"height","20"),a(ce,"viewBox","0 0 24 24"),a(ce,"fill","none"),a(ce,"stroke","currentColor"),a(ce,"stroke-width","2"),a(ce,"stroke-linecap","round"),a(ce,"stroke-linejoin","round"),a(T,"class","load-summary svelte-1nhhhnk"),a(n,"class","session-header svelte-1nhhhnk"),a(t,"class","session-card svelte-1nhhhnk"),Ge(t,"expanded",e[4].has(e[33].key)),this.first=t},m(R,H){q(R,t,H),i(t,n),i(n,l),i(l,r),i(r,o),i(l,u),i(l,b),i(b,_),i(l,d),i(l,f),i(f,m),i(n,y),i(n,T),i(T,L),i(L,E),i(L,w),i(L,B),i(B,D),i(T,M),i(T,F),i(F,Y),i(F,ke),i(F,V),i(V,oe),i(T,Z),i(T,J),i(J,re),i(J,we),i(J,ie),i(ie,$),i(T,Pe),i(T,ce),i(ce,ve),i(t,he),ae&&ae.m(t,null),i(t,se),ee||(j=K(n,"click",Te),ee=!0)},p(R,H){e=R,H[0]&4096&&c!==(c=kl(e[33].date)+"")&&Ve(o,c),H[0]&4096&&h!==(h=e[33].location+"")&&Ve(_,h),H[0]&4096&&k!==(k=e[33].session+"")&&Ve(m,k),H[0]&4096&&N!==(N=e[33].fingerLoad+"")&&Ve(D,N),H[0]&4096&&A!==(A=e[33].shoulderLoad+"")&&Ve(oe,A),H[0]&4096&&ue!==(ue=e[33].forearmLoad+"")&&Ve($,ue),H[0]&4112&&(Le=e[4].has(e[33].key)),Le?ae?(ae.p(e,H),H[0]&4112&&ye(ae,1)):(ae=ul(e),ae.c(),ye(ae,1),ae.m(t,se)):ae&&(xe(),Ae(ae,1,1,()=>{ae=null}),Ke()),H[0]&4112&&Ge(t,"expanded",e[4].has(e[33].key))},d(R){R&&g(t),ae&&ae.d(),ee=!1,j()}}}function bl(s){let e,t,n=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    Export to CSV`,l,r,c;return{c(){e=p("div"),t=p("button"),t.innerHTML=n,this.h()},l(o){e=v(o,"DIV",{class:!0});var u=C(e);t=v(u,"BUTTON",{class:!0,"data-svelte-h":!0}),z(t)!=="svelte-jjg4f9"&&(t.innerHTML=n),u.forEach(g),this.h()},h(){a(t,"class","export-btn svelte-1nhhhnk"),a(e,"class","footer-actions svelte-1nhhhnk")},m(o,u){q(o,e,u),i(e,t),r||(c=K(t,"click",s[20]),r=!0)},p:be,i(o){o&&(l||De(()=>{l=qe(e,Fe,{}),l.start()}))},o:be,d(o){o&&g(e),r=!1,c()}}}function Gn(s){let e,t,n,l,r,c,o,u=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>
                Filters`,b,h,_,d,f,k;function m(D,M){return D[2]?An:Nn}let y=m(s),T=y(s),L=de(s[14]),E=[];for(let D=0;D<L.length;D+=1)E[D]=ol(sl(s,L,D));let O=s[5]&&rl(s);function w(D,M){return D[2]?Fn:D[3]?Hn:D[1].length===0?Un:Rn}let B=w(s),N=B(s);return{c(){e=p("div"),t=p("div"),n=p("div"),l=p("button"),T.c(),r=_e(`
                Fetch Data`),c=S(),o=p("button"),o.innerHTML=u,b=S(),h=p("select");for(let D=0;D<E.length;D+=1)E[D].c();_=S(),O&&O.c(),d=S(),N.c(),this.h()},l(D){e=v(D,"DIV",{class:!0});var M=C(e);t=v(M,"DIV",{class:!0});var F=C(t);n=v(F,"DIV",{class:!0});var Y=C(n);l=v(Y,"BUTTON",{class:!0,title:!0});var ne=C(l);T.l(ne),r=pe(ne,`
                Fetch Data`),ne.forEach(g),c=I(Y),o=v(Y,"BUTTON",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-vw25g4"&&(o.innerHTML=u),b=I(Y),h=v(Y,"SELECT",{class:!0});var ke=C(h);for(let V=0;V<E.length;V+=1)E[V].l(ke);ke.forEach(g),Y.forEach(g),F.forEach(g),_=I(M),O&&O.l(M),d=I(M),N.l(M),M.forEach(g),this.h()},h(){a(l,"class","fetch-btn svelte-1nhhhnk"),l.disabled=s[2],a(l,"title","Fetch latest data"),a(o,"class","filter-toggle svelte-1nhhhnk"),Ge(o,"active",s[5]),a(h,"class","type-select svelte-1nhhhnk"),s[0]===void 0&&De(()=>s[24].call(h)),a(n,"class","header-actions svelte-1nhhhnk"),a(t,"class","header-row svelte-1nhhhnk"),a(e,"class","view-container svelte-1nhhhnk")},m(D,M){q(D,e,M),i(e,t),i(t,n),i(n,l),T.m(l,null),i(l,r),i(n,c),i(n,o),i(n,b),i(n,h);for(let F=0;F<E.length;F+=1)E[F]&&E[F].m(h,null);Ne(h,s[0],!0),i(e,_),O&&O.m(e,null),i(e,d),N.m(e,null),f||(k=[K(l,"click",s[17]),K(o,"click",s[23]),K(h,"change",s[24])],f=!0)},p(D,M){if(y!==(y=m(D))&&(T.d(1),T=y(D),T&&(T.c(),T.m(l,r))),M[0]&4&&(l.disabled=D[2]),M[0]&32&&Ge(o,"active",D[5]),M[0]&16384){L=de(D[14]);let F;for(F=0;F<L.length;F+=1){const Y=sl(D,L,F);E[F]?E[F].p(Y,M):(E[F]=ol(Y),E[F].c(),E[F].m(h,null))}for(;F<E.length;F+=1)E[F].d(1);E.length=L.length}M[0]&16385&&Ne(h,D[0]),D[5]?O?(O.p(D,M),M[0]&32&&ye(O,1)):(O=rl(D),O.c(),ye(O,1),O.m(e,d)):O&&(xe(),Ae(O,1,1,()=>{O=null}),Ke()),B===(B=w(D))&&N?N.p(D,M):(N.d(1),N=B(D),N&&(N.c(),ye(N,1),N.m(e,null)))},i(D){ye(O),ye(N)},o(D){Ae(O)},d(D){D&&g(e),T.d(),ze(E,D),O&&O.d(),N.d(),f=!1,Je(k)}}}const qn="https://get-log-825153765638.europe-west1.run.app";function Wn(s,e,t,n,l,r){const c=s.filter(u=>{var b,h,_;if(e&&new Date(((b=u.date)==null?void 0:b.value)||u.date)<new Date(e))return!1;if(t){const d=new Date(t);if(d.setHours(23,59,59,999),new Date(((h=u.date)==null?void 0:h.value)||u.date)>d)return!1}return!(n&&u.location!==n||l&&u.session_type!==l||r&&((_=u.climbs)==null?void 0:_.grade)!==r)}),o={};return c.forEach(u=>{var d;const b=((d=u.date)==null?void 0:d.value)||u.date,_=`${new Date(b).toISOString().split("T")[0]}|${u.location}|${u.session_type}`;o[_]||(o[_]={key:_,date:u.date,location:u.location,session:u.session_type,fingerLoad:0,shoulderLoad:0,forearmLoad:0,items:[]}),o[_].fingerLoad=Math.max(o[_].fingerLoad,u.finger_load||0),o[_].shoulderLoad=Math.max(o[_].shoulderLoad,u.shoulder_load||0),o[_].forearmLoad=Math.max(o[_].forearmLoad,u.forearm_load||0),o[_].items.push(u.climbs)}),Object.values(o).sort((u,b)=>{const h=new Date(u.date.value||u.date);return new Date(b.date.value||b.date).getTime()-h.getTime()})}function kl(s){return s?new Date(s.value||s).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"2-digit"}):"-"}function xn(s){switch(s){case"indoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Session"},{key:"climbs",label:"Data",isObject:!0}];case"fingerboard":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Hang",isObject:!0}];case"outdoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Routes",isObject:!0}];default:return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"}]}}const yl=s=>s.key!=="date"&&s.key!=="location"&&s.key!=="session_type",Cl=s=>s.key!=="date"&&s.key!=="location"&&s.key!=="session_type";function Kn(s,e,t){let n,l,r,c;Il(s,wt,G=>t(22,c=G));let o="indoor",u=!1,b="",h=new Set;function _(G){h.has(G)?h.delete(G):h.add(G),t(4,h)}let d=!1,f="",k="",m="",y="",T="",L={startDate:"",endDate:"",location:"",session:"",grade:""};const E=[{id:"indoor",label:"Indoor Climb"},{id:"fingerboard",label:"Fingerboarding"},{id:"gym",label:"Gym Session"},{id:"outdoor",label:"Outdoor Climb"},{id:"other",label:"Other"}],O=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],w=["Strength","Endurance","Power","Recovery"];async function B(){if(o){t(2,u=!0),t(3,b="");try{const G=Ll(ct),we=new URLSearchParams({type:o}),ie=await fetch(`${qn}?${we.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${G}`}});if(!ie.ok){const $=await ie.text();throw new Error($||"Failed to fetch data")}const ue=await ie.json();Ul(o,ue)}catch(G){console.error("Fetch Error:",G),t(3,b=G.message||"An unknown error occurred")}finally{t(2,u=!1)}}}function N(){t(21,L={startDate:f,endDate:k,location:m,session:y,grade:T}),t(5,d=!1)}function D(){t(6,f=""),t(7,k=""),t(8,m=""),t(9,y=""),t(10,T=""),N()}function M(){if(!n||n.length===0)return;const G=["date","location","session_type","finger_load","shoulder_load","forearm_load"],we=new Set;n.forEach(Le=>{Le.climbs&&Object.keys(Le.climbs).forEach(se=>we.add(se))});const ie=Array.from(we),ue=[...G,...ie],$=[];$.push(ue.join(",")),n.forEach(Le=>{const se=ue.map(ee=>{let j;return G.includes(ee)?j=Le[ee]:j=Le.climbs?Le.climbs[ee]:"",j&&typeof j=="object"&&j.value&&(j=j.value),`"${(j==null?"":String(j)).replace(/"/g,'""')}"`});$.push(se.join(","))});const Pe=$.join(`
`),ce=new Blob([Pe],{type:"text/csv;charset=utf-8;"}),ve=URL.createObjectURL(ce),he=document.createElement("a");he.setAttribute("href",ve),he.setAttribute("download",`training_data_${o}_${new Date().toISOString().split("T")[0]}.csv`),he.style.visibility="hidden",document.body.appendChild(he),he.click(),document.body.removeChild(he)}jl(()=>{});const F=()=>t(5,d=!d);function Y(){o=We(this),t(0,o),t(14,E)}function ne(){f=this.value,t(6,f)}function ke(){k=this.value,t(7,k)}function V(){m=this.value,t(8,m),t(15,O)}function A(){m=We(this),t(8,m),t(15,O)}function oe(){y=We(this),t(9,y),t(16,w)}function Z(){y=We(this),t(9,y),t(16,w)}function J(){T=this.value,t(10,T)}const re=G=>_(G.key);return s.$$.update=()=>{s.$$.dirty[0]&4194305&&t(1,n=c[o]||[]),s.$$.dirty[0]&2097154&&t(12,l=Wn(n,L.startDate,L.endDate,L.location,L.session,L.grade)),s.$$.dirty[0]&1&&t(11,r=xn(o))},[o,n,u,b,h,d,f,k,m,y,T,r,l,_,E,O,w,B,N,D,M,L,c,F,Y,ne,ke,V,A,oe,Z,J,re]}class Yn extends Xe{constructor(e){super(),Ze(this,e,Kn,Gn,Qe,{},null,[-1,-1])}}function Jn(s){let e,t='<h2 class="svelte-dqa28t">Graph Data</h2> <div class="placeholder svelte-dqa28t"><p class="svelte-dqa28t">Visual progress charts and graphs will be displayed here.</p> <div class="empty-state svelte-dqa28t"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-line-chart"><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"></path></svg></div></div>';return{c(){e=p("div"),e.innerHTML=t,this.h()},l(n){e=v(n,"DIV",{class:!0,"data-svelte-h":!0}),z(e)!=="svelte-r5xejk"&&(e.innerHTML=t),this.h()},h(){a(e,"class","tab-content svelte-dqa28t")},m(n,l){q(n,e,l)},p:be,i:be,o:be,d(n){n&&g(e)}}}class Qn extends Xe{constructor(e){super(),Ze(this,e,null,Jn,Qe,{})}}function El(s,e,t){const n=s.slice();return n[5]=e[t],n}function wl(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg>',n,l;return{c(){e=p("button"),e.innerHTML=t,this.h()},l(r){e=v(r,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),z(e)!=="svelte-1y2odl3"&&(e.innerHTML=t),this.h()},h(){a(e,"class","logout-button svelte-xzza9f"),a(e,"title","Logout")},m(r,c){q(r,e,c),n||(l=K(e,"click",$l),n=!0)},d(r){r&&g(e),n=!1,l()}}}function Xn(s){let e,t,n;return t=new ln({}),{c(){e=p("div"),dt(t.$$.fragment),this.h()},l(l){e=v(l,"DIV",{class:!0});var r=C(e);Ct(t.$$.fragment,r),r.forEach(g),this.h()},h(){a(e,"class","content-container svelte-xzza9f")},m(l,r){q(l,e,r),vt(t,e,null),n=!0},p:be,i(l){n||(ye(t.$$.fragment,l),n=!0)},o(l){Ae(t.$$.fragment,l),n=!1},d(l){l&&g(e),ft(t)}}}function Zn(s){let e,t,n,l,r,c=de(s[3]),o=[];for(let h=0;h<c.length;h+=1)o[h]=Tl(El(s,c,h));var u=s[1].component;function b(h,_){return{}}return u&&(l=bt(u,b())),{c(){e=p("nav");for(let h=0;h<o.length;h+=1)o[h].c();t=S(),n=p("div"),l&&dt(l.$$.fragment),this.h()},l(h){e=v(h,"NAV",{class:!0});var _=C(e);for(let f=0;f<o.length;f+=1)o[f].l(_);_.forEach(g),t=I(h),n=v(h,"DIV",{class:!0});var d=C(n);l&&Ct(l.$$.fragment,d),d.forEach(g),this.h()},h(){a(e,"class","tabs-nav svelte-xzza9f"),a(n,"class","content-container svelte-xzza9f")},m(h,_){q(h,e,_);for(let d=0;d<o.length;d+=1)o[d]&&o[d].m(e,null);q(h,t,_),q(h,n,_),l&&vt(l,n,null),r=!0},p(h,_){if(_&9){c=de(h[3]);let d;for(d=0;d<c.length;d+=1){const f=El(h,c,d);o[d]?o[d].p(f,_):(o[d]=Tl(f),o[d].c(),o[d].m(e,null))}for(;d<o.length;d+=1)o[d].d(1);o.length=c.length}if(_&2&&u!==(u=h[1].component)){if(l){xe();const d=l;Ae(d.$$.fragment,1,0,()=>{ft(d,1)}),Ke()}u?(l=bt(u,b()),dt(l.$$.fragment),ye(l.$$.fragment,1),vt(l,n,null)):l=null}},i(h){r||(l&&ye(l.$$.fragment,h),r=!0)},o(h){l&&Ae(l.$$.fragment,h),r=!1},d(h){h&&(g(e),g(t),g(n)),ze(o,h),l&&ft(l)}}}function Tl(s){let e,t=s[5].label+"",n,l,r,c;function o(){return s[4](s[5])}return{c(){e=p("button"),n=_e(t),l=S(),this.h()},l(u){e=v(u,"BUTTON",{class:!0});var b=C(e);n=pe(b,t),l=I(b),b.forEach(g),this.h()},h(){a(e,"class","tab-button svelte-xzza9f"),Ge(e,"active",s[0]===s[5].id)},m(u,b){q(u,e,b),i(e,n),i(e,l),r||(c=K(e,"click",o),r=!0)},p(u,b){s=u,b&9&&Ge(e,"active",s[0]===s[5].id)},d(u){u&&g(e),r=!1,c()}}}function $n(s){let e,t,n,l,r,c,o,u="Training Tracker",b,h,_,d,f;document.title=e="Training Tracker "+(s[2]?"- "+s[1].label:"(Locked)");let k=s[2]&&wl();const m=[Zn,Xn],y=[];function T(L,E){return L[2]?0:1}return _=T(s),d=y[_]=m[_](s),{c(){t=p("meta"),n=S(),l=p("main"),r=p("div"),c=p("header"),o=p("h1"),o.textContent=u,b=S(),k&&k.c(),h=S(),d.c(),this.h()},l(L){const E=Kl("svelte-ggv3pg",document.head);t=v(E,"META",{name:!0,content:!0}),E.forEach(g),n=I(L),l=v(L,"MAIN",{});var O=C(l);r=v(O,"DIV",{class:!0});var w=C(r);c=v(w,"HEADER",{class:!0});var B=C(c);o=v(B,"H1",{class:!0,"data-svelte-h":!0}),z(o)!=="svelte-95sjtq"&&(o.textContent=u),b=I(B),k&&k.l(B),B.forEach(g),h=I(w),d.l(w),w.forEach(g),O.forEach(g),this.h()},h(){a(t,"name","description"),a(t,"content","A simple Svelte webapp for tracking training"),a(o,"class","svelte-xzza9f"),a(c,"class","svelte-xzza9f"),a(r,"class","app-container svelte-xzza9f")},m(L,E){i(document.head,t),q(L,n,E),q(L,l,E),i(l,r),i(r,c),i(c,o),i(c,b),k&&k.m(c,null),i(r,h),y[_].m(r,null),f=!0},p(L,[E]){(!f||E&6)&&e!==(e="Training Tracker "+(L[2]?"- "+L[1].label:"(Locked)"))&&(document.title=e),L[2]?k||(k=wl(),k.c(),k.m(c,null)):k&&(k.d(1),k=null);let O=_;_=T(L),_===O?y[_].p(L,E):(xe(),Ae(y[O],1,1,()=>{y[O]=null}),Ke(),d=y[_],d?d.p(L,E):(d=y[_]=m[_](L),d.c()),ye(d,1),d.m(r,null))},i(L){f||(ye(d),f=!0)},o(L){Ae(d),f=!1},d(L){L&&(g(n),g(l)),g(t),k&&k.d(),y[_].d()}}}function es(s,e,t){let n,l;Il(s,ct,u=>t(2,l=u));const r=[{id:"log",label:"Log Exercise",component:On},{id:"view",label:"View Data",component:Yn},{id:"graph",label:"Graph Data",component:Qn}];let c="log";const o=u=>t(0,c=u.id);return s.$$.update=()=>{s.$$.dirty&1&&t(1,n=r.find(u=>u.id===c))},[c,n,l,r,o]}class ss extends Xe{constructor(e){super(),Ze(this,e,es,$n,Qe,{})}}export{ss as component};
