import{f as v,a as r,c as it,t as Oe}from"../chunks/Dy_yFtRF.js";import{w as Ps,p as nt,c as l,r as t,s as a,j as e,t as B,a as vt,f as et,aZ as c,E as je,aG as Le,F as s,a_ as Bt,b0 as Cs,d as Ts,b1 as us,k as qt,e as Me,b2 as Rs,ac as lt,o as Ls,b3 as Ms,b4 as ys,b5 as Fs,b6 as js,D as Bs,b7 as Ds}from"../chunks/QpXzQ7VK.js";import{d as Qt,s as K,e as te}from"../chunks/BR79ex5r.js";import{i as P}from"../chunks/CmpNJFrY.js";import{e as me,i as we,r as T,b as A,c as Ns,s as rt,d as As}from"../chunks/BB3KXFwk.js";import{s as Ue}from"../chunks/BOayXmp2.js";import{i as ks,s as Ss,c as Ke,d as Es,m as ps,b as fs,e as Vs,f as Gs,h as zs,j as Is}from"../chunks/kdj3S9pV.js";import{i as rs,c as Hs,g as Ws,a as Us,b as $s,t as ds,f as ws,d as Qs,e as Ks,h as Js,j as Ys,s as Zs}from"../chunks/D_JwAdkp.js";import{p as ot}from"../chunks/MIzAevRS.js";import{i as is}from"../chunks/BWdHS9aO.js";function qs(_e){return function(...M){var q=M[0];return q.stopPropagation(),_e?.apply(this,M)}}function ls(_e,M){var q=_e.$$events?.[M.type],D=Ps(q)?q.slice():q==null?[]:[q];for(var y of D)y.call(this,M)}var Xs=v('<span class="placeholder svelte-1g8x5ph"> </span>'),ea=v('<span class="chip-display"> </span>'),ta=v('<button type="button"> </button>'),sa=v('<div class="multi-select-container svelte-1g8x5ph"><div class="chips svelte-1g8x5ph"><!></div> <div class="options-grid svelte-1g8x5ph"></div></div>');function Ct(_e,M){nt(M,!0);let q=ot(M,"selected",19,()=>[]),D=ot(M,"placeholder",3,"Select options...");function y(R){let L=[...q()];R==="None"?L.includes("None")?L=[]:L=["None"]:(L=L.filter(k=>k!=="None"),L.includes(R)?L=L.filter(k=>k!==R):L.push(R)),M.onChange(L)}var p=sa(),d=l(p),I=l(d);{var H=R=>{var L=Xs(),k=l(L,!0);t(L),B(()=>K(k,D())),r(R,L)},le=R=>{var L=it(),k=et(L);me(k,17,q,we,(W,C)=>{var w=ea(),E=l(w,!0);t(w),B(()=>K(E,e(C))),r(W,w)}),r(R,L)};P(I,R=>{q().length===0?R(H):R(le,!1)})}t(d);var m=a(d,2);me(m,21,()=>M.options,we,(R,L)=>{var k=ta();k.__click=()=>y(e(L));var W=l(k,!0);t(k),B(C=>{Ue(k,1,`option-chip ${C??""}`,"svelte-1g8x5ph"),K(W,e(L))},[()=>q().includes(e(L))?"selected":""]),r(R,k)}),t(m),t(p),r(_e,p),vt()}Qt(["click"]);var aa=v('<div class="input-with-action svelte-1lf3qka"><input type="text" id="location-manual" placeholder="Enter custom location..." class="flat-left svelte-1lf3qka"/> <button type="button" class="action-btn flat-right svelte-1lf3qka" title="Back to list">‚úï</button></div>'),la=v("<option> </option>"),ra=v('<select id="location" class="svelte-1lf3qka"><option disabled>Select location...</option><!></select>'),ia=v("<option> </option>"),oa=v("<option> </option>"),na=v('<th class="svelte-1lf3qka">Sport?</th>'),va=v('<td class="center svelte-1lf3qka"><input type="checkbox" class="svelte-1lf3qka"/></td>'),ca=v('<span class="grade-error svelte-1lf3qka">Invalid</span>'),da=v("<option> </option>"),ua=v('<button type="button" class="remove-btn svelte-1lf3qka">‚úï</button>'),pa=v('<tr><!><td class="svelte-1lf3qka"><input type="text" placeholder="Route name..." class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><input type="text" placeholder="V3"/> <!></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><input type="number" min="1" class="svelte-1lf3qka"/></td><td><textarea placeholder="Notes..." class="svelte-1lf3qka"></textarea></td><td class="center svelte-1lf3qka"><!></td></tr>'),fa=v("<div> </div>"),ga=v('<div class="form-content svelte-1lf3qka"><h3 class="svelte-1lf3qka">üßó Indoor Climb</h3> <div class="form-row svelte-1lf3qka"><div class="form-group svelte-1lf3qka"><label for="date" class="svelte-1lf3qka">Date</label> <input type="date" id="date" class="svelte-1lf3qka"/></div> <div class="form-group svelte-1lf3qka"><label for="location" class="svelte-1lf3qka">Location</label> <!></div></div> <div class="form-group svelte-1lf3qka"><label for="climbing-type" class="svelte-1lf3qka">Climbing Type</label> <select id="climbing-type" class="svelte-1lf3qka"><option disabled>Select type...</option><!></select></div> <div class="load-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Load Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="load-item svelte-1lf3qka"><label for="finger-load" class="svelte-1lf3qka">Finger</label> <input type="number" id="finger-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="shoulder-load" class="svelte-1lf3qka">Shoulder</label> <input type="number" id="shoulder-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="forearm-load" class="svelte-1lf3qka">Forearm</label> <input type="number" id="forearm-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div></div> <h4 class="mt-4 svelte-1lf3qka">Grip Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="load-item svelte-1lf3qka"><label for="open-grip" class="svelte-1lf3qka">Open</label> <input type="number" id="open-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="crimp-grip" class="svelte-1lf3qka">Crimp</label> <input type="number" id="crimp-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="pinch-grip" class="svelte-1lf3qka">Pinch</label> <input type="number" id="pinch-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="sloper-grip" class="svelte-1lf3qka">Sloper</label> <input type="number" id="sloper-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="jug-grip" class="svelte-1lf3qka">Jug</label> <input type="number" id="jug-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div></div></div> <div class="training-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Training Details</h4> <div class="training-grid svelte-1lf3qka"><div class="training-item svelte-1lf3qka"><label for="training-type" class="svelte-1lf3qka">Training Type</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="difficulty" class="svelte-1lf3qka">Difficulty</label> <select id="difficulty" class="svelte-1lf3qka"></select></div> <div class="training-item svelte-1lf3qka"><label for="category" class="svelte-1lf3qka">Category</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="energy-system" class="svelte-1lf3qka">Energy System</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="technique-focus" class="svelte-1lf3qka">Technique Focus</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="wall-angle" class="svelte-1lf3qka">Wall</label> <!></div></div></div> <div class="climbs-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Climbs</h4> <div class="table-container svelte-1lf3qka"><table class="climbs-table svelte-1lf3qka"><thead><tr><!><th class="svelte-1lf3qka">Name</th><th class="svelte-1lf3qka">Grade</th><th class="svelte-1lf3qka">Attempt</th><th class="svelte-1lf3qka">#</th><th class="svelte-1lf3qka">Notes</th><th class="svelte-1lf3qka"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-1lf3qka">+ Add Climb</button></div> <div class="submit-section svelte-1lf3qka"><!> <button type="button" class="submit-btn svelte-1lf3qka"><!></button></div></div>');function ma(_e,M){nt(M,!0);const q=["Rockstar Unit 3","Rockstar Unit 5","Rockstar Techno","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","Other"],D=["Bouldering","Sport","Mixed"],y=["Onsight","Flash","Redpoint","Dogged","DNF"],p=["None","Projecting","Onsighting","Campusing","Repeaters"],d=["None","Easy","Medium","Hard","Max","Limit+"],I=["None","Strength","Strength-endurance","Power Endurance","Coordination","Slab Technique","Overhang technique","Warm-up","Power"],H=["None","Aerobic capacity","Aerobic lactic power","Anaerobic alactic capacity","Anaerobic alactic power","Anaerobic power","Anaerobic lactic capacity"],le=["None","Trusting feet","Double-clutch","Standing on volumes","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Stemming","Bridging","Laybacking","Mantling","Kneebar","Dyno","Pogo","Coordination Moves","Gastoning","Underclinging","Compressing","Heel Hook","Toe Hook","Bicycle"],m=["None","Overhang","Slab","Roof","Moon Board","Kilter Board","Beast","Circuit Board"],L=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","V4","6B","V5","6C","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"].map(o=>o.toLowerCase());let k=c(null),W=c(je(new Date().toISOString().split("T")[0])),C=c(""),w=c(""),E=c(je(["None"])),ve=c("None"),se=c(je(["None"])),_=c(je(["None"])),j=c(je(["None"])),U=c(je(["None"])),Y=c(3),V=c(3),h=c(3),Z=c(3),O=c(3),b=c(3),S=c(3),Q=c(3),G=c(je([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}])),X=c(!1);function re(){e(C)==="Other"&&(s(X,!0),s(C,""))}function ae(){s(X,!1),s(C,"")}function u(){s(G,[...e(G),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0)}function z(o){s(G,e(G).filter((g,$)=>$!==o),!0)}function ie(o,g){e(G)[o].attemptType=g,(g==="Flash"||g==="Onsight")&&(e(G)[o].attemptsNum=1)}function fe(o){s(k,o,!0)}function Fe(){s(k,null)}let oe=Bt(()=>e(w)==="Mixed");function ne(o){return e(w)==="Sport"?!0:e(w)==="Bouldering"?!1:o.isSport}function ge(o){return o.trim()?L.includes(o.trim().toLowerCase()):!0}let ce=c("idle"),J=c("");function he(){return e(C)?e(w)?e(G).filter(g=>g.grade.trim()&&!ge(g.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a location"}async function ke(){const o=he();if(o){s(ce,"error"),s(J,o,!0);return}s(ce,"saving");try{const g=e(G).map(Se=>({...Se,isSport:ne(Se)})),$={date:e(W),location:e(C),customLocation:e(X)?e(C):void 0,climbingType:e(w),trainingTypes:e(E),difficulty:e(ve),categories:e(se),energySystems:e(_),techniqueFocuses:e(j),wallAngles:e(U),fingerLoad:e(Y),shoulderLoad:e(V),forearmLoad:e(h),openGrip:e(Z),crimpGrip:e(O),pinchGrip:e(b),sloperGrip:e(S),jugGrip:e(Q),climbs:g},Te=Es($);if(rs()){const Se=await Hs($);Se.ok?(ps(Te.id),s(ce,"success"),s(J,"Session saved and synced!")):(fs(Te.id),s(ce,"success"),s(J,"Saved locally. Sync failed: "+(Se.error||"Unknown error")))}else s(ce,"success"),s(J,"Saved locally. Will sync when online.");window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{Ce()},2e3)}catch(g){s(ce,"error"),s(J,"Failed to save session"),console.error("Save error:",g)}}function Ce(){s(W,new Date().toISOString().split("T")[0],!0),s(C,""),s(X,!1),s(w,""),s(E,["None"],!0),s(ve,"None"),s(se,["None"],!0),s(_,["None"],!0),s(j,["None"],!0),s(U,["None"],!0),s(Y,3),s(V,3),s(h,3),s(Z,3),s(O,3),s(b,3),s(S,3),s(Q,3),s(G,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0),s(ce,"idle"),s(J,"")}var ue=ga(),Pe=a(l(ue),2),Ne=l(Pe),Ve=a(l(Ne),2);T(Ve),t(Ne);var tt=a(Ne,2),ct=a(l(tt),2);{var dt=o=>{var g=aa(),$=l(g);T($);var Te=a($,2);Te.__click=ae,t(g),A($,()=>e(C),Se=>s(C,Se)),r(o,g)},f=o=>{var g=ra();g.__change=re;var $=l(g);$.value=$.__value="";var Te=a($);me(Te,17,()=>q,we,(Se,He)=>{var i=la(),n=l(i,!0);t(i);var F={};B(()=>{K(n,e(He)),F!==(F=e(He))&&(i.value=(i.__value=e(He))??"")}),r(Se,i)}),t(g),Ke(g,()=>e(C),Se=>s(C,Se)),r(o,g)};P(ct,o=>{e(X)?o(dt):o(f,!1)})}t(tt),t(Pe);var x=a(Pe,2),N=a(l(x),2),ee=l(N);ee.value=ee.__value="";var xe=a(ee);me(xe,17,()=>D,we,(o,g)=>{var $=ia(),Te=l($,!0);t($);var Se={};B(()=>{K(Te,e(g)),Se!==(Se=e(g))&&($.value=($.__value=e(g))??"")}),r(o,$)}),t(N),t(x);var Be=a(x,2),Je=a(l(Be),2),bt=l(Je),Tt=a(l(bt),2);T(Tt),Le(2),t(bt);var ut=a(bt,2),pt=a(l(ut),2);T(pt),Le(2),t(ut);var yt=a(ut,2),Dt=a(l(yt),2);T(Dt),Le(2),t(yt),t(Je);var Ge=a(Je,4),Re=l(Ge),wt=a(l(Re),2);T(wt),Le(2),t(Re);var ft=a(Re,2),gt=a(l(ft),2);T(gt),Le(2),t(ft);var kt=a(ft,2),St=a(l(kt),2);T(St),Le(2),t(kt);var ze=a(kt,2),Lt=a(l(ze),2);T(Lt),Le(2),t(ze);var mt=a(ze,2),Pt=a(l(mt),2);T(Pt),Le(2),t(mt),t(Ge),t(Be);var xt=a(Be,2),Rt=a(l(xt),2),st=l(Rt),Mt=a(l(st),2);Ct(Mt,{get options(){return p},get selected(){return e(E)},placeholder:"Select types...",onChange:o=>s(E,o,!0)}),t(st);var _t=a(st,2),Ft=a(l(_t),2);me(Ft,21,()=>d,we,(o,g)=>{var $=oa(),Te=l($,!0);t($);var Se={};B(()=>{K(Te,e(g)),Se!==(Se=e(g))&&($.value=($.__value=e(g))??"")}),r(o,$)}),t(Ft),t(_t);var qe=a(_t,2),Ie=a(l(qe),2);Ct(Ie,{get options(){return I},get selected(){return e(se)},placeholder:"Select categories...",onChange:o=>s(se,o,!0)}),t(qe);var De=a(qe,2),Et=a(l(De),2);Ct(Et,{get options(){return H},get selected(){return e(_)},placeholder:"Select systems...",onChange:o=>s(_,o,!0)}),t(De);var ht=a(De,2),gs=a(l(ht),2);Ct(gs,{get options(){return le},get selected(){return e(j)},placeholder:"Select focus...",onChange:o=>s(j,o,!0)}),t(ht);var Vt=a(ht,2),Kt=a(l(Vt),2);Ct(Kt,{get options(){return m},get selected(){return e(U)},placeholder:"Select angles...",onChange:o=>s(U,o,!0)}),t(Vt),t(Rt),t(xt);var jt=a(xt,2),Jt=a(l(jt),2),Gt=l(Jt),Yt=l(Gt),Zt=l(Yt),ms=l(Zt);{var Xt=o=>{var g=na();r(o,g)};P(ms,o=>{e(oe)&&o(Xt)})}Le(6),t(Zt),t(Yt);var zt=a(Yt);me(zt,21,()=>e(G),we,(o,g,$)=>{var Te=pa(),Se=l(Te);{var He=de=>{var Ee=va(),Qe=l(Ee);T(Qe),t(Ee),Ns(Qe,()=>e(g).isSport,$t=>e(g).isSport=$t),r(de,Ee)};P(Se,de=>{e(oe)&&de(He)})}var i=a(Se),n=l(i);T(n),t(i);var F=a(i),be=l(F);T(be);let pe;var Ye=a(be,2);{var at=de=>{var Ee=ca();r(de,Ee)};P(Ye,de=>{ge(e(g).grade)||de(at)})}t(F);var We=a(F),Ae=l(We);Ae.__change=de=>ie($,de.target.value),me(Ae,21,()=>y,we,(de,Ee)=>{var Qe=da(),$t=l(Qe,!0);t(Qe);var cs={};B(()=>{K($t,e(Ee)),cs!==(cs=e(Ee))&&(Qe.value=(Qe.__value=e(Ee))??"")}),r(de,Qe)}),t(Ae);var $e;ks(Ae),t(We);var Nt=a(We),At=l(Nt);T(At),t(Nt);var Wt=a(Nt);let Ut;var Ze=l(Wt);Cs(Ze),t(Wt);var ts=a(Wt),ss=l(ts);{var as=de=>{var Ee=ua();Ee.__click=()=>z($),r(de,Ee)};P(ss,de=>{e(G).length>1&&de(as)})}t(ts),t(Te),B(de=>{pe=Ue(be,1,"grade-input svelte-1lf3qka",null,pe,de),$e!==($e=e(g).attemptType)&&(Ae.value=(Ae.__value=e(g).attemptType)??"",Ss(Ae,e(g).attemptType)),At.disabled=e(g).attemptType==="Flash",Ut=Ue(Wt,1,"notes-cell svelte-1lf3qka",null,Ut,{expanded:e(k)===$})},[()=>({invalid:!ge(e(g).grade)})]),A(n,()=>e(g).name,de=>e(g).name=de),A(be,()=>e(g).grade,de=>e(g).grade=de),A(At,()=>e(g).attemptsNum,de=>e(g).attemptsNum=de),te("focus",Ze,()=>fe($)),te("blur",Ze,Fe),A(Ze,()=>e(g).notes,de=>e(g).notes=de),r(o,Te)}),t(zt),t(Gt),t(Jt);var os=a(Jt,2);os.__click=u,t(jt);var It=a(jt,2),es=l(It);{var _s=o=>{var g=fa();let $;var Te=l(g,!0);t(g),B(()=>{$=Ue(g,1,"save-message svelte-1lf3qka",null,$,{success:e(ce)==="success",error:e(ce)==="error"}),K(Te,e(J))}),r(o,g)};P(es,o=>{e(J)&&o(_s)})}var Ht=a(es,2);Ht.__click=ke;var ns=l(Ht);{var hs=o=>{var g=Oe("Saving...");r(o,g)},vs=o=>{var g=it(),$=et(g);{var Te=He=>{var i=Oe("‚úì Saved!");r(He,i)},Se=He=>{var i=Oe("Save Session");r(He,i)};P($,He=>{e(ce)==="success"?He(Te):He(Se,!1)},!0)}r(o,g)};P(ns,o=>{e(ce)==="saving"?o(hs):o(vs,!1)})}t(Ht),t(It),t(ue),B(()=>Ht.disabled=e(ce)==="saving"),A(Ve,()=>e(W),o=>s(W,o)),Ke(N,()=>e(w),o=>s(w,o)),A(Tt,()=>e(Y),o=>s(Y,o)),A(pt,()=>e(V),o=>s(V,o)),A(Dt,()=>e(h),o=>s(h,o)),A(wt,()=>e(Z),o=>s(Z,o)),A(gt,()=>e(O),o=>s(O,o)),A(St,()=>e(b),o=>s(b,o)),A(Lt,()=>e(S),o=>s(S,o)),A(Pt,()=>e(Q),o=>s(Q,o)),Ke(Ft,()=>e(ve),o=>s(ve,o)),r(_e,ue),vt()}Qt(["click","change"]);var _a=v("<option> </option>"),ha=v('<div class="input-with-action svelte-15o2ys1"><input type="text" id="crag-manual" placeholder="Enter custom crag name..." class="flat-left svelte-15o2ys1"/> <button type="button" class="action-btn flat-right svelte-15o2ys1" title="Back to list">‚úï</button></div>'),ba=v("<option> </option>"),ya=v("<option>Other (Manual Entry)</option>"),wa=v('<select id="crag" class="svelte-15o2ys1"><option disabled> </option><!><!></select>'),ka=v("<option> </option>"),Sa=v("<option> </option>"),xa=v('<th class="svelte-15o2ys1">Sport?</th>'),qa=v('<td class="center svelte-15o2ys1"><input type="checkbox" class="svelte-15o2ys1"/></td>'),Ca=v('<span class="grade-error svelte-15o2ys1">Invalid</span>'),Ta=v("<option> </option>"),La=v('<button type="button" class="remove-btn svelte-15o2ys1">‚úï</button>'),Fa=v('<tr><!><td class="svelte-15o2ys1"><input type="text" placeholder="Route name..." class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><input type="text" placeholder="V3"/> <!></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><input type="number" min="1" class="svelte-15o2ys1"/></td><td><textarea placeholder="Notes..." class="svelte-15o2ys1"></textarea></td><td class="center svelte-15o2ys1"><!></td></tr>'),Na=v("<div> </div>"),Aa=v('<div class="form-content svelte-15o2ys1"><h3 class="svelte-15o2ys1">‚õ∞Ô∏è Outdoor Climb</h3> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="date" class="svelte-15o2ys1">Date</label> <input type="date" id="date" class="svelte-15o2ys1"/></div> <div class="form-group svelte-15o2ys1"><label for="area" class="svelte-15o2ys1">Area</label> <select id="area" class="svelte-15o2ys1"><option disabled>Select area...</option><!></select></div></div> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="crag" class="svelte-15o2ys1">Crag</label> <!></div> <div class="form-group svelte-15o2ys1"><label for="sector" class="svelte-15o2ys1">Wall / Sector</label> <input type="text" id="sector" placeholder="Enter sector or wall name..." class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="climbing-type" class="svelte-15o2ys1">Climbing Type</label> <select id="climbing-type" class="svelte-15o2ys1"><option disabled>Select type...</option><!></select></div> <div class="load-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Load Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="load-item svelte-15o2ys1"><label for="finger-load" class="svelte-15o2ys1">Finger</label> <input type="number" id="finger-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="shoulder-load" class="svelte-15o2ys1">Shoulder</label> <input type="number" id="shoulder-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="forearm-load" class="svelte-15o2ys1">Forearm</label> <input type="number" id="forearm-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div></div> <h4 class="mt-4 svelte-15o2ys1">Grip Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="load-item svelte-15o2ys1"><label for="open-grip" class="svelte-15o2ys1">Open</label> <input type="number" id="open-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="crimp-grip" class="svelte-15o2ys1">Crimp</label> <input type="number" id="crimp-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="pinch-grip" class="svelte-15o2ys1">Pinch</label> <input type="number" id="pinch-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="sloper-grip" class="svelte-15o2ys1">Sloper</label> <input type="number" id="sloper-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="jug-grip" class="svelte-15o2ys1">Jug</label> <input type="number" id="jug-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div></div></div> <div class="training-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Training Details</h4> <div class="training-grid svelte-15o2ys1"><div class="training-item svelte-15o2ys1"><label for="training-type" class="svelte-15o2ys1">Training Type</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="difficulty" class="svelte-15o2ys1">Difficulty</label> <select id="difficulty" class="svelte-15o2ys1"></select></div> <div class="training-item svelte-15o2ys1"><label for="category" class="svelte-15o2ys1">Category</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="energy-system" class="svelte-15o2ys1">Energy System</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="technique-focus" class="svelte-15o2ys1">Technique Focus</label> <!></div></div></div> <div class="climbs-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Climbs</h4> <div class="table-container svelte-15o2ys1"><table class="climbs-table svelte-15o2ys1"><thead><tr><!><th class="svelte-15o2ys1">Name</th><th class="svelte-15o2ys1">Grade</th><th class="svelte-15o2ys1">Attempt</th><th class="svelte-15o2ys1">#</th><th class="svelte-15o2ys1">Notes</th><th class="svelte-15o2ys1"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-15o2ys1">+ Add Climb</button></div> <div class="submit-section svelte-15o2ys1"><!> <button type="button" class="submit-btn svelte-15o2ys1"><!></button></div></div>');function Oa(_e,M){nt(M,!0);const q=Ws(),D=["Boulder","Sport","Trad"],y=["Onsight","Flash","Redpoint","Dogged","DNF"],p=["None","Projecting","Onsighting","Campusing","Repeaters"],d=["None","Easy","Medium","Hard","Max","Limit+"],I=["None","Technique","Strength","Strength-endurance","Warm-up","Power"],H=["None","Aerobic capacity","Aerobic lactic power","Anaerobic alactic capacity","Anaerobic alactic power","Anaerobic power","Anaerobic lactic capacity"],le=["None","Double-clutch","Standing on volumes","Trusting feet"],R=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","V4","6B","V5","6C","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"].map(i=>i.toLowerCase());let L=c(null),k=c(je(new Date().toISOString().split("T")[0])),W=c(""),C=c(""),w=c(""),E=c(""),ve=c(je(["None"])),se=c("None"),_=c(je(["None"])),j=c(je(["None"])),U=c(je(["None"])),Y=c(3),V=c(3),h=c(3),Z=c(3),O=c(3),b=c(3),S=c(3),Q=c(3),G=c(je([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}])),X=Bt(()=>e(W)?$s(e(W)):[]),re=c(!1);Ts(()=>{e(W)&&(s(C,""),s(re,!1))});function ae(){e(C)==="Other"&&(s(re,!0),s(C,""))}function u(){s(re,!1),s(C,"")}function z(){s(G,[...e(G),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0)}function ie(i){s(G,e(G).filter((n,F)=>F!==i),!0)}function fe(i,n){e(G)[i].attemptType=n,(n==="Flash"||n==="Onsight")&&(e(G)[i].attemptsNum=1)}function Fe(i){s(L,i,!0)}function oe(){s(L,null)}let ne=Bt(()=>e(E)==="Trad");function ge(i){return e(E)==="Sport"?!0:e(E)==="Boulder"?!1:i.isSport}function ce(i){return i.trim()?R.includes(i.trim().toLowerCase()):!0}let J=c("idle"),he=c("");function ke(){return e(W)?e(C)?e(E)?e(G).filter(n=>n.grade.trim()&&!ce(n.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a crag":"Please select an area"}async function Ce(){const i=ke();if(i){s(J,"error"),s(he,i,!0);return}s(J,"saving");try{const n=e(G).map(pe=>({...pe,isSport:ge(pe)})),F={date:e(k),area:e(W),crag:e(C),sector:e(w)||void 0,climbingType:e(E),trainingTypes:e(ve),difficulty:e(se),categories:e(_),energySystems:e(j),techniqueFocuses:e(U),fingerLoad:e(Y),shoulderLoad:e(V),forearmLoad:e(h),openGrip:e(Z),crimpGrip:e(O),pinchGrip:e(b),sloperGrip:e(S),jugGrip:e(Q),climbs:n},be=Vs(F);if(rs()){const pe=await Us(F);pe.ok?(ps(be.id),s(J,"success"),s(he,"Session saved and synced!")):(fs(be.id),s(J,"success"),s(he,"Saved locally. Sync failed: "+(pe.error||"Unknown error")))}else s(J,"success"),s(he,"Saved locally. Will sync when online.");window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{ue()},2e3)}catch(n){s(J,"error"),s(he,"Failed to save session"),console.error("Save error:",n)}}function ue(){s(k,new Date().toISOString().split("T")[0],!0),s(W,""),s(C,""),s(w,""),s(E,""),s(ve,["None"],!0),s(se,"None"),s(_,["None"],!0),s(j,["None"],!0),s(U,["None"],!0),s(Y,3),s(V,3),s(h,3),s(Z,3),s(O,3),s(b,3),s(S,3),s(Q,3),s(G,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0),s(J,"idle"),s(he,"")}var Pe=Aa(),Ne=a(l(Pe),2),Ve=l(Ne),tt=a(l(Ve),2);T(tt),t(Ve);var ct=a(Ve,2),dt=a(l(ct),2),f=l(dt);f.value=f.__value="";var x=a(f);me(x,17,()=>q,we,(i,n)=>{var F=_a(),be=l(F,!0);t(F);var pe={};B(()=>{K(be,e(n)),pe!==(pe=e(n))&&(F.value=(F.__value=e(n))??"")}),r(i,F)}),t(dt),t(ct),t(Ne);var N=a(Ne,2),ee=l(N),xe=a(l(ee),2);{var Be=i=>{var n=ha(),F=l(n);T(F);var be=a(F,2);be.__click=u,t(n),A(F,()=>e(C),pe=>s(C,pe)),r(i,n)},Je=i=>{var n=wa();n.__change=ae;var F=l(n),be=l(F,!0);t(F),F.value=F.__value="";var pe=a(F);me(pe,17,()=>e(X),we,(We,Ae)=>{var $e=ba(),Nt=l($e,!0);t($e);var At={};B(()=>{K(Nt,e(Ae)),At!==(At=e(Ae))&&($e.value=($e.__value=e(Ae))??"")}),r(We,$e)});var Ye=a(pe);{var at=We=>{var Ae=ya();Ae.value=Ae.__value="Other",r(We,Ae)};P(Ye,We=>{e(W)&&We(at)})}t(n),B(()=>{n.disabled=!e(W),K(be,e(W)?"Select crag...":"Select area first...")}),Ke(n,()=>e(C),We=>s(C,We)),r(i,n)};P(xe,i=>{e(re)?i(Be):i(Je,!1)})}t(ee);var bt=a(ee,2),Tt=a(l(bt),2);T(Tt),t(bt),t(N);var ut=a(N,2),pt=a(l(ut),2),yt=l(pt);yt.value=yt.__value="";var Dt=a(yt);me(Dt,17,()=>D,we,(i,n)=>{var F=ka(),be=l(F,!0);t(F);var pe={};B(()=>{K(be,e(n)),pe!==(pe=e(n))&&(F.value=(F.__value=e(n))??"")}),r(i,F)}),t(pt),t(ut);var Ge=a(ut,2),Re=a(l(Ge),2),wt=l(Re),ft=a(l(wt),2);T(ft),Le(2),t(wt);var gt=a(wt,2),kt=a(l(gt),2);T(kt),Le(2),t(gt);var St=a(gt,2),ze=a(l(St),2);T(ze),Le(2),t(St),t(Re);var Lt=a(Re,4),mt=l(Lt),Pt=a(l(mt),2);T(Pt),Le(2),t(mt);var xt=a(mt,2),Rt=a(l(xt),2);T(Rt),Le(2),t(xt);var st=a(xt,2),Mt=a(l(st),2);T(Mt),Le(2),t(st);var _t=a(st,2),Ft=a(l(_t),2);T(Ft),Le(2),t(_t);var qe=a(_t,2),Ie=a(l(qe),2);T(Ie),Le(2),t(qe),t(Lt),t(Ge);var De=a(Ge,2),Et=a(l(De),2),ht=l(Et),gs=a(l(ht),2);Ct(gs,{get options(){return p},get selected(){return e(ve)},placeholder:"Select types...",onChange:i=>s(ve,i,!0)}),t(ht);var Vt=a(ht,2),Kt=a(l(Vt),2);me(Kt,21,()=>d,we,(i,n)=>{var F=Sa(),be=l(F,!0);t(F);var pe={};B(()=>{K(be,e(n)),pe!==(pe=e(n))&&(F.value=(F.__value=e(n))??"")}),r(i,F)}),t(Kt),t(Vt);var jt=a(Vt,2),Jt=a(l(jt),2);Ct(Jt,{get options(){return I},get selected(){return e(_)},placeholder:"Select categories...",onChange:i=>s(_,i,!0)}),t(jt);var Gt=a(jt,2),Yt=a(l(Gt),2);Ct(Yt,{get options(){return H},get selected(){return e(j)},placeholder:"Select systems...",onChange:i=>s(j,i,!0)}),t(Gt);var Zt=a(Gt,2),ms=a(l(Zt),2);Ct(ms,{get options(){return le},get selected(){return e(U)},placeholder:"Select focus...",onChange:i=>s(U,i,!0)}),t(Zt),t(Et),t(De);var Xt=a(De,2),zt=a(l(Xt),2),os=l(zt),It=l(os),es=l(It),_s=l(es);{var Ht=i=>{var n=xa();r(i,n)};P(_s,i=>{e(ne)&&i(Ht)})}Le(6),t(es),t(It);var ns=a(It);me(ns,21,()=>e(G),we,(i,n,F)=>{var be=Fa(),pe=l(be);{var Ye=ye=>{var Xe=qa(),Ot=l(Xe);T(Ot),t(Xe),Ns(Ot,()=>e(n).isSport,bs=>e(n).isSport=bs),r(ye,Xe)};P(pe,ye=>{e(ne)&&ye(Ye)})}var at=a(pe),We=l(at);T(We),t(at);var Ae=a(at),$e=l(Ae);T($e);let Nt;var At=a($e,2);{var Wt=ye=>{var Xe=Ca();r(ye,Xe)};P(At,ye=>{ce(e(n).grade)||ye(Wt)})}t(Ae);var Ut=a(Ae),Ze=l(Ut);Ze.__change=ye=>fe(F,ye.target.value),me(Ze,21,()=>y,we,(ye,Xe)=>{var Ot=Ta(),bs=l(Ot,!0);t(Ot);var xs={};B(()=>{K(bs,e(Xe)),xs!==(xs=e(Xe))&&(Ot.value=(Ot.__value=e(Xe))??"")}),r(ye,Ot)}),t(Ze);var ts;ks(Ze),t(Ut);var ss=a(Ut),as=l(ss);T(as),t(ss);var de=a(ss);let Ee;var Qe=l(de);Cs(Qe),t(de);var $t=a(de),cs=l($t);{var Os=ye=>{var Xe=La();Xe.__click=()=>ie(F),r(ye,Xe)};P(cs,ye=>{e(G).length>1&&ye(Os)})}t($t),t(be),B(ye=>{Nt=Ue($e,1,"grade-input svelte-15o2ys1",null,Nt,ye),ts!==(ts=e(n).attemptType)&&(Ze.value=(Ze.__value=e(n).attemptType)??"",Ss(Ze,e(n).attemptType)),as.disabled=e(n).attemptType==="Flash",Ee=Ue(de,1,"notes-cell svelte-15o2ys1",null,Ee,{expanded:e(L)===F})},[()=>({invalid:!ce(e(n).grade)})]),A(We,()=>e(n).name,ye=>e(n).name=ye),A($e,()=>e(n).grade,ye=>e(n).grade=ye),A(as,()=>e(n).attemptsNum,ye=>e(n).attemptsNum=ye),te("focus",Qe,()=>Fe(F)),te("blur",Qe,oe),A(Qe,()=>e(n).notes,ye=>e(n).notes=ye),r(i,be)}),t(ns),t(os),t(zt);var hs=a(zt,2);hs.__click=z,t(Xt);var vs=a(Xt,2),o=l(vs);{var g=i=>{var n=Na();let F;var be=l(n,!0);t(n),B(()=>{F=Ue(n,1,"save-message svelte-15o2ys1",null,F,{success:e(J)==="success",error:e(J)==="error"}),K(be,e(he))}),r(i,n)};P(o,i=>{e(he)&&i(g)})}var $=a(o,2);$.__click=Ce;var Te=l($);{var Se=i=>{var n=Oe("Saving...");r(i,n)},He=i=>{var n=it(),F=et(n);{var be=Ye=>{var at=Oe("‚úì Saved!");r(Ye,at)},pe=Ye=>{var at=Oe("Save Session");r(Ye,at)};P(F,Ye=>{e(J)==="success"?Ye(be):Ye(pe,!1)},!0)}r(i,n)};P(Te,i=>{e(J)==="saving"?i(Se):i(He,!1)})}t($),t(vs),t(Pe),B(()=>$.disabled=e(J)==="saving"),A(tt,()=>e(k),i=>s(k,i)),Ke(dt,()=>e(W),i=>s(W,i)),A(Tt,()=>e(w),i=>s(w,i)),Ke(pt,()=>e(E),i=>s(E,i)),A(ft,()=>e(Y),i=>s(Y,i)),A(kt,()=>e(V),i=>s(V,i)),A(ze,()=>e(h),i=>s(h,i)),A(Pt,()=>e(Z),i=>s(Z,i)),A(Rt,()=>e(O),i=>s(O,i)),A(Mt,()=>e(b),i=>s(b,i)),A(Ft,()=>e(S),i=>s(S,i)),A(Ie,()=>e(Q),i=>s(Q,i)),Ke(Kt,()=>e(se),i=>s(se,i)),r(_e,Pe),vt()}Qt(["click","change"]);const Pa=[{id:"reverse_wrist_curl",name:"Reverse Wrist Curl",category:"Climbing Antagonists",targetMuscles:["Forearm Extensors"],instructions:["Sit with forearm on thigh, palm facing down holding a dumbbell.","Extend your wrist upward (knuckles to ceiling).","Slowly lower back down."]},{id:"finger_extensions",name:"Finger Extensions",category:"Climbing Antagonists",targetMuscles:["Finger Extensors"],instructions:["Place a resistance band around the tips of your fingers.","Spread your fingers apart against the resistance.","Slowly return to a closed hand position."]},{id:"rice_bucket_iron_fist",name:"Rice Bucket: Iron Fist",category:"Climbing Antagonists",targetMuscles:["Forearm","Grip"],instructions:["Plunge hands deep into a bucket of rice.","Squeeze rice forcefully into a fist.","Release and repeat rhythmically."]},{id:"rice_bucket_extensors",name:"Rice Bucket: Extensors",category:"Climbing Antagonists",targetMuscles:["Finger Extensors"],instructions:["Bury closed fists into the rice.","Forcefully open fingers against the resistance (splaying them out).","Close fist and repeat."]},{id:"wall_angels",name:"Wall Angels",category:"Climbing Antagonists",targetMuscles:["Rotator Cuff","Posture"],instructions:['Stand with back flat against a wall, arms in a "W" shape.','Slide arms upward to a "Y", keeping elbows/wrists touching the wall.','Slide back down to "W".']},{id:"face_pull",name:"Face Pull",category:"Climbing Antagonists",targetMuscles:["Rear Delts","Rotator Cuff"],instructions:["Set a cable to face height with a rope attachment.","Pull rope to forehead, separating hands and driving elbows back.","Externally rotate shoulders at the peak."]},{id:"i_y_t_raises",name:"I-Y-T Raises",category:"Climbing Antagonists",targetMuscles:["Rear Delts","Traps"],instructions:["Lie prone on an incline bench or use TRX straps.",'Raise arms to form an "I", then a "Y", then a "T" shape.',"Focus on scapular retraction."]},{id:"push_up",name:"Push-Up",category:"Climbing Antagonists",targetMuscles:["Chest","Triceps","Core"],instructions:["Plank position, hands shoulder-width.","Lower chest to floor, elbows tucked at 45 degrees.","Press back up. Note: Pushing opposes the pulling motion of climbing."]},{id:"bodyweight_squat",name:"Bodyweight Squat",category:"Legs (Compound)",targetMuscles:["Quads","Glutes","Core"],instructions:["Stand with feet shoulder-width apart.","Hinge hips back and bend knees to lower until thighs are parallel to floor.","Drive through feet to stand, keeping chest up."]},{id:"barbell_squat",name:"Barbell Squat",category:"Legs (Compound)",targetMuscles:["Quads","Glutes","Core"],instructions:["Place bar on upper back. Feet shoulder-width.","Hinge hips back and bend knees to lower until thighs are parallel to floor.","Drive through feet to stand."]},{id:"goblet_squat",name:"Goblet Squat",category:"Legs (Compound)",targetMuscles:["Quads","Core"],instructions:["Hold a dumbbell or kettlebell against your chest.","Squat down, keeping your chest tall.","Ensure elbows track inside the knees."]},{id:"deadlift",name:"Deadlift",category:"Legs (Compound)",targetMuscles:["Hamstrings","Glutes","Back"],instructions:["Stand with bar over mid-foot. Hinge at hips to grip bar.","Flatten back, drive hips forward and push floor away to stand up.","Lower with control."]},{id:"romanian_deadlift",name:"Romanian Deadlift (RDL)",category:"Legs (Compound)",targetMuscles:["Hamstrings"],instructions:["Start standing with weight.","Hinge hips back with a slight knee bend.","Lower weight until a hamstring stretch is felt, then drive hips forward."]},{id:"walking_lunge",name:"Walking Lunge",category:"Legs (Isolation)",targetMuscles:["Quads","Glutes"],instructions:["Step forward, lowering rear knee toward the ground.","Drive off the front foot to step through to the next lunge."]},{id:"leg_press",name:"Leg Press",category:"Legs (Isolation)",targetMuscles:["Quads","Glutes"],instructions:["Sit in machine, feet on platform.","Lower weight until knees are at 90 degrees.","Press weight up without locking knees."]},{id:"calf_raise",name:"Calf Raise",category:"Legs (Isolation)",targetMuscles:["Calves"],instructions:["Stand with balls of feet on a step/platform.","Lower heels for a deep stretch.","Raise up onto toes fully."]},{id:"barbell_bench_press",name:"Barbell Bench Press",category:"Push (Chest)",targetMuscles:["Chest","Triceps"],instructions:["Lie on bench, eyes under bar. Unrack with straight arms.","Lower bar to mid-chest.","Press bar back up."]},{id:"incline_dumbbell_press",name:"Incline Dumbbell Press",category:"Push (Chest)",targetMuscles:["Upper Chest"],instructions:["Set bench to 30-45 degrees.","Press dumbbells overhead, converging slightly at the top.","Lower for a deep stretch at the bottom."]},{id:"overhead_press",name:"Overhead Press",category:"Push (Shoulders)",targetMuscles:["Shoulders","Triceps"],instructions:["Stand with bar on front delts.","Press bar vertically until arms locked out.","Lower slowly to collarbone."]},{id:"dumbbell_lateral_raise",name:"Dumbbell Lateral Raise",category:"Push (Shoulders)",targetMuscles:["Side Delts"],instructions:["Stand with dumbbells at sides, palms facing in.","Raise arms outward until parallel to floor, keeping a slight bend in elbows.","Lower with control."]},{id:"arnold_press",name:"Arnold Press",category:"Push (Shoulders)",targetMuscles:["Front Delts","Side Delts"],instructions:["Hold DBs in front of shoulders, palms facing you.","Press up while rotating palms to face away.","Reverse rotation on the way down."]},{id:"pull_up",name:"Pull-Up",category:"Pull (Back)",targetMuscles:["Lats","Biceps"],instructions:["Grip bar wider than shoulders.","Pull chest up toward the bar, driving elbows down.","Lower until arms are fully extended."]},{id:"bent_over_row",name:"Bent Over Row",category:"Pull (Back)",targetMuscles:["Lats","Rhomboids"],instructions:["Hinge at hips so torso is near parallel to floor.","Pull weight toward your hip pocket.","Squeeze back muscles and lower slowly."]},{id:"lat_pulldown",name:"Lat Pulldown",category:"Pull (Back)",targetMuscles:["Lats"],instructions:["Sit in machine, secure knees under pad.","Pull bar down to upper chest, leading with elbows.","Control the ascent."]},{id:"single_arm_db_row",name:"Single-Arm DB Row",category:"Pull (Back)",targetMuscles:["Lats","Rhomboids"],instructions:["Place hand and knee on a bench for support.","Pull dumbbell to hip pocket in a sawing motion.","Lower to full stretch."]},{id:"dumbbell_bicep_curl",name:"Dumbbell Bicep Curl",category:"Arms (Biceps)",targetMuscles:["Biceps"],instructions:["Stand holding dumbbells, palms facing forward (supinated).","Curl weight toward shoulders, keeping elbows pinned to sides.","Lower fully with control."]},{id:"hammer_curl",name:"Hammer Curl",category:"Arms (Biceps)",targetMuscles:["Brachialis","Forearm"],instructions:["Hold DBs with palms facing each other (neutral grip).","Curl up toward shoulders. Excellent for climbers grip strength."]},{id:"tricep_pushdown",name:"Tricep Pushdown",category:"Arms (Triceps)",targetMuscles:["Triceps"],instructions:["Attach rope/bar to high cable pulley.","Pin elbows to sides.","Extend arm fully down and squeeze triceps."]},{id:"skullcrusher",name:"Skullcrusher",category:"Arms (Triceps)",targetMuscles:["Triceps"],instructions:["Lie on bench, holding EZ bar or DBs over chest.","Bend elbows to lower weight to forehead/behind head.","Extend arms back to start."]},{id:"sit_up",name:"Sit-Up",category:"Core",targetMuscles:["Abs"],instructions:["Lie on back, knees bent, feet flat.","Lift torso all the way up to a sitting position.","Lower back down slowly."]},{id:"crunch",name:"Crunch",category:"Core",targetMuscles:["Upper Abs"],instructions:["Lie on back, knees bent. Hands behind head.","Lift only head and shoulders off the floor, squeezing abs.","Lower back down without relaxing fully."]},{id:"plank",name:"Plank",category:"Core",targetMuscles:["Core Stability"],instructions:["Support body on forearms and toes.","Maintain a straight line from head to heels.","Hold for time, bracing core tight."]},{id:"russian_twist",name:"Russian Twist",category:"Core",targetMuscles:["Obliques"],instructions:["Sit on floor, feet elevated, leaning back slightly.","Rotate torso side to side, touching hands/weight to floor."]},{id:"hanging_leg_raise",name:"Hanging Leg Raise",category:"Core",targetMuscles:["Lower Abs"],instructions:["Hang from a pull-up bar.","Raise legs (straight or bent) until hips curl up.","Control the descent to avoid swinging."]}];var Ra=v('<div><div class="col set-num svelte-ow8x7m"> </div> <div class="col prev svelte-ow8x7m"><!></div> <div class="col weight svelte-ow8x7m"><input type="number" class="svelte-ow8x7m"/></div> <div class="col reps svelte-ow8x7m"><input type="number" class="svelte-ow8x7m"/></div> <div class="col check svelte-ow8x7m"><button><!></button></div></div>');function Ma(_e,M){nt(M,!1);let q=ot(M,"setNumber",8),D=ot(M,"prevSet",8,null),y=ot(M,"set",12);const p=us();function d(){y(y().completed=!y().completed,!0),p("change",y()),y().completed&&p("complete")}function I(h){p("focus",{field:h,value:y()[h]})}is();var H=Ra();let le;var m=l(H),R=l(m,!0);t(m);var L=a(m,2),k=l(L);{var W=h=>{var Z=Oe();B(()=>K(Z,`${qt(D()),Me(()=>D().weight)??""}kg x ${qt(D()),Me(()=>D().reps)??""}`)),r(h,Z)},C=h=>{var Z=Oe("-");r(h,Z)};P(k,h=>{D()?h(W):h(C,!1)})}t(L);var w=a(L,2),E=l(w);T(E),t(w);var ve=a(w,2),se=l(ve);T(se),t(ve);var _=a(ve,2),j=l(_);let U;var Y=l(j);{var V=h=>{var Z=Oe("‚úì");r(h,Z)};P(Y,h=>{qt(y()),Me(()=>y().completed)&&h(V)})}t(j),t(_),t(H),B((h,Z)=>{le=Ue(H,1,"set-row svelte-ow8x7m",null,le,{completed:y().completed}),K(R,q()),rt(E,"placeholder",h),rt(se,"placeholder",Z),U=Ue(j,1,"check-btn svelte-ow8x7m",null,U,{checked:y().completed})},[()=>(qt(D()),Me(()=>D()?D().weight.toString():"-")),()=>(qt(D()),Me(()=>D()?D().reps.toString():"-"))]),A(E,()=>y().weight,h=>y(y().weight=h,!0)),te("focus",E,()=>I("weight")),A(se,()=>y().reps,h=>y(y().reps=h,!0)),te("focus",se,()=>I("reps")),te("click",j,d),r(_e,H),vt()}var ja=v('<div class="exercise-card svelte-1ni79z8"><div class="header svelte-1ni79z8"><h4 class="svelte-1ni79z8"> </h4> <div class="actions"><button class="icon-btn svelte-1ni79z8">?</button> <button class="icon-btn svelte-1ni79z8">...</button></div></div> <div class="table-header svelte-1ni79z8"><div class="col">Set</div> <div class="col">Previous</div> <div class="col">kg</div> <div class="col">Reps</div> <div class="col">‚úì</div></div> <div class="sets"></div> <button class="add-set-btn svelte-1ni79z8">+ Add Set</button></div>');function Ba(_e,M){nt(M,!1);let q=ot(M,"exercise",12);us();function D(){const m=q().sets[q().sets.length-1],R={weight:m?m.weight:0,reps:m?m.reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1};q(q().sets=[...q().sets,R],!0)}is();var y=ja(),p=l(y),d=l(p),I=l(d,!0);t(d),Le(2),t(p);var H=a(p,4);me(H,5,()=>(qt(q()),Me(()=>q().sets)),we,(m,R,L)=>{Ma(m,{setNumber:L+1,get set(){return(qt(q()),Me(()=>q().sets))[L]},set set(k){(qt(q()),Me(()=>q().sets))[L]=k,Rs(()=>q())},$$events:{complete(k){ls.call(this,M,k)},focus(k){ls.call(this,M,k)},change(k){ls.call(this,M,k)}},$$legacy:!0})}),t(H);var le=a(H,2);t(y),B(()=>K(I,(qt(q()),Me(()=>q().name)))),te("click",le,D),r(_e,y),vt()}var Da=v('<div class="keypad svelte-1fay4f8"><div class="header svelte-1fay4f8"><span class="label svelte-1fay4f8"> </span> <div class="display svelte-1fay4f8" role="textbox" aria-readonly="true"> </div></div> <div class="quick-adds svelte-1fay4f8"><button class="svelte-1fay4f8">+2.5</button> <button class="svelte-1fay4f8">+5</button> <button class="svelte-1fay4f8">+10</button></div> <div class="grid svelte-1fay4f8"><button class="svelte-1fay4f8">1</button> <button class="svelte-1fay4f8">2</button> <button class="svelte-1fay4f8">3</button> <button class="svelte-1fay4f8">4</button> <button class="svelte-1fay4f8">5</button> <button class="svelte-1fay4f8">6</button> <button class="svelte-1fay4f8">7</button> <button class="svelte-1fay4f8">8</button> <button class="svelte-1fay4f8">9</button> <button class="action svelte-1fay4f8">C</button> <button class="svelte-1fay4f8">0</button> <button class="action svelte-1fay4f8">‚å´</button></div></div>');function Ea(_e,M){nt(M,!1);let q=ot(M,"value",8,null),D=ot(M,"label",8,"Value");const y=us();function p(X){const re=q()?.toString()||"";if(re.length>=5)return;const ae=parseFloat(re+X.toString());y("change",ae)}function d(){y("change",0)}function I(){const X=q()?.toString()||"";if(X.length<=1){y("change",0);return}const re=parseFloat(X.slice(0,-1));y("change",re)}function H(X){y("change",(q()||0)+X)}is();var le=Da(),m=l(le),R=l(m),L=l(R,!0);t(R);var k=a(R,2),W=l(k,!0);t(k),t(m);var C=a(m,2),w=l(C),E=a(w,2),ve=a(E,2);t(C);var se=a(C,2),_=l(se),j=a(_,2),U=a(j,2),Y=a(U,2),V=a(Y,2),h=a(V,2),Z=a(h,2),O=a(Z,2),b=a(O,2),S=a(b,2),Q=a(S,2),G=a(Q,2);t(se),t(le),B(()=>{K(L,D()),rt(k,"aria-label",D()),K(W,q()||0)}),te("click",w,()=>H(2.5)),te("click",E,()=>H(5)),te("click",ve,()=>H(10)),te("click",_,()=>p(1)),te("click",j,()=>p(2)),te("click",U,()=>p(3)),te("click",Y,()=>p(4)),te("click",V,()=>p(5)),te("click",h,()=>p(6)),te("click",Z,()=>p(7)),te("click",O,()=>p(8)),te("click",b,()=>p(9)),te("click",S,d),te("click",Q,()=>p(0)),te("click",G,I),r(_e,le),vt()}var Va=v('<div class="rest-timer svelte-18i4gcv"><div class="timer-display svelte-18i4gcv"><span class="label svelte-18i4gcv">Rest</span> <span class="time svelte-18i4gcv"> </span></div> <div class="controls svelte-18i4gcv"><button class="svelte-18i4gcv">-30</button> <button class="svelte-18i4gcv">+30</button> <button class="skip svelte-18i4gcv">Skip</button></div></div>');function Ga(_e,M){nt(M,!1);const q=lt(),D=lt();let y=ot(M,"duration",8,90),p=ot(M,"onComplete",8,()=>{}),d=lt(y()),I,H=ot(M,"visible",12,!0);function le(){clearInterval(I),s(d,y()),I=setInterval(()=>{js(d,-1),e(d)<=0&&(clearInterval(I),p()())},1e3)}function m(w){s(d,e(d)+w)}function R(w){e(d)>w&&s(d,e(d)-w)}function L(){H(!1),clearInterval(I),p()()}Ls(()=>{le()}),Ms(()=>{clearInterval(I)}),ys(()=>e(d),()=>{s(q,Math.floor(e(d)/60))}),ys(()=>e(d),()=>{s(D,e(d)%60)}),Fs(),is();var k=it(),W=et(k);{var C=w=>{var E=Va(),ve=l(E),se=a(l(ve),2),_=l(se);t(se),t(ve);var j=a(ve,2),U=l(j),Y=a(U,2),V=a(Y,2);t(j),t(E),B(h=>K(_,`${e(q)??""}:${h??""}`),[()=>(e(D),Me(()=>e(D).toString().padStart(2,"0")))]),te("click",U,()=>R(30)),te("click",Y,()=>m(30)),te("click",V,L),ds(3,E,()=>ws,()=>({y:50,duration:300})),r(w,E)};P(W,w=>{H()&&w(C)})}r(_e,k),vt()}var za=v('<button class="save-btn svelte-1w0zsmt">Finish Workout</button>'),Ia=v('<button class="exercise-item svelte-1w0zsmt"><span class="name svelte-1w0zsmt"> </span> <span class="muscles svelte-1w0zsmt"> </span></button>'),Ha=v('<div class="modal-overlay svelte-1w0zsmt" role="button" tabindex="0" aria-label="Close modal"><div class="picker-modal svelte-1w0zsmt" role="dialog" aria-modal="true" tabindex="-1"><div class="picker-header svelte-1w0zsmt"><h3>Add Exercise</h3> <input type="text" placeholder="Search exercises..." class="svelte-1w0zsmt"/></div> <div class="picker-list svelte-1w0zsmt"></div></div></div>'),Wa=v('<div class="keypad-overlay svelte-1w0zsmt"><div class="keypad-header svelte-1w0zsmt"><span> </span> <button class="svelte-1w0zsmt">Done</button></div> <!></div>'),Ua=v('<div class="gym-session-form svelte-1w0zsmt"><div class="session-meta svelte-1w0zsmt"><input type="text" class="session-name svelte-1w0zsmt" placeholder="Workout Name (e.g. Pull Day)"/> <div class="meta-row svelte-1w0zsmt"><label class="svelte-1w0zsmt">Start Time <input type="datetime-local" disabled class="svelte-1w0zsmt"/></label> <label class="svelte-1w0zsmt">Bodyweight (kg) <input type="number" placeholder="Optional" class="svelte-1w0zsmt"/></label></div></div> <div class="exercises-list"></div> <button class="add-exercise-btn svelte-1w0zsmt">+ Add Exercise</button> <!> <!> <!> <!></div>');function $a(_e,M){nt(M,!1);const q=lt(),D=us();let y=lt(""),p=lt(),d=lt([]),I=new Date().toISOString(),H=lt(!1),le=lt(""),m=lt(null),R=lt(!1);function L(u){const z={id:crypto.randomUUID(),name:u.name,sets:[{weight:0,reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1}]};s(d,[...e(d),z]),s(H,!1),s(le,"")}function k(u,z,ie){s(m,{exerciseIndex:z,setIndex:ie,field:u.detail.field})}function W(u){if(!e(m))return;const{exerciseIndex:z,setIndex:ie,field:fe}=e(m);Ds(d,e(d)[z].sets[ie][fe]=u.detail),s(d,[...e(d)])}function C(){s(R,!0)}function w(){e(d).length!==0&&(Gs({date:I.split("T")[0],name:e(y)||"Gym Workout",bodyweight:e(p),exercises:e(d)}),D("save"))}function E(){s(m,null)}ys(()=>e(le),()=>{s(q,Pa.filter(u=>u.name.toLowerCase().includes(e(le).toLowerCase())||u.targetMuscles.some(z=>z.toLowerCase().includes(e(le).toLowerCase()))))}),Fs(),is();var ve=Ua(),se=l(ve),_=l(se);T(_);var j=a(_,2),U=l(j),Y=a(l(U));T(Y),t(U);var V=a(U,2),h=a(l(V));T(h),t(V),t(j),t(se);var Z=a(se,2);me(Z,5,()=>e(d),we,(u,z,ie)=>{Ba(u,{get exercise(){return e(z)},$$events:{focus:fe=>k(fe,ie,e(d)[ie].sets.indexOf(fe.detail.set)),complete:C}})}),t(Z);var O=a(Z,2),b=a(O,2);{var S=u=>{var z=za();te("click",z,w),r(u,z)};P(b,u=>{e(d),Me(()=>e(d).length>0)&&u(S)})}var Q=a(b,2);{var G=u=>{var z=Ha(),ie=l(z),fe=l(ie),Fe=a(l(fe),2);T(Fe),t(fe);var oe=a(fe,2);me(oe,5,()=>e(q),we,(ne,ge)=>{var ce=Ia(),J=l(ce),he=l(J,!0);t(J);var ke=a(J,2),Ce=l(ke,!0);t(ke),t(ce),B(ue=>{K(he,(e(ge),Me(()=>e(ge).name))),K(Ce,ue)},[()=>(e(ge),Me(()=>e(ge).targetMuscles.join(", ")))]),te("click",ce,()=>L(e(ge))),r(ne,ce)}),t(oe),t(ie),t(z),A(Fe,()=>e(le),ne=>s(le,ne)),te("click",ie,qs(function(ne){ls.call(this,M,ne)})),te("keydown",ie,qs(function(ne){ls.call(this,M,ne)})),ds(3,ie,()=>ws,()=>({y:100,duration:300})),te("click",z,()=>s(H,!1)),te("keydown",z,ne=>ne.key==="Escape"&&s(H,!1)),ds(3,z,()=>Qs),r(u,z)};P(Q,u=>{e(H)&&u(G)})}var X=a(Q,2);{var re=u=>{var z=Wa(),ie=l(z),fe=l(ie),Fe=l(fe);t(fe);var oe=a(fe,2);t(ie);var ne=a(ie,2);{let ge=Bs(()=>(e(m),Me(()=>e(m).field==="weight"?"Weight (kg)":"Reps")));Ea(ne,{get value(){return e(d),e(m),Me(()=>e(d)[e(m).exerciseIndex].sets[e(m).setIndex][e(m).field])},get label(){return e(ge)},$$events:{change:W}})}t(z),B(()=>K(Fe,`Editing ${e(d),e(m),Me(()=>e(d)[e(m).exerciseIndex].name)??""} - Set ${e(m),Me(()=>e(m).setIndex+1)??""}`)),te("click",oe,E),ds(3,z,()=>ws,()=>({y:200,duration:300})),r(u,z)};P(X,u=>{e(m)&&u(re)})}var ae=a(X,2);Ga(ae,{get visible(){return e(R)},set visible(u){s(R,u)},$$legacy:!0}),t(ve),B(u=>As(Y,u),[()=>Me(()=>I.slice(0,16))]),A(_,()=>e(y),u=>s(y,u)),A(h,()=>e(p),u=>s(p,u)),te("click",O,()=>s(H,!0)),r(_e,ve),vt()}var Qa=v("<option> </option>"),Ka=v("<option> </option>"),Ja=v('<button class="remove-set-btn svelte-1m63nqt">‚úï</button>'),Ya=v('<div class="set-row svelte-1m63nqt"><div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Weight</label> <input type="number" placeholder="0" class="svelte-1m63nqt"/></div> <div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Reps/Secs</label> <input type="number" placeholder="1" class="svelte-1m63nqt"/></div> <!></div>'),Za=v('<div class="exercise-card svelte-1m63nqt"><div class="card-header svelte-1m63nqt"><div class="header-inputs svelte-1m63nqt"><select class="svelte-1m63nqt"></select> <select class="svelte-1m63nqt"></select></div> <button class="remove-card-btn svelte-1m63nqt" title="Remove Exercise">‚úï</button></div> <div class="sets-list svelte-1m63nqt"><!> <button class="add-set-btn svelte-1m63nqt">+ Add Set</button></div> <div class="card-footer svelte-1m63nqt"><div class="meta-input svelte-1m63nqt"><label class="svelte-1m63nqt">Total Sets</label> <input type="number" readonly="" disabled class="svelte-1m63nqt"/></div> <div class="notes-input svelte-1m63nqt"><label class="svelte-1m63nqt">Notes</label> <input type="text" placeholder="Notes..." class="svelte-1m63nqt"/></div></div></div>'),Xa=v("<div> </div>"),el=v('<div class="form-content svelte-1m63nqt"><div class="header-row svelte-1m63nqt"><h3 class="svelte-1m63nqt">ü§è Fingerboarding</h3> <button class="add-row-btn svelte-1m63nqt">+ Add Exercise</button></div> <div class="form-group date-group svelte-1m63nqt"><label for="date">Date</label> <input type="date" id="date" class="svelte-1m63nqt"/></div> <div class="cards-container svelte-1m63nqt"></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1m63nqt"><!></button></div></div>');function tl(_e,M){nt(M,!0);const q=["Max hangs","Recruitment pulls","Max pick-ups"],D=["Full-crimp","Half-crimp","Three finger drag","Pinch","Open hand","Sloper"];let y=c(je(new Date().toISOString().split("T")[0])),p=c(je([]));function d(){s(p,[...e(p),{id:crypto.randomUUID(),name:q[0],gripType:D[1],sets:1,details:[{weight:0,reps:5}],notes:""}],!0)}Ts(()=>{e(p).length===0&&d()});function I(O){s(p,e(p).filter((b,S)=>S!==O),!0)}function H(O){const b=e(p)[O],S=b.details[b.details.length-1];b.details=[...b.details,{...S}],b.sets=b.details.length}function le(O,b){const S=e(p)[O];S.details.length>1&&(S.details=S.details.filter((Q,G)=>G!==b),S.sets=S.details.length)}let m=c("idle"),R=c("");async function L(){s(m,"saving");try{const O={date:e(y),location:"N/A",exercises:JSON.parse(JSON.stringify(e(p)))},b=zs(O);if(rs()){const S=await Ks(O);S.ok?(ps(b.id),s(m,"success"),s(R,"Session saved and synced!")):(fs(b.id),s(m,"success"),s(R,"Saved locally. Sync failed: "+(S.error||"Unknown error")))}else s(m,"success"),s(R,"Saved locally. Will sync when online.");window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{k()},2e3)}catch(O){s(m,"error"),s(R,"Failed to save session"),console.error("Save error:",O)}}function k(){s(y,new Date().toISOString().split("T")[0],!0),s(p,[],!0),d(),s(m,"idle"),s(R,"")}var W=el(),C=l(W),w=a(l(C),2);w.__click=d,t(C);var E=a(C,2),ve=a(l(E),2);T(ve),t(E);var se=a(E,2);me(se,21,()=>e(p),we,(O,b,S)=>{var Q=Za(),G=l(Q),X=l(G),re=l(X);me(re,21,()=>q,we,(ke,Ce)=>{var ue=Qa(),Pe=l(ue,!0);t(ue);var Ne={};B(()=>{K(Pe,e(Ce)),Ne!==(Ne=e(Ce))&&(ue.value=(ue.__value=e(Ce))??"")}),r(ke,ue)}),t(re);var ae=a(re,2);me(ae,21,()=>D,we,(ke,Ce)=>{var ue=Ka(),Pe=l(ue,!0);t(ue);var Ne={};B(()=>{K(Pe,e(Ce)),Ne!==(Ne=e(Ce))&&(ue.value=(ue.__value=e(Ce))??"")}),r(ke,ue)}),t(ae),t(X);var u=a(X,2);u.__click=()=>I(S),t(G);var z=a(G,2),ie=l(z);me(ie,17,()=>e(b).details,we,(ke,Ce,ue)=>{var Pe=Ya(),Ne=l(Pe),Ve=l(Ne);rt(Ve,"for",`weight-${S}-${ue}`);var tt=a(Ve,2);T(tt),rt(tt,"id",`weight-${S}-${ue}`),t(Ne);var ct=a(Ne,2),dt=l(ct);rt(dt,"for",`reps-${S}-${ue}`);var f=a(dt,2);T(f),rt(f,"id",`reps-${S}-${ue}`),t(ct);var x=a(ct,2);{var N=ee=>{var xe=Ja();xe.__click=()=>le(S,ue),r(ee,xe)};P(x,ee=>{e(b).details.length>1&&ee(N)})}t(Pe),A(tt,()=>e(Ce).weight,ee=>e(Ce).weight=ee),A(f,()=>e(Ce).reps,ee=>e(Ce).reps=ee),r(ke,Pe)});var fe=a(ie,2);fe.__click=()=>H(S),t(z);var Fe=a(z,2),oe=l(Fe),ne=l(oe);rt(ne,"for",`total-sets-${S}`);var ge=a(ne,2);T(ge),rt(ge,"id",`total-sets-${S}`),t(oe);var ce=a(oe,2),J=l(ce);rt(J,"for",`notes-${S}`);var he=a(J,2);T(he),rt(he,"id",`notes-${S}`),t(ce),t(Fe),t(Q),B(()=>As(ge,e(b).sets)),Ke(re,()=>e(b).name,ke=>e(b).name=ke),Ke(ae,()=>e(b).gripType,ke=>e(b).gripType=ke),A(he,()=>e(b).notes,ke=>e(b).notes=ke),r(O,Q)}),t(se);var _=a(se,2),j=l(_);{var U=O=>{var b=Xa();let S;var Q=l(b,!0);t(b),B(()=>{S=Ue(b,1,"save-message svelte-1m63nqt",null,S,{success:e(m)==="success",error:e(m)==="error"}),K(Q,e(R))}),r(O,b)};P(j,O=>{e(R)&&O(U)})}var Y=a(j,2);Y.__click=L;var V=l(Y);{var h=O=>{var b=Oe("Saving...");r(O,b)},Z=O=>{var b=it(),S=et(b);{var Q=X=>{var re=Oe("‚úì Saved!");r(X,re)},G=X=>{var re=Oe("Save Session");r(X,re)};P(S,X=>{e(m)==="success"?X(Q):X(G,!1)},!0)}r(O,b)};P(V,O=>{e(m)==="saving"?O(h):O(Z,!1)})}t(Y),t(_),t(W),B(()=>Y.disabled=e(m)==="saving"),A(ve,()=>e(y),O=>s(y,O)),r(_e,W),vt()}Qt(["click"]);var sl=v("<option> </option>"),al=v('<input type="text" placeholder="Enter venue name" class="mt-2 svelte-1fje4dh"/>'),ll=v("<option> </option>"),rl=v("<option> </option>"),il=v('<input type="text" placeholder="Round name" class="mt-2 svelte-1fje4dh"/>'),ol=v('<div class="result-mode-content svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="position" class="svelte-1fje4dh">Final Position</label> <input type="number" id="position" placeholder="#" class="large-input svelte-1fje4dh"/></div></div>'),nl=v("<option> </option>"),vl=v('<input type="number" min="1" class="svelte-1fje4dh"/>'),cl=v('<span class="flash-dash">-</span>'),dl=v('<tr><td class="col-name svelte-1fje4dh"><input type="text" class="svelte-1fje4dh"/></td><td class="col-status svelte-1fje4dh"><select class="svelte-1fje4dh"></select></td><td class="col-attempt svelte-1fje4dh"><!></td><td class="col-notes svelte-1fje4dh"><input type="text" placeholder="..." class="svelte-1fje4dh"/></td><td class="col-action svelte-1fje4dh"><button class="svelte-1fje4dh">‚úï</button></td></tr>'),ul=v('<div class="load-metrics-compact svelte-1fje4dh"><div class="metric svelte-1fje4dh"><label for="finger">Finger Load</label> <input type="number" id="finger" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div> <div class="metric svelte-1fje4dh"><label for="shoulder">Shoulder Load</label> <input type="number" id="shoulder" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div> <div class="metric svelte-1fje4dh"><label for="forearm">Forearm Load</label> <input type="number" id="forearm" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div></div> <div class="climbs-table-container svelte-1fje4dh"><div class="section-header svelte-1fje4dh"><h4 class="svelte-1fje4dh">Boulders / Routes</h4></div> <table class="climbs-table svelte-1fje4dh"><thead><tr><th class="svelte-1fje4dh">#</th><th class="svelte-1fje4dh">Result</th><th class="svelte-1fje4dh">Att.</th><th class="svelte-1fje4dh">Notes</th><th class="svelte-1fje4dh"></th></tr></thead><tbody></tbody></table> <button class="add-row-btn svelte-1fje4dh">+ Add Row</button></div>',1),pl=v("<div> </div>"),fl=v('<div class="form-content svelte-1fje4dh"><h3 class="svelte-1fje4dh">üèÜ Competition</h3> <div class="form-grid svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="date" class="svelte-1fje4dh">Date</label> <input type="date" id="date" class="svelte-1fje4dh"/></div> <div class="form-group svelte-1fje4dh"><label for="venue" class="svelte-1fje4dh">Venue</label> <select id="venue" class="svelte-1fje4dh"><option disabled>Select venue...</option><!></select> <!></div></div> <div class="form-group mb-4 svelte-1fje4dh"><label for="type" class="svelte-1fje4dh">Type</label> <select id="type" class="svelte-1fje4dh"></select></div> <div class="round-section svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="round" class="svelte-1fje4dh">Round</label> <select id="round" class="svelte-1fje4dh"></select> <!></div> <!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1fje4dh"><!></button></div></div>');function gl(_e,M){nt(M,!0);const q=["Flashpoint Bristol","Rockstar Techno","Rockstar Unit 3","Rockstar Unit 5","Bloc","TCA","Other"],D=["Bouldering","Lead","Speed"],y=["Qualifiers","Semi-Finals","Finals","Result","Other"],p=["Flash","Top","Zone","Attempt"];let d=c(je(new Date().toISOString().split("T")[0])),I=c(""),H=c(""),le=c("Bouldering"),m=c(4),R=c(4),L=c(4),k=c("Qualifiers"),W=c(""),C=c(null),w=c(je([{name:"#1",status:"Flash",attemptCount:1,notes:""}])),E=Bt(()=>e(k)==="Result"),ve=Bt(()=>e(I)==="Other"),se=Bt(()=>e(k)==="Other"),_=Bt(()=>e(k)==="Other"?e(W):e(k));function j(){const f=e(w).length+1;s(w,[...e(w),{name:`#${f}`,status:"Flash",attemptCount:1,notes:""}],!0)}function U(f){e(w).length>1?s(w,e(w).filter((x,N)=>N!==f),!0):e(w)[0]={name:"#1",status:"Flash",attemptCount:1,notes:""}}function Y(f,x){e(w)[f].status=x,x==="Flash"&&(e(w)[f].attemptCount=1)}let V=c("idle"),h=c("");async function Z(){if(!e(I)||e(I)==="Other"&&!e(H)){s(V,"error"),s(h,"Please specify a venue");return}s(V,"saving");try{const f={name:e(_),position:e(E)?e(C):void 0,climbs:e(E)?void 0:JSON.parse(JSON.stringify(e(w)))},x={date:e(d),venue:e(I)==="Other"?e(H):e(I),customVenue:e(I)==="Other"?e(H):void 0,type:e(le),fingerLoad:e(E)?void 0:e(m),shoulderLoad:e(E)?void 0:e(R),forearmLoad:e(E)?void 0:e(L),rounds:[f]},N=Is(x);if(rs()){const ee=await Js(x);ee.ok?(ps(N.id),s(V,"success"),s(h,"Competition saved and synced!")):(fs(N.id),s(V,"success"),s(h,"Saved locally. Sync failed: "+(ee.error||"Unknown error")))}else s(V,"success"),s(h,"Saved locally. Will sync when online.");window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{O()},2e3)}catch(f){s(V,"error"),s(h,"Failed to save session"),console.error("Save error:",f)}}function O(){s(d,new Date().toISOString().split("T")[0],!0),s(I,""),s(H,""),s(C,null),s(w,[{name:"#1",status:"Flash",attemptCount:1,notes:""}],!0),s(V,"idle"),s(h,"")}var b=fl(),S=a(l(b),2),Q=l(S),G=a(l(Q),2);T(G),t(Q);var X=a(Q,2),re=a(l(X),2),ae=l(re);ae.value=ae.__value="";var u=a(ae);me(u,17,()=>q,we,(f,x)=>{var N=sl(),ee=l(N,!0);t(N);var xe={};B(()=>{K(ee,e(x)),xe!==(xe=e(x))&&(N.value=(N.__value=e(x))??"")}),r(f,N)}),t(re);var z=a(re,2);{var ie=f=>{var x=al();T(x),A(x,()=>e(H),N=>s(H,N)),r(f,x)};P(z,f=>{e(ve)&&f(ie)})}t(X),t(S);var fe=a(S,2),Fe=a(l(fe),2);me(Fe,21,()=>D,we,(f,x)=>{var N=ll(),ee=l(N,!0);t(N);var xe={};B(()=>{K(ee,e(x)),xe!==(xe=e(x))&&(N.value=(N.__value=e(x))??"")}),r(f,N)}),t(Fe),t(fe);var oe=a(fe,2),ne=l(oe),ge=a(l(ne),2);me(ge,21,()=>y,we,(f,x)=>{var N=rl(),ee=l(N,!0);t(N);var xe={};B(()=>{K(ee,e(x)),xe!==(xe=e(x))&&(N.value=(N.__value=e(x))??"")}),r(f,N)}),t(ge);var ce=a(ge,2);{var J=f=>{var x=il();T(x),A(x,()=>e(W),N=>s(W,N)),r(f,x)};P(ce,f=>{e(se)&&f(J)})}t(ne);var he=a(ne,2);{var ke=f=>{var x=ol(),N=l(x),ee=a(l(N),2);T(ee),t(N),t(x),A(ee,()=>e(C),xe=>s(C,xe)),r(f,x)},Ce=f=>{var x=ul(),N=et(x),ee=l(N),xe=a(l(ee),2);T(xe),t(ee);var Be=a(ee,2),Je=a(l(Be),2);T(Je),t(Be);var bt=a(Be,2),Tt=a(l(bt),2);T(Tt),t(bt),t(N);var ut=a(N,2),pt=a(l(ut),2),yt=a(l(pt));me(yt,21,()=>e(w),we,(Ge,Re,wt)=>{var ft=dl(),gt=l(ft),kt=l(gt);T(kt),t(gt);var St=a(gt),ze=l(St);ze.__change=qe=>Y(wt,qe.target.value),me(ze,21,()=>p,we,(qe,Ie)=>{var De=nl(),Et=l(De,!0);t(De);var ht={};B(()=>{K(Et,e(Ie)),ht!==(ht=e(Ie))&&(De.value=(De.__value=e(Ie))??"")}),r(qe,De)}),t(ze);var Lt;ks(ze),t(St);var mt=a(St),Pt=l(mt);{var xt=qe=>{var Ie=vl();T(Ie),A(Ie,()=>e(Re).attemptCount,De=>e(Re).attemptCount=De),r(qe,Ie)},Rt=qe=>{var Ie=cl();r(qe,Ie)};P(Pt,qe=>{e(Re).status!=="Flash"?qe(xt):qe(Rt,!1)})}t(mt);var st=a(mt),Mt=l(st);T(Mt),t(st);var _t=a(st),Ft=l(_t);Ft.__click=()=>U(wt),t(_t),t(ft),B(()=>{Lt!==(Lt=e(Re).status)&&(ze.value=(ze.__value=e(Re).status)??"",Ss(ze,e(Re).status))}),A(kt,()=>e(Re).name,qe=>e(Re).name=qe),A(Mt,()=>e(Re).notes,qe=>e(Re).notes=qe),r(Ge,ft)}),t(yt),t(pt);var Dt=a(pt,2);Dt.__click=j,t(ut),A(xe,()=>e(m),Ge=>s(m,Ge)),A(Je,()=>e(R),Ge=>s(R,Ge)),A(Tt,()=>e(L),Ge=>s(L,Ge)),r(f,x)};P(he,f=>{e(E)?f(ke):f(Ce,!1)})}t(oe);var ue=a(oe,2),Pe=l(ue);{var Ne=f=>{var x=pl();let N;var ee=l(x,!0);t(x),B(()=>{N=Ue(x,1,"save-message svelte-1fje4dh",null,N,{success:e(V)==="success",error:e(V)==="error"}),K(ee,e(h))}),r(f,x)};P(Pe,f=>{e(h)&&f(Ne)})}var Ve=a(Pe,2);Ve.__click=Z;var tt=l(Ve);{var ct=f=>{var x=Oe("Saving...");r(f,x)},dt=f=>{var x=it(),N=et(x);{var ee=Be=>{var Je=Oe("‚úì Saved!");r(Be,Je)},xe=Be=>{var Je=Oe("Save Session");r(Be,Je)};P(N,Be=>{e(V)==="success"?Be(ee):Be(xe,!1)},!0)}r(f,x)};P(tt,f=>{e(V)==="saving"?f(ct):f(dt,!1)})}t(Ve),t(ue),t(b),B(()=>Ve.disabled=e(V)==="saving"),A(G,()=>e(d),f=>s(d,f)),Ke(re,()=>e(I),f=>s(I,f)),Ke(Fe,()=>e(le),f=>s(le,f)),Ke(ge,()=>e(k),f=>s(k,f)),r(_e,b),vt()}Qt(["change","click"]);var ml=v('<span class="spinner svelte-b2zgdd"></span> Syncing...',1),_l=v("<button><!></button>"),hl=v("<div> </div>"),bl=v('<div><div class="sync-info svelte-b2zgdd"><span class="sync-icon svelte-b2zgdd"> </span> <span class="sync-text svelte-b2zgdd"><!></span></div> <!> <!></div>'),yl=v("<option> </option>"),wl=v('<div class="form-container svelte-b2zgdd"><!></div>'),kl=v('<div class="page svelte-b2zgdd"><div class="page-header svelte-b2zgdd"><h1 class="svelte-b2zgdd">üìù Log Data</h1> <p class="subtitle svelte-b2zgdd">Record your training sessions</p></div> <!> <div class="content-card svelte-b2zgdd"><div class="form-group svelte-b2zgdd"><label for="activity-type" class="svelte-b2zgdd">Activity Type</label> <select id="activity-type" class="svelte-b2zgdd"><option disabled>Select an activity...</option><!></select></div> <!></div></div>');function Pl(_e,M){nt(M,!0);const q=[{value:"indoor_climb",label:"Indoor Climb",icon:"üßó"},{value:"outdoor_climb",label:"Outdoor Climb",icon:"‚õ∞Ô∏è"},{value:"gym_session",label:"Gym Session",icon:"üèãÔ∏è"},{value:"fingerboarding",label:"Fingerboarding",icon:"ü§è"},{value:"competition",label:"Competition",icon:"üèÜ"}];let D=c(""),y=c(0),p=c("idle"),d=c(""),I=c(!0);Ls(()=>{H(),s(I,rs(),!0);const _=()=>{s(I,!0),H()},j=()=>{s(I,!1)},U=()=>{H()};return window.addEventListener("online",_),window.addEventListener("offline",j),window.addEventListener("session-saved",U),()=>{window.removeEventListener("online",_),window.removeEventListener("offline",j),window.removeEventListener("session-saved",U)}});function H(){s(y,Ys(),!0)}async function le(){if(!e(I)){s(p,"error"),s(d,"No network connection");return}s(p,"syncing"),s(d,"");try{const _=await Zs();_.failed===0&&_.success>0?(s(p,"success"),s(d,`Synced ${_.success} session${_.success>1?"s":""}!`)):_.failed>0&&_.success>0?(s(p,"error"),s(d,`Synced ${_.success}, failed ${_.failed}`)):_.failed>0?(s(p,"error"),s(d,`Failed to sync ${_.failed} session${_.failed>1?"s":""}`)):(s(p,"idle"),s(d,"")),H(),e(p)==="success"&&setTimeout(()=>{s(p,"idle"),s(d,"")},3e3)}catch(_){s(p,"error"),s(d,"Sync failed"),console.error("Sync error:",_)}}var m=kl(),R=a(l(m),2);{var L=_=>{var j=bl();let U;var Y=l(j),V=l(Y),h=l(V,!0);t(V);var Z=a(V,2),O=l(Z);{var b=ae=>{var u=Oe();B(()=>K(u,`${e(y)??""} session${e(y)>1?"s":""} waiting to sync`)),r(ae,u)},S=ae=>{var u=Oe();B(()=>K(u,`Offline - ${e(y)??""} session${e(y)>1?"s":""} saved locally`)),r(ae,u)};P(O,ae=>{e(I)?ae(b):ae(S,!1)})}t(Z),t(Y);var Q=a(Y,2);{var G=ae=>{var u=_l();let z;u.__click=le;var ie=l(u);{var fe=oe=>{var ne=ml();Le(),r(oe,ne)},Fe=oe=>{var ne=it(),ge=et(ne);{var ce=he=>{var ke=Oe("‚úì Synced!");r(he,ke)},J=he=>{var ke=Oe("Sync Now");r(he,ke)};P(ge,he=>{e(p)==="success"?he(ce):he(J,!1)},!0)}r(oe,ne)};P(ie,oe=>{e(p)==="syncing"?oe(fe):oe(Fe,!1)})}t(u),B(()=>{z=Ue(u,1,"sync-btn svelte-b2zgdd",null,z,{syncing:e(p)==="syncing"}),u.disabled=e(p)==="syncing"}),r(ae,u)};P(Q,ae=>{e(I)&&ae(G)})}var X=a(Q,2);{var re=ae=>{var u=hl();let z;var ie=l(u,!0);t(u),B(()=>{z=Ue(u,1,"sync-message svelte-b2zgdd",null,z,{error:e(p)==="error",success:e(p)==="success"}),K(ie,e(d))}),r(ae,u)};P(X,ae=>{e(d)&&ae(re)})}t(j),B(()=>{U=Ue(j,1,"sync-banner svelte-b2zgdd",null,U,{offline:!e(I)}),K(h,e(I)?"üîÑ":"üì¥")}),r(_,j)};P(R,_=>{e(y)>0&&_(L)})}var k=a(R,2),W=l(k),C=a(l(W),2),w=l(C);w.value=w.__value="";var E=a(w);me(E,17,()=>q,_=>_.value,(_,j)=>{var U=yl(),Y=l(U);t(U);var V={};B(()=>{K(Y,`${e(j).icon??""} ${e(j).label??""}`),V!==(V=e(j).value)&&(U.value=(U.__value=e(j).value)??"")}),r(_,U)}),t(C),t(W);var ve=a(W,2);{var se=_=>{var j=wl(),U=l(j);{var Y=h=>{ma(h,{})},V=h=>{var Z=it(),O=et(Z);{var b=Q=>{Oa(Q,{})},S=Q=>{var G=it(),X=et(G);{var re=u=>{$a(u,{})},ae=u=>{var z=it(),ie=et(z);{var fe=oe=>{tl(oe,{})},Fe=oe=>{var ne=it(),ge=et(ne);{var ce=J=>{gl(J,{})};P(ge,J=>{e(D)==="competition"&&J(ce)},!0)}r(oe,ne)};P(ie,oe=>{e(D)==="fingerboarding"?oe(fe):oe(Fe,!1)},!0)}r(u,z)};P(X,u=>{e(D)==="gym_session"?u(re):u(ae,!1)},!0)}r(Q,G)};P(O,Q=>{e(D)==="outdoor_climb"?Q(b):Q(S,!1)},!0)}r(h,Z)};P(U,h=>{e(D)==="indoor_climb"?h(Y):h(V,!1)})}t(j),r(_,j)};P(ve,_=>{e(D)&&_(se)})}t(k),t(m),Ke(C,()=>e(D),_=>s(D,_)),r(_e,m),vt()}Qt(["click"]);export{Pl as component};
