import{n as be,f as Tl,r as Qe,s as Xe,h as pe,i as Rl,e as Hl,y as Dl,c as Ll,o as Fl}from"../chunks/GsYGQhEn.js";import{y as xl,z as zl,A as Gl,B as Wl,l as se,k as Le,S as Ze,i as $e,d as m,C as We,D as j,E as ze,a as U,b as i,F,G as Kl,w as a,c as h,e as C,H as R,g as N,h as v,j as A,s as Oe,f as ie,t as ue,I as Re,J as Se,K as qe,m as He,n as Fe,L as Il,M as Je,N as Pe,o as mt,p as bt,q as dt,r as ht,u as vt,v as Ct,O as ct,P as ft,Q as Yl}from"../chunks/BD0eBpJ7.js";import{w as Sl}from"../chunks/ZG84kFMr.js";function Ol(n,e,t,s){if(!e)return be;const l=n.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return be;const{delay:r=0,duration:f=300,easing:o=Tl,start:c=xl()+r,end:g=c+f,tick:u=be,css:k}=t(n,{from:e,to:l},s);let _=!0,d=!1,b;function p(){k&&(b=Wl(n,0,1,f,r,o,k)),r||(d=!0)}function y(){k&&Gl(n,b),_=!1}return zl(D=>{if(!d&&D>=c&&(d=!0),d&&D>=g&&(u(1,0),y()),!_)return!1;if(d){const w=D-c,E=0+1*o(w/f);u(E,1-E)}return!0}),p(),u(0,1),y}function ql(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:s}=e,l=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=s,Et(n,l)}}function Et(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const s=getComputedStyle(n),l=s.transform==="none"?"":s.transform;n.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function re(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Nl(n,e){n.d(1),e.delete(n.key)}function Jl(n,e){Le(n,1,1,()=>{e.delete(n.key)})}function Al(n,e){n.f(),Jl(n,e)}function kt(n,e,t,s,l,r,f,o,c,g,u,k){let _=n.length,d=r.length,b=_;const p={};for(;b--;)p[n[b].key]=b;const y=[],D=new Map,w=new Map,E=[];for(b=d;b--;){const L=k(l,r,b),T=t(L);let V=f.get(T);V?E.push(()=>V.p(L,e)):(V=g(T,L),V.c()),D.set(T,y[b]=V),T in p&&w.set(T,Math.abs(b-p[T]))}const O=new Set,I=new Set;function S(L){se(L,1),L.m(o,u),f.set(L.key,L),u=L.first,d--}for(;_&&d;){const L=y[d-1],T=n[_-1],V=L.key,P=T.key;L===T?(u=L.first,_--,d--):D.has(P)?!f.has(V)||O.has(V)?S(L):I.has(P)?_--:w.get(V)>w.get(P)?(I.add(V),S(L)):(O.add(P),_--):(c(T,f),_--)}for(;_--;){const L=n[_];D.has(L.key)||c(L,f)}for(;d;)S(y[d-1]);return Qe(E),y}const yt="training_tracker_api_key",Ql="c2fb788c7deedbeaa296e424d4c2921b871a4f6cb4cf393c1c1105653ab399b4",Xl=localStorage.getItem(yt),ut=Sl(Xl);ut.subscribe(n=>{n?localStorage.setItem(yt,n):localStorage.removeItem(yt)});async function Zl(n){const e=new TextEncoder().encode(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(l=>l.toString(16).padStart(2,"0")).join("")}async function $l(n){return await Zl(n)===Ql?(ut.set(n),!0):!1}function es(){ut.set(null)}function Bl(n){const e=n-1;return e*e*e+1}function Ne(n,{delay:e=0,duration:t=400,easing:s=Tl}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:r=>`opacity: ${r*l}`}}function Ge(n,{delay:e=0,duration:t=400,easing:s=Bl,axis:l="y"}={}){const r=getComputedStyle(n),f=+r.opacity,o=l==="y"?"height":"width",c=parseFloat(r[o]),g=l==="y"?["top","bottom"]:["left","right"],u=g.map(D=>`${D[0].toUpperCase()}${D.slice(1)}`),k=parseFloat(r[`padding${u[0]}`]),_=parseFloat(r[`padding${u[1]}`]),d=parseFloat(r[`margin${u[0]}`]),b=parseFloat(r[`margin${u[1]}`]),p=parseFloat(r[`border${u[0]}Width`]),y=parseFloat(r[`border${u[1]}Width`]);return{delay:e,duration:t,easing:s,css:D=>`overflow: hidden;opacity: ${Math.min(D*20,1)*f};${o}: ${D*c}px;padding-${g[0]}: ${D*k}px;padding-${g[1]}: ${D*_}px;margin-${g[0]}: ${D*d}px;margin-${g[1]}: ${D*b}px;border-${g[0]}-width: ${D*p}px;border-${g[1]}-width: ${D*y}px;`}}function Lt(n){let e,t;return{c(){e=v("span"),t=ue(n[1]),this.h()},l(s){e=h(s,"SPAN",{class:!0});var l=C(e);t=ie(l,n[1]),l.forEach(m),this.h()},h(){a(e,"class","error-text svelte-9dby7l")},m(s,l){U(s,e,l),i(e,t)},p(s,l){l&2&&Oe(t,s[1])},d(s){s&&m(e)}}}function ts(n){let e,t,s='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',l,r,f="Access Restricted",o,c,g="Please enter your password to unlock the application.",u,k,_,d,b,p,y,D="Unlock App",w,E,O,I=n[1]&&Lt(n);return{c(){e=v("div"),t=v("div"),t.innerHTML=s,l=A(),r=v("h2"),r.textContent=f,o=A(),c=v("p"),c.textContent=g,u=A(),k=v("form"),_=v("div"),d=v("input"),b=A(),I&&I.c(),p=A(),y=v("button"),y.textContent=D,this.h()},l(S){e=h(S,"DIV",{class:!0});var L=C(e);t=h(L,"DIV",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1lmknyl"&&(t.innerHTML=s),l=N(L),r=h(L,"H2",{class:!0,"data-svelte-h":!0}),R(r)!=="svelte-r8hgrj"&&(r.textContent=f),o=N(L),c=h(L,"P",{class:!0,"data-svelte-h":!0}),R(c)!=="svelte-1ix94go"&&(c.textContent=g),u=N(L),k=h(L,"FORM",{class:!0});var T=C(k);_=h(T,"DIV",{class:!0});var V=C(_);d=h(V,"INPUT",{type:!0,placeholder:!0,class:!0}),b=N(V),I&&I.l(V),V.forEach(m),p=N(T),y=h(T,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),R(y)!=="svelte-6e23ii"&&(y.textContent=D),T.forEach(m),L.forEach(m),this.h()},h(){a(t,"class","lock-icon svelte-9dby7l"),a(r,"class","svelte-9dby7l"),a(c,"class","svelte-9dby7l"),a(d,"type","password"),a(d,"placeholder","Enter Password"),d.disabled=n[2],a(d,"class","svelte-9dby7l"),ze(d,"error",n[1]),a(_,"class","input-group svelte-9dby7l"),a(y,"type","submit"),a(y,"class","unlock-button svelte-9dby7l"),a(k,"class","svelte-9dby7l"),a(e,"class","login-container svelte-9dby7l")},m(S,L){U(S,e,L),i(e,t),i(e,l),i(e,r),i(e,o),i(e,c),i(e,u),i(e,k),i(k,_),i(_,d),j(d,n[0]),i(_,b),I&&I.m(_,null),i(k,p),i(k,y),E||(O=[F(d,"input",n[4]),F(k,"submit",Kl(n[3]))],E=!0)},p(S,[L]){L&4&&(d.disabled=S[2]),L&1&&d.value!==S[0]&&j(d,S[0]),L&2&&ze(d,"error",S[1]),S[1]?I?I.p(S,L):(I=Lt(S),I.c(),I.m(_,null)):I&&(I.d(1),I=null)},i(S){S&&(w||pe(()=>{w=We(e,Ne,{}),w.start()}))},o:be,d(S){S&&m(e),I&&I.d(),E=!1,Qe(O)}}}function ls(n,e,t){let s="",l="",r=!1;async function f(){if(!s.trim()){t(1,l="Please enter a password");return}t(2,r=!0),t(1,l="");try{await $l(s.trim())||t(1,l="Incorrect password")}catch{t(1,l="An error occurred")}finally{t(2,r=!1)}}function o(){s=this.value,t(0,s)}return[s,l,r,f,o]}class ss extends Ze{constructor(e){super(),$e(this,e,ls,ts,Xe,{})}}function Vl(n,{from:e,to:t},s={}){const l=getComputedStyle(n),r=l.transform==="none"?"":l.transform,[f,o]=l.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*f/t.width-(t.left+f),g=e.top+e.height*o/t.height-(t.top+o),{delay:u=0,duration:k=d=>Math.sqrt(d)*120,easing:_=Bl}=s;return{delay:u,duration:Rl(k)?k(Math.sqrt(c*c+g*g)):k,easing:_,css:(d,b)=>{const p=b*c,y=b*g,D=d+b*e.width/t.width,w=d+b*e.height/t.height;return`transform: ${r} translate(${p}px, ${y}px) scale(${D}, ${w});`}}}function It(n,e,t){const s=n.slice();return s[21]=e[t],s[22]=e,s[23]=t,s}function St(n,e,t){const s=n.slice();return s[24]=e[t],s}function Ot(n,e,t){const s=n.slice();return s[24]=e[t],s}function qt(n){let e,t=n[24]+"",s;return{c(){e=v("option"),s=ue(t),this.h()},l(l){e=h(l,"OPTION",{class:!0});var r=C(e);s=ie(r,t),r.forEach(m),this.h()},h(){e.__value=n[24],j(e,e.__value),a(e,"class","svelte-7axjse")},m(l,r){U(l,e,r),i(e,s)},p:be,d(l){l&&m(e)}}}function Nt(n){let e,t=n[24]+"",s;return{c(){e=v("option"),s=ue(t),this.h()},l(l){e=h(l,"OPTION",{class:!0});var r=C(e);s=ie(r,t),r.forEach(m),this.h()},h(){e.__value=n[24],j(e,e.__value),a(e,"class","svelte-7axjse")},m(l,r){U(l,e,r),i(e,s)},p:be,d(l){l&&m(e)}}}function At(n,e){let t,s,l,r,f,o,c,g,u,k,_,d,b,p,y,D='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',w,E,O,I=be,S,L,T;function V(){e[16].call(l,e[22],e[23])}function P(){e[17].call(o,e[22],e[23])}function W(){e[18].call(u,e[22],e[23])}function $(){e[19].call(d,e[22],e[23])}function de(){return e[20](e[21])}return{key:n,first:null,c(){t=v("tr"),s=v("td"),l=v("input"),r=A(),f=v("td"),o=v("input"),c=A(),g=v("td"),u=v("input"),k=A(),_=v("td"),d=v("textarea"),b=A(),p=v("td"),y=v("button"),y.innerHTML=D,w=A(),this.h()},l(B){t=h(B,"TR",{});var q=C(t);s=h(q,"TD",{class:!0});var x=C(s);l=h(x,"INPUT",{type:!0,class:!0}),x.forEach(m),r=N(q),f=h(q,"TD",{class:!0});var te=C(f);o=h(te,"INPUT",{type:!0,placeholder:!0,class:!0}),te.forEach(m),c=N(q),g=h(q,"TD",{class:!0});var J=C(g);u=h(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(m),k=N(q),_=h(q,"TD",{class:!0});var ne=C(_);d=h(ne,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),C(d).forEach(m),ne.forEach(m),b=N(q),p=h(q,"TD",{class:!0});var K=C(p);y=h(K,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),R(y)!=="svelte-zfon6j"&&(y.innerHTML=D),K.forEach(m),w=N(q),q.forEach(m),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-7axjse"),a(s,"class","checkbox-col svelte-7axjse"),a(o,"type","text"),a(o,"placeholder","e.g. Blue"),a(o,"class","svelte-7axjse"),a(f,"class","svelte-7axjse"),a(u,"type","text"),a(u,"placeholder","e.g. 6b+"),a(u,"class","svelte-7axjse"),a(g,"class","svelte-7axjse"),a(d,"placeholder","e.g. Smooth"),a(d,"rows","1"),a(d,"class","svelte-7axjse"),a(_,"class","svelte-7axjse"),a(y,"class","delete-btn svelte-7axjse"),a(y,"title","Remove row"),a(p,"class","actions-col svelte-7axjse"),this.first=t},m(B,q){U(B,t,q),i(t,s),i(s,l),l.checked=e[21].isRopes,i(t,r),i(t,f),i(f,o),j(o,e[21].name),i(t,c),i(t,g),i(g,u),j(u,e[21].grade),i(t,k),i(t,_),i(_,d),j(d,e[21].notes),i(t,b),i(t,p),i(p,y),i(t,w),S=!0,L||(T=[F(l,"change",V),F(o,"input",P),F(u,"input",W),F(d,"input",$),F(y,"click",de)],L=!0)},p(B,q){e=B,q&32&&(l.checked=e[21].isRopes),q&32&&o.value!==e[21].name&&j(o,e[21].name),q&32&&u.value!==e[21].grade&&j(u,e[21].grade),q&32&&j(d,e[21].notes)},r(){O=t.getBoundingClientRect()},f(){ql(t),I(),Et(t,O)},a(){I(),I=Ol(t,O,Vl,{duration:300})},i(B){S||(E&&E.end(1),S=!0)},o(B){B&&(E=Il(t,Ge,{duration:200})),S=!1},d(B){B&&m(t),B&&E&&E.end(),L=!1,Qe(T)}}}function ns(n){let e,t,s,l,r="Location",f,o,c,g="Select Location",u,k,_,d="Session Focus",b,p,y,D="Select Focus",w,E,O,I,S="Finger Load (0-5)",L,T,V,P,W,$="Shoulder Load (0-5)",de,B,q,x,te,J="Forearm Load (0-5)",ne,K,ke,ce,_e,he,Me="Exercises / Routes",ae,ve,ye=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,Ue,le,Q,Y,Ce='<tr><th class="checkbox-col svelte-7axjse">Ropes?</th> <th class="svelte-7axjse">Route</th> <th class="svelte-7axjse">Grade</th> <th class="svelte-7axjse">Notes</th> <th class="actions-col svelte-7axjse"></th></tr>',X,ge,G=[],Ae=new Map,Ee,Te,oe,Be,me=re(n[6]),we=[];for(let M=0;M<me.length;M+=1)we[M]=qt(Ot(n,me,M));let xe=re(n[7]),De=[];for(let M=0;M<xe.length;M+=1)De[M]=Nt(St(n,xe,M));let Ke=re(n[5]);const Ve=M=>M[21].id;for(let M=0;M<Ke.length;M+=1){let ee=It(n,Ke,M),H=Ve(ee);Ae.set(H,G[M]=At(H,ee))}return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=r,f=A(),o=v("select"),c=v("option"),c.textContent=g;for(let M=0;M<we.length;M+=1)we[M].c();u=A(),k=v("div"),_=v("label"),_.textContent=d,b=A(),p=v("select"),y=v("option"),y.textContent=D;for(let M=0;M<De.length;M+=1)De[M].c();w=A(),E=v("div"),O=v("div"),I=v("label"),I.textContent=S,L=A(),T=v("input"),V=A(),P=v("div"),W=v("label"),W.textContent=$,de=A(),B=v("input"),q=A(),x=v("div"),te=v("label"),te.textContent=J,ne=A(),K=v("input"),ke=A(),ce=v("div"),_e=v("div"),he=v("h3"),he.textContent=Me,ae=A(),ve=v("button"),ve.innerHTML=ye,Ue=A(),le=v("div"),Q=v("table"),Y=v("thead"),Y.innerHTML=Ce,X=A(),ge=v("tbody");for(let M=0;M<G.length;M+=1)G[M].c();this.h()},l(M){e=h(M,"DIV",{class:!0});var ee=C(e);t=h(ee,"DIV",{class:!0});var H=C(t);s=h(H,"DIV",{class:!0});var Ie=C(s);l=h(Ie,"LABEL",{for:!0,"data-svelte-h":!0}),R(l)!=="svelte-1ij7h26"&&(l.textContent=r),f=N(Ie),o=h(Ie,"SELECT",{id:!0,class:!0});var et=C(o);c=h(et,"OPTION",{class:!0,"data-svelte-h":!0}),R(c)!=="svelte-mwu9va"&&(c.textContent=g);for(let je=0;je<we.length;je+=1)we[je].l(et);et.forEach(m),Ie.forEach(m),u=N(H),k=h(H,"DIV",{class:!0});var rt=C(k);_=h(rt,"LABEL",{for:!0,"data-svelte-h":!0}),R(_)!=="svelte-tg5qne"&&(_.textContent=d),b=N(rt),p=h(rt,"SELECT",{id:!0,class:!0});var z=C(p);y=h(z,"OPTION",{class:!0,"data-svelte-h":!0}),R(y)!=="svelte-1ni71k3"&&(y.textContent=D);for(let je=0;je<De.length;je+=1)De[je].l(z);z.forEach(m),rt.forEach(m),H.forEach(m),w=N(ee),E=h(ee,"DIV",{class:!0});var Z=C(E);O=h(Z,"DIV",{class:!0});var fe=C(O);I=h(fe,"LABEL",{for:!0,"data-svelte-h":!0}),R(I)!=="svelte-oda77g"&&(I.textContent=S),L=N(fe),T=h(fe,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),fe.forEach(m),V=N(Z),P=h(Z,"DIV",{class:!0});var Ye=C(P);W=h(Ye,"LABEL",{for:!0,"data-svelte-h":!0}),R(W)!=="svelte-1vtbxrq"&&(W.textContent=$),de=N(Ye),B=h(Ye,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Ye.forEach(m),q=N(Z),x=h(Z,"DIV",{class:!0});var ot=C(x);te=h(ot,"LABEL",{for:!0,"data-svelte-h":!0}),R(te)!=="svelte-198js8s"&&(te.textContent=J),ne=N(ot),K=h(ot,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),ot.forEach(m),Z.forEach(m),ke=N(ee),ce=h(ee,"DIV",{class:!0});var tt=C(ce);_e=h(tt,"DIV",{class:!0});var lt=C(_e);he=h(lt,"H3",{class:!0,"data-svelte-h":!0}),R(he)!=="svelte-10xktbo"&&(he.textContent=Me),ae=N(lt),ve=h(lt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),R(ve)!=="svelte-psf54d"&&(ve.innerHTML=ye),lt.forEach(m),Ue=N(tt),le=h(tt,"DIV",{class:!0});var st=C(le);Q=h(st,"TABLE",{class:!0});var nt=C(Q);Y=h(nt,"THEAD",{"data-svelte-h":!0}),R(Y)!=="svelte-3ucy7b"&&(Y.innerHTML=Ce),X=N(nt),ge=h(nt,"TBODY",{});var at=C(ge);for(let je=0;je<G.length;je+=1)G[je].l(at);at.forEach(m),nt.forEach(m),st.forEach(m),tt.forEach(m),ee.forEach(m),this.h()},h(){a(l,"for","climb-location"),c.__value="",j(c,c.__value),c.disabled=!0,c.selected=!0,a(c,"class","svelte-7axjse"),a(o,"id","climb-location"),a(o,"class","svelte-7axjse"),n[0]===void 0&&pe(()=>n[11].call(o)),a(s,"class","input-group svelte-7axjse"),a(_,"for","climb-session"),y.__value="",j(y,y.__value),y.disabled=!0,y.selected=!0,a(y,"class","svelte-7axjse"),a(p,"id","climb-session"),a(p,"class","svelte-7axjse"),n[1]===void 0&&pe(()=>n[12].call(p)),a(k,"class","input-group svelte-7axjse"),a(t,"class","form-grid svelte-7axjse"),a(I,"for","finger-load"),a(T,"id","finger-load"),a(T,"type","number"),a(T,"min","0"),a(T,"max","5"),a(T,"class","svelte-7axjse"),a(O,"class","load-group svelte-7axjse"),a(W,"for","shoulder-load"),a(B,"id","shoulder-load"),a(B,"type","number"),a(B,"min","0"),a(B,"max","5"),a(B,"class","svelte-7axjse"),a(P,"class","load-group svelte-7axjse"),a(te,"for","forearm-load"),a(K,"id","forearm-load"),a(K,"type","number"),a(K,"min","0"),a(K,"max","5"),a(K,"class","svelte-7axjse"),a(x,"class","load-group svelte-7axjse"),a(E,"class","load-metrics svelte-7axjse"),a(he,"class","svelte-7axjse"),a(ve,"class","add-row-btn svelte-7axjse"),a(ve,"title","Add Exercise"),a(_e,"class","section-header svelte-7axjse"),a(Q,"class","svelte-7axjse"),a(le,"class","table-container svelte-7axjse"),a(ce,"class","exercise-section svelte-7axjse"),a(e,"class","indoor-config svelte-7axjse")},m(M,ee){U(M,e,ee),i(e,t),i(t,s),i(s,l),i(s,f),i(s,o),i(o,c);for(let H=0;H<we.length;H+=1)we[H]&&we[H].m(o,null);Se(o,n[0],!0),i(t,u),i(t,k),i(k,_),i(k,b),i(k,p),i(p,y);for(let H=0;H<De.length;H+=1)De[H]&&De[H].m(p,null);Se(p,n[1],!0),i(e,w),i(e,E),i(E,O),i(O,I),i(O,L),i(O,T),j(T,n[2]),i(E,V),i(E,P),i(P,W),i(P,de),i(P,B),j(B,n[3]),i(E,q),i(E,x),i(x,te),i(x,ne),i(x,K),j(K,n[4]),i(e,ke),i(e,ce),i(ce,_e),i(_e,he),i(_e,ae),i(_e,ve),i(ce,Ue),i(ce,le),i(le,Q),i(Q,Y),i(Q,X),i(Q,ge);for(let H=0;H<G.length;H+=1)G[H]&&G[H].m(ge,null);Te=!0,oe||(Be=[F(o,"change",n[11]),F(p,"change",n[12]),F(T,"input",n[13]),F(B,"input",n[14]),F(K,"input",n[15]),F(ve,"click",n[8])],oe=!0)},p(M,[ee]){if(ee&64){me=re(M[6]);let H;for(H=0;H<me.length;H+=1){const Ie=Ot(M,me,H);we[H]?we[H].p(Ie,ee):(we[H]=qt(Ie),we[H].c(),we[H].m(o,null))}for(;H<we.length;H+=1)we[H].d(1);we.length=me.length}if(ee&65&&Se(o,M[0]),ee&128){xe=re(M[7]);let H;for(H=0;H<xe.length;H+=1){const Ie=St(M,xe,H);De[H]?De[H].p(Ie,ee):(De[H]=Nt(Ie),De[H].c(),De[H].m(p,null))}for(;H<De.length;H+=1)De[H].d(1);De.length=xe.length}if(ee&130&&Se(p,M[1]),ee&4&&qe(T.value)!==M[2]&&j(T,M[2]),ee&8&&qe(B.value)!==M[3]&&j(B,M[3]),ee&16&&qe(K.value)!==M[4]&&j(K,M[4]),ee&544){Ke=re(M[5]),He();for(let H=0;H<G.length;H+=1)G[H].r();G=kt(G,ee,Ve,1,M,Ke,Ae,ge,Al,At,null,It);for(let H=0;H<G.length;H+=1)G[H].a();Fe()}},i(M){if(!Te){for(let ee=0;ee<Ke.length;ee+=1)se(G[ee]);M&&(Ee||pe(()=>{Ee=We(e,Ne,{}),Ee.start()})),Te=!0}},o(M){for(let ee=0;ee<G.length;ee+=1)Le(G[ee]);Te=!1},d(M){M&&m(e),Re(we,M),Re(De,M);for(let ee=0;ee<G.length;ee+=1)G[ee].d();oe=!1,Qe(Be)}}}function os(n,e,t){let s="",l="",r=0,f=0,o=0,c=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];const g=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],u=["Strength","Endurance","Power","Recovery"];function k(){t(5,c=[...c,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function _(T){c.length>1?t(5,c=c.filter(V=>V.id!==T)):t(5,c=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function d(){return{location:s,session:l,fingerLoad:r,shoulderLoad:f,forearmLoad:o,exercises:c}}function b(){s=Je(this),t(0,s),t(6,g)}function p(){l=Je(this),t(1,l),t(7,u)}function y(){r=qe(this.value),t(2,r)}function D(){f=qe(this.value),t(3,f)}function w(){o=qe(this.value),t(4,o)}function E(T,V){T[V].isRopes=this.checked,t(5,c)}function O(T,V){T[V].name=this.value,t(5,c)}function I(T,V){T[V].grade=this.value,t(5,c)}function S(T,V){T[V].notes=this.value,t(5,c)}return[s,l,r,f,o,c,g,u,k,_,d,b,p,y,D,w,E,O,I,S,T=>_(T.id)]}class rs extends Ze{constructor(e){super(),$e(this,e,os,ns,Xe,{getData:10})}get getData(){return this.$$.ctx[10]}}function as(n){let e,t=`<h3 class="svelte-fh7bet">Gym Session Config</h3> <p class="svelte-fh7bet">Specific fields for gym sessions will go here (e.g., Focus, Exercises,
        Sets/Reps).</p> <div class="placeholder-box svelte-fh7bet"></div>`,s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-gs8whu"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,r){U(l,e,r)},p:be,i(l){l&&(s||pe(()=>{s=We(e,Ne,{}),s.start()}))},o:be,d(l){l&&m(e)}}}let is="",us="";function cs(n,e,t){let s=[];function l(){return{location:is,session:us,exercises:s,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class fs extends Ze{constructor(e){super(),$e(this,e,cs,as,Xe,{getData:0})}get getData(){return this.$$.ctx[0]}}const jl=["Portland","Swanage","Bristol","Costa Del Severn","Cotswolds","Mendips","Wye Valley","Gower","South Wales","North Wales","Peak District","Devon","Fontainebleau","Switzerland","Other"],Pl={Portland:["Blacknor Far North","Blacknor North","Blacknor Central","Blacknor South","Blacknor Far South","Battleship Edge","Battleship Back Cliff","Wallsend North","Wallsend South","Coastguard North","Coastguard South","Godnor","Neddyfields","Cheyne Cliff","The Cuttings","The New Cuttings","The Cuttings Boulderfield"],Swanage:["Dancing Ledge","Hedbury","Winspit"],"Wye Valley":["Ban-y-Gor","Biblins Cave","Woodcroft Quarry","Wyndcliff Quarry"],"Costa Del Severn":["Brean","Clevedon","Portishead Quarry"],Bristol:["Avon Gorge","Leigh Woods","Bickley Wood","Hambrook"],Cotswolds:["Sally-in-the-Wood","Browns Folly"],Mendips:["Cheddar Gorge"],Gower:["Rhossili","Trial Wall Area","Foxhole"],"South Wales":["Dinas Rock","Ogmore"],"North Wales":["Cromlech","Australia"],"Peak District":["Burbage South Valley","Gardoms Edge","Raven Tor","Stanage","Curbar Edge"],Devon:["Dartmoor","Hartland","Tintagel"],Fontainebleau:["Bas Cuvier","Apremont","Franchard Isatis","Roche aux Sabots","Cul de Chien","Elephant"],Switzerland:["Magic Wood","Chironico","Cresciano","Brione","San Carlo"]};function Bt(n,e,t){const s=n.slice();return s[28]=e[t],s[29]=e,s[30]=t,s}function Vt(n,e,t){const s=n.slice();return s[31]=e[t],s}function ds(n,e,t){const s=n.slice();return s[34]=e[t],s}function hs(n){let e,t;return{c(){e=v("option"),t=ue(n[34]),this.h()},l(s){e=h(s,"OPTION",{class:!0});var l=C(e);t=ie(l,n[34]),l.forEach(m),this.h()},h(){e.__value=n[34],j(e,e.__value),a(e,"class","svelte-6senle")},m(s,l){U(s,e,l),i(e,t)},p:be,d(s){s&&m(e)}}}function jt(n){let e,t,s,l,r,f;return{c(){e=v("div"),t=v("input"),this.h()},l(o){e=h(o,"DIV",{});var c=C(e);t=h(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(m),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Area..."),a(t,"class","custom-input svelte-6senle")},m(o,c){U(o,e,c),i(e,t),j(t,n[1]),l=!0,r||(f=F(t,"input",n[15]),r=!0)},p(o,c){c[0]&2&&t.value!==o[1]&&j(t,o[1])},i(o){l||(o&&pe(()=>{l&&(s||(s=Pe(e,Ge,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=Pe(e,Ge,{},!1)),s.run(0)),l=!1},d(o){o&&m(e),o&&s&&s.end(),r=!1,f()}}}function vs(n){let e,t,s,l,r;return{c(){e=v("input"),this.h()},l(f){e=h(f,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","climb-crag"),a(e,"type","text"),a(e,"placeholder",t=n[0]==="Other"?"Enter Crag Name":"Select area first..."),e.disabled=s=!n[0],a(e,"class","svelte-6senle")},m(f,o){U(f,e,o),j(e,n[2]),l||(r=F(e,"input",n[18]),l=!0)},p(f,o){o[0]&1&&t!==(t=f[0]==="Other"?"Enter Crag Name":"Select area first...")&&a(e,"placeholder",t),o[0]&1&&s!==(s=!f[0])&&(e.disabled=s),o[0]&516&&e.value!==f[2]&&j(e,f[2])},d(f){f&&m(e),l=!1,r()}}}function ps(n){let e,t,s="Select Crag",l,r="Other (Custom)",f,o,c,g,u=re(n[9]),k=[];for(let d=0;d<u.length;d+=1)k[d]=Pt(Vt(n,u,d));let _=n[2]==="Other"&&Mt(n);return{c(){e=v("select"),t=v("option"),t.textContent=s;for(let d=0;d<k.length;d+=1)k[d].c();l=v("option"),l.textContent=r,f=A(),_&&_.c(),o=mt(),this.h()},l(d){e=h(d,"SELECT",{id:!0,class:!0});var b=C(e);t=h(b,"OPTION",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1bf8330"&&(t.textContent=s);for(let p=0;p<k.length;p+=1)k[p].l(b);l=h(b,"OPTION",{class:!0,"data-svelte-h":!0}),R(l)!=="svelte-1ws39oy"&&(l.textContent=r),b.forEach(m),f=N(d),_&&_.l(d),o=mt(),this.h()},h(){t.__value="",j(t,t.__value),t.disabled=!0,t.selected=!0,a(t,"class","svelte-6senle"),l.__value="Other",j(l,l.__value),a(l,"class","svelte-6senle"),a(e,"id","climb-crag"),a(e,"class","svelte-6senle"),n[2]===void 0&&pe(()=>n[16].call(e))},m(d,b){U(d,e,b),i(e,t);for(let p=0;p<k.length;p+=1)k[p]&&k[p].m(e,null);i(e,l),Se(e,n[2],!0),U(d,f,b),_&&_.m(d,b),U(d,o,b),c||(g=F(e,"change",n[16]),c=!0)},p(d,b){if(b[0]&512){u=re(d[9]);let p;for(p=0;p<u.length;p+=1){const y=Vt(d,u,p);k[p]?k[p].p(y,b):(k[p]=Pt(y),k[p].c(),k[p].m(e,l))}for(;p<k.length;p+=1)k[p].d(1);k.length=u.length}b[0]&516&&Se(e,d[2]),d[2]==="Other"?_?(_.p(d,b),b[0]&4&&se(_,1)):(_=Mt(d),_.c(),se(_,1),_.m(o.parentNode,o)):_&&(He(),Le(_,1,1,()=>{_=null}),Fe())},d(d){d&&(m(e),m(f),m(o)),Re(k,d),_&&_.d(d),c=!1,g()}}}function Pt(n){let e,t=n[31]+"",s,l;return{c(){e=v("option"),s=ue(t),this.h()},l(r){e=h(r,"OPTION",{class:!0});var f=C(e);s=ie(f,t),f.forEach(m),this.h()},h(){e.__value=l=n[31],j(e,e.__value),a(e,"class","svelte-6senle")},m(r,f){U(r,e,f),i(e,s)},p(r,f){f[0]&512&&t!==(t=r[31]+"")&&Oe(s,t),f[0]&512&&l!==(l=r[31])&&(e.__value=l,j(e,e.__value))},d(r){r&&m(e)}}}function Mt(n){let e,t,s,l,r,f;return{c(){e=v("div"),t=v("input"),this.h()},l(o){e=h(o,"DIV",{});var c=C(e);t=h(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(m),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Crag..."),a(t,"class","custom-input svelte-6senle")},m(o,c){U(o,e,c),i(e,t),j(t,n[3]),l=!0,r||(f=F(t,"input",n[17]),r=!0)},p(o,c){c[0]&8&&t.value!==o[3]&&j(t,o[3])},i(o){l||(o&&pe(()=>{l&&(s||(s=Pe(e,Ge,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=Pe(e,Ge,{},!1)),s.run(0)),l=!1},d(o){o&&m(e),o&&s&&s.end(),r=!1,f()}}}function Ut(n,e){let t,s,l,r,f,o,c,g,u,k,_,d,b,p,y,D='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',w,E,O,I=be,S,L,T;function V(){e[23].call(l,e[29],e[30])}function P(){e[24].call(o,e[29],e[30])}function W(){e[25].call(u,e[29],e[30])}function $(){e[26].call(d,e[29],e[30])}function de(){return e[27](e[28])}return{key:n,first:null,c(){t=v("tr"),s=v("td"),l=v("input"),r=A(),f=v("td"),o=v("input"),c=A(),g=v("td"),u=v("input"),k=A(),_=v("td"),d=v("textarea"),b=A(),p=v("td"),y=v("button"),y.innerHTML=D,w=A(),this.h()},l(B){t=h(B,"TR",{});var q=C(t);s=h(q,"TD",{class:!0});var x=C(s);l=h(x,"INPUT",{type:!0,class:!0}),x.forEach(m),r=N(q),f=h(q,"TD",{class:!0});var te=C(f);o=h(te,"INPUT",{type:!0,placeholder:!0,class:!0}),te.forEach(m),c=N(q),g=h(q,"TD",{class:!0});var J=C(g);u=h(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(m),k=N(q),_=h(q,"TD",{class:!0});var ne=C(_);d=h(ne,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),C(d).forEach(m),ne.forEach(m),b=N(q),p=h(q,"TD",{class:!0});var K=C(p);y=h(K,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),R(y)!=="svelte-zfon6j"&&(y.innerHTML=D),K.forEach(m),w=N(q),q.forEach(m),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-6senle"),a(s,"class","checkbox-col svelte-6senle"),a(o,"type","text"),a(o,"placeholder","e.g. Deliverance"),a(o,"class","svelte-6senle"),a(f,"class","svelte-6senle"),a(u,"type","text"),a(u,"placeholder","e.g. 7a+"),a(u,"class","svelte-6senle"),a(g,"class","svelte-6senle"),a(d,"placeholder","e.g. 2nd go"),a(d,"rows","1"),a(d,"class","svelte-6senle"),a(_,"class","svelte-6senle"),a(y,"class","delete-btn svelte-6senle"),a(y,"title","Remove row"),a(p,"class","actions-col svelte-6senle"),this.first=t},m(B,q){U(B,t,q),i(t,s),i(s,l),l.checked=e[28].isRopes,i(t,r),i(t,f),i(f,o),j(o,e[28].name),i(t,c),i(t,g),i(g,u),j(u,e[28].grade),i(t,k),i(t,_),i(_,d),j(d,e[28].notes),i(t,b),i(t,p),i(p,y),i(t,w),S=!0,L||(T=[F(l,"change",V),F(o,"input",P),F(u,"input",W),F(d,"input",$),F(y,"click",de)],L=!0)},p(B,q){e=B,q[0]&256&&(l.checked=e[28].isRopes),q[0]&256&&o.value!==e[28].name&&j(o,e[28].name),q[0]&256&&u.value!==e[28].grade&&j(u,e[28].grade),q[0]&256&&j(d,e[28].notes)},r(){O=t.getBoundingClientRect()},f(){ql(t),I(),Et(t,O)},a(){I(),I=Ol(t,O,Vl,{duration:300})},i(B){S||(E&&E.end(1),S=!0)},o(B){B&&(E=Il(t,Ge,{duration:200})),S=!1},d(B){B&&m(t),B&&E&&E.end(),L=!1,Qe(T)}}}function _s(n){let e,t,s,l,r="Area",f,o,c,g="Select Area",u,k,_,d,b="Crag",p,y,D,w,E="Wall / Sector",O,I,S,L,T,V,P="Finger Load (0-5)",W,$,de,B,q,x="Shoulder Load (0-5)",te,J,ne,K,ke,ce="Forearm Load (0-5)",_e,he,Me,ae,ve,ye,Ue="Routes",le,Q,Y=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,Ce,X,ge,G,Ae='<tr><th class="checkbox-col svelte-6senle">Ropes?</th> <th class="svelte-6senle">Route</th> <th class="svelte-6senle">Grade</th> <th class="svelte-6senle">Notes</th> <th class="actions-col svelte-6senle"></th></tr>',Ee,Te,oe=[],Be=new Map,me,we,xe,De,Ke=re(jl),Ve=[];for(let z=0;z<Ke.length;z+=1)Ve[z]=hs(ds(n,Ke,z));let M=n[0]==="Other"&&jt(n);function ee(z,Z){return z[0]&&z[0]!=="Other"?ps:vs}let H=ee(n),Ie=H(n),et=re(n[8]);const rt=z=>z[28].id;for(let z=0;z<et.length;z+=1){let Z=Bt(n,et,z),fe=rt(Z);Be.set(fe,oe[z]=Ut(fe,Z))}return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=r,f=A(),o=v("select"),c=v("option"),c.textContent=g;for(let z=0;z<Ve.length;z+=1)Ve[z].c();u=A(),M&&M.c(),k=A(),_=v("div"),d=v("label"),d.textContent=b,p=A(),Ie.c(),y=A(),D=v("div"),w=v("label"),w.textContent=E,O=A(),I=v("input"),S=A(),L=v("div"),T=v("div"),V=v("label"),V.textContent=P,W=A(),$=v("input"),de=A(),B=v("div"),q=v("label"),q.textContent=x,te=A(),J=v("input"),ne=A(),K=v("div"),ke=v("label"),ke.textContent=ce,_e=A(),he=v("input"),Me=A(),ae=v("div"),ve=v("div"),ye=v("h3"),ye.textContent=Ue,le=A(),Q=v("button"),Q.innerHTML=Y,Ce=A(),X=v("div"),ge=v("table"),G=v("thead"),G.innerHTML=Ae,Ee=A(),Te=v("tbody");for(let z=0;z<oe.length;z+=1)oe[z].c();this.h()},l(z){e=h(z,"DIV",{class:!0});var Z=C(e);t=h(Z,"DIV",{class:!0});var fe=C(t);s=h(fe,"DIV",{class:!0});var Ye=C(s);l=h(Ye,"LABEL",{for:!0,"data-svelte-h":!0}),R(l)!=="svelte-10bxq12"&&(l.textContent=r),f=N(Ye),o=h(Ye,"SELECT",{id:!0,class:!0});var ot=C(o);c=h(ot,"OPTION",{class:!0,"data-svelte-h":!0}),R(c)!=="svelte-18hyx00"&&(c.textContent=g);for(let it=0;it<Ve.length;it+=1)Ve[it].l(ot);ot.forEach(m),u=N(Ye),M&&M.l(Ye),Ye.forEach(m),k=N(fe),_=h(fe,"DIV",{class:!0});var tt=C(_);d=h(tt,"LABEL",{for:!0,"data-svelte-h":!0}),R(d)!=="svelte-1d1q4si"&&(d.textContent=b),p=N(tt),Ie.l(tt),tt.forEach(m),y=N(fe),D=h(fe,"DIV",{class:!0});var lt=C(D);w=h(lt,"LABEL",{for:!0,"data-svelte-h":!0}),R(w)!=="svelte-2wtmd"&&(w.textContent=E),O=N(lt),I=h(lt,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),lt.forEach(m),fe.forEach(m),S=N(Z),L=h(Z,"DIV",{class:!0});var st=C(L);T=h(st,"DIV",{class:!0});var nt=C(T);V=h(nt,"LABEL",{for:!0,"data-svelte-h":!0}),R(V)!=="svelte-oda77g"&&(V.textContent=P),W=N(nt),$=h(nt,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),nt.forEach(m),de=N(st),B=h(st,"DIV",{class:!0});var at=C(B);q=h(at,"LABEL",{for:!0,"data-svelte-h":!0}),R(q)!=="svelte-1vtbxrq"&&(q.textContent=x),te=N(at),J=h(at,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),at.forEach(m),ne=N(st),K=h(st,"DIV",{class:!0});var je=C(K);ke=h(je,"LABEL",{for:!0,"data-svelte-h":!0}),R(ke)!=="svelte-198js8s"&&(ke.textContent=ce),_e=N(je),he=h(je,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),je.forEach(m),st.forEach(m),Me=N(Z),ae=h(Z,"DIV",{class:!0});var pt=C(ae);ve=h(pt,"DIV",{class:!0});var _t=C(ve);ye=h(_t,"H3",{class:!0,"data-svelte-h":!0}),R(ye)!=="svelte-1nagf2u"&&(ye.textContent=Ue),le=N(_t),Q=h(_t,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),R(Q)!=="svelte-uzzlti"&&(Q.innerHTML=Y),_t.forEach(m),Ce=N(pt),X=h(pt,"DIV",{class:!0});var Tt=C(X);ge=h(Tt,"TABLE",{class:!0});var gt=C(ge);G=h(gt,"THEAD",{"data-svelte-h":!0}),R(G)!=="svelte-3ucy7b"&&(G.innerHTML=Ae),Ee=N(gt),Te=h(gt,"TBODY",{});var Dt=C(Te);for(let it=0;it<oe.length;it+=1)oe[it].l(Dt);Dt.forEach(m),gt.forEach(m),Tt.forEach(m),pt.forEach(m),Z.forEach(m),this.h()},h(){a(l,"for","climb-area"),c.__value="",j(c,c.__value),c.disabled=!0,c.selected=!0,a(c,"class","svelte-6senle"),a(o,"id","climb-area"),a(o,"class","svelte-6senle"),n[0]===void 0&&pe(()=>n[14].call(o)),a(s,"class","input-group svelte-6senle"),a(d,"for","climb-crag"),a(_,"class","input-group svelte-6senle"),a(w,"for","climb-wall"),a(I,"id","climb-wall"),a(I,"type","text"),a(I,"placeholder","e.g. Popular End"),a(I,"class","svelte-6senle"),a(D,"class","input-group svelte-6senle"),a(t,"class","form-grid svelte-6senle"),a(V,"for","finger-load"),a($,"id","finger-load"),a($,"type","number"),a($,"min","0"),a($,"max","5"),a($,"class","svelte-6senle"),a(T,"class","load-group svelte-6senle"),a(q,"for","shoulder-load"),a(J,"id","shoulder-load"),a(J,"type","number"),a(J,"min","0"),a(J,"max","5"),a(J,"class","svelte-6senle"),a(B,"class","load-group svelte-6senle"),a(ke,"for","forearm-load"),a(he,"id","forearm-load"),a(he,"type","number"),a(he,"min","0"),a(he,"max","5"),a(he,"class","svelte-6senle"),a(K,"class","load-group svelte-6senle"),a(L,"class","load-metrics svelte-6senle"),a(ye,"class","svelte-6senle"),a(Q,"class","add-row-btn svelte-6senle"),a(Q,"title","Add Route"),a(ve,"class","section-header svelte-6senle"),a(ge,"class","svelte-6senle"),a(X,"class","table-container svelte-6senle"),a(ae,"class","exercise-section svelte-6senle"),a(e,"class","outdoor-config svelte-6senle")},m(z,Z){U(z,e,Z),i(e,t),i(t,s),i(s,l),i(s,f),i(s,o),i(o,c);for(let fe=0;fe<Ve.length;fe+=1)Ve[fe]&&Ve[fe].m(o,null);Se(o,n[0],!0),i(s,u),M&&M.m(s,null),i(t,k),i(t,_),i(_,d),i(_,p),Ie.m(_,null),i(t,y),i(t,D),i(D,w),i(D,O),i(D,I),j(I,n[4]),i(e,S),i(e,L),i(L,T),i(T,V),i(T,W),i(T,$),j($,n[5]),i(L,de),i(L,B),i(B,q),i(B,te),i(B,J),j(J,n[6]),i(L,ne),i(L,K),i(K,ke),i(K,_e),i(K,he),j(he,n[7]),i(e,Me),i(e,ae),i(ae,ve),i(ve,ye),i(ve,le),i(ve,Q),i(ae,Ce),i(ae,X),i(X,ge),i(ge,G),i(ge,Ee),i(ge,Te);for(let fe=0;fe<oe.length;fe+=1)oe[fe]&&oe[fe].m(Te,null);we=!0,xe||(De=[F(o,"change",n[14]),F(o,"change",n[10]),F(I,"input",n[19]),F($,"input",n[20]),F(J,"input",n[21]),F(he,"input",n[22]),F(Q,"click",n[11])],xe=!0)},p(z,Z){if(Z[0]&1&&Se(o,z[0]),z[0]==="Other"?M?(M.p(z,Z),Z[0]&1&&se(M,1)):(M=jt(z),M.c(),se(M,1),M.m(s,null)):M&&(He(),Le(M,1,1,()=>{M=null}),Fe()),H===(H=ee(z))&&Ie?Ie.p(z,Z):(Ie.d(1),Ie=H(z),Ie&&(Ie.c(),Ie.m(_,null))),Z[0]&16&&I.value!==z[4]&&j(I,z[4]),Z[0]&32&&qe($.value)!==z[5]&&j($,z[5]),Z[0]&64&&qe(J.value)!==z[6]&&j(J,z[6]),Z[0]&128&&qe(he.value)!==z[7]&&j(he,z[7]),Z[0]&4352){et=re(z[8]),He();for(let fe=0;fe<oe.length;fe+=1)oe[fe].r();oe=kt(oe,Z,rt,1,z,et,Be,Te,Al,Ut,null,Bt);for(let fe=0;fe<oe.length;fe+=1)oe[fe].a();Fe()}},i(z){if(!we){se(M);for(let Z=0;Z<et.length;Z+=1)se(oe[Z]);z&&(me||pe(()=>{me=We(e,Ne,{}),me.start()})),we=!0}},o(z){Le(M);for(let Z=0;Z<oe.length;Z+=1)Le(oe[Z]);we=!1},d(z){z&&m(e),Re(Ve,z),M&&M.d(),Ie.d();for(let Z=0;Z<oe.length;Z+=1)oe[Z].d();xe=!1,Qe(De)}}}function gs(n,e,t){let s,l="",r="",f="",o="",c="",g=0,u=0,k=0;function _(){t(2,f=""),t(3,o="")}let d=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];function b(){t(8,d=[...d,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function p(q){d.length>1?t(8,d=d.filter(x=>x.id!==q)):t(8,d=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function y(){return{location:{area:l==="Other"?r:l,crag:f==="Other"?o:f,wall:c},session:"Outdoor",fingerLoad:g,shoulderLoad:u,forearmLoad:k,exercises:d}}function D(){l=Je(this),t(0,l)}function w(){r=this.value,t(1,r)}function E(){f=Je(this),t(2,f),t(9,s),t(0,l)}function O(){o=this.value,t(3,o)}function I(){f=this.value,t(2,f),t(9,s),t(0,l)}function S(){c=this.value,t(4,c)}function L(){g=qe(this.value),t(5,g)}function T(){u=qe(this.value),t(6,u)}function V(){k=qe(this.value),t(7,k)}function P(q,x){q[x].isRopes=this.checked,t(8,d)}function W(q,x){q[x].name=this.value,t(8,d)}function $(q,x){q[x].grade=this.value,t(8,d)}function de(q,x){q[x].notes=this.value,t(8,d)}const B=q=>p(q.id);return n.$$.update=()=>{n.$$.dirty[0]&1&&t(9,s=Pl[l]||[])},[l,r,f,o,c,g,u,k,d,s,_,b,p,y,D,w,E,O,I,S,L,T,V,P,W,$,de,B]}class ms extends Ze{constructor(e){super(),$e(this,e,gs,_s,Xe,{getData:13},null,[-1,-1])}get getData(){return this.$$.ctx[13]}}function bs(n){let e,t='<h3 class="svelte-fh7bet">Other Activity Config</h3> <p class="svelte-fh7bet">Generic fields for other activities will go here.</p> <div class="placeholder-box svelte-fh7bet"></div>',s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-kjirec"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,r){U(l,e,r)},p:be,i(l){l&&(s||pe(()=>{s=We(e,Ne,{}),s.start()}))},o:be,d(l){l&&m(e)}}}let ks="",ys="";function Cs(n,e,t){let s=[];function l(){return{location:ks,session:ys,exercises:s,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class Es extends Ze{constructor(e){super(),$e(this,e,Cs,bs,Xe,{getData:0})}get getData(){return this.$$.ctx[0]}}function Rt(n,e,t){const s=n.slice();return s[12]=e[t],s[13]=e,s[14]=t,s}function Ht(n,e){let t,s,l,r,f,o,c,g,u,k,_,d,b,p,y,D,w,E,O="Ã—",I,S,L;function T(){e[6].call(l,e[13],e[14])}function V(){e[7].call(o,e[13],e[14])}function P(){e[8].call(u,e[13],e[14])}function W(){e[9].call(d,e[13],e[14])}function $(){e[10].call(y,e[13],e[14])}function de(){return e[11](e[12])}return{key:n,first:null,c(){t=v("tr"),s=v("td"),l=v("input"),r=A(),f=v("td"),o=v("input"),c=A(),g=v("td"),u=v("input"),k=A(),_=v("td"),d=v("input"),b=A(),p=v("td"),y=v("input"),D=A(),w=v("td"),E=v("button"),E.textContent=O,I=A(),this.h()},l(B){t=h(B,"TR",{});var q=C(t);s=h(q,"TD",{class:!0});var x=C(s);l=h(x,"INPUT",{type:!0,placeholder:!0,class:!0}),x.forEach(m),r=N(q),f=h(q,"TD",{class:!0});var te=C(f);o=h(te,"INPUT",{type:!0,placeholder:!0,class:!0}),te.forEach(m),c=N(q),g=h(q,"TD",{class:!0});var J=C(g);u=h(J,"INPUT",{type:!0,placeholder:!0,class:!0}),J.forEach(m),k=N(q),_=h(q,"TD",{class:!0});var ne=C(_);d=h(ne,"INPUT",{type:!0,placeholder:!0,class:!0}),ne.forEach(m),b=N(q),p=h(q,"TD",{class:!0});var K=C(p);y=h(K,"INPUT",{type:!0,placeholder:!0,class:!0}),K.forEach(m),D=N(q),w=h(q,"TD",{class:!0});var ke=C(w);E=h(ke,"BUTTON",{class:!0,"data-svelte-h":!0}),R(E)!=="svelte-rn69i5"&&(E.textContent=O),ke.forEach(m),I=N(q),q.forEach(m),this.h()},h(){a(l,"type","text"),a(l,"placeholder","Hang"),a(l,"class","svelte-1eam6p3"),a(s,"class","svelte-1eam6p3"),a(o,"type","number"),a(o,"placeholder","0"),a(o,"class","svelte-1eam6p3"),a(f,"class","svelte-1eam6p3"),a(u,"type","number"),a(u,"placeholder","1"),a(u,"class","svelte-1eam6p3"),a(g,"class","svelte-1eam6p3"),a(d,"type","number"),a(d,"placeholder","1"),a(d,"class","svelte-1eam6p3"),a(_,"class","svelte-1eam6p3"),a(y,"type","text"),a(y,"placeholder","Notes"),a(y,"class","svelte-1eam6p3"),a(p,"class","svelte-1eam6p3"),a(E,"class","delete-btn svelte-1eam6p3"),a(w,"class","actions-col svelte-1eam6p3"),this.first=t},m(B,q){U(B,t,q),i(t,s),i(s,l),j(l,e[12].name),i(t,r),i(t,f),i(f,o),j(o,e[12].weight),i(t,c),i(t,g),i(g,u),j(u,e[12].sets),i(t,k),i(t,_),i(_,d),j(d,e[12].reps),i(t,b),i(t,p),i(p,y),j(y,e[12].notes),i(t,D),i(t,w),i(w,E),i(t,I),S||(L=[F(l,"input",T),F(o,"input",V),F(u,"input",P),F(d,"input",W),F(y,"input",$),F(E,"click",de)],S=!0)},p(B,q){e=B,q&2&&l.value!==e[12].name&&j(l,e[12].name),q&2&&qe(o.value)!==e[12].weight&&j(o,e[12].weight),q&2&&qe(u.value)!==e[12].sets&&j(u,e[12].sets),q&2&&qe(d.value)!==e[12].reps&&j(d,e[12].reps),q&2&&y.value!==e[12].notes&&j(y,e[12].notes)},d(B){B&&m(t),S=!1,Qe(L)}}}function ws(n){let e,t,s,l,r="Finger Load (0-5)",f,o,c,g,u,k,_="Sets / Exercises",d,b,p="Add Row",y,D,w,E,O='<tr><th class="svelte-1eam6p3">Exercise</th> <th class="svelte-1eam6p3">Weight (+/-)</th> <th class="svelte-1eam6p3">Sets</th> <th class="svelte-1eam6p3">Reps</th> <th class="svelte-1eam6p3">Notes</th> <th class="actions-col svelte-1eam6p3"></th></tr>',I,S,L=[],T=new Map,V,P,W,$=re(n[1]);const de=B=>B[12].id;for(let B=0;B<$.length;B+=1){let q=Rt(n,$,B),x=de(q);T.set(x,L[B]=Ht(x,q))}return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=r,f=A(),o=v("input"),c=A(),g=v("div"),u=v("div"),k=v("h3"),k.textContent=_,d=A(),b=v("button"),b.textContent=p,y=A(),D=v("div"),w=v("table"),E=v("thead"),E.innerHTML=O,I=A(),S=v("tbody");for(let B=0;B<L.length;B+=1)L[B].c();this.h()},l(B){e=h(B,"DIV",{class:!0});var q=C(e);t=h(q,"DIV",{class:!0});var x=C(t);s=h(x,"DIV",{class:!0});var te=C(s);l=h(te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(l)!=="svelte-1w9evqp"&&(l.textContent=r),f=N(te),o=h(te,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),te.forEach(m),x.forEach(m),c=N(q),g=h(q,"DIV",{class:!0});var J=C(g);u=h(J,"DIV",{class:!0});var ne=C(u);k=h(ne,"H3",{class:!0,"data-svelte-h":!0}),R(k)!=="svelte-rv2rcn"&&(k.textContent=_),d=N(ne),b=h(ne,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),R(b)!=="svelte-tawc64"&&(b.textContent=p),ne.forEach(m),y=N(J),D=h(J,"DIV",{class:!0});var K=C(D);w=h(K,"TABLE",{class:!0});var ke=C(w);E=h(ke,"THEAD",{"data-svelte-h":!0}),R(E)!=="svelte-163hj14"&&(E.innerHTML=O),I=N(ke),S=h(ke,"TBODY",{});var ce=C(S);for(let _e=0;_e<L.length;_e+=1)L[_e].l(ce);ce.forEach(m),ke.forEach(m),K.forEach(m),J.forEach(m),q.forEach(m),this.h()},h(){a(l,"for","fb-finger-load"),a(l,"class","svelte-1eam6p3"),a(o,"id","fb-finger-load"),a(o,"type","number"),a(o,"min","0"),a(o,"max","5"),a(o,"class","svelte-1eam6p3"),a(s,"class","load-group svelte-1eam6p3"),a(t,"class","load-metrics svelte-1eam6p3"),a(k,"class","svelte-1eam6p3"),a(b,"class","add-row-btn svelte-1eam6p3"),a(b,"title","Add Row"),a(u,"class","section-header svelte-1eam6p3"),a(w,"class","svelte-1eam6p3"),a(D,"class","table-container svelte-1eam6p3"),a(g,"class","exercise-section"),a(e,"class","fingerboard-config svelte-1eam6p3")},m(B,q){U(B,e,q),i(e,t),i(t,s),i(s,l),i(s,f),i(s,o),j(o,n[0]),i(e,c),i(e,g),i(g,u),i(u,k),i(u,d),i(u,b),i(g,y),i(g,D),i(D,w),i(w,E),i(w,I),i(w,S);for(let x=0;x<L.length;x+=1)L[x]&&L[x].m(S,null);P||(W=[F(o,"input",n[5]),F(b,"click",n[2])],P=!0)},p(B,[q]){q&1&&qe(o.value)!==B[0]&&j(o,B[0]),q&10&&($=re(B[1]),L=kt(L,q,de,1,B,$,T,S,Nl,Ht,null,Rt))},i(B){B&&(V||pe(()=>{V=We(e,Ne,{}),V.start()}))},o:be,d(B){B&&m(e);for(let q=0;q<L.length;q+=1)L[q].d();P=!1,Qe(W)}}}let Ts="Home",Ds="Training";function Ls(n,e,t){let s=0,l=[{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}];function r(){return{location:Ts,session:Ds,fingerLoad:s,exercises:l}}function f(){t(1,l=[...l,{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}])}function o(p){l.length>1&&t(1,l=l.filter(y=>y.id!==p))}function c(){s=qe(this.value),t(0,s)}function g(p,y){p[y].name=this.value,t(1,l)}function u(p,y){p[y].weight=qe(this.value),t(1,l)}function k(p,y){p[y].sets=qe(this.value),t(1,l)}function _(p,y){p[y].reps=qe(this.value),t(1,l)}function d(p,y){p[y].notes=this.value,t(1,l)}return[s,l,f,o,r,c,g,u,k,_,d,p=>o(p.id)]}class Is extends Ze{constructor(e){super(),$e(this,e,Ls,ws,Xe,{getData:4})}get getData(){return this.$$.ctx[4]}}const Ml="training_history_cache",Ss=JSON.parse(localStorage.getItem(Ml)||"{}"),wt=Sl(Ss);wt.subscribe(n=>{localStorage.setItem(Ml,JSON.stringify(n))});function Ul(n,e){wt.update(t=>{const s=t[n]||[],l=[...e,...s],r=new Map;return l.forEach(f=>{var u;const o=((u=f.date)==null?void 0:u.value)||f.date,g=`${o?new Date(o).toISOString():""}|${f.location}|${f.session_type}|${JSON.stringify(f.climbs)}`;r.has(g)||r.set(g,f)}),{...t,[n]:Array.from(r.values()).sort((f,o)=>{var u,k;const c=new Date(((u=f.date)==null?void 0:u.value)||f.date);return new Date(((k=o.date)==null?void 0:k.value)||o.date).getTime()-c.getTime()})}})}function Os(n,e){Ul(n,[e])}function Ft(n,e,t){const s=n.slice();return s[10]=e[t],s}function xt(n){let e,t=n[10].text+"",s,l;return{c(){e=v("option"),s=ue(t),l=A(),this.h()},l(r){e=h(r,"OPTION",{class:!0});var f=C(e);s=ie(f,t),l=N(f),f.forEach(m),this.h()},h(){e.__value=n[10].id,j(e,e.__value),a(e,"class","svelte-ilubjy")},m(r,f){U(r,e,f),i(e,s),i(e,l)},p:be,d(r){r&&m(e)}}}function zt(n){let e,t,s,l,r,f=n[2]?"Saving...":"Save Log",o,c,g,u,k;var _=n[5].component;function d(p,y){return{props:{}}}_&&(t=bt(_,d()),n[9](t));let b=n[3]&&Gt(n);return{c(){e=v("div"),t&&ht(t.$$.fragment),s=A(),b&&b.c(),l=A(),r=v("button"),o=ue(f),this.h()},l(p){e=h(p,"DIV",{class:!0});var y=C(e);t&&Ct(t.$$.fragment,y),s=N(y),b&&b.l(y),l=N(y),r=h(y,"BUTTON",{class:!0});var D=C(r);o=ie(D,f),D.forEach(m),y.forEach(m),this.h()},h(){a(r,"class","save-button svelte-ilubjy"),r.disabled=n[2],a(e,"class","config-wrapper svelte-ilubjy")},m(p,y){U(p,e,y),t&&vt(t,e,null),i(e,s),b&&b.m(e,null),i(e,l),i(e,r),i(r,o),g=!0,u||(k=F(r,"click",n[7]),u=!0)},p(p,y){if(y&32&&_!==(_=p[5].component)){if(t){He();const D=t;Le(D.$$.fragment,1,0,()=>{dt(D,1)}),Fe()}_?(t=bt(_,d()),p[9](t),ht(t.$$.fragment),se(t.$$.fragment,1),vt(t,e,s)):t=null}else if(_){const D={};t.$set(D)}p[3]?b?(b.p(p,y),y&8&&se(b,1)):(b=Gt(p),b.c(),se(b,1),b.m(e,l)):b&&(He(),Le(b,1,1,()=>{b=null}),Fe()),(!g||y&4)&&f!==(f=p[2]?"Saving...":"Save Log")&&Oe(o,f),(!g||y&4)&&(r.disabled=p[2])},i(p){g||(t&&se(t.$$.fragment,p),se(b),p&&(c||pe(()=>{c=We(e,Ne,{}),c.start()})),g=!0)},o(p){t&&Le(t.$$.fragment,p),Le(b),g=!1},d(p){p&&m(e),n[9](null),t&&dt(t),b&&b.d(),u=!1,k()}}}function Gt(n){let e,t,s,l;return{c(){e=v("div"),t=ue(n[3]),this.h()},l(r){e=h(r,"DIV",{class:!0});var f=C(e);t=ie(f,n[3]),f.forEach(m),this.h()},h(){a(e,"class","message svelte-ilubjy"),ze(e,"success",n[4]),ze(e,"error",!n[4])},m(r,f){U(r,e,f),i(e,t),l=!0},p(r,f){(!l||f&8)&&Oe(t,r[3]),(!l||f&16)&&ze(e,"success",r[4]),(!l||f&16)&&ze(e,"error",!r[4])},i(r){l||(r&&pe(()=>{l&&(s||(s=Pe(e,Ne,{},!0)),s.run(1))}),l=!0)},o(r){r&&(s||(s=Pe(e,Ne,{},!1)),s.run(0)),l=!1},d(r){r&&m(e),r&&s&&s.end()}}}function qs(n){let e,t,s="Log Exercise",l,r,f,o="What did you do today?",c,g,u,k="Select activity type...",_,d,b,p,y=re(n[6]),D=[];for(let E=0;E<y.length;E+=1)D[E]=xt(Ft(n,y,E));let w=n[5]&&zt(n);return{c(){e=v("div"),t=v("h2"),t.textContent=s,l=A(),r=v("div"),f=v("label"),f.textContent=o,c=A(),g=v("select"),u=v("option"),u.textContent=k;for(let E=0;E<D.length;E+=1)D[E].c();_=A(),w&&w.c(),this.h()},l(E){e=h(E,"DIV",{class:!0});var O=C(e);t=h(O,"H2",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1eeau7i"&&(t.textContent=s),l=N(O),r=h(O,"DIV",{class:!0});var I=C(r);f=h(I,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(f)!=="svelte-1ndwsee"&&(f.textContent=o),c=N(I),g=h(I,"SELECT",{id:!0,class:!0});var S=C(g);u=h(S,"OPTION",{class:!0,"data-svelte-h":!0}),R(u)!=="svelte-11gchci"&&(u.textContent=k);for(let L=0;L<D.length;L+=1)D[L].l(S);S.forEach(m),I.forEach(m),_=N(O),w&&w.l(O),O.forEach(m),this.h()},h(){a(t,"class","svelte-ilubjy"),a(f,"for","exercise-type"),a(f,"class","svelte-ilubjy"),u.__value="",j(u,u.__value),u.disabled=!0,u.selected=!0,a(u,"class","svelte-ilubjy"),a(g,"id","exercise-type"),a(g,"class","svelte-ilubjy"),n[0]===void 0&&pe(()=>n[8].call(g)),a(r,"class","dropdown-wrapper svelte-ilubjy"),a(e,"class","tab-content svelte-ilubjy")},m(E,O){U(E,e,O),i(e,t),i(e,l),i(e,r),i(r,f),i(r,c),i(r,g),i(g,u);for(let I=0;I<D.length;I+=1)D[I]&&D[I].m(g,null);Se(g,n[0],!0),i(e,_),w&&w.m(e,null),d=!0,b||(p=F(g,"change",n[8]),b=!0)},p(E,[O]){if(O&64){y=re(E[6]);let I;for(I=0;I<y.length;I+=1){const S=Ft(E,y,I);D[I]?D[I].p(S,O):(D[I]=xt(S),D[I].c(),D[I].m(g,null))}for(;I<D.length;I+=1)D[I].d(1);D.length=y.length}O&65&&Se(g,E[0]),E[5]?w?(w.p(E,O),O&32&&se(w,1)):(w=zt(E),w.c(),se(w,1),w.m(e,null)):w&&(He(),Le(w,1,1,()=>{w=null}),Fe())},i(E){d||(se(w),d=!0)},o(E){Le(w),d=!1},d(E){E&&m(e),Re(D,E),w&&w.d(),b=!1,p()}}}const Ns="https://save-log-825153765638.europe-west1.run.app";function As(n,e,t){let s,l="";const r=[{id:"indoor",text:"Indoor Climb",component:rs},{id:"fingerboard",text:"Fingerboarding",component:Is},{id:"gym",text:"Gym Session",component:fs},{id:"outdoor",text:"Outdoor Climb",component:ms},{id:"other",text:"Other",component:Es}];let f,o=!1,c="",g=!1;async function u(){if(!f||!f.getData){console.error("Component does not support data export");return}const d=f.getData(),b=Dl(ut);if(!d.location||!d.session||d.exercises&&d.exercises.length===0){t(3,c="Please select a Location, Session, and add at least one exercise."),t(4,g=!1);return}if(!b){t(3,c="Authentication error. Please log in again."),t(4,g=!1);return}t(2,o=!0),t(3,c="");try{const p={activity_type:l,location:d.location,session_type:d.session,finger_load:d.fingerLoad||0,shoulder_load:d.shoulderLoad||0,forearm_load:d.forearmLoad||0,climbs:d.exercises,date:new Date().toISOString()},y=await fetch(Ns,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${b}`},body:JSON.stringify(p)});if(!y.ok){const D=await y.text();throw new Error(`Server error (${y.status}): ${D}`)}t(3,c="Log saved successfully!"),t(4,g=!0),Os(l,p)}catch(p){console.error("Save Error:",p),t(3,c="Failed to save log. Check console for details."),t(4,g=!1)}finally{t(2,o=!1)}}function k(){l=Je(this),t(0,l),t(6,r)}function _(d){Hl[d?"unshift":"push"](()=>{f=d,t(1,f)})}return n.$$.update=()=>{n.$$.dirty&1&&t(5,s=r.find(d=>d.id===l)),n.$$.dirty&1&&l&&t(3,c="")},[l,f,o,c,g,s,r,u,k,_]}class Bs extends Ze{constructor(e){super(),$e(this,e,As,qs,Xe,{})}}function Wt(n,e,t){const s=n.slice();return s[43]=e[t],s}function Kt(n,e,t){const s=n.slice();return s[46]=e[t],s}function Yt(n,e,t){const s=n.slice();return s[49]=e[t],s}function Jt(n,e,t){const s=n.slice();return s[49]=e[t],s}function Qt(n,e,t){const s=n.slice();return s[54]=e[t],s}function Xt(n,e,t){const s=n.slice();return s[63]=e[t],s}function Zt(n,e,t){const s=n.slice();return s[57]=e[t],s}function Vs(n,e,t){const s=n.slice();return s[60]=e[t],s}function $t(n,e,t){const s=n.slice();return s[66]=e[t],s}function js(n){let e,t,s;return{c(){e=ft("svg"),t=ft("path"),s=ft("path"),this.h()},l(l){e=ct(l,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var r=C(e);t=ct(r,"path",{d:!0}),C(t).forEach(m),s=ct(r,"path",{d:!0}),C(s).forEach(m),r.forEach(m),this.h()},h(){a(t,"d","M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"),a(s,"d","M21 3v5h-5"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","16"),a(e,"height","16"),a(e,"viewBox","0 0 24 24"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"stroke-width","2"),a(e,"stroke-linecap","round"),a(e,"stroke-linejoin","round")},m(l,r){U(l,e,r),i(e,t),i(e,s)},d(l){l&&m(e)}}}function Ps(n){let e;return{c(){e=v("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),C(e).forEach(m),this.h()},h(){a(e,"class","spinner-small svelte-qeurdo")},m(t,s){U(t,e,s)},d(t){t&&m(e)}}}function el(n){let e,t=n[66].label+"",s;return{c(){e=v("option"),s=ue(t),this.h()},l(l){e=h(l,"OPTION",{class:!0});var r=C(e);s=ie(r,t),r.forEach(m),this.h()},h(){e.__value=n[66].id,j(e,e.__value),a(e,"class","svelte-qeurdo")},m(l,r){U(l,e,r),i(e,s)},p:be,d(l){l&&m(e)}}}function tl(n){let e,t,s,l,r="Start Date",f,o,c,g,u,k="End Date",_,d,b,p,y,D="Location",w,E,O,I,S,L="Session / Type",T,V,P,W,$="Grade (Exact)",de,B,q,x,te,J="Clear",ne,K,ke="Apply",ce,_e,he,Me;function ae(Y,Ce){return Y[0]==="outdoor"?Us:Ms}let ve=ae(n),ye=ve(n);function Ue(Y,Ce){return Y[0]==="outdoor"?Fs:Hs}let le=Ue(n),Q=le(n);return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=r,f=A(),o=v("input"),c=A(),g=v("div"),u=v("label"),u.textContent=k,_=A(),d=v("input"),b=A(),p=v("div"),y=v("label"),y.textContent=D,w=A(),ye.c(),E=A(),O=v("div"),I=v("div"),S=v("label"),S.textContent=L,T=A(),Q.c(),V=A(),P=v("div"),W=v("label"),W.textContent=$,de=A(),B=v("input"),q=A(),x=v("div"),te=v("button"),te.textContent=J,ne=A(),K=v("button"),K.textContent=ke,this.h()},l(Y){e=h(Y,"DIV",{class:!0});var Ce=C(e);t=h(Ce,"DIV",{class:!0});var X=C(t);s=h(X,"DIV",{class:!0});var ge=C(s);l=h(ge,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(l)!=="svelte-1kxlpsi"&&(l.textContent=r),f=N(ge),o=h(ge,"INPUT",{id:!0,type:!0,class:!0}),ge.forEach(m),c=N(X),g=h(X,"DIV",{class:!0});var G=C(g);u=h(G,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(u)!=="svelte-j60kik"&&(u.textContent=k),_=N(G),d=h(G,"INPUT",{id:!0,type:!0,class:!0}),G.forEach(m),b=N(X),p=h(X,"DIV",{class:!0});var Ae=C(p);y=h(Ae,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(y)!=="svelte-3cwczo"&&(y.textContent=D),w=N(Ae),ye.l(Ae),Ae.forEach(m),X.forEach(m),E=N(Ce),O=h(Ce,"DIV",{class:!0});var Ee=C(O);I=h(Ee,"DIV",{class:!0});var Te=C(I);S=h(Te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(S)!=="svelte-jb3f35"&&(S.textContent=L),T=N(Te),Q.l(Te),Te.forEach(m),V=N(Ee),P=h(Ee,"DIV",{class:!0});var oe=C(P);W=h(oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),R(W)!=="svelte-f1ofpo"&&(W.textContent=$),de=N(oe),B=h(oe,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),oe.forEach(m),q=N(Ee),x=h(Ee,"DIV",{class:!0});var Be=C(x);te=h(Be,"BUTTON",{class:!0,"data-svelte-h":!0}),R(te)!=="svelte-1hjrww8"&&(te.textContent=J),ne=N(Be),K=h(Be,"BUTTON",{class:!0,"data-svelte-h":!0}),R(K)!=="svelte-1ch465z"&&(K.textContent=ke),Be.forEach(m),Ee.forEach(m),Ce.forEach(m),this.h()},h(){a(l,"for","startDate"),a(l,"class","svelte-qeurdo"),a(o,"id","startDate"),a(o,"type","date"),a(o,"class","svelte-qeurdo"),a(s,"class","filter-group svelte-qeurdo"),a(u,"for","endDate"),a(u,"class","svelte-qeurdo"),a(d,"id","endDate"),a(d,"type","date"),a(d,"class","svelte-qeurdo"),a(g,"class","filter-group svelte-qeurdo"),a(y,"for","filterLocation"),a(y,"class","svelte-qeurdo"),a(p,"class","filter-group svelte-qeurdo"),a(t,"class","filter-row svelte-qeurdo"),a(S,"for","filterSession"),a(S,"class","svelte-qeurdo"),a(I,"class","filter-group svelte-qeurdo"),a(W,"for","filterGrade"),a(W,"class","svelte-qeurdo"),a(B,"id","filterGrade"),a(B,"type","text"),a(B,"placeholder","e.g. 7a+"),a(B,"class","svelte-qeurdo"),a(P,"class","filter-group svelte-qeurdo"),a(te,"class","clear-btn svelte-qeurdo"),a(K,"class","apply-btn svelte-qeurdo"),a(x,"class","filter-actions svelte-qeurdo"),a(O,"class","filter-row svelte-qeurdo"),a(e,"class","filters-panel svelte-qeurdo")},m(Y,Ce){U(Y,e,Ce),i(e,t),i(t,s),i(s,l),i(s,f),i(s,o),j(o,n[10]),i(t,c),i(t,g),i(g,u),i(g,_),i(g,d),j(d,n[11]),i(t,b),i(t,p),i(p,y),i(p,w),ye.m(p,null),i(e,E),i(e,O),i(O,I),i(I,S),i(I,T),Q.m(I,null),i(O,V),i(O,P),i(P,W),i(P,de),i(P,B),j(B,n[14]),i(O,q),i(O,x),i(x,te),i(x,ne),i(x,K),_e=!0,he||(Me=[F(o,"input",n[30]),F(d,"input",n[31]),F(B,"input",n[41]),F(te,"click",n[24]),F(K,"click",n[23])],he=!0)},p(Y,Ce){Ce[0]&1024&&j(o,Y[10]),Ce[0]&2048&&j(d,Y[11]),ve===(ve=ae(Y))&&ye?ye.p(Y,Ce):(ye.d(1),ye=ve(Y),ye&&(ye.c(),ye.m(p,null))),le===(le=Ue(Y))&&Q?Q.p(Y,Ce):(Q.d(1),Q=le(Y),Q&&(Q.c(),Q.m(I,null))),Ce[0]&16384&&B.value!==Y[14]&&j(B,Y[14])},i(Y){_e||(Y&&pe(()=>{_e&&(ce||(ce=Pe(e,Ne,{},!0)),ce.run(1))}),_e=!0)},o(Y){Y&&(ce||(ce=Pe(e,Ne,{},!1)),ce.run(0)),_e=!1},d(Y){Y&&m(e),ye.d(),Q.d(),Y&&ce&&ce.end(),he=!1,Qe(Me)}}}function Ms(n){let e,t,s="Any Location",l,r,f=re(n[20]),o=[];for(let c=0;c<f.length;c+=1)o[c]=ll(Xt(n,f,c));return{c(){e=v("select"),t=v("option"),t.textContent=s;for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=h(c,"SELECT",{id:!0,class:!0});var g=C(e);t=h(g,"OPTION",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-vg9lqd"&&(t.textContent=s);for(let u=0;u<o.length;u+=1)o[u].l(g);g.forEach(m),this.h()},h(){t.__value="",j(t,t.__value),a(t,"class","svelte-qeurdo"),a(e,"id","filterLocation"),a(e,"class","svelte-qeurdo"),n[12]===void 0&&pe(()=>n[38].call(e))},m(c,g){U(c,e,g),i(e,t);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);Se(e,n[12],!0),l||(r=F(e,"change",n[38]),l=!0)},p(c,g){if(g[0]&1048576){f=re(c[20]);let u;for(u=0;u<f.length;u+=1){const k=Xt(c,f,u);o[u]?o[u].p(k,g):(o[u]=ll(k),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=f.length}g[0]&1052672&&Se(e,c[12])},d(c){c&&m(e),Re(o,c),l=!1,r()}}}function Us(n){let e,t,s,l="Any Area",r,f,o,c,g="Any Crag",u,k="Other (Custom)",_,d,b,p,y=re(jl),D=[];for(let S=0;S<y.length;S+=1)D[S]=Rs(Vs(n,y,S));let w=n[1]==="Other"&&sl(n),E=re(n[16]),O=[];for(let S=0;S<E.length;S+=1)O[S]=nl(Zt(n,E,S));let I=n[3]==="Other"&&ol(n);return{c(){e=v("div"),t=v("select"),s=v("option"),s.textContent=l;for(let S=0;S<D.length;S+=1)D[S].c();r=A(),w&&w.c(),f=A(),o=v("select"),c=v("option"),c.textContent=g;for(let S=0;S<O.length;S+=1)O[S].c();u=v("option"),u.textContent=k,d=A(),I&&I.c(),this.h()},l(S){e=h(S,"DIV",{class:!0});var L=C(e);t=h(L,"SELECT",{id:!0,class:!0});var T=C(t);s=h(T,"OPTION",{class:!0,"data-svelte-h":!0}),R(s)!=="svelte-1a0ocwf"&&(s.textContent=l);for(let P=0;P<D.length;P+=1)D[P].l(T);T.forEach(m),r=N(L),w&&w.l(L),f=N(L),o=h(L,"SELECT",{id:!0,class:!0});var V=C(o);c=h(V,"OPTION",{class:!0,"data-svelte-h":!0}),R(c)!=="svelte-1fifq8b"&&(c.textContent=g);for(let P=0;P<O.length;P+=1)O[P].l(V);u=h(V,"OPTION",{class:!0,"data-svelte-h":!0}),R(u)!=="svelte-1ws39oy"&&(u.textContent=k),V.forEach(m),d=N(L),I&&I.l(L),L.forEach(m),this.h()},h(){s.__value="",j(s,s.__value),a(s,"class","svelte-qeurdo"),a(t,"id","filterArea"),a(t,"class","svelte-qeurdo"),n[1]===void 0&&pe(()=>n[32].call(t)),c.__value="",j(c,c.__value),a(c,"class","svelte-qeurdo"),u.__value="Other",j(u,u.__value),a(u,"class","svelte-qeurdo"),a(o,"id","filterCrag"),o.disabled=_=!n[1],a(o,"class","svelte-qeurdo"),n[3]===void 0&&pe(()=>n[35].call(o)),a(e,"class","outdoor-filters svelte-qeurdo")},m(S,L){U(S,e,L),i(e,t),i(t,s);for(let T=0;T<D.length;T+=1)D[T]&&D[T].m(t,null);Se(t,n[1],!0),i(e,r),w&&w.m(e,null),i(e,f),i(e,o),i(o,c);for(let T=0;T<O.length;T+=1)O[T]&&O[T].m(o,null);i(o,u),Se(o,n[3],!0),i(e,d),I&&I.m(e,null),b||(p=[F(t,"change",n[32]),F(t,"change",n[33]),F(o,"change",n[35]),F(o,"change",n[36])],b=!0)},p(S,L){if(L[0]&2&&Se(t,S[1]),S[1]==="Other"?w?(w.p(S,L),L[0]&2&&se(w,1)):(w=sl(S),w.c(),se(w,1),w.m(e,f)):w&&(He(),Le(w,1,1,()=>{w=null}),Fe()),L[0]&65536){E=re(S[16]);let T;for(T=0;T<E.length;T+=1){const V=Zt(S,E,T);O[T]?O[T].p(V,L):(O[T]=nl(V),O[T].c(),O[T].m(o,u))}for(;T<O.length;T+=1)O[T].d(1);O.length=E.length}L[0]&2&&_!==(_=!S[1])&&(o.disabled=_),L[0]&65544&&Se(o,S[3]),S[3]==="Other"?I?(I.p(S,L),L[0]&8&&se(I,1)):(I=ol(S),I.c(),se(I,1),I.m(e,null)):I&&(He(),Le(I,1,1,()=>{I=null}),Fe())},d(S){S&&m(e),Re(D,S),w&&w.d(),Re(O,S),I&&I.d(),b=!1,Qe(p)}}}function ll(n){let e,t=n[63]+"",s;return{c(){e=v("option"),s=ue(t),this.h()},l(l){e=h(l,"OPTION",{class:!0});var r=C(e);s=ie(r,t),r.forEach(m),this.h()},h(){e.__value=n[63],j(e,e.__value),a(e,"class","svelte-qeurdo")},m(l,r){U(l,e,r),i(e,s)},p:be,d(l){l&&m(e)}}}function Rs(n){let e,t;return{c(){e=v("option"),t=ue(n[60]),this.h()},l(s){e=h(s,"OPTION",{class:!0});var l=C(e);t=ie(l,n[60]),l.forEach(m),this.h()},h(){e.__value=n[60],j(e,e.__value),a(e,"class","svelte-qeurdo")},m(s,l){U(s,e,l),i(e,t)},p:be,d(s){s&&m(e)}}}function sl(n){let e,t,s,l,r,f;return{c(){e=v("div"),t=v("input"),this.h()},l(o){e=h(o,"DIV",{});var c=C(e);t=h(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(m),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Area..."),a(t,"class","custom-filter-input svelte-qeurdo")},m(o,c){U(o,e,c),i(e,t),j(t,n[2]),l=!0,r||(f=F(t,"input",n[34]),r=!0)},p(o,c){c[0]&4&&t.value!==o[2]&&j(t,o[2])},i(o){l||(o&&pe(()=>{l&&(s||(s=Pe(e,Ge,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=Pe(e,Ge,{},!1)),s.run(0)),l=!1},d(o){o&&m(e),o&&s&&s.end(),r=!1,f()}}}function nl(n){let e,t=n[57]+"",s,l;return{c(){e=v("option"),s=ue(t),this.h()},l(r){e=h(r,"OPTION",{class:!0});var f=C(e);s=ie(f,t),f.forEach(m),this.h()},h(){e.__value=l=n[57],j(e,e.__value),a(e,"class","svelte-qeurdo")},m(r,f){U(r,e,f),i(e,s)},p(r,f){f[0]&65536&&t!==(t=r[57]+"")&&Oe(s,t),f[0]&65536&&l!==(l=r[57])&&(e.__value=l,j(e,e.__value))},d(r){r&&m(e)}}}function ol(n){let e,t,s,l,r,f;return{c(){e=v("div"),t=v("input"),this.h()},l(o){e=h(o,"DIV",{});var c=C(e);t=h(c,"INPUT",{type:!0,placeholder:!0,class:!0}),c.forEach(m),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Crag..."),a(t,"class","custom-filter-input svelte-qeurdo")},m(o,c){U(o,e,c),i(e,t),j(t,n[4]),l=!0,r||(f=F(t,"input",n[37]),r=!0)},p(o,c){c[0]&16&&t.value!==o[4]&&j(t,o[4])},i(o){l||(o&&pe(()=>{l&&(s||(s=Pe(e,Ge,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=Pe(e,Ge,{},!1)),s.run(0)),l=!1},d(o){o&&m(e),o&&s&&s.end(),r=!1,f()}}}function Hs(n){let e,t,s="Any Session",l,r,f=re(n[21]),o=[];for(let c=0;c<f.length;c+=1)o[c]=rl(Qt(n,f,c));return{c(){e=v("select"),t=v("option"),t.textContent=s;for(let c=0;c<o.length;c+=1)o[c].c();this.h()},l(c){e=h(c,"SELECT",{id:!0,class:!0});var g=C(e);t=h(g,"OPTION",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-178oehu"&&(t.textContent=s);for(let u=0;u<o.length;u+=1)o[u].l(g);g.forEach(m),this.h()},h(){t.__value="",j(t,t.__value),a(t,"class","svelte-qeurdo"),a(e,"id","filterSession"),a(e,"class","svelte-qeurdo"),n[13]===void 0&&pe(()=>n[40].call(e))},m(c,g){U(c,e,g),i(e,t);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);Se(e,n[13],!0),l||(r=F(e,"change",n[40]),l=!0)},p(c,g){if(g[0]&2097152){f=re(c[21]);let u;for(u=0;u<f.length;u+=1){const k=Qt(c,f,u);o[u]?o[u].p(k,g):(o[u]=rl(k),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=f.length}g[0]&2105344&&Se(e,c[13])},d(c){c&&m(e),Re(o,c),l=!1,r()}}}function Fs(n){let e,t,s="Any Type",l,r="Bouldering",f,o="Ropes",c,g;return{c(){e=v("select"),t=v("option"),t.textContent=s,l=v("option"),l.textContent=r,f=v("option"),f.textContent=o,this.h()},l(u){e=h(u,"SELECT",{id:!0,class:!0});var k=C(e);t=h(k,"OPTION",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-c7i2yo"&&(t.textContent=s),l=h(k,"OPTION",{class:!0,"data-svelte-h":!0}),R(l)!=="svelte-ffaje2"&&(l.textContent=r),f=h(k,"OPTION",{class:!0,"data-svelte-h":!0}),R(f)!=="svelte-78wj0c"&&(f.textContent=o),k.forEach(m),this.h()},h(){t.__value="",j(t,t.__value),a(t,"class","svelte-qeurdo"),l.__value="Bouldering",j(l,l.__value),a(l,"class","svelte-qeurdo"),f.__value="Ropes",j(f,f.__value),a(f,"class","svelte-qeurdo"),a(e,"id","filterSession"),a(e,"class","svelte-qeurdo"),n[13]===void 0&&pe(()=>n[39].call(e))},m(u,k){U(u,e,k),i(e,t),i(e,l),i(e,f),Se(e,n[13],!0),c||(g=F(e,"change",n[39]),c=!0)},p(u,k){k[0]&2105344&&Se(e,u[13])},d(u){u&&m(e),c=!1,g()}}}function rl(n){let e,t=n[54]+"",s;return{c(){e=v("option"),s=ue(t),this.h()},l(l){e=h(l,"OPTION",{class:!0});var r=C(e);s=ie(r,t),r.forEach(m),this.h()},h(){e.__value=n[54],j(e,e.__value),a(e,"class","svelte-qeurdo")},m(l,r){U(l,e,r),i(e,s)},p:be,d(l){l&&m(e)}}}function xs(n){let e,t,s,l=[],r=new Map,f,o,c,g=n[17].length>0&&al(),u=n[17].length===0&&n[5].length>0&&il(),k=re(n[17]);const _=b=>b[43].key;for(let b=0;b<k.length;b+=1){let p=Wt(n,k,b),y=_(p);r.set(y,l[b]=gl(y,p))}let d=n[17].length>0&&ml(n);return{c(){g&&g.c(),e=A(),t=v("div"),u&&u.c(),s=A();for(let b=0;b<l.length;b+=1)l[b].c();o=A(),d&&d.c(),c=mt(),this.h()},l(b){g&&g.l(b),e=N(b),t=h(b,"DIV",{class:!0});var p=C(t);u&&u.l(p),s=N(p);for(let y=0;y<l.length;y+=1)l[y].l(p);p.forEach(m),o=N(b),d&&d.l(b),c=mt(),this.h()},h(){a(t,"class","sessions-list svelte-qeurdo")},m(b,p){g&&g.m(b,p),U(b,e,p),U(b,t,p),u&&u.m(t,null),i(t,s);for(let y=0;y<l.length;y+=1)l[y]&&l[y].m(t,null);U(b,o,p),d&&d.m(b,p),U(b,c,p)},p(b,p){b[17].length>0?g?p[0]&131072&&se(g,1):(g=al(),g.c(),se(g,1),g.m(e.parentNode,e)):g&&(He(),Le(g,1,1,()=>{g=null}),Fe()),b[17].length===0&&b[5].length>0?u||(u=il(),u.c(),u.m(t,s)):u&&(u.d(1),u=null),p[0]&426240&&(k=re(b[17]),l=kt(l,p,_,1,b,k,r,t,Nl,gl,null,Wt)),b[17].length>0?d?(d.p(b,p),p[0]&131072&&se(d,1)):(d=ml(b),d.c(),se(d,1),d.m(c.parentNode,c)):d&&(d.d(1),d=null)},i(b){se(g),b&&(f||pe(()=>{f=We(t,Ne,{}),f.start()})),se(d)},o(b){Le(g)},d(b){b&&(m(e),m(t),m(o),m(c)),g&&g.d(b),u&&u.d();for(let p=0;p<l.length;p+=1)l[p].d();d&&d.d(b)}}}function zs(n){let e,t=`<p>No data cached for this activity. Click &quot;Fetch Data&quot; to sync
                from the server.</p> <div class="empty-state"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg></div>`,s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-h6ex8u"&&(e.innerHTML=t),this.h()},h(){a(e,"class","placeholder svelte-qeurdo")},m(l,r){U(l,e,r)},p:be,i(l){l&&(s||pe(()=>{s=We(e,Ne,{}),s.start()}))},o:be,d(l){l&&m(e)}}}function Gs(n){let e,t,s,l,r,f,o="Retry",c,g,u;return{c(){e=v("div"),t=v("p"),s=ue("Error: "),l=ue(n[7]),r=A(),f=v("button"),f.textContent=o,this.h()},l(k){e=h(k,"DIV",{class:!0});var _=C(e);t=h(_,"P",{});var d=C(t);s=ie(d,"Error: "),l=ie(d,n[7]),d.forEach(m),r=N(_),f=h(_,"BUTTON",{class:!0,"data-svelte-h":!0}),R(f)!=="svelte-1n0rt7s"&&(f.textContent=o),_.forEach(m),this.h()},h(){a(f,"class","retry-btn svelte-qeurdo"),a(e,"class","status-msg error svelte-qeurdo")},m(k,_){U(k,e,_),i(e,t),i(t,s),i(t,l),i(e,r),i(e,f),g||(u=F(f,"click",n[22]),g=!0)},p(k,_){_[0]&128&&Oe(l,k[7])},i(k){k&&(c||pe(()=>{c=We(e,Ne,{}),c.start()}))},o:be,d(k){k&&m(e),g=!1,u()}}}function Ws(n){let e,t=`<div class="spinner svelte-qeurdo"></div>
            Loading your training history...`,s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-7ltysi"&&(e.innerHTML=t),this.h()},h(){a(e,"class","status-msg svelte-qeurdo")},m(l,r){U(l,e,r)},p:be,i(l){l&&(s||pe(()=>{s=We(e,Ne,{}),s.start()}))},o:be,d(l){l&&m(e)}}}function al(n){let e,t='<div class="legend-item finger svelte-qeurdo"><span class="dot svelte-qeurdo"></span> Finger</div> <div class="legend-item shoulder svelte-qeurdo"><span class="dot svelte-qeurdo"></span> Shoulder</div> <div class="legend-item forearm svelte-qeurdo"><span class="dot svelte-qeurdo"></span> Forearm</div> <span class="legend-note">(0-5 Scale)</span>',s,l;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(r){e=h(r,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-s8a0lt"&&(e.innerHTML=t),this.h()},h(){a(e,"class","legend-row svelte-qeurdo")},m(r,f){U(r,e,f),l=!0},i(r){l||(r&&pe(()=>{l&&(s||(s=Pe(e,Ne,{},!0)),s.run(1))}),l=!0)},o(r){r&&(s||(s=Pe(e,Ne,{},!1)),s.run(0)),l=!1},d(r){r&&m(e),r&&s&&s.end()}}}function il(n){let e,t="No results match your filters.";return{c(){e=v("div"),e.textContent=t,this.h()},l(s){e=h(s,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1m70tcd"&&(e.textContent=t),this.h()},h(){a(e,"class","no-results svelte-qeurdo")},m(s,l){U(s,e,l)},d(s){s&&m(e)}}}function ul(n){let e,t,s,l,r,f,o,c,g=re(n[15].filter(kl)),u=[];for(let d=0;d<g.length;d+=1)u[d]=cl(Jt(n,g,d));let k=re(n[43].items),_=[];for(let d=0;d<k.length;d+=1)_[d]=_l(Kt(n,k,d));return{c(){e=v("div"),t=v("table"),s=v("thead"),l=v("tr");for(let d=0;d<u.length;d+=1)u[d].c();r=A(),f=v("tbody");for(let d=0;d<_.length;d+=1)_[d].c();this.h()},l(d){e=h(d,"DIV",{class:!0});var b=C(e);t=h(b,"TABLE",{class:!0});var p=C(t);s=h(p,"THEAD",{});var y=C(s);l=h(y,"TR",{});var D=C(l);for(let E=0;E<u.length;E+=1)u[E].l(D);D.forEach(m),y.forEach(m),r=N(p),f=h(p,"TBODY",{});var w=C(f);for(let E=0;E<_.length;E+=1)_[E].l(w);w.forEach(m),p.forEach(m),b.forEach(m),this.h()},h(){a(t,"class","details-table svelte-qeurdo"),a(e,"class","session-details svelte-qeurdo")},m(d,b){U(d,e,b),i(e,t),i(t,s),i(s,l);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(l,null);i(t,r),i(t,f);for(let p=0;p<_.length;p+=1)_[p]&&_[p].m(f,null);c=!0},p(d,b){if(b[0]&32768){g=re(d[15].filter(kl));let p;for(p=0;p<g.length;p+=1){const y=Jt(d,g,p);u[p]?u[p].p(y,b):(u[p]=cl(y),u[p].c(),u[p].m(l,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=g.length}if(b[0]&163840){k=re(d[43].items);let p;for(p=0;p<k.length;p+=1){const y=Kt(d,k,p);_[p]?_[p].p(y,b):(_[p]=_l(y),_[p].c(),_[p].m(f,null))}for(;p<_.length;p+=1)_[p].d(1);_.length=k.length}},i(d){c||(d&&pe(()=>{c&&(o||(o=Pe(e,Ge,{},!0)),o.run(1))}),c=!0)},o(d){d&&(o||(o=Pe(e,Ge,{},!1)),o.run(0)),c=!1},d(d){d&&m(e),Re(u,d),Re(_,d),d&&o&&o.end()}}}function cl(n){let e,t=n[49].label+"",s;return{c(){e=v("th"),s=ue(t),this.h()},l(l){e=h(l,"TH",{class:!0});var r=C(e);s=ie(r,t),r.forEach(m),this.h()},h(){a(e,"class","svelte-qeurdo")},m(l,r){U(l,e,r),i(e,s)},p(l,r){r[0]&32768&&t!==(t=l[49].label+"")&&Oe(s,t)},d(l){l&&m(e)}}}function Ks(n){let e=(n[46][n[49].key]||"-")+"",t;return{c(){t=ue(e)},l(s){t=ie(s,e)},m(s,l){U(s,t,l)},p(s,l){l[0]&163840&&e!==(e=(s[46][s[49].key]||"-")+"")&&Oe(t,e)},d(s){s&&m(t)}}}function Ys(n){let e,t,s=(n[46].route||n[46].name||"-")+"",l,r,f,o,c,g=n[46].grade&&fl(n),u=n[46].weight&&dl(n),k=(n[46].sets||n[46].reps)&&hl(n),_=n[46].notes&&vl(n);return{c(){e=v("div"),t=v("span"),l=ue(s),r=A(),g&&g.c(),f=A(),u&&u.c(),o=A(),k&&k.c(),c=A(),_&&_.c(),this.h()},l(d){e=h(d,"DIV",{class:!0});var b=C(e);t=h(b,"SPAN",{class:!0});var p=C(t);l=ie(p,s),p.forEach(m),r=N(b),g&&g.l(b),f=N(b),u&&u.l(b),o=N(b),k&&k.l(b),c=N(b),_&&_.l(b),b.forEach(m),this.h()},h(){a(t,"class","ex-name svelte-qeurdo"),a(e,"class","exercise-row svelte-qeurdo")},m(d,b){U(d,e,b),i(e,t),i(t,l),i(e,r),g&&g.m(e,null),i(e,f),u&&u.m(e,null),i(e,o),k&&k.m(e,null),i(e,c),_&&_.m(e,null)},p(d,b){b[0]&131072&&s!==(s=(d[46].route||d[46].name||"-")+"")&&Oe(l,s),d[46].grade?g?g.p(d,b):(g=fl(d),g.c(),g.m(e,f)):g&&(g.d(1),g=null),d[46].weight?u?u.p(d,b):(u=dl(d),u.c(),u.m(e,o)):u&&(u.d(1),u=null),d[46].sets||d[46].reps?k?k.p(d,b):(k=hl(d),k.c(),k.m(e,c)):k&&(k.d(1),k=null),d[46].notes?_?_.p(d,b):(_=vl(d),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},d(d){d&&m(e),g&&g.d(),u&&u.d(),k&&k.d(),_&&_.d()}}}function fl(n){let e,t=n[46].grade+"",s;return{c(){e=v("span"),s=ue(t),this.h()},l(l){e=h(l,"SPAN",{class:!0});var r=C(e);s=ie(r,t),r.forEach(m),this.h()},h(){a(e,"class","ex-meta grade svelte-qeurdo")},m(l,r){U(l,e,r),i(e,s)},p(l,r){r[0]&131072&&t!==(t=l[46].grade+"")&&Oe(s,t)},d(l){l&&m(e)}}}function dl(n){let e,t=n[46].weight+"",s,l;return{c(){e=v("span"),s=ue(t),l=ue("kg"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var f=C(e);s=ie(f,t),l=ie(f,"kg"),f.forEach(m),this.h()},h(){a(e,"class","ex-meta weight svelte-qeurdo")},m(r,f){U(r,e,f),i(e,s),i(e,l)},p(r,f){f[0]&131072&&t!==(t=r[46].weight+"")&&Oe(s,t)},d(r){r&&m(e)}}}function hl(n){let e,t=n[46].sets+"",s,l,r=n[46].reps+"",f;return{c(){e=v("span"),s=ue(t),l=ue("x"),f=ue(r),this.h()},l(o){e=h(o,"SPAN",{class:!0});var c=C(e);s=ie(c,t),l=ie(c,"x"),f=ie(c,r),c.forEach(m),this.h()},h(){a(e,"class","ex-meta sets svelte-qeurdo")},m(o,c){U(o,e,c),i(e,s),i(e,l),i(e,f)},p(o,c){c[0]&131072&&t!==(t=o[46].sets+"")&&Oe(s,t),c[0]&131072&&r!==(r=o[46].reps+"")&&Oe(f,r)},d(o){o&&m(e)}}}function vl(n){let e,t=n[46].notes+"",s;return{c(){e=v("span"),s=ue(t),this.h()},l(l){e=h(l,"SPAN",{class:!0});var r=C(e);s=ie(r,t),r.forEach(m),this.h()},h(){a(e,"class","ex-notes svelte-qeurdo")},m(l,r){U(l,e,r),i(e,s)},p(l,r){r[0]&131072&&t!==(t=l[46].notes+"")&&Oe(s,t)},d(l){l&&m(e)}}}function pl(n){let e;function t(r,f){return r[49].isObject?Ys:Ks}let s=t(n),l=s(n);return{c(){e=v("td"),l.c(),this.h()},l(r){e=h(r,"TD",{class:!0});var f=C(e);l.l(f),f.forEach(m),this.h()},h(){a(e,"class","svelte-qeurdo")},m(r,f){U(r,e,f),l.m(e,null)},p(r,f){s===(s=t(r))&&l?l.p(r,f):(l.d(1),l=s(r),l&&(l.c(),l.m(e,null)))},d(r){r&&m(e),l.d()}}}function _l(n){let e,t,s=re(n[15].filter(yl)),l=[];for(let r=0;r<s.length;r+=1)l[r]=pl(Yt(n,s,r));return{c(){e=v("tr");for(let r=0;r<l.length;r+=1)l[r].c();t=A()},l(r){e=h(r,"TR",{});var f=C(e);for(let o=0;o<l.length;o+=1)l[o].l(f);t=N(f),f.forEach(m)},m(r,f){U(r,e,f);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null);i(e,t)},p(r,f){if(f[0]&163840){s=re(r[15].filter(yl));let o;for(o=0;o<s.length;o+=1){const c=Yt(r,s,o);l[o]?l[o].p(c,f):(l[o]=pl(c),l[o].c(),l[o].m(e,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=s.length}},d(r){r&&m(e),Re(l,r)}}}function gl(n,e){let t,s,l,r,f=bl(e[43].date)+"",o,c,g,u=e[43].location+"",k,_,d,b=e[43].session+"",p,y,D,w,E,O="FI",I,S,L=e[43].fingerLoad+"",T,V,P,W,$="SH",de,B,q=e[43].shoulderLoad+"",x,te,J,ne,K="FO",ke,ce,_e=e[43].forearmLoad+"",he,Me,ae,ve,ye,Ue=e[8].has(e[43].key),le,Q,Y;function Ce(){return e[42](e[43])}let X=Ue&&ul(e);return{key:n,first:null,c(){t=v("div"),s=v("button"),l=v("div"),r=v("span"),o=ue(f),c=A(),g=v("span"),k=ue(u),_=A(),d=v("span"),p=ue(b),y=A(),D=v("div"),w=v("div"),E=v("span"),E.textContent=O,I=A(),S=v("span"),T=ue(L),V=A(),P=v("div"),W=v("span"),W.textContent=$,de=A(),B=v("span"),x=ue(q),te=A(),J=v("div"),ne=v("span"),ne.textContent=K,ke=A(),ce=v("span"),he=ue(_e),Me=A(),ae=ft("svg"),ve=ft("path"),ye=A(),X&&X.c(),le=A(),this.h()},l(ge){t=h(ge,"DIV",{class:!0});var G=C(t);s=h(G,"BUTTON",{class:!0});var Ae=C(s);l=h(Ae,"DIV",{class:!0});var Ee=C(l);r=h(Ee,"SPAN",{class:!0});var Te=C(r);o=ie(Te,f),Te.forEach(m),c=N(Ee),g=h(Ee,"SPAN",{class:!0});var oe=C(g);k=ie(oe,u),oe.forEach(m),_=N(Ee),d=h(Ee,"SPAN",{class:!0});var Be=C(d);p=ie(Be,b),Be.forEach(m),Ee.forEach(m),y=N(Ae),D=h(Ae,"DIV",{class:!0});var me=C(D);w=h(me,"DIV",{class:!0});var we=C(w);E=h(we,"SPAN",{class:!0,"data-svelte-h":!0}),R(E)!=="svelte-lon4bu"&&(E.textContent=O),I=N(we),S=h(we,"SPAN",{class:!0});var xe=C(S);T=ie(xe,L),xe.forEach(m),we.forEach(m),V=N(me),P=h(me,"DIV",{class:!0});var De=C(P);W=h(De,"SPAN",{class:!0,"data-svelte-h":!0}),R(W)!=="svelte-ryswzs"&&(W.textContent=$),de=N(De),B=h(De,"SPAN",{class:!0});var Ke=C(B);x=ie(Ke,q),Ke.forEach(m),De.forEach(m),te=N(me),J=h(me,"DIV",{class:!0});var Ve=C(J);ne=h(Ve,"SPAN",{class:!0,"data-svelte-h":!0}),R(ne)!=="svelte-1q34mlw"&&(ne.textContent=K),ke=N(Ve),ce=h(Ve,"SPAN",{class:!0});var M=C(ce);he=ie(M,_e),M.forEach(m),Ve.forEach(m),Me=N(me),ae=ct(me,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var ee=C(ae);ve=ct(ee,"path",{d:!0}),C(ve).forEach(m),ee.forEach(m),me.forEach(m),Ae.forEach(m),ye=N(G),X&&X.l(G),le=N(G),G.forEach(m),this.h()},h(){a(r,"class","date svelte-qeurdo"),a(g,"class","location svelte-qeurdo"),a(d,"class","tag svelte-qeurdo"),a(l,"class","session-info svelte-qeurdo"),a(E,"class","label svelte-qeurdo"),a(S,"class","val"),a(w,"class","load-pill finger svelte-qeurdo"),a(W,"class","label svelte-qeurdo"),a(B,"class","val"),a(P,"class","load-pill shoulder svelte-qeurdo"),a(ne,"class","label svelte-qeurdo"),a(ce,"class","val"),a(J,"class","load-pill forearm svelte-qeurdo"),a(ve,"d","m6 9 6 6 6-6"),a(ae,"class","chevron svelte-qeurdo"),a(ae,"xmlns","http://www.w3.org/2000/svg"),a(ae,"width","20"),a(ae,"height","20"),a(ae,"viewBox","0 0 24 24"),a(ae,"fill","none"),a(ae,"stroke","currentColor"),a(ae,"stroke-width","2"),a(ae,"stroke-linecap","round"),a(ae,"stroke-linejoin","round"),a(D,"class","load-summary svelte-qeurdo"),a(s,"class","session-header svelte-qeurdo"),a(t,"class","session-card svelte-qeurdo"),ze(t,"expanded",e[8].has(e[43].key)),this.first=t},m(ge,G){U(ge,t,G),i(t,s),i(s,l),i(l,r),i(r,o),i(l,c),i(l,g),i(g,k),i(l,_),i(l,d),i(d,p),i(s,y),i(s,D),i(D,w),i(w,E),i(w,I),i(w,S),i(S,T),i(D,V),i(D,P),i(P,W),i(P,de),i(P,B),i(B,x),i(D,te),i(D,J),i(J,ne),i(J,ke),i(J,ce),i(ce,he),i(D,Me),i(D,ae),i(ae,ve),i(t,ye),X&&X.m(t,null),i(t,le),Q||(Y=F(s,"click",Ce),Q=!0)},p(ge,G){e=ge,G[0]&131072&&f!==(f=bl(e[43].date)+"")&&Oe(o,f),G[0]&131072&&u!==(u=e[43].location+"")&&Oe(k,u),G[0]&131072&&b!==(b=e[43].session+"")&&Oe(p,b),G[0]&131072&&L!==(L=e[43].fingerLoad+"")&&Oe(T,L),G[0]&131072&&q!==(q=e[43].shoulderLoad+"")&&Oe(x,q),G[0]&131072&&_e!==(_e=e[43].forearmLoad+"")&&Oe(he,_e),G[0]&131328&&(Ue=e[8].has(e[43].key)),Ue?X?(X.p(e,G),G[0]&131328&&se(X,1)):(X=ul(e),X.c(),se(X,1),X.m(t,le)):X&&(He(),Le(X,1,1,()=>{X=null}),Fe()),G[0]&131328&&ze(t,"expanded",e[8].has(e[43].key))},d(ge){ge&&m(t),X&&X.d(),Q=!1,Y()}}}function ml(n){let e,t,s=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    Export to CSV`,l,r,f;return{c(){e=v("div"),t=v("button"),t.innerHTML=s,this.h()},l(o){e=h(o,"DIV",{class:!0});var c=C(e);t=h(c,"BUTTON",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-jjg4f9"&&(t.innerHTML=s),c.forEach(m),this.h()},h(){a(t,"class","export-btn svelte-qeurdo"),a(e,"class","footer-actions svelte-qeurdo")},m(o,c){U(o,e,c),i(e,t),r||(f=F(t,"click",n[25]),r=!0)},p:be,i(o){o&&(l||pe(()=>{l=We(e,Ne,{}),l.start()}))},o:be,d(o){o&&m(e),r=!1,f()}}}function Js(n){let e,t,s,l,r,f,o,c=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>
                Filters`,g,u,k,_,d,b;function p(T,V){return T[6]?Ps:js}let y=p(n),D=y(n),w=re(n[19]),E=[];for(let T=0;T<w.length;T+=1)E[T]=el($t(n,w,T));let O=n[9]&&tl(n);function I(T,V){return T[6]?Ws:T[7]?Gs:T[5].length===0?zs:xs}let S=I(n),L=S(n);return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("button"),D.c(),r=ue(`
                Fetch Data`),f=A(),o=v("button"),o.innerHTML=c,g=A(),u=v("select");for(let T=0;T<E.length;T+=1)E[T].c();k=A(),O&&O.c(),_=A(),L.c(),this.h()},l(T){e=h(T,"DIV",{class:!0});var V=C(e);t=h(V,"DIV",{class:!0});var P=C(t);s=h(P,"DIV",{class:!0});var W=C(s);l=h(W,"BUTTON",{class:!0,title:!0});var $=C(l);D.l($),r=ie($,`
                Fetch Data`),$.forEach(m),f=N(W),o=h(W,"BUTTON",{class:!0,"data-svelte-h":!0}),R(o)!=="svelte-vw25g4"&&(o.innerHTML=c),g=N(W),u=h(W,"SELECT",{class:!0});var de=C(u);for(let B=0;B<E.length;B+=1)E[B].l(de);de.forEach(m),W.forEach(m),P.forEach(m),k=N(V),O&&O.l(V),_=N(V),L.l(V),V.forEach(m),this.h()},h(){a(l,"class","fetch-btn svelte-qeurdo"),l.disabled=n[6],a(l,"title","Fetch latest data"),a(o,"class","filter-toggle svelte-qeurdo"),ze(o,"active",n[9]),a(u,"class","type-select svelte-qeurdo"),n[0]===void 0&&pe(()=>n[29].call(u)),a(s,"class","header-actions svelte-qeurdo"),a(t,"class","header-row svelte-qeurdo"),a(e,"class","view-container svelte-qeurdo")},m(T,V){U(T,e,V),i(e,t),i(t,s),i(s,l),D.m(l,null),i(l,r),i(s,f),i(s,o),i(s,g),i(s,u);for(let P=0;P<E.length;P+=1)E[P]&&E[P].m(u,null);Se(u,n[0],!0),i(e,k),O&&O.m(e,null),i(e,_),L.m(e,null),d||(b=[F(l,"click",n[22]),F(o,"click",n[28]),F(u,"change",n[29])],d=!0)},p(T,V){if(y!==(y=p(T))&&(D.d(1),D=y(T),D&&(D.c(),D.m(l,r))),V[0]&64&&(l.disabled=T[6]),V[0]&512&&ze(o,"active",T[9]),V[0]&524288){w=re(T[19]);let P;for(P=0;P<w.length;P+=1){const W=$t(T,w,P);E[P]?E[P].p(W,V):(E[P]=el(W),E[P].c(),E[P].m(u,null))}for(;P<E.length;P+=1)E[P].d(1);E.length=w.length}V[0]&524289&&Se(u,T[0]),T[9]?O?(O.p(T,V),V[0]&512&&se(O,1)):(O=tl(T),O.c(),se(O,1),O.m(e,_)):O&&(He(),Le(O,1,1,()=>{O=null}),Fe()),S===(S=I(T))&&L?L.p(T,V):(L.d(1),L=S(T),L&&(L.c(),se(L,1),L.m(e,null)))},i(T){se(O),se(L)},o(T){Le(O)},d(T){T&&m(e),D.d(),Re(E,T),O&&O.d(),L.d(),d=!1,Qe(b)}}}const Qs="https://get-log-825153765638.europe-west1.run.app";function Xs(n,e,t,s,l,r){const f=n.filter(c=>{var g,u,k;if(e&&new Date(((g=c.date)==null?void 0:g.value)||c.date)<new Date(e))return!1;if(t){const _=new Date(t);if(_.setHours(23,59,59,999),new Date(((u=c.date)==null?void 0:u.value)||c.date)>_)return!1}return!(s&&!(typeof c.location=="string"?c.location:"").toLowerCase().includes(s.toLowerCase())||l&&c.session_type!==l||r&&((k=c.climbs)==null?void 0:k.grade)!==r)}),o={};return f.forEach(c=>{var _;const g=((_=c.date)==null?void 0:_.value)||c.date,k=`${new Date(g).toISOString().split("T")[0]}|${c.location}|${c.session_type}`;o[k]||(o[k]={key:k,date:c.date,location:c.location,session:c.session_type,fingerLoad:0,shoulderLoad:0,forearmLoad:0,items:[]}),o[k].fingerLoad=Math.max(o[k].fingerLoad,c.finger_load||0),o[k].shoulderLoad=Math.max(o[k].shoulderLoad,c.shoulder_load||0),o[k].forearmLoad=Math.max(o[k].forearmLoad,c.forearm_load||0),o[k].items.push(c.climbs)}),Object.values(o).sort((c,g)=>{const u=new Date(c.date.value||c.date);return new Date(g.date.value||g.date).getTime()-u.getTime()})}function bl(n){return n?new Date(n.value||n).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"2-digit"}):"-"}function Zs(n){switch(n){case"indoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Session"},{key:"climbs",label:"Data",isObject:!0}];case"fingerboard":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Hang",isObject:!0}];case"outdoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Routes",isObject:!0}];default:return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"}]}}const kl=n=>n.key!=="date"&&n.key!=="location"&&n.key!=="session_type",yl=n=>n.key!=="date"&&n.key!=="location"&&n.key!=="session_type";function $s(n,e,t){let s,l,r,f,o;Ll(n,wt,le=>t(27,o=le));let c="indoor",g=!1,u="",k=new Set;function _(le){k.has(le)?k.delete(le):k.add(le),t(8,k)}let d=!1,b="",p="",y="",D="",w="",E="",O="",I="",S="",L={startDate:"",endDate:"",location:"",session:"",grade:""};const T=[{id:"indoor",label:"Indoor Climb"},{id:"fingerboard",label:"Fingerboarding"},{id:"gym",label:"Gym Session"},{id:"outdoor",label:"Outdoor Climb"},{id:"other",label:"Other"}],V=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],P=["Strength","Endurance","Power","Recovery"];async function W(){if(c){t(6,g=!0),t(7,u="");try{const le=Dl(ut),Q=new URLSearchParams({type:c}),Y=await fetch(`${Qs}?${Q.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${le}`}});if(!Y.ok){const X=await Y.text();throw new Error(X||"Failed to fetch data")}const Ce=await Y.json();Ul(c,Ce)}catch(le){console.error("Fetch Error:",le),t(7,u=le.message||"An unknown error occurred")}finally{t(6,g=!1)}}}function $(){t(26,L={startDate:b,endDate:p,location:y,session:I,grade:S}),t(9,d=!1)}function de(){t(10,b=""),t(11,p=""),t(12,y=""),t(13,I=""),t(14,S=""),$()}function B(){if(!s||s.length===0)return;const le=["date","location","session_type","finger_load","shoulder_load","forearm_load"],Q=new Set;s.forEach(Te=>{Te.climbs&&Object.keys(Te.climbs).forEach(oe=>Q.add(oe))});const Y=Array.from(Q),Ce=[...le,...Y],X=[];X.push(Ce.join(",")),s.forEach(Te=>{const oe=Ce.map(Be=>{let me;return le.includes(Be)?me=Te[Be]:me=Te.climbs?Te.climbs[Be]:"",me&&typeof me=="object"&&me.value&&(me=me.value),`"${(me==null?"":String(me)).replace(/"/g,'""')}"`});X.push(oe.join(","))});const ge=X.join(`
`),G=new Blob([ge],{type:"text/csv;charset=utf-8;"}),Ae=URL.createObjectURL(G),Ee=document.createElement("a");Ee.setAttribute("href",Ae),Ee.setAttribute("download",`training_data_${c}_${new Date().toISOString().split("T")[0]}.csv`),Ee.style.visibility="hidden",document.body.appendChild(Ee),Ee.click(),document.body.removeChild(Ee)}Fl(()=>{});const q=()=>t(9,d=!d);function x(){c=Je(this),t(0,c),t(19,T)}function te(){b=this.value,t(10,b)}function J(){p=this.value,t(11,p)}function ne(){D=Je(this),t(1,D)}const K=()=>{t(3,E=""),t(2,w="")};function ke(){w=this.value,t(2,w)}function ce(){E=Je(this),t(3,E),t(16,r),t(1,D)}const _e=()=>t(4,O="");function he(){O=this.value,t(4,O)}function Me(){y=Je(this),t(12,y),t(0,c),t(1,D),t(2,w),t(3,E),t(4,O),t(20,V)}function ae(){I=Je(this),t(13,I),t(21,P)}function ve(){I=Je(this),t(13,I),t(21,P)}function ye(){S=this.value,t(14,S)}const Ue=le=>_(le.key);return n.$$.update=()=>{if(n.$$.dirty[0]&134217729&&t(5,s=o[c]||[]),n.$$.dirty[0]&67108896&&t(17,l=Xs(s,L.startDate,L.endDate,L.location,L.session,L.grade)),n.$$.dirty[0]&2&&t(16,r=Pl[D]||[]),n.$$.dirty[0]&31&&c==="outdoor"){const le=D==="Other"?w:D,Q=E==="Other"?O:E;Q?t(12,y=Q):le?t(12,y=le):t(12,y="")}n.$$.dirty[0]&1&&t(15,f=Zs(c))},[c,D,w,E,O,s,g,u,k,d,b,p,y,I,S,f,r,l,_,T,V,P,W,$,de,B,L,o,q,x,te,J,ne,K,ke,ce,_e,he,Me,ae,ve,ye,Ue]}class en extends Ze{constructor(e){super(),$e(this,e,$s,Js,Xe,{},null,[-1,-1,-1])}}function tn(n){let e,t='<h2 class="svelte-dqa28t">Graph Data</h2> <div class="placeholder svelte-dqa28t"><p class="svelte-dqa28t">Visual progress charts and graphs will be displayed here.</p> <div class="empty-state svelte-dqa28t"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-line-chart"><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"></path></svg></div></div>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(s){e=h(s,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-r5xejk"&&(e.innerHTML=t),this.h()},h(){a(e,"class","tab-content svelte-dqa28t")},m(s,l){U(s,e,l)},p:be,i:be,o:be,d(s){s&&m(e)}}}class ln extends Ze{constructor(e){super(),$e(this,e,null,tn,Xe,{})}}function Cl(n,e,t){const s=n.slice();return s[5]=e[t],s}function El(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg>',s,l;return{c(){e=v("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),R(e)!=="svelte-1y2odl3"&&(e.innerHTML=t),this.h()},h(){a(e,"class","logout-button svelte-xzza9f"),a(e,"title","Logout")},m(r,f){U(r,e,f),s||(l=F(e,"click",es),s=!0)},d(r){r&&m(e),s=!1,l()}}}function sn(n){let e,t,s;return t=new ss({}),{c(){e=v("div"),ht(t.$$.fragment),this.h()},l(l){e=h(l,"DIV",{class:!0});var r=C(e);Ct(t.$$.fragment,r),r.forEach(m),this.h()},h(){a(e,"class","content-container svelte-xzza9f")},m(l,r){U(l,e,r),vt(t,e,null),s=!0},p:be,i(l){s||(se(t.$$.fragment,l),s=!0)},o(l){Le(t.$$.fragment,l),s=!1},d(l){l&&m(e),dt(t)}}}function nn(n){let e,t,s,l,r,f=re(n[3]),o=[];for(let u=0;u<f.length;u+=1)o[u]=wl(Cl(n,f,u));var c=n[1].component;function g(u,k){return{}}return c&&(l=bt(c,g())),{c(){e=v("nav");for(let u=0;u<o.length;u+=1)o[u].c();t=A(),s=v("div"),l&&ht(l.$$.fragment),this.h()},l(u){e=h(u,"NAV",{class:!0});var k=C(e);for(let d=0;d<o.length;d+=1)o[d].l(k);k.forEach(m),t=N(u),s=h(u,"DIV",{class:!0});var _=C(s);l&&Ct(l.$$.fragment,_),_.forEach(m),this.h()},h(){a(e,"class","tabs-nav svelte-xzza9f"),a(s,"class","content-container svelte-xzza9f")},m(u,k){U(u,e,k);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(e,null);U(u,t,k),U(u,s,k),l&&vt(l,s,null),r=!0},p(u,k){if(k&9){f=re(u[3]);let _;for(_=0;_<f.length;_+=1){const d=Cl(u,f,_);o[_]?o[_].p(d,k):(o[_]=wl(d),o[_].c(),o[_].m(e,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=f.length}if(k&2&&c!==(c=u[1].component)){if(l){He();const _=l;Le(_.$$.fragment,1,0,()=>{dt(_,1)}),Fe()}c?(l=bt(c,g()),ht(l.$$.fragment),se(l.$$.fragment,1),vt(l,s,null)):l=null}},i(u){r||(l&&se(l.$$.fragment,u),r=!0)},o(u){l&&Le(l.$$.fragment,u),r=!1},d(u){u&&(m(e),m(t),m(s)),Re(o,u),l&&dt(l)}}}function wl(n){let e,t=n[5].label+"",s,l,r,f;function o(){return n[4](n[5])}return{c(){e=v("button"),s=ue(t),l=A(),this.h()},l(c){e=h(c,"BUTTON",{class:!0});var g=C(e);s=ie(g,t),l=N(g),g.forEach(m),this.h()},h(){a(e,"class","tab-button svelte-xzza9f"),ze(e,"active",n[0]===n[5].id)},m(c,g){U(c,e,g),i(e,s),i(e,l),r||(f=F(e,"click",o),r=!0)},p(c,g){n=c,g&9&&ze(e,"active",n[0]===n[5].id)},d(c){c&&m(e),r=!1,f()}}}function on(n){let e,t,s,l,r,f,o,c="Training Tracker",g,u,k,_,d;document.title=e="Training Tracker "+(n[2]?"- "+n[1].label:"(Locked)");let b=n[2]&&El();const p=[nn,sn],y=[];function D(w,E){return w[2]?0:1}return k=D(n),_=y[k]=p[k](n),{c(){t=v("meta"),s=A(),l=v("main"),r=v("div"),f=v("header"),o=v("h1"),o.textContent=c,g=A(),b&&b.c(),u=A(),_.c(),this.h()},l(w){const E=Yl("svelte-ggv3pg",document.head);t=h(E,"META",{name:!0,content:!0}),E.forEach(m),s=N(w),l=h(w,"MAIN",{});var O=C(l);r=h(O,"DIV",{class:!0});var I=C(r);f=h(I,"HEADER",{class:!0});var S=C(f);o=h(S,"H1",{class:!0,"data-svelte-h":!0}),R(o)!=="svelte-95sjtq"&&(o.textContent=c),g=N(S),b&&b.l(S),S.forEach(m),u=N(I),_.l(I),I.forEach(m),O.forEach(m),this.h()},h(){a(t,"name","description"),a(t,"content","A simple Svelte webapp for tracking training"),a(o,"class","svelte-xzza9f"),a(f,"class","svelte-xzza9f"),a(r,"class","app-container svelte-xzza9f")},m(w,E){i(document.head,t),U(w,s,E),U(w,l,E),i(l,r),i(r,f),i(f,o),i(f,g),b&&b.m(f,null),i(r,u),y[k].m(r,null),d=!0},p(w,[E]){(!d||E&6)&&e!==(e="Training Tracker "+(w[2]?"- "+w[1].label:"(Locked)"))&&(document.title=e),w[2]?b||(b=El(),b.c(),b.m(f,null)):b&&(b.d(1),b=null);let O=k;k=D(w),k===O?y[k].p(w,E):(He(),Le(y[O],1,1,()=>{y[O]=null}),Fe(),_=y[k],_?_.p(w,E):(_=y[k]=p[k](w),_.c()),se(_,1),_.m(r,null))},i(w){d||(se(_),d=!0)},o(w){Le(_),d=!1},d(w){w&&(m(s),m(l)),m(t),b&&b.d(),y[k].d()}}}function rn(n,e,t){let s,l;Ll(n,ut,c=>t(2,l=c));const r=[{id:"log",label:"Log Exercise",component:Bs},{id:"view",label:"View Data",component:en},{id:"graph",label:"Graph Data",component:ln}];let f="log";const o=c=>t(0,f=c.id);return n.$$.update=()=>{n.$$.dirty&1&&t(1,s=r.find(c=>c.id===f))},[f,s,l,r,o]}class fn extends Ze{constructor(e){super(),$e(this,e,rn,on,Xe,{})}}export{fn as component};
