import{f as v,a as r,c as ot,t as Ae}from"../chunks/CKcnA5P_.js";import{w as Ls,p as nt,c as l,r as t,s,j as e,t as D,a as vt,f as et,aV as d,E as Ee,aG as ze,F as a,aW as Dt,b0 as Ts,d as Ns,b1 as os,k as tt,e as Ce,b2 as Fs,ac as Ze,o as Os,b3 as Es,b4 as xs,b5 as js,b6 as Ds,D as Gs,b7 as Rs}from"../chunks/4c6jdw0Z.js";import{d as Jt,s as J,e as X}from"../chunks/K94srNfd.js";import{i as E}from"../chunks/CK8hGvwc.js";import{e as fe,i as ge,r as z,b as R,c as zs,s as ut,d as As}from"../chunks/BVSa1UsB.js";import{s as Qe}from"../chunks/9PGhKrW6.js";import{i as ws,s as qs,c as Je,d as Bs,m as ms,b as bs,e as Is,f as Ms,h as Ps,j as Ws}from"../chunks/BqWccOr6.js";import{i as ns,c as $s,g as Us,a as Hs,b as Ks,t as is,f as fs,E as ps,d as Js,e as Qs,h as Xs,j as Ys,s as Zs}from"../chunks/B6rQXpsI.js";import{p as st}from"../chunks/CfB7tKQ8.js";import{i as Qt}from"../chunks/DMFvxL8W.js";function _s(_e){return function(...O){var b=O[0];return b.stopPropagation(),_e?.apply(this,O)}}function Gt(_e,O){var b=_e.$$events?.[O.type],B=Ls(b)?b.slice():b==null?[]:[b];for(var S of B)S.call(this,O)}var ea=v('<span class="placeholder svelte-1g8x5ph"> </span>'),ta=v('<span class="chip-display"> </span>'),sa=v('<button type="button"> </button>'),aa=v('<div class="multi-select-container svelte-1g8x5ph"><div class="chips svelte-1g8x5ph"><!></div> <div class="options-grid svelte-1g8x5ph"></div></div>');function Ct(_e,O){nt(O,!0);let b=st(O,"selected",19,()=>[]),B=st(O,"placeholder",3,"Select options...");function S(f){let w=[...b()];f==="None"?w.includes("None")?w=[]:w=["None"]:(w=w.filter(q=>q!=="None"),w.includes(f)?w=w.filter(q=>q!==f):w.push(f)),O.onChange(w)}var u=aa(),n=l(u),M=l(n);{var Q=f=>{var w=ea(),q=l(w,!0);t(w),D(()=>J(q,B())),r(f,w)},te=f=>{var w=ot(),q=et(w);fe(q,17,b,ge,(A,y)=>{var g=ta(),T=l(g,!0);t(g),D(()=>J(T,e(y))),r(A,g)}),r(f,w)};E(M,f=>{b().length===0?f(Q):f(te,!1)})}t(n);var F=s(n,2);fe(F,21,()=>O.options,ge,(f,w)=>{var q=sa();q.__click=()=>S(e(w));var A=l(q,!0);t(q),D(y=>{Qe(q,1,`option-chip ${y??""}`,"svelte-1g8x5ph"),J(A,e(w))},[()=>b().includes(e(w))?"selected":""]),r(f,q)}),t(F),t(u),r(_e,u),vt()}Jt(["click"]);var la=v('<div class="input-with-action svelte-1lf3qka"><input type="text" id="location-manual" placeholder="Enter custom location..." class="flat-left svelte-1lf3qka"/> <button type="button" class="action-btn flat-right svelte-1lf3qka" title="Back to list">‚úï</button></div>'),ra=v("<option> </option>"),ia=v('<select id="location" class="svelte-1lf3qka"><option disabled>Select location...</option><!></select>'),oa=v("<option> </option>"),na=v("<option> </option>"),va=v('<th class="svelte-1lf3qka">Sport?</th>'),ca=v('<td class="center svelte-1lf3qka"><input type="checkbox" class="svelte-1lf3qka"/></td>'),da=v('<span class="grade-error svelte-1lf3qka">Invalid</span>'),ua=v("<option> </option>"),pa=v('<button type="button" class="remove-btn svelte-1lf3qka">‚úï</button>'),fa=v('<tr><!><td class="svelte-1lf3qka"><input type="text" placeholder="Route name..." class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><input type="text" placeholder="V3"/> <!></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><input type="number" min="1" class="svelte-1lf3qka"/></td><td><textarea placeholder="Notes..." class="svelte-1lf3qka"></textarea></td><td class="center svelte-1lf3qka"><!></td></tr>'),_a=v("<div> </div>"),ma=v('<div class="form-content svelte-1lf3qka"><h3 class="svelte-1lf3qka">üßó Indoor Climb</h3> <div class="form-row svelte-1lf3qka"><div class="form-group svelte-1lf3qka"><label for="date" class="svelte-1lf3qka">Date</label> <input type="date" id="date" class="svelte-1lf3qka"/></div> <div class="form-group svelte-1lf3qka"><label for="location" class="svelte-1lf3qka">Location</label> <!></div></div> <div class="form-group svelte-1lf3qka"><label for="climbing-type" class="svelte-1lf3qka">Climbing Type</label> <select id="climbing-type" class="svelte-1lf3qka"><option disabled>Select type...</option><!></select></div> <div class="load-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Load Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="load-item svelte-1lf3qka"><label for="finger-load" class="svelte-1lf3qka">Finger</label> <input type="number" id="finger-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="shoulder-load" class="svelte-1lf3qka">Shoulder</label> <input type="number" id="shoulder-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="forearm-load" class="svelte-1lf3qka">Forearm</label> <input type="number" id="forearm-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div></div> <h4 class="mt-4 svelte-1lf3qka">Grip Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="load-item svelte-1lf3qka"><label for="open-grip" class="svelte-1lf3qka">Open</label> <input type="number" id="open-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="crimp-grip" class="svelte-1lf3qka">Crimp</label> <input type="number" id="crimp-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="pinch-grip" class="svelte-1lf3qka">Pinch</label> <input type="number" id="pinch-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="sloper-grip" class="svelte-1lf3qka">Sloper</label> <input type="number" id="sloper-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="jug-grip" class="svelte-1lf3qka">Jug</label> <input type="number" id="jug-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div></div></div> <div class="training-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Training Details</h4> <div class="training-grid svelte-1lf3qka"><div class="training-item svelte-1lf3qka"><label for="training-type" class="svelte-1lf3qka">Training Type</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="difficulty" class="svelte-1lf3qka">Difficulty</label> <select id="difficulty" class="svelte-1lf3qka"></select></div> <div class="training-item svelte-1lf3qka"><label for="category" class="svelte-1lf3qka">Category</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="energy-system" class="svelte-1lf3qka">Energy System</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="technique-focus" class="svelte-1lf3qka">Technique Focus</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="wall-angle" class="svelte-1lf3qka">Wall</label> <!></div></div></div> <div class="climbs-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Climbs</h4> <div class="table-container svelte-1lf3qka"><table class="climbs-table svelte-1lf3qka"><thead><tr><!><th class="svelte-1lf3qka">Name</th><th class="svelte-1lf3qka">Grade</th><th class="svelte-1lf3qka">Attempt</th><th class="svelte-1lf3qka">#</th><th class="svelte-1lf3qka">Notes</th><th class="svelte-1lf3qka"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-1lf3qka">+ Add Climb</button></div> <div class="submit-section svelte-1lf3qka"><!> <button type="button" class="submit-btn svelte-1lf3qka"><!></button></div></div>');function ba(_e,O){nt(O,!0);const b=["Rockstar Unit 3","Rockstar Unit 5","Rockstar Techno","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","Other"],B=["Bouldering","Sport","Mixed"],S=["Onsight","Flash","Redpoint","Dogged","DNF"],u=["None","Projecting","Onsighting","Campusing","Repeaters"],n=["None","Easy","Medium","Hard","Max","Limit+"],M=["None","Strength","Strength-endurance","Power Endurance","Coordination","Slab Technique","Overhang technique","Warm-up","Power"],Q=["None","Aerobic capacity","Aerobic lactic power","Anaerobic alactic capacity","Anaerobic alactic power","Anaerobic power","Anaerobic lactic capacity"],te=["None","Trusting feet","Double-clutch","Standing on volumes","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Stemming","Bridging","Laybacking","Mantling","Kneebar","Dyno","Pogo","Coordination Moves","Gastoning","Underclinging","Compressing","Heel Hook","Toe Hook","Bicycle"],F=["None","Overhang","Slab","Roof","Moon Board","Kilter Board","Beast","Circuit Board"],w=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","V4","6B","V5","6C","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"].map(o=>o.toLowerCase());let q=d(null),A=d(Ee(new Date().toISOString().split("T")[0])),y=d(""),g=d(""),T=d(Ee(["None"])),ne=d("None"),ie=d(Ee(["None"])),k=d(Ee(["None"])),V=d(Ee(["None"])),K=d(Ee(["None"])),P=d(3),$=d(3),m=d(3),se=d(3),I=d(3),x=d(3),C=d(3),ee=d(3),H=d(Ee([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}])),re=d(!1);function ve(){e(y)==="Other"&&(a(re,!0),a(y,""))}function ce(){a(re,!1),a(y,"")}function ae(){a(H,[...e(H),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0)}function Fe(o){a(H,e(H).filter((h,Z)=>Z!==o),!0)}function Le(o,h){e(H)[o].attemptType=h,(h==="Flash"||h==="Onsight")&&(e(H)[o].attemptsNum=1)}function Be(o){a(q,o,!0)}function De(){a(q,null)}let p=Dt(()=>e(g)==="Mixed");function W(o){return e(g)==="Sport"?!0:e(g)==="Bouldering"?!1:o.isSport}function Y(o){return o.trim()?w.includes(o.trim().toLowerCase()):!0}let G=d("idle"),U=d("");function ue(){return e(y)?e(g)?e(H).filter(h=>h.grade.trim()&&!Y(h.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a location"}async function me(){const o=ue();if(o){a(G,"error"),a(U,o,!0);return}a(G,"saving");try{const h=e(H).map(xe=>({...xe,isSport:W(xe)})),Z={date:e(A),location:e(y),customLocation:e(re)?e(y):void 0,climbingType:e(g),trainingTypes:e(T),difficulty:e(ne),categories:e(ie),energySystems:e(k),techniqueFocuses:e(V),wallAngles:e(K),fingerLoad:e(P),shoulderLoad:e($),forearmLoad:e(m),openGrip:e(se),crimpGrip:e(I),pinchGrip:e(x),sloperGrip:e(C),jugGrip:e(ee),climbs:h},Oe=Bs(Z);if(ns()){const xe=await $s(Z);xe.ok?(ms(Oe.id),a(G,"success"),a(U,"Session saved and synced!")):(bs(Oe.id),a(G,"success"),a(U,"Saved locally. Sync failed: "+(xe.error||"Unknown error")))}else a(G,"success"),a(U,"Saved locally. Will sync when online.");window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{ke()},2e3)}catch(h){a(G,"error"),a(U,"Failed to save session"),console.error("Save error:",h)}}function ke(){a(A,new Date().toISOString().split("T")[0],!0),a(y,""),a(re,!1),a(g,""),a(T,["None"],!0),a(ne,"None"),a(ie,["None"],!0),a(k,["None"],!0),a(V,["None"],!0),a(K,["None"],!0),a(P,3),a($,3),a(m,3),a(se,3),a(I,3),a(x,3),a(C,3),a(ee,3),a(H,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0),a(G,"idle"),a(U,"")}var pe=ma(),Te=s(l(pe),2),oe=l(Te),Se=s(l(oe),2);z(Se),t(oe);var we=s(oe,2),Ge=s(l(we),2);{var Ie=o=>{var h=la(),Z=l(h);z(Z);var Oe=s(Z,2);Oe.__click=ce,t(h),R(Z,()=>e(y),xe=>a(y,xe)),r(o,h)},_=o=>{var h=ia();h.__change=ve;var Z=l(h);Z.value=Z.__value="";var Oe=s(Z);fe(Oe,17,()=>b,ge,(xe,He)=>{var i=ra(),c=l(i,!0);t(i);var L={};D(()=>{J(c,e(He)),L!==(L=e(He))&&(i.value=(i.__value=e(He))??"")}),r(xe,i)}),t(h),Je(h,()=>e(y),xe=>a(y,xe)),r(o,h)};E(Ge,o=>{e(re)?o(Ie):o(_,!1)})}t(we),t(Te);var N=s(Te,2),j=s(l(N),2),le=l(j);le.value=le.__value="";var qe=s(le);fe(qe,17,()=>B,ge,(o,h)=>{var Z=oa(),Oe=l(Z,!0);t(Z);var xe={};D(()=>{J(Oe,e(h)),xe!==(xe=e(h))&&(Z.value=(Z.__value=e(h))??"")}),r(o,Z)}),t(j),t(N);var Re=s(N,2),at=s(l(Re),2),yt=l(at),Tt=s(l(yt),2);z(Tt),ze(2),t(yt);var pt=s(yt,2),ft=s(l(pt),2);z(ft),ze(2),t(pt);var kt=s(pt,2),Rt=s(l(kt),2);z(Rt),ze(2),t(kt),t(at);var We=s(at,4),Ve=l(We),St=s(l(Ve),2);z(St),ze(2),t(Ve);var _t=s(Ve,2),mt=s(l(_t),2);z(mt),ze(2),t(_t);var xt=s(_t,2),wt=s(l(xt),2);z(wt),ze(2),t(xt);var $e=s(xt,2),Nt=s(l($e),2);z(Nt),ze(2),t($e);var bt=s($e,2),At=s(l(bt),2);z(At),ze(2),t(bt),t(We),t(Re);var qt=s(Re,2),Vt=s(l(qt),2),ct=l(Vt),Lt=s(l(ct),2);Ct(Lt,{get options(){return u},get selected(){return e(T)},placeholder:"Select types...",onChange:o=>a(T,o,!0)}),t(ct);var gt=s(ct,2),Ft=s(l(gt),2);fe(Ft,21,()=>n,ge,(o,h)=>{var Z=na(),Oe=l(Z,!0);t(Z);var xe={};D(()=>{J(Oe,e(h)),xe!==(xe=e(h))&&(Z.value=(Z.__value=e(h))??"")}),r(o,Z)}),t(Ft),t(gt);var Ne=s(gt,2),Ue=s(l(Ne),2);Ct(Ue,{get options(){return M},get selected(){return e(ie)},placeholder:"Select categories...",onChange:o=>a(ie,o,!0)}),t(Ne);var Me=s(Ne,2),Bt=s(l(Me),2);Ct(Bt,{get options(){return Q},get selected(){return e(k)},placeholder:"Select systems...",onChange:o=>a(k,o,!0)}),t(Me);var ht=s(Me,2),gs=s(l(ht),2);Ct(gs,{get options(){return te},get selected(){return e(V)},placeholder:"Select focus...",onChange:o=>a(V,o,!0)}),t(ht);var It=s(ht,2),Xt=s(l(It),2);Ct(Xt,{get options(){return F},get selected(){return e(K)},placeholder:"Select angles...",onChange:o=>a(K,o,!0)}),t(It),t(Vt),t(qt);var Et=s(qt,2),Yt=s(l(Et),2),Mt=l(Yt),Zt=l(Mt),es=l(Zt),hs=l(es);{var ts=o=>{var h=va();r(o,h)};E(hs,o=>{e(p)&&o(ts)})}ze(6),t(es),t(Zt);var Pt=s(Zt);fe(Pt,21,()=>e(H),ge,(o,h,Z)=>{var Oe=fa(),xe=l(Oe);{var He=de=>{var Pe=ca(),Ye=l(Pe);z(Ye),t(Pe),zs(Ye,()=>e(h).isSport,Kt=>e(h).isSport=Kt),r(de,Pe)};E(xe,de=>{e(p)&&de(He)})}var i=s(xe),c=l(i);z(c),t(i);var L=s(i),he=l(L);z(he);let be;var lt=s(he,2);{var dt=de=>{var Pe=da();r(de,Pe)};E(lt,de=>{Y(e(h).grade)||de(dt)})}t(L);var Ke=s(L),je=l(Ke);je.__change=de=>Le(Z,de.target.value),fe(je,21,()=>S,ge,(de,Pe)=>{var Ye=ua(),Kt=l(Ye,!0);t(Ye);var us={};D(()=>{J(Kt,e(Pe)),us!==(us=e(Pe))&&(Ye.value=(Ye.__value=e(Pe))??"")}),r(de,Ye)}),t(je);var Xe;ws(je),t(Ke);var Ot=s(Ke),jt=l(Ot);z(jt),t(Ot);var Ut=s(Ot);let Ht;var rt=l(Ut);Ts(rt),t(Ut);var as=s(Ut),ls=l(as);{var rs=de=>{var Pe=pa();Pe.__click=()=>Fe(Z),r(de,Pe)};E(ls,de=>{e(H).length>1&&de(rs)})}t(as),t(Oe),D(de=>{be=Qe(he,1,"grade-input svelte-1lf3qka",null,be,de),Xe!==(Xe=e(h).attemptType)&&(je.value=(je.__value=e(h).attemptType)??"",qs(je,e(h).attemptType)),jt.disabled=e(h).attemptType==="Flash",Ht=Qe(Ut,1,"notes-cell svelte-1lf3qka",null,Ht,{expanded:e(q)===Z})},[()=>({invalid:!Y(e(h).grade)})]),R(c,()=>e(h).name,de=>e(h).name=de),R(he,()=>e(h).grade,de=>e(h).grade=de),R(jt,()=>e(h).attemptsNum,de=>e(h).attemptsNum=de),X("focus",rt,()=>Be(Z)),X("blur",rt,De),R(rt,()=>e(h).notes,de=>e(h).notes=de),r(o,Oe)}),t(Pt),t(Mt),t(Yt);var vs=s(Yt,2);vs.__click=ae,t(Et);var Wt=s(Et,2),ss=l(Wt);{var ys=o=>{var h=_a();let Z;var Oe=l(h,!0);t(h),D(()=>{Z=Qe(h,1,"save-message svelte-1lf3qka",null,Z,{success:e(G)==="success",error:e(G)==="error"}),J(Oe,e(U))}),r(o,h)};E(ss,o=>{e(U)&&o(ys)})}var $t=s(ss,2);$t.__click=me;var cs=l($t);{var ks=o=>{var h=Ae("Saving...");r(o,h)},ds=o=>{var h=ot(),Z=et(h);{var Oe=He=>{var i=Ae("‚úì Saved!");r(He,i)},xe=He=>{var i=Ae("Save Session");r(He,i)};E(Z,He=>{e(G)==="success"?He(Oe):He(xe,!1)},!0)}r(o,h)};E(cs,o=>{e(G)==="saving"?o(ks):o(ds,!1)})}t($t),t(Wt),t(pe),D(()=>$t.disabled=e(G)==="saving"),R(Se,()=>e(A),o=>a(A,o)),Je(j,()=>e(g),o=>a(g,o)),R(Tt,()=>e(P),o=>a(P,o)),R(ft,()=>e($),o=>a($,o)),R(Rt,()=>e(m),o=>a(m,o)),R(St,()=>e(se),o=>a(se,o)),R(mt,()=>e(I),o=>a(I,o)),R(wt,()=>e(x),o=>a(x,o)),R(Nt,()=>e(C),o=>a(C,o)),R(At,()=>e(ee),o=>a(ee,o)),Je(Ft,()=>e(ne),o=>a(ne,o)),r(_e,pe),vt()}Jt(["click","change"]);var ga=v("<option> </option>"),ha=v('<div class="input-with-action svelte-15o2ys1"><input type="text" id="crag-manual" placeholder="Enter custom crag name..." class="flat-left svelte-15o2ys1"/> <button type="button" class="action-btn flat-right svelte-15o2ys1" title="Back to list">‚úï</button></div>'),ya=v("<option> </option>"),ka=v("<option>Other (Manual Entry)</option>"),Sa=v('<select id="crag" class="svelte-15o2ys1"><option disabled> </option><!><!></select>'),xa=v("<option> </option>"),wa=v("<option> </option>"),qa=v('<th class="svelte-15o2ys1">Sport?</th>'),Ca=v('<td class="center svelte-15o2ys1"><input type="checkbox" class="svelte-15o2ys1"/></td>'),Ta=v('<span class="grade-error svelte-15o2ys1">Invalid</span>'),Na=v("<option> </option>"),Fa=v('<button type="button" class="remove-btn svelte-15o2ys1">‚úï</button>'),Oa=v('<tr><!><td class="svelte-15o2ys1"><input type="text" placeholder="Route name..." class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><input type="text" placeholder="V3"/> <!></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><input type="number" min="1" class="svelte-15o2ys1"/></td><td><textarea placeholder="Notes..." class="svelte-15o2ys1"></textarea></td><td class="center svelte-15o2ys1"><!></td></tr>'),ja=v("<div> </div>"),za=v('<div class="form-content svelte-15o2ys1"><h3 class="svelte-15o2ys1">‚õ∞Ô∏è Outdoor Climb</h3> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="date" class="svelte-15o2ys1">Date</label> <input type="date" id="date" class="svelte-15o2ys1"/></div> <div class="form-group svelte-15o2ys1"><label for="area" class="svelte-15o2ys1">Area</label> <select id="area" class="svelte-15o2ys1"><option disabled>Select area...</option><!></select></div></div> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="crag" class="svelte-15o2ys1">Crag</label> <!></div> <div class="form-group svelte-15o2ys1"><label for="sector" class="svelte-15o2ys1">Wall / Sector</label> <input type="text" id="sector" placeholder="Enter sector or wall name..." class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="climbing-type" class="svelte-15o2ys1">Climbing Type</label> <select id="climbing-type" class="svelte-15o2ys1"><option disabled>Select type...</option><!></select></div> <div class="load-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Load Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="load-item svelte-15o2ys1"><label for="finger-load" class="svelte-15o2ys1">Finger</label> <input type="number" id="finger-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="shoulder-load" class="svelte-15o2ys1">Shoulder</label> <input type="number" id="shoulder-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="forearm-load" class="svelte-15o2ys1">Forearm</label> <input type="number" id="forearm-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div></div> <h4 class="mt-4 svelte-15o2ys1">Grip Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="load-item svelte-15o2ys1"><label for="open-grip" class="svelte-15o2ys1">Open</label> <input type="number" id="open-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="crimp-grip" class="svelte-15o2ys1">Crimp</label> <input type="number" id="crimp-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="pinch-grip" class="svelte-15o2ys1">Pinch</label> <input type="number" id="pinch-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="sloper-grip" class="svelte-15o2ys1">Sloper</label> <input type="number" id="sloper-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="jug-grip" class="svelte-15o2ys1">Jug</label> <input type="number" id="jug-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div></div></div> <div class="training-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Training Details</h4> <div class="training-grid svelte-15o2ys1"><div class="training-item svelte-15o2ys1"><label for="training-type" class="svelte-15o2ys1">Training Type</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="difficulty" class="svelte-15o2ys1">Difficulty</label> <select id="difficulty" class="svelte-15o2ys1"></select></div> <div class="training-item svelte-15o2ys1"><label for="category" class="svelte-15o2ys1">Category</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="energy-system" class="svelte-15o2ys1">Energy System</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="technique-focus" class="svelte-15o2ys1">Technique Focus</label> <!></div></div></div> <div class="climbs-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Climbs</h4> <div class="table-container svelte-15o2ys1"><table class="climbs-table svelte-15o2ys1"><thead><tr><!><th class="svelte-15o2ys1">Name</th><th class="svelte-15o2ys1">Grade</th><th class="svelte-15o2ys1">Attempt</th><th class="svelte-15o2ys1">#</th><th class="svelte-15o2ys1">Notes</th><th class="svelte-15o2ys1"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-15o2ys1">+ Add Climb</button></div> <div class="submit-section svelte-15o2ys1"><!> <button type="button" class="submit-btn svelte-15o2ys1"><!></button></div></div>');function Aa(_e,O){nt(O,!0);const b=Us(),B=["Boulder","Sport","Trad"],S=["Onsight","Flash","Redpoint","Dogged","DNF"],u=["None","Projecting","Onsighting","Campusing","Repeaters"],n=["None","Easy","Medium","Hard","Max","Limit+"],M=["None","Technique","Strength","Strength-endurance","Warm-up","Power"],Q=["None","Aerobic capacity","Aerobic lactic power","Anaerobic alactic capacity","Anaerobic alactic power","Anaerobic power","Anaerobic lactic capacity"],te=["None","Double-clutch","Standing on volumes","Trusting feet"],f=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","V4","6B","V5","6C","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"].map(i=>i.toLowerCase());let w=d(null),q=d(Ee(new Date().toISOString().split("T")[0])),A=d(""),y=d(""),g=d(""),T=d(""),ne=d(Ee(["None"])),ie=d("None"),k=d(Ee(["None"])),V=d(Ee(["None"])),K=d(Ee(["None"])),P=d(3),$=d(3),m=d(3),se=d(3),I=d(3),x=d(3),C=d(3),ee=d(3),H=d(Ee([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}])),re=Dt(()=>e(A)?Ks(e(A)):[]),ve=d(!1);Ns(()=>{e(A)&&(a(y,""),a(ve,!1))});function ce(){e(y)==="Other"&&(a(ve,!0),a(y,""))}function ae(){a(ve,!1),a(y,"")}function Fe(){a(H,[...e(H),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0)}function Le(i){a(H,e(H).filter((c,L)=>L!==i),!0)}function Be(i,c){e(H)[i].attemptType=c,(c==="Flash"||c==="Onsight")&&(e(H)[i].attemptsNum=1)}function De(i){a(w,i,!0)}function p(){a(w,null)}let W=Dt(()=>e(T)==="Trad");function Y(i){return e(T)==="Sport"?!0:e(T)==="Boulder"?!1:i.isSport}function G(i){return i.trim()?f.includes(i.trim().toLowerCase()):!0}let U=d("idle"),ue=d("");function me(){return e(A)?e(y)?e(T)?e(H).filter(c=>c.grade.trim()&&!G(c.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a crag":"Please select an area"}async function ke(){const i=me();if(i){a(U,"error"),a(ue,i,!0);return}a(U,"saving");try{const c=e(H).map(be=>({...be,isSport:Y(be)})),L={date:e(q),area:e(A),crag:e(y),sector:e(g)||void 0,climbingType:e(T),trainingTypes:e(ne),difficulty:e(ie),categories:e(k),energySystems:e(V),techniqueFocuses:e(K),fingerLoad:e(P),shoulderLoad:e($),forearmLoad:e(m),openGrip:e(se),crimpGrip:e(I),pinchGrip:e(x),sloperGrip:e(C),jugGrip:e(ee),climbs:c},he=Is(L);if(ns()){const be=await Hs(L);be.ok?(ms(he.id),a(U,"success"),a(ue,"Session saved and synced!")):(bs(he.id),a(U,"success"),a(ue,"Saved locally. Sync failed: "+(be.error||"Unknown error")))}else a(U,"success"),a(ue,"Saved locally. Will sync when online.");window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{pe()},2e3)}catch(c){a(U,"error"),a(ue,"Failed to save session"),console.error("Save error:",c)}}function pe(){a(q,new Date().toISOString().split("T")[0],!0),a(A,""),a(y,""),a(g,""),a(T,""),a(ne,["None"],!0),a(ie,"None"),a(k,["None"],!0),a(V,["None"],!0),a(K,["None"],!0),a(P,3),a($,3),a(m,3),a(se,3),a(I,3),a(x,3),a(C,3),a(ee,3),a(H,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0),a(U,"idle"),a(ue,"")}var Te=za(),oe=s(l(Te),2),Se=l(oe),we=s(l(Se),2);z(we),t(Se);var Ge=s(Se,2),Ie=s(l(Ge),2),_=l(Ie);_.value=_.__value="";var N=s(_);fe(N,17,()=>b,ge,(i,c)=>{var L=ga(),he=l(L,!0);t(L);var be={};D(()=>{J(he,e(c)),be!==(be=e(c))&&(L.value=(L.__value=e(c))??"")}),r(i,L)}),t(Ie),t(Ge),t(oe);var j=s(oe,2),le=l(j),qe=s(l(le),2);{var Re=i=>{var c=ha(),L=l(c);z(L);var he=s(L,2);he.__click=ae,t(c),R(L,()=>e(y),be=>a(y,be)),r(i,c)},at=i=>{var c=Sa();c.__change=ce;var L=l(c),he=l(L,!0);t(L),L.value=L.__value="";var be=s(L);fe(be,17,()=>e(re),ge,(Ke,je)=>{var Xe=ya(),Ot=l(Xe,!0);t(Xe);var jt={};D(()=>{J(Ot,e(je)),jt!==(jt=e(je))&&(Xe.value=(Xe.__value=e(je))??"")}),r(Ke,Xe)});var lt=s(be);{var dt=Ke=>{var je=ka();je.value=je.__value="Other",r(Ke,je)};E(lt,Ke=>{e(A)&&Ke(dt)})}t(c),D(()=>{c.disabled=!e(A),J(he,e(A)?"Select crag...":"Select area first...")}),Je(c,()=>e(y),Ke=>a(y,Ke)),r(i,c)};E(qe,i=>{e(ve)?i(Re):i(at,!1)})}t(le);var yt=s(le,2),Tt=s(l(yt),2);z(Tt),t(yt),t(j);var pt=s(j,2),ft=s(l(pt),2),kt=l(ft);kt.value=kt.__value="";var Rt=s(kt);fe(Rt,17,()=>B,ge,(i,c)=>{var L=xa(),he=l(L,!0);t(L);var be={};D(()=>{J(he,e(c)),be!==(be=e(c))&&(L.value=(L.__value=e(c))??"")}),r(i,L)}),t(ft),t(pt);var We=s(pt,2),Ve=s(l(We),2),St=l(Ve),_t=s(l(St),2);z(_t),ze(2),t(St);var mt=s(St,2),xt=s(l(mt),2);z(xt),ze(2),t(mt);var wt=s(mt,2),$e=s(l(wt),2);z($e),ze(2),t(wt),t(Ve);var Nt=s(Ve,4),bt=l(Nt),At=s(l(bt),2);z(At),ze(2),t(bt);var qt=s(bt,2),Vt=s(l(qt),2);z(Vt),ze(2),t(qt);var ct=s(qt,2),Lt=s(l(ct),2);z(Lt),ze(2),t(ct);var gt=s(ct,2),Ft=s(l(gt),2);z(Ft),ze(2),t(gt);var Ne=s(gt,2),Ue=s(l(Ne),2);z(Ue),ze(2),t(Ne),t(Nt),t(We);var Me=s(We,2),Bt=s(l(Me),2),ht=l(Bt),gs=s(l(ht),2);Ct(gs,{get options(){return u},get selected(){return e(ne)},placeholder:"Select types...",onChange:i=>a(ne,i,!0)}),t(ht);var It=s(ht,2),Xt=s(l(It),2);fe(Xt,21,()=>n,ge,(i,c)=>{var L=wa(),he=l(L,!0);t(L);var be={};D(()=>{J(he,e(c)),be!==(be=e(c))&&(L.value=(L.__value=e(c))??"")}),r(i,L)}),t(Xt),t(It);var Et=s(It,2),Yt=s(l(Et),2);Ct(Yt,{get options(){return M},get selected(){return e(k)},placeholder:"Select categories...",onChange:i=>a(k,i,!0)}),t(Et);var Mt=s(Et,2),Zt=s(l(Mt),2);Ct(Zt,{get options(){return Q},get selected(){return e(V)},placeholder:"Select systems...",onChange:i=>a(V,i,!0)}),t(Mt);var es=s(Mt,2),hs=s(l(es),2);Ct(hs,{get options(){return te},get selected(){return e(K)},placeholder:"Select focus...",onChange:i=>a(K,i,!0)}),t(es),t(Bt),t(Me);var ts=s(Me,2),Pt=s(l(ts),2),vs=l(Pt),Wt=l(vs),ss=l(Wt),ys=l(ss);{var $t=i=>{var c=qa();r(i,c)};E(ys,i=>{e(W)&&i($t)})}ze(6),t(ss),t(Wt);var cs=s(Wt);fe(cs,21,()=>e(H),ge,(i,c,L)=>{var he=Oa(),be=l(he);{var lt=ye=>{var it=Ca(),zt=l(it);z(zt),t(it),zs(zt,()=>e(c).isSport,Ss=>e(c).isSport=Ss),r(ye,it)};E(be,ye=>{e(W)&&ye(lt)})}var dt=s(be),Ke=l(dt);z(Ke),t(dt);var je=s(dt),Xe=l(je);z(Xe);let Ot;var jt=s(Xe,2);{var Ut=ye=>{var it=Ta();r(ye,it)};E(jt,ye=>{G(e(c).grade)||ye(Ut)})}t(je);var Ht=s(je),rt=l(Ht);rt.__change=ye=>Be(L,ye.target.value),fe(rt,21,()=>S,ge,(ye,it)=>{var zt=Na(),Ss=l(zt,!0);t(zt);var Cs={};D(()=>{J(Ss,e(it)),Cs!==(Cs=e(it))&&(zt.value=(zt.__value=e(it))??"")}),r(ye,zt)}),t(rt);var as;ws(rt),t(Ht);var ls=s(Ht),rs=l(ls);z(rs),t(ls);var de=s(ls);let Pe;var Ye=l(de);Ts(Ye),t(de);var Kt=s(de),us=l(Kt);{var Vs=ye=>{var it=Fa();it.__click=()=>Le(L),r(ye,it)};E(us,ye=>{e(H).length>1&&ye(Vs)})}t(Kt),t(he),D(ye=>{Ot=Qe(Xe,1,"grade-input svelte-15o2ys1",null,Ot,ye),as!==(as=e(c).attemptType)&&(rt.value=(rt.__value=e(c).attemptType)??"",qs(rt,e(c).attemptType)),rs.disabled=e(c).attemptType==="Flash",Pe=Qe(de,1,"notes-cell svelte-15o2ys1",null,Pe,{expanded:e(w)===L})},[()=>({invalid:!G(e(c).grade)})]),R(Ke,()=>e(c).name,ye=>e(c).name=ye),R(Xe,()=>e(c).grade,ye=>e(c).grade=ye),R(rs,()=>e(c).attemptsNum,ye=>e(c).attemptsNum=ye),X("focus",Ye,()=>De(L)),X("blur",Ye,p),R(Ye,()=>e(c).notes,ye=>e(c).notes=ye),r(i,he)}),t(cs),t(vs),t(Pt);var ks=s(Pt,2);ks.__click=Fe,t(ts);var ds=s(ts,2),o=l(ds);{var h=i=>{var c=ja();let L;var he=l(c,!0);t(c),D(()=>{L=Qe(c,1,"save-message svelte-15o2ys1",null,L,{success:e(U)==="success",error:e(U)==="error"}),J(he,e(ue))}),r(i,c)};E(o,i=>{e(ue)&&i(h)})}var Z=s(o,2);Z.__click=ke;var Oe=l(Z);{var xe=i=>{var c=Ae("Saving...");r(i,c)},He=i=>{var c=ot(),L=et(c);{var he=lt=>{var dt=Ae("‚úì Saved!");r(lt,dt)},be=lt=>{var dt=Ae("Save Session");r(lt,dt)};E(L,lt=>{e(U)==="success"?lt(he):lt(be,!1)},!0)}r(i,c)};E(Oe,i=>{e(U)==="saving"?i(xe):i(He,!1)})}t(Z),t(ds),t(Te),D(()=>Z.disabled=e(U)==="saving"),R(we,()=>e(q),i=>a(q,i)),Je(Ie,()=>e(A),i=>a(A,i)),R(Tt,()=>e(g),i=>a(g,i)),Je(ft,()=>e(T),i=>a(T,i)),R(_t,()=>e(P),i=>a(P,i)),R(xt,()=>e($),i=>a($,i)),R($e,()=>e(m),i=>a(m,i)),R(At,()=>e(se),i=>a(se,i)),R(Vt,()=>e(I),i=>a(I,i)),R(Lt,()=>e(x),i=>a(x,i)),R(Ft,()=>e(C),i=>a(C,i)),R(Ue,()=>e(ee),i=>a(ee,i)),Je(Xt,()=>e(ie),i=>a(ie,i)),r(_e,Te),vt()}Jt(["click","change"]);var Va=v('<div><div class="col set-num svelte-ow8x7m"> </div> <div class="col prev svelte-ow8x7m"><!></div> <div class="col weight svelte-ow8x7m"><input type="number" class="svelte-ow8x7m"/></div> <div class="col reps svelte-ow8x7m"><input type="number" class="svelte-ow8x7m"/></div> <div class="col check svelte-ow8x7m"><button><!></button></div></div>');function La(_e,O){nt(O,!1);let b=st(O,"setNumber",8),B=st(O,"prevSet",8,null),S=st(O,"set",12);const u=os();function n(){S(S().completed=!S().completed,!0),u("change",S()),S().completed&&u("complete")}function M(m){u("focus",{field:m,value:S()[m],set:S()})}Qt();var Q=Va();let te;var F=l(Q),f=l(F,!0);t(F);var w=s(F,2),q=l(w);{var A=m=>{var se=Ae();D(()=>J(se,`${tt(B()),Ce(()=>B().weight)??""}kg x ${tt(B()),Ce(()=>B().reps)??""}`)),r(m,se)},y=m=>{var se=Ae("-");r(m,se)};E(q,m=>{B()?m(A):m(y,!1)})}t(w);var g=s(w,2),T=l(g);z(T),t(g);var ne=s(g,2),ie=l(ne);z(ie),t(ne);var k=s(ne,2),V=l(k);let K;var P=l(V);{var $=m=>{var se=Ae("‚úì");r(m,se)};E(P,m=>{tt(S()),Ce(()=>S().completed)&&m($)})}t(V),t(k),t(Q),D((m,se)=>{te=Qe(Q,1,"set-row svelte-ow8x7m",null,te,{completed:S().completed}),J(f,b()),ut(T,"placeholder",m),ut(ie,"placeholder",se),K=Qe(V,1,"check-btn svelte-ow8x7m",null,K,{checked:S().completed})},[()=>(tt(B()),Ce(()=>B()?B().weight.toString():"-")),()=>(tt(B()),Ce(()=>B()?B().reps.toString():"-"))]),R(T,()=>S().weight,m=>S(S().weight=m,!0)),X("focus",T,()=>M("weight")),R(ie,()=>S().reps,m=>S(S().reps=m,!0)),X("focus",ie,()=>M("reps")),X("click",V,n),r(_e,Q),vt()}var Ea=v('<div class="exercise-card svelte-1ni79z8"><div class="header svelte-1ni79z8"><h4 class="svelte-1ni79z8"> </h4> <div class="actions"><button class="icon-btn svelte-1ni79z8">?</button> <button class="icon-btn svelte-1ni79z8">üóëÔ∏è</button></div></div> <div class="table-header svelte-1ni79z8"><div class="col">Set</div> <div class="col">Previous</div> <div class="col">kg</div> <div class="col">Reps</div> <div class="col">‚úì</div></div> <div class="sets"></div> <button class="add-set-btn svelte-1ni79z8">+ Add Set</button></div>');function Da(_e,O){nt(O,!1);let b=st(O,"exercise",12);const B=os();function S(){const A=b().sets[b().sets.length-1],y={weight:A?A.weight:0,reps:A?A.reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1};b(b().sets=[...b().sets,y],!0)}Qt();var u=Ea(),n=l(u),M=l(n),Q=l(M,!0);t(M);var te=s(M,2),F=l(te),f=s(F,2);t(te),t(n);var w=s(n,4);fe(w,5,()=>(tt(b()),Ce(()=>b().sets)),ge,(A,y,g)=>{La(A,{setNumber:g+1,get set(){return(tt(b()),Ce(()=>b().sets))[g]},set set(T){(tt(b()),Ce(()=>b().sets))[g]=T,Fs(()=>b())},$$events:{complete(T){Gt.call(this,O,T)},focus(T){Gt.call(this,O,T)},change(T){Gt.call(this,O,T)}},$$legacy:!0})}),t(w);var q=s(w,2);t(u),D(()=>J(Q,(tt(b()),Ce(()=>b().name)))),X("click",F,()=>B("info",b())),X("click",f,()=>B("delete",b())),X("click",q,S),r(_e,u),vt()}var Ga=v('<div class="keypad svelte-1fay4f8"><div class="header svelte-1fay4f8"><span class="label svelte-1fay4f8"> </span> <div class="display svelte-1fay4f8" role="textbox" aria-readonly="true"> </div></div> <div class="quick-adds svelte-1fay4f8"><button class="svelte-1fay4f8">+2.5</button> <button class="svelte-1fay4f8">+5</button> <button class="svelte-1fay4f8">+10</button></div> <div class="grid svelte-1fay4f8"><button class="svelte-1fay4f8">1</button> <button class="svelte-1fay4f8">2</button> <button class="svelte-1fay4f8">3</button> <button class="svelte-1fay4f8">4</button> <button class="svelte-1fay4f8">5</button> <button class="svelte-1fay4f8">6</button> <button class="svelte-1fay4f8">7</button> <button class="svelte-1fay4f8">8</button> <button class="svelte-1fay4f8">9</button> <button class="action svelte-1fay4f8">C</button> <button class="svelte-1fay4f8">0</button> <button class="action svelte-1fay4f8">‚å´</button></div></div>');function Ra(_e,O){nt(O,!1);let b=st(O,"value",8,null),B=st(O,"label",8,"Value");const S=os();function u(re){const ve=b()?.toString()||"";if(ve.length>=5)return;const ce=parseFloat(ve+re.toString());S("change",ce)}function n(){S("change",0)}function M(){const re=b()?.toString()||"";if(re.length<=1){S("change",0);return}const ve=parseFloat(re.slice(0,-1));S("change",ve)}function Q(re){S("change",(b()||0)+re)}Qt();var te=Ga(),F=l(te),f=l(F),w=l(f,!0);t(f);var q=s(f,2),A=l(q,!0);t(q),t(F);var y=s(F,2),g=l(y),T=s(g,2),ne=s(T,2);t(y);var ie=s(y,2),k=l(ie),V=s(k,2),K=s(V,2),P=s(K,2),$=s(P,2),m=s($,2),se=s(m,2),I=s(se,2),x=s(I,2),C=s(x,2),ee=s(C,2),H=s(ee,2);t(ie),t(te),D(()=>{J(w,B()),ut(q,"aria-label",B()),J(A,b()||0)}),X("click",g,()=>Q(2.5)),X("click",T,()=>Q(5)),X("click",ne,()=>Q(10)),X("click",k,()=>u(1)),X("click",V,()=>u(2)),X("click",K,()=>u(3)),X("click",P,()=>u(4)),X("click",$,()=>u(5)),X("click",m,()=>u(6)),X("click",se,()=>u(7)),X("click",I,()=>u(8)),X("click",x,()=>u(9)),X("click",C,n),X("click",ee,()=>u(0)),X("click",H,M),r(_e,te),vt()}var Ba=v('<div class="rest-timer svelte-18i4gcv"><div class="timer-display svelte-18i4gcv"><span class="label svelte-18i4gcv">Rest</span> <span class="time svelte-18i4gcv"> </span></div> <div class="controls svelte-18i4gcv"><button class="svelte-18i4gcv">-30</button> <button class="svelte-18i4gcv">+30</button> <button class="skip svelte-18i4gcv">Skip</button></div></div>');function Ia(_e,O){nt(O,!1);const b=Ze(),B=Ze();let S=st(O,"duration",8,90),u=st(O,"onComplete",8,()=>{}),n=Ze(S()),M,Q=st(O,"visible",12,!0);function te(){clearInterval(M),a(n,S()),M=setInterval(()=>{Ds(n,-1),e(n)<=0&&(clearInterval(M),u()())},1e3)}function F(g){a(n,e(n)+g)}function f(g){e(n)>g&&a(n,e(n)-g)}function w(){Q(!1),clearInterval(M),u()()}Os(()=>{te()}),Es(()=>{clearInterval(M)}),xs(()=>e(n),()=>{a(b,Math.floor(e(n)/60))}),xs(()=>e(n),()=>{a(B,e(n)%60)}),js(),Qt();var q=ot(),A=et(q);{var y=g=>{var T=Ba(),ne=l(T),ie=s(l(ne),2),k=l(ie);t(ie),t(ne);var V=s(ne,2),K=l(V),P=s(K,2),$=s(P,2);t(V),t(T),D(m=>J(k,`${e(b)??""}:${m??""}`),[()=>(e(B),Ce(()=>e(B).toString().padStart(2,"0")))]),X("click",K,()=>f(30)),X("click",P,()=>F(30)),X("click",$,w),is(3,T,()=>fs,()=>({y:50,duration:300})),r(g,T)};E(A,g=>{Q()&&g(y)})}r(_e,q),vt()}var Ma=v("<li> </li>"),Pa=v('<div class="modal-overlay svelte-zbmy0k" role="button" tabindex="0" aria-label="Close modal"><div class="modal-content svelte-zbmy0k" role="dialog" aria-modal="true" tabindex="-1"><div class="header svelte-zbmy0k"><h3 class="svelte-zbmy0k"> </h3> <span class="category svelte-zbmy0k"> </span> <button class="close-btn svelte-zbmy0k" aria-label="Close">√ó</button></div> <div class="visual-placeholder svelte-zbmy0k"><span>Animation would play here</span> <div class="muscles svelte-zbmy0k"> </div></div> <div class="instructions svelte-zbmy0k"><h4>Instructions</h4> <ol class="svelte-zbmy0k"></ol></div></div></div>');function Wa(_e,O){nt(O,!1);let b=st(O,"exercise",8),B=st(O,"visible",8,!1);const S=os();function u(){S("close")}Qt();var n=ot(),M=et(n);{var Q=te=>{var F=Pa(),f=l(F),w=l(f),q=l(w),A=l(q,!0);t(q);var y=s(q,2),g=l(y,!0);t(y);var T=s(y,2);t(w);var ne=s(w,2),ie=s(l(ne),2),k=l(ie);t(ie),t(ne);var V=s(ne,2),K=s(l(V),2);fe(K,5,()=>(tt(b()),Ce(()=>b().instructions)),ge,(P,$)=>{var m=Ma(),se=l(m,!0);t(m),D(()=>J(se,e($))),r(P,m)}),t(K),t(V),t(f),t(F),D(P=>{J(A,(tt(b()),Ce(()=>b().name))),J(g,(tt(b()),Ce(()=>b().category))),J(k,`Targets: ${P??""}`)},[()=>(tt(b()),Ce(()=>b().targetMuscles.join(", ")))]),X("click",T,u),is(3,f,()=>fs,()=>({y:50,duration:300})),X("click",f,_s(function(P){Gt.call(this,O,P)})),X("keydown",f,_s(function(P){Gt.call(this,O,P)})),X("click",F,u),X("keydown",F,P=>P.key==="Escape"&&u()),r(te,F)};E(M,te=>{B()&&te(Q)})}r(_e,n),vt()}var $a=v('<button class="save-btn svelte-1w0zsmt">Finish Workout</button>'),Ua=v("<option> </option>"),Ha=v('<button class="exercise-item svelte-1w0zsmt"><span class="name svelte-1w0zsmt"> </span> <span class="muscles svelte-1w0zsmt"> </span></button>'),Ka=v('<div class="modal-overlay svelte-1w0zsmt" role="button" tabindex="0" aria-label="Close modal"><div class="picker-modal svelte-1w0zsmt" role="dialog" aria-modal="true" tabindex="-1"><div class="picker-header svelte-1w0zsmt"><h3>Add Exercise</h3> <div class="search-row svelte-1w0zsmt"><input type="text" placeholder="Search exercises..." class="svelte-1w0zsmt"/> <select class="svelte-1w0zsmt"><option>All Categories</option><!></select></div></div> <div class="picker-list svelte-1w0zsmt"></div></div></div>'),Ja=v('<div class="keypad-overlay svelte-1w0zsmt"><div class="keypad-header svelte-1w0zsmt"><span> </span> <button class="svelte-1w0zsmt">Done</button></div> <!></div>'),Qa=v('<div class="gym-session-form svelte-1w0zsmt"><div class="session-meta svelte-1w0zsmt"><input type="text" class="session-name svelte-1w0zsmt" placeholder="Workout Name (e.g. Pull Day)"/> <div class="meta-row svelte-1w0zsmt"><label class="svelte-1w0zsmt">Start Time <input type="datetime-local" disabled class="svelte-1w0zsmt"/></label> <label class="svelte-1w0zsmt">Bodyweight (kg) <input type="number" placeholder="Optional" class="svelte-1w0zsmt"/></label></div></div> <div class="exercises-list"></div> <button class="add-exercise-btn svelte-1w0zsmt">+ Add Exercise</button> <!> <!> <!> <!> <!></div>');function Xa(_e,O){nt(O,!1);const b=Ze(),B=os();let S=Ze(""),u=Ze(),n=Ze([]),M=new Date().toISOString(),Q=Ze(!1),te=Ze(""),F=Ze(""),f=Ze(null),w=Ze(!1),q=Ze(null);const A=Array.from(new Set(ps.map(p=>p.category))).sort();function y(p){const W={id:crypto.randomUUID(),name:p.name,sets:[{weight:0,reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1}]};a(n,[...e(n),W]),a(Q,!1),a(te,""),a(F,"")}function g(p,W,Y){a(f,{exerciseIndex:W,setIndex:Y,field:p.detail.field})}function T(p){if(!e(f))return;const{exerciseIndex:W,setIndex:Y,field:G}=e(f);Rs(n,e(n)[W].sets[Y][G]=p.detail),a(n,[...e(n)])}function ne(){a(w,!0)}function ie(){e(n).length!==0&&(Ms({date:M.split("T")[0],name:e(S)||"Gym Workout",bodyweight:e(u),exercises:e(n)}),B("save"))}function k(){a(f,null)}xs(()=>(e(te),e(F)),()=>{a(b,ps.filter(p=>{const W=p.name.toLowerCase().includes(e(te).toLowerCase())||p.targetMuscles.some(G=>G.toLowerCase().includes(e(te).toLowerCase())),Y=e(F)?p.category===e(F):!0;return W&&Y}))}),js(),Qt();var V=Qa(),K=l(V),P=l(K);z(P);var $=s(P,2),m=l($),se=s(l(m));z(se),t(m);var I=s(m,2),x=s(l(I));z(x),t(I),t($),t(K);var C=s(K,2);fe(C,5,()=>e(n),ge,(p,W,Y)=>{Da(p,{get exercise(){return e(W)},$$events:{focus:G=>g(G,Y,e(n)[Y].sets.indexOf(G.detail.set)),complete:ne,delete:[()=>{a(n,e(n).filter((G,U)=>U!==Y))},()=>{a(n,e(n).filter((G,U)=>U!==Y))}],info:[()=>{const G=ps.find(U=>U.name===e(W).name);G&&a(q,G)},()=>{const G=ps.find(U=>U.name===e(W).name);G&&a(q,G)}]}})}),t(C);var ee=s(C,2),H=s(ee,2);{var re=p=>{var W=$a();X("click",W,ie),r(p,W)};E(H,p=>{e(n),Ce(()=>e(n).length>0)&&p(re)})}var ve=s(H,2);{var ce=p=>{var W=Ka(),Y=l(W),G=l(Y),U=s(l(G),2),ue=l(U);z(ue);var me=s(ue,2);D(()=>{e(F),Fs(()=>{})});var ke=l(me);ke.value=ke.__value="";var pe=s(ke);fe(pe,1,()=>A,ge,(oe,Se)=>{var we=Ua(),Ge=l(we,!0);t(we);var Ie={};D(()=>{J(Ge,e(Se)),Ie!==(Ie=e(Se))&&(we.value=(we.__value=e(Se))??"")}),r(oe,we)}),t(me),t(U),t(G);var Te=s(G,2);fe(Te,5,()=>e(b),ge,(oe,Se)=>{var we=Ha(),Ge=l(we),Ie=l(Ge,!0);t(Ge);var _=s(Ge,2),N=l(_,!0);t(_),t(we),D(j=>{J(Ie,(e(Se),Ce(()=>e(Se).name))),J(N,j)},[()=>(e(Se),Ce(()=>e(Se).targetMuscles.join(", ")))]),X("click",we,()=>y(e(Se))),r(oe,we)}),t(Te),t(Y),t(W),R(ue,()=>e(te),oe=>a(te,oe)),Je(me,()=>e(F),oe=>a(F,oe)),X("click",Y,_s(function(oe){Gt.call(this,O,oe)})),X("keydown",Y,_s(function(oe){Gt.call(this,O,oe)})),is(3,Y,()=>fs,()=>({y:100,duration:300})),X("click",W,()=>a(Q,!1)),X("keydown",W,oe=>oe.key==="Escape"&&a(Q,!1)),is(3,W,()=>Js),r(p,W)};E(ve,p=>{e(Q)&&p(ce)})}var ae=s(ve,2);{var Fe=p=>{Wa(p,{get exercise(){return e(q)},visible:!0,$$events:{close:()=>a(q,null)}})};E(ae,p=>{e(q)&&p(Fe)})}var Le=s(ae,2);{var Be=p=>{var W=Ja(),Y=l(W),G=l(Y),U=l(G);t(G);var ue=s(G,2);t(Y);var me=s(Y,2);{let ke=Gs(()=>(e(f),Ce(()=>e(f).field==="weight"?"Weight (kg)":"Reps")));Ra(me,{get value(){return e(n),e(f),Ce(()=>e(n)[e(f).exerciseIndex].sets[e(f).setIndex][e(f).field])},get label(){return e(ke)},$$events:{change:T}})}t(W),D(()=>J(U,`Editing ${e(n),e(f),Ce(()=>e(n)[e(f).exerciseIndex].name)??""} - Set ${e(f),Ce(()=>e(f).setIndex+1)??""}`)),X("click",ue,k),is(3,W,()=>fs,()=>({y:200,duration:300})),r(p,W)};E(Le,p=>{e(f)&&p(Be)})}var De=s(Le,2);Ia(De,{get visible(){return e(w)},set visible(p){a(w,p)},$$legacy:!0}),t(V),D(p=>As(se,p),[()=>Ce(()=>M.slice(0,16))]),R(P,()=>e(S),p=>a(S,p)),R(x,()=>e(u),p=>a(u,p)),X("click",ee,()=>a(Q,!0)),r(_e,V),vt()}var Ya=v("<option> </option>"),Za=v("<option> </option>"),el=v('<button class="remove-set-btn svelte-1m63nqt">‚úï</button>'),tl=v('<div class="set-row svelte-1m63nqt"><div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Weight</label> <input type="number" placeholder="0" class="svelte-1m63nqt"/></div> <div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Reps/Secs</label> <input type="number" placeholder="1" class="svelte-1m63nqt"/></div> <!></div>'),sl=v('<div class="exercise-card svelte-1m63nqt"><div class="card-header svelte-1m63nqt"><div class="header-inputs svelte-1m63nqt"><select class="svelte-1m63nqt"></select> <select class="svelte-1m63nqt"></select></div> <button class="remove-card-btn svelte-1m63nqt" title="Remove Exercise">‚úï</button></div> <div class="sets-list svelte-1m63nqt"><!> <button class="add-set-btn svelte-1m63nqt">+ Add Set</button></div> <div class="card-footer svelte-1m63nqt"><div class="meta-input svelte-1m63nqt"><label class="svelte-1m63nqt">Total Sets</label> <input type="number" readonly="" disabled class="svelte-1m63nqt"/></div> <div class="notes-input svelte-1m63nqt"><label class="svelte-1m63nqt">Notes</label> <input type="text" placeholder="Notes..." class="svelte-1m63nqt"/></div></div></div>'),al=v("<div> </div>"),ll=v('<div class="form-content svelte-1m63nqt"><div class="header-row svelte-1m63nqt"><h3 class="svelte-1m63nqt">ü§è Fingerboarding</h3> <button class="add-row-btn svelte-1m63nqt">+ Add Exercise</button></div> <div class="form-group date-group svelte-1m63nqt"><label for="date">Date</label> <input type="date" id="date" class="svelte-1m63nqt"/></div> <div class="cards-container svelte-1m63nqt"></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1m63nqt"><!></button></div></div>');function rl(_e,O){nt(O,!0);const b=["Max hangs","Recruitment pulls","Max pick-ups"],B=["Full-crimp","Half-crimp","Three finger drag","Pinch","Open hand","Sloper"];let S=d(Ee(new Date().toISOString().split("T")[0])),u=d(Ee([]));function n(){a(u,[...e(u),{id:crypto.randomUUID(),name:b[0],gripType:B[1],sets:1,details:[{weight:0,reps:5}],notes:""}],!0)}Ns(()=>{e(u).length===0&&n()});function M(I){a(u,e(u).filter((x,C)=>C!==I),!0)}function Q(I){const x=e(u)[I],C=x.details[x.details.length-1];x.details=[...x.details,{...C}],x.sets=x.details.length}function te(I,x){const C=e(u)[I];C.details.length>1&&(C.details=C.details.filter((ee,H)=>H!==x),C.sets=C.details.length)}let F=d("idle"),f=d("");async function w(){a(F,"saving");try{const I={date:e(S),location:"N/A",exercises:JSON.parse(JSON.stringify(e(u)))},x=Ps(I);if(ns()){const C=await Qs(I);C.ok?(ms(x.id),a(F,"success"),a(f,"Session saved and synced!")):(bs(x.id),a(F,"success"),a(f,"Saved locally. Sync failed: "+(C.error||"Unknown error")))}else a(F,"success"),a(f,"Saved locally. Will sync when online.");window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{q()},2e3)}catch(I){a(F,"error"),a(f,"Failed to save session"),console.error("Save error:",I)}}function q(){a(S,new Date().toISOString().split("T")[0],!0),a(u,[],!0),n(),a(F,"idle"),a(f,"")}var A=ll(),y=l(A),g=s(l(y),2);g.__click=n,t(y);var T=s(y,2),ne=s(l(T),2);z(ne),t(T);var ie=s(T,2);fe(ie,21,()=>e(u),ge,(I,x,C)=>{var ee=sl(),H=l(ee),re=l(H),ve=l(re);fe(ve,21,()=>b,ge,(me,ke)=>{var pe=Ya(),Te=l(pe,!0);t(pe);var oe={};D(()=>{J(Te,e(ke)),oe!==(oe=e(ke))&&(pe.value=(pe.__value=e(ke))??"")}),r(me,pe)}),t(ve);var ce=s(ve,2);fe(ce,21,()=>B,ge,(me,ke)=>{var pe=Za(),Te=l(pe,!0);t(pe);var oe={};D(()=>{J(Te,e(ke)),oe!==(oe=e(ke))&&(pe.value=(pe.__value=e(ke))??"")}),r(me,pe)}),t(ce),t(re);var ae=s(re,2);ae.__click=()=>M(C),t(H);var Fe=s(H,2),Le=l(Fe);fe(Le,17,()=>e(x).details,ge,(me,ke,pe)=>{var Te=tl(),oe=l(Te),Se=l(oe);ut(Se,"for",`weight-${C}-${pe}`);var we=s(Se,2);z(we),ut(we,"id",`weight-${C}-${pe}`),t(oe);var Ge=s(oe,2),Ie=l(Ge);ut(Ie,"for",`reps-${C}-${pe}`);var _=s(Ie,2);z(_),ut(_,"id",`reps-${C}-${pe}`),t(Ge);var N=s(Ge,2);{var j=le=>{var qe=el();qe.__click=()=>te(C,pe),r(le,qe)};E(N,le=>{e(x).details.length>1&&le(j)})}t(Te),R(we,()=>e(ke).weight,le=>e(ke).weight=le),R(_,()=>e(ke).reps,le=>e(ke).reps=le),r(me,Te)});var Be=s(Le,2);Be.__click=()=>Q(C),t(Fe);var De=s(Fe,2),p=l(De),W=l(p);ut(W,"for",`total-sets-${C}`);var Y=s(W,2);z(Y),ut(Y,"id",`total-sets-${C}`),t(p);var G=s(p,2),U=l(G);ut(U,"for",`notes-${C}`);var ue=s(U,2);z(ue),ut(ue,"id",`notes-${C}`),t(G),t(De),t(ee),D(()=>As(Y,e(x).sets)),Je(ve,()=>e(x).name,me=>e(x).name=me),Je(ce,()=>e(x).gripType,me=>e(x).gripType=me),R(ue,()=>e(x).notes,me=>e(x).notes=me),r(I,ee)}),t(ie);var k=s(ie,2),V=l(k);{var K=I=>{var x=al();let C;var ee=l(x,!0);t(x),D(()=>{C=Qe(x,1,"save-message svelte-1m63nqt",null,C,{success:e(F)==="success",error:e(F)==="error"}),J(ee,e(f))}),r(I,x)};E(V,I=>{e(f)&&I(K)})}var P=s(V,2);P.__click=w;var $=l(P);{var m=I=>{var x=Ae("Saving...");r(I,x)},se=I=>{var x=ot(),C=et(x);{var ee=re=>{var ve=Ae("‚úì Saved!");r(re,ve)},H=re=>{var ve=Ae("Save Session");r(re,ve)};E(C,re=>{e(F)==="success"?re(ee):re(H,!1)},!0)}r(I,x)};E($,I=>{e(F)==="saving"?I(m):I(se,!1)})}t(P),t(k),t(A),D(()=>P.disabled=e(F)==="saving"),R(ne,()=>e(S),I=>a(S,I)),r(_e,A),vt()}Jt(["click"]);var il=v("<option> </option>"),ol=v('<input type="text" placeholder="Enter venue name" class="mt-2 svelte-1fje4dh"/>'),nl=v("<option> </option>"),vl=v("<option> </option>"),cl=v('<input type="text" placeholder="Round name" class="mt-2 svelte-1fje4dh"/>'),dl=v('<div class="result-mode-content svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="position" class="svelte-1fje4dh">Final Position</label> <input type="number" id="position" placeholder="#" class="large-input svelte-1fje4dh"/></div></div>'),ul=v("<option> </option>"),pl=v('<input type="number" min="1" class="svelte-1fje4dh"/>'),fl=v('<span class="flash-dash">-</span>'),_l=v('<tr><td class="col-name svelte-1fje4dh"><input type="text" class="svelte-1fje4dh"/></td><td class="col-status svelte-1fje4dh"><select class="svelte-1fje4dh"></select></td><td class="col-attempt svelte-1fje4dh"><!></td><td class="col-notes svelte-1fje4dh"><input type="text" placeholder="..." class="svelte-1fje4dh"/></td><td class="col-action svelte-1fje4dh"><button class="svelte-1fje4dh">‚úï</button></td></tr>'),ml=v('<div class="load-metrics-compact svelte-1fje4dh"><div class="metric svelte-1fje4dh"><label for="finger">Finger Load</label> <input type="number" id="finger" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div> <div class="metric svelte-1fje4dh"><label for="shoulder">Shoulder Load</label> <input type="number" id="shoulder" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div> <div class="metric svelte-1fje4dh"><label for="forearm">Forearm Load</label> <input type="number" id="forearm" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div></div> <div class="climbs-table-container svelte-1fje4dh"><div class="section-header svelte-1fje4dh"><h4 class="svelte-1fje4dh">Boulders / Routes</h4></div> <table class="climbs-table svelte-1fje4dh"><thead><tr><th class="svelte-1fje4dh">#</th><th class="svelte-1fje4dh">Result</th><th class="svelte-1fje4dh">Att.</th><th class="svelte-1fje4dh">Notes</th><th class="svelte-1fje4dh"></th></tr></thead><tbody></tbody></table> <button class="add-row-btn svelte-1fje4dh">+ Add Row</button></div>',1),bl=v("<div> </div>"),gl=v('<div class="form-content svelte-1fje4dh"><h3 class="svelte-1fje4dh">üèÜ Competition</h3> <div class="form-grid svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="date" class="svelte-1fje4dh">Date</label> <input type="date" id="date" class="svelte-1fje4dh"/></div> <div class="form-group svelte-1fje4dh"><label for="venue" class="svelte-1fje4dh">Venue</label> <select id="venue" class="svelte-1fje4dh"><option disabled>Select venue...</option><!></select> <!></div></div> <div class="form-group mb-4 svelte-1fje4dh"><label for="type" class="svelte-1fje4dh">Type</label> <select id="type" class="svelte-1fje4dh"></select></div> <div class="round-section svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="round" class="svelte-1fje4dh">Round</label> <select id="round" class="svelte-1fje4dh"></select> <!></div> <!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1fje4dh"><!></button></div></div>');function hl(_e,O){nt(O,!0);const b=["Flashpoint Bristol","Rockstar Techno","Rockstar Unit 3","Rockstar Unit 5","Bloc","TCA","Other"],B=["Bouldering","Lead","Speed"],S=["Qualifiers","Semi-Finals","Finals","Result","Other"],u=["Flash","Top","Zone","Attempt"];let n=d(Ee(new Date().toISOString().split("T")[0])),M=d(""),Q=d(""),te=d("Bouldering"),F=d(4),f=d(4),w=d(4),q=d("Qualifiers"),A=d(""),y=d(null),g=d(Ee([{name:"#1",status:"Flash",attemptCount:1,notes:""}])),T=Dt(()=>e(q)==="Result"),ne=Dt(()=>e(M)==="Other"),ie=Dt(()=>e(q)==="Other"),k=Dt(()=>e(q)==="Other"?e(A):e(q));function V(){const _=e(g).length+1;a(g,[...e(g),{name:`#${_}`,status:"Flash",attemptCount:1,notes:""}],!0)}function K(_){e(g).length>1?a(g,e(g).filter((N,j)=>j!==_),!0):e(g)[0]={name:"#1",status:"Flash",attemptCount:1,notes:""}}function P(_,N){e(g)[_].status=N,N==="Flash"&&(e(g)[_].attemptCount=1)}let $=d("idle"),m=d("");async function se(){if(!e(M)||e(M)==="Other"&&!e(Q)){a($,"error"),a(m,"Please specify a venue");return}a($,"saving");try{const _={name:e(k),position:e(T)?e(y):void 0,climbs:e(T)?void 0:JSON.parse(JSON.stringify(e(g)))},N={date:e(n),venue:e(M)==="Other"?e(Q):e(M),customVenue:e(M)==="Other"?e(Q):void 0,type:e(te),fingerLoad:e(T)?void 0:e(F),shoulderLoad:e(T)?void 0:e(f),forearmLoad:e(T)?void 0:e(w),rounds:[_]},j=Ws(N);if(ns()){const le=await Xs(N);le.ok?(ms(j.id),a($,"success"),a(m,"Competition saved and synced!")):(bs(j.id),a($,"success"),a(m,"Saved locally. Sync failed: "+(le.error||"Unknown error")))}else a($,"success"),a(m,"Saved locally. Will sync when online.");window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{I()},2e3)}catch(_){a($,"error"),a(m,"Failed to save session"),console.error("Save error:",_)}}function I(){a(n,new Date().toISOString().split("T")[0],!0),a(M,""),a(Q,""),a(y,null),a(g,[{name:"#1",status:"Flash",attemptCount:1,notes:""}],!0),a($,"idle"),a(m,"")}var x=gl(),C=s(l(x),2),ee=l(C),H=s(l(ee),2);z(H),t(ee);var re=s(ee,2),ve=s(l(re),2),ce=l(ve);ce.value=ce.__value="";var ae=s(ce);fe(ae,17,()=>b,ge,(_,N)=>{var j=il(),le=l(j,!0);t(j);var qe={};D(()=>{J(le,e(N)),qe!==(qe=e(N))&&(j.value=(j.__value=e(N))??"")}),r(_,j)}),t(ve);var Fe=s(ve,2);{var Le=_=>{var N=ol();z(N),R(N,()=>e(Q),j=>a(Q,j)),r(_,N)};E(Fe,_=>{e(ne)&&_(Le)})}t(re),t(C);var Be=s(C,2),De=s(l(Be),2);fe(De,21,()=>B,ge,(_,N)=>{var j=nl(),le=l(j,!0);t(j);var qe={};D(()=>{J(le,e(N)),qe!==(qe=e(N))&&(j.value=(j.__value=e(N))??"")}),r(_,j)}),t(De),t(Be);var p=s(Be,2),W=l(p),Y=s(l(W),2);fe(Y,21,()=>S,ge,(_,N)=>{var j=vl(),le=l(j,!0);t(j);var qe={};D(()=>{J(le,e(N)),qe!==(qe=e(N))&&(j.value=(j.__value=e(N))??"")}),r(_,j)}),t(Y);var G=s(Y,2);{var U=_=>{var N=cl();z(N),R(N,()=>e(A),j=>a(A,j)),r(_,N)};E(G,_=>{e(ie)&&_(U)})}t(W);var ue=s(W,2);{var me=_=>{var N=dl(),j=l(N),le=s(l(j),2);z(le),t(j),t(N),R(le,()=>e(y),qe=>a(y,qe)),r(_,N)},ke=_=>{var N=ml(),j=et(N),le=l(j),qe=s(l(le),2);z(qe),t(le);var Re=s(le,2),at=s(l(Re),2);z(at),t(Re);var yt=s(Re,2),Tt=s(l(yt),2);z(Tt),t(yt),t(j);var pt=s(j,2),ft=s(l(pt),2),kt=s(l(ft));fe(kt,21,()=>e(g),ge,(We,Ve,St)=>{var _t=_l(),mt=l(_t),xt=l(mt);z(xt),t(mt);var wt=s(mt),$e=l(wt);$e.__change=Ne=>P(St,Ne.target.value),fe($e,21,()=>u,ge,(Ne,Ue)=>{var Me=ul(),Bt=l(Me,!0);t(Me);var ht={};D(()=>{J(Bt,e(Ue)),ht!==(ht=e(Ue))&&(Me.value=(Me.__value=e(Ue))??"")}),r(Ne,Me)}),t($e);var Nt;ws($e),t(wt);var bt=s(wt),At=l(bt);{var qt=Ne=>{var Ue=pl();z(Ue),R(Ue,()=>e(Ve).attemptCount,Me=>e(Ve).attemptCount=Me),r(Ne,Ue)},Vt=Ne=>{var Ue=fl();r(Ne,Ue)};E(At,Ne=>{e(Ve).status!=="Flash"?Ne(qt):Ne(Vt,!1)})}t(bt);var ct=s(bt),Lt=l(ct);z(Lt),t(ct);var gt=s(ct),Ft=l(gt);Ft.__click=()=>K(St),t(gt),t(_t),D(()=>{Nt!==(Nt=e(Ve).status)&&($e.value=($e.__value=e(Ve).status)??"",qs($e,e(Ve).status))}),R(xt,()=>e(Ve).name,Ne=>e(Ve).name=Ne),R(Lt,()=>e(Ve).notes,Ne=>e(Ve).notes=Ne),r(We,_t)}),t(kt),t(ft);var Rt=s(ft,2);Rt.__click=V,t(pt),R(qe,()=>e(F),We=>a(F,We)),R(at,()=>e(f),We=>a(f,We)),R(Tt,()=>e(w),We=>a(w,We)),r(_,N)};E(ue,_=>{e(T)?_(me):_(ke,!1)})}t(p);var pe=s(p,2),Te=l(pe);{var oe=_=>{var N=bl();let j;var le=l(N,!0);t(N),D(()=>{j=Qe(N,1,"save-message svelte-1fje4dh",null,j,{success:e($)==="success",error:e($)==="error"}),J(le,e(m))}),r(_,N)};E(Te,_=>{e(m)&&_(oe)})}var Se=s(Te,2);Se.__click=se;var we=l(Se);{var Ge=_=>{var N=Ae("Saving...");r(_,N)},Ie=_=>{var N=ot(),j=et(N);{var le=Re=>{var at=Ae("‚úì Saved!");r(Re,at)},qe=Re=>{var at=Ae("Save Session");r(Re,at)};E(j,Re=>{e($)==="success"?Re(le):Re(qe,!1)},!0)}r(_,N)};E(we,_=>{e($)==="saving"?_(Ge):_(Ie,!1)})}t(Se),t(pe),t(x),D(()=>Se.disabled=e($)==="saving"),R(H,()=>e(n),_=>a(n,_)),Je(ve,()=>e(M),_=>a(M,_)),Je(De,()=>e(te),_=>a(te,_)),Je(Y,()=>e(q),_=>a(q,_)),r(_e,x),vt()}Jt(["change","click"]);var yl=v('<span class="spinner svelte-b2zgdd"></span> Syncing...',1),kl=v("<button><!></button>"),Sl=v("<div> </div>"),xl=v('<div><div class="sync-info svelte-b2zgdd"><span class="sync-icon svelte-b2zgdd"> </span> <span class="sync-text svelte-b2zgdd"><!></span></div> <!> <!></div>'),wl=v("<option> </option>"),ql=v('<div class="form-container svelte-b2zgdd"><!></div>'),Cl=v('<div class="page svelte-b2zgdd"><div class="page-header svelte-b2zgdd"><h1 class="svelte-b2zgdd">üìù Log Data</h1> <p class="subtitle svelte-b2zgdd">Record your training sessions</p></div> <!> <div class="content-card svelte-b2zgdd"><div class="form-group svelte-b2zgdd"><label for="activity-type" class="svelte-b2zgdd">Activity Type</label> <select id="activity-type" class="svelte-b2zgdd"><option disabled>Select an activity...</option><!></select></div> <!></div></div>');function Dl(_e,O){nt(O,!0);const b=[{value:"indoor_climb",label:"Indoor Climb",icon:"üßó"},{value:"outdoor_climb",label:"Outdoor Climb",icon:"‚õ∞Ô∏è"},{value:"gym_session",label:"Gym Session",icon:"üèãÔ∏è"},{value:"fingerboarding",label:"Fingerboarding",icon:"ü§è"},{value:"competition",label:"Competition",icon:"üèÜ"}];let B=d(""),S=d(0),u=d("idle"),n=d(""),M=d(!0);Os(()=>{Q(),a(M,ns(),!0);const k=()=>{a(M,!0),Q()},V=()=>{a(M,!1)},K=()=>{Q()};return window.addEventListener("online",k),window.addEventListener("offline",V),window.addEventListener("session-saved",K),()=>{window.removeEventListener("online",k),window.removeEventListener("offline",V),window.removeEventListener("session-saved",K)}});function Q(){a(S,Ys(),!0)}async function te(){if(!e(M)){a(u,"error"),a(n,"No network connection");return}a(u,"syncing"),a(n,"");try{const k=await Zs();k.failed===0&&k.success>0?(a(u,"success"),a(n,`Synced ${k.success} session${k.success>1?"s":""}!`)):k.failed>0&&k.success>0?(a(u,"error"),a(n,`Synced ${k.success}, failed ${k.failed}`)):k.failed>0?(a(u,"error"),a(n,`Failed to sync ${k.failed} session${k.failed>1?"s":""}`)):(a(u,"idle"),a(n,"")),Q(),e(u)==="success"&&setTimeout(()=>{a(u,"idle"),a(n,"")},3e3)}catch(k){a(u,"error"),a(n,"Sync failed"),console.error("Sync error:",k)}}var F=Cl(),f=s(l(F),2);{var w=k=>{var V=xl();let K;var P=l(V),$=l(P),m=l($,!0);t($);var se=s($,2),I=l(se);{var x=ce=>{var ae=Ae();D(()=>J(ae,`${e(S)??""} session${e(S)>1?"s":""} waiting to sync`)),r(ce,ae)},C=ce=>{var ae=Ae();D(()=>J(ae,`Offline - ${e(S)??""} session${e(S)>1?"s":""} saved locally`)),r(ce,ae)};E(I,ce=>{e(M)?ce(x):ce(C,!1)})}t(se),t(P);var ee=s(P,2);{var H=ce=>{var ae=kl();let Fe;ae.__click=te;var Le=l(ae);{var Be=p=>{var W=yl();ze(),r(p,W)},De=p=>{var W=ot(),Y=et(W);{var G=ue=>{var me=Ae("‚úì Synced!");r(ue,me)},U=ue=>{var me=Ae("Sync Now");r(ue,me)};E(Y,ue=>{e(u)==="success"?ue(G):ue(U,!1)},!0)}r(p,W)};E(Le,p=>{e(u)==="syncing"?p(Be):p(De,!1)})}t(ae),D(()=>{Fe=Qe(ae,1,"sync-btn svelte-b2zgdd",null,Fe,{syncing:e(u)==="syncing"}),ae.disabled=e(u)==="syncing"}),r(ce,ae)};E(ee,ce=>{e(M)&&ce(H)})}var re=s(ee,2);{var ve=ce=>{var ae=Sl();let Fe;var Le=l(ae,!0);t(ae),D(()=>{Fe=Qe(ae,1,"sync-message svelte-b2zgdd",null,Fe,{error:e(u)==="error",success:e(u)==="success"}),J(Le,e(n))}),r(ce,ae)};E(re,ce=>{e(n)&&ce(ve)})}t(V),D(()=>{K=Qe(V,1,"sync-banner svelte-b2zgdd",null,K,{offline:!e(M)}),J(m,e(M)?"üîÑ":"üì¥")}),r(k,V)};E(f,k=>{e(S)>0&&k(w)})}var q=s(f,2),A=l(q),y=s(l(A),2),g=l(y);g.value=g.__value="";var T=s(g);fe(T,17,()=>b,k=>k.value,(k,V)=>{var K=wl(),P=l(K);t(K);var $={};D(()=>{J(P,`${e(V).icon??""} ${e(V).label??""}`),$!==($=e(V).value)&&(K.value=(K.__value=e(V).value)??"")}),r(k,K)}),t(y),t(A);var ne=s(A,2);{var ie=k=>{var V=ql(),K=l(V);{var P=m=>{ba(m,{})},$=m=>{var se=ot(),I=et(se);{var x=ee=>{Aa(ee,{})},C=ee=>{var H=ot(),re=et(H);{var ve=ae=>{Xa(ae,{})},ce=ae=>{var Fe=ot(),Le=et(Fe);{var Be=p=>{rl(p,{})},De=p=>{var W=ot(),Y=et(W);{var G=U=>{hl(U,{})};E(Y,U=>{e(B)==="competition"&&U(G)},!0)}r(p,W)};E(Le,p=>{e(B)==="fingerboarding"?p(Be):p(De,!1)},!0)}r(ae,Fe)};E(re,ae=>{e(B)==="gym_session"?ae(ve):ae(ce,!1)},!0)}r(ee,H)};E(I,ee=>{e(B)==="outdoor_climb"?ee(x):ee(C,!1)},!0)}r(m,se)};E(K,m=>{e(B)==="indoor_climb"?m(P):m($,!1)})}t(V),r(k,V)};E(ne,k=>{e(B)&&k(ie)})}t(q),t(F),Je(y,()=>e(B),k=>a(B,k)),r(_e,F),vt()}Jt(["click"]);export{Dl as component};
