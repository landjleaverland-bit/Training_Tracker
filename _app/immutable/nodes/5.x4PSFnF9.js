import{f as v,a as i,c as Xe,t as va}from"../chunks/1MKRzYm0.js";import{z as Ra,U as Ba,aZ as Ma,a2 as Ga,a5 as Pa,e as Va,a_ as Wa,av as Aa,a$ as Ua,af as Ha,b0 as ha,M as za,p as Ke,c as t,s as r,i as e,aV as G,r as a,t as C,a as Ye,x as n,f as ze,aW as ra,w as $e,ao as ma}from"../chunks/CLLqIroS.js";import{a as Za,d as Ue,s as o}from"../chunks/DNMmjSzU.js";import{i as h}from"../chunks/CFKLpgVY.js";import{t as Ka,s as ke,r as Ve,e as De,i as Oe,b as We,a as Ee}from"../chunks/DOOWFRz1.js";import{b as pa,r as wa,u as Ea,t as xa,q as Da,v as Ya,w as Sa,g as Ja,j as Qa,x as Xa,y as Ta,z as $a,A as Fa,B as et}from"../chunks/_foXzoWf.js";import{o as Oa}from"../chunks/b6ntCrib.js";import{p as ya}from"../chunks/pRblHy0t.js";import"../chunks/X8RR7YZ-.js";const at=()=>performance.now(),sa={tick:y=>requestAnimationFrame(y),now:()=>at(),tasks:new Set};function ja(){const y=sa.now();sa.tasks.forEach(s=>{s.c(y)||(sa.tasks.delete(s),s.f())}),sa.tasks.size!==0&&sa.tick(ja)}function tt(y){let s;return sa.tasks.size===0&&sa.tick(ja),{promise:new Promise(f=>{sa.tasks.add(s={c:y,f})}),abort(){sa.tasks.delete(s)}}}function ba(y,s){Aa(()=>{y.dispatchEvent(new CustomEvent(s))})}function st(y){if(y==="float")return"cssFloat";if(y==="offset")return"cssOffset";if(y.startsWith("--"))return y;const s=y.split("-");return s.length===1?s[0]:s[0]+s.slice(1).map(f=>f[0].toUpperCase()+f.slice(1)).join("")}function La(y){const s={},f=y.split(";");for(const u of f){const[g,m]=u.split(":");if(!g||m===void 0)break;const c=st(g.trim());s[c]=m.trim()}return s}const rt=y=>y;function Re(y,s,f,u){var g=(y&Wa)!==0,m="both",c,w=s.inert,I=s.style.overflow,D,L;function S(){return Aa(()=>c??=f()(s,u?.()??{},{direction:m}))}var k={is_global:g,in(){s.inert=w,ba(s,"introstart"),D=Ca(s,S(),L,1,()=>{ba(s,"introend"),D?.abort(),D=c=void 0,s.style.overflow=I})},out(B){s.inert=!0,ba(s,"outrostart"),L=Ca(s,S(),D,0,()=>{ba(s,"outroend"),B?.()})},stop:()=>{D?.abort(),L?.abort()}},T=Ra;if((T.nodes.t??=[]).push(k),Za){var q=g;if(!q){for(var z=T.parent;z&&(z.f&Ba)!==0;)for(;(z=z.parent)&&(z.f&Ma)===0;);q=!z||(z.f&Ga)!==0}q&&Pa(()=>{Va(()=>k.in())})}}function Ca(y,s,f,u,g){var m=u===1;if(Ua(s)){var c,w=!1;return Ha(()=>{if(!w){var B=s({direction:m?"in":"out"});c=Ca(y,B,f,u,g)}}),{abort:()=>{w=!0,c?.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(f?.deactivate(),!s?.duration)return g(),{abort:ha,deactivate:ha,reset:ha,t:()=>u};const{delay:I=0,css:D,tick:L,easing:S=rt}=s;var k=[];if(m&&f===void 0&&(L&&L(0,1),D)){var T=La(D(0,1));k.push(T,T)}var q=()=>1-u,z=y.animate(k,{duration:I,fill:"forwards"});return z.onfinish=()=>{z.cancel();var B=f?.t()??1-u;f?.abort();var P=u-B,R=s.duration*Math.abs(P),ve=[];if(R>0){var K=!1;if(D)for(var O=Math.ceil(R/16.666666666666668),p=0;p<=O;p+=1){var A=B+P*S(p/O),V=La(D(A,1-A));ve.push(V),K||=V.overflow==="hidden"}K&&(y.style.overflow="hidden"),q=()=>{var U=z.currentTime;return B+P*S(U/R)},L&&tt(()=>{if(z.playState!=="running")return!1;var U=q();return L(U,1-U),!0})}z=y.animate(ve,{duration:R,fill:"forwards"}),z.onfinish=()=>{q=()=>u,L?.(u,1-u),g()}},{abort:()=>{z&&(z.cancel(),z.effect=null,z.onfinish=ha)},deactivate:()=>{g=ha},reset:()=>{u===0&&L?.(1,0)},t:()=>q()}}function ga(y,s,f,u){var g=y.__style;if(za||g!==s){var m=Ka(s);(!za||m!==y.getAttribute("style"))&&(m==null?y.removeAttribute("style"):y.style.cssText=m),y.__style=s}return u}const it=y=>y;function Ia(y){const s=y-1;return s*s*s+1}function lt(y,{delay:s=0,duration:f=400,easing:u=it}={}){const g=+getComputedStyle(y).opacity;return{delay:s,duration:f,easing:u,css:m=>`opacity: ${m*g}`}}function Je(y,{delay:s=0,duration:f=400,easing:u=Ia,axis:g="y"}={}){const m=getComputedStyle(y),c=+m.opacity,w=g==="y"?"height":"width",I=parseFloat(m[w]),D=g==="y"?["top","bottom"]:["left","right"],L=D.map(P=>`${P[0].toUpperCase()}${P.slice(1)}`),S=parseFloat(m[`padding${L[0]}`]),k=parseFloat(m[`padding${L[1]}`]),T=parseFloat(m[`margin${L[0]}`]),q=parseFloat(m[`margin${L[1]}`]),z=parseFloat(m[`border${L[0]}Width`]),B=parseFloat(m[`border${L[1]}Width`]);return{delay:s,duration:f,easing:u,css:P=>`overflow: hidden;opacity: ${Math.min(P*20,1)*c};${w}: ${P*I}px;padding-${D[0]}: ${P*S}px;padding-${D[1]}: ${P*k}px;margin-${D[0]}: ${P*T}px;margin-${D[1]}: ${P*q}px;border-${D[0]}-width: ${P*z}px;border-${D[1]}-width: ${P*B}px;min-${w}: 0`}}function nt(y,{delay:s=0,duration:f=400,easing:u=Ia,start:g=0,opacity:m=0}={}){const c=getComputedStyle(y),w=+c.opacity,I=c.transform==="none"?"":c.transform,D=1-g,L=w*(1-m);return{delay:s,duration:f,easing:u,css:(S,k)=>`
			transform: ${I} scale(${1-D*k});
			opacity: ${w-L*k}
		`}}var vt=v('<span class="chevron svelte-12crvy">â–²</span>'),ot=v('<span class="chevron svelte-12crvy">â–¼</span>'),dt=v("<option> </option>"),ct=v("<option> </option>"),_t=v('<div class="filter-body svelte-12crvy"><div class="filter-grid svelte-12crvy"><div class="filter-item svelte-12crvy"><label for="start-date" class="svelte-12crvy">Start Date</label> <input type="date" id="start-date" class="svelte-12crvy"/></div> <div class="filter-item svelte-12crvy"><label for="end-date" class="svelte-12crvy">End Date</label> <input type="date" id="end-date" class="svelte-12crvy"/></div> <div class="filter-item svelte-12crvy"><label for="location-filter" class="svelte-12crvy">Location</label> <select id="location-filter" class="svelte-12crvy"><option>Any Location</option><!></select></div> <div class="filter-item svelte-12crvy"><label for="session-type-filter" class="svelte-12crvy">Session Type</label> <select id="session-type-filter" class="svelte-12crvy"><option>Any Type</option><!></select></div> <div class="filter-item svelte-12crvy"><label for="grade-filter" class="svelte-12crvy">Grade (Exact)</label> <input type="text" id="grade-filter" placeholder="e.g. V4" class="svelte-12crvy"/></div></div> <div class="filter-actions svelte-12crvy"><button class="reset-btn svelte-12crvy">Reset Filters</button></div></div>'),ut=v('<div class="filter-container svelte-12crvy"><button class="filter-header svelte-12crvy"><div class="header-content svelte-12crvy"><span class="icon svelte-12crvy">ğŸ”</span> <span class="title svelte-12crvy">Filters</span> <!></div></button> <!></div>');function ft(y,s){Ke(s,!0);const f=["Rockstar Swindon","Flashpoint Swindon","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","Other"],u=["Projecting","Onsighting","Campusing","Repeaters"];let g=G(!1),m=G(""),c=G(""),w=G(""),I=G(""),D=G("");function L(){n(g,!e(g))}function S(){n(m,""),n(c,""),n(w,""),n(I,""),n(D,""),k()}function k(){s.onFilterParamsChange({startDate:e(m),endDate:e(c),location:e(w),sessionType:e(I),grade:e(D)})}var T=ut(),q=t(T);q.__click=L;var z=t(q),B=r(t(z),4);{var P=O=>{var p=vt();i(O,p)},R=O=>{var p=ot();i(O,p)};h(B,O=>{e(g)?O(P):O(R,!1)})}a(z),a(q);var ve=r(q,2);{var K=O=>{var p=_t(),A=t(p),V=t(A),U=r(t(V),2);Ve(U),U.__change=k,a(V);var Y=r(V,2),H=r(t(Y),2);Ve(H),H.__change=k,a(Y);var l=r(Y,2),b=r(t(l),2);b.__change=k;var F=t(b);F.value=F.__value="";var _=r(F);De(_,17,()=>f,Oe,(Q,le)=>{var M=dt(),se=t(M,!0);a(M);var ce={};C(()=>{o(se,e(le)),ce!==(ce=e(le))&&(M.value=(M.__value=e(le))??"")}),i(Q,M)}),a(b),a(l);var d=r(l,2),x=r(t(d),2);x.__change=k;var Z=t(x);Z.value=Z.__value="";var me=r(Z);De(me,17,()=>u,Oe,(Q,le)=>{var M=ct(),se=t(M,!0);a(M);var ce={};C(()=>{o(se,e(le)),ce!==(ce=e(le))&&(M.value=(M.__value=e(le))??"")}),i(Q,M)}),a(x),a(d);var oe=r(d,2),fe=r(t(oe),2);Ve(fe),fe.__input=k,a(oe),a(A);var ne=r(A,2),$=t(ne);$.__click=S,a(ne),a(p),We(U,()=>e(m),Q=>n(m,Q)),We(H,()=>e(c),Q=>n(c,Q)),pa(b,()=>e(w),Q=>n(w,Q)),pa(x,()=>e(I),Q=>n(I,Q)),We(fe,()=>e(D),Q=>n(D,Q)),Re(3,p,()=>Je,()=>({duration:200})),i(O,p)};h(ve,O=>{e(g)&&O(K)})}a(T),C(()=>ke(q,"aria-expanded",e(g))),i(y,T),Ye()}Ue(["click","change","input"]);var pt=v('<span class="climb-type-tag svelte-yz0xxt"> </span>'),gt=v('<span class="notes-preview svelte-yz0xxt"> </span>'),mt=v('<span class="attempts-count svelte-yz0xxt"> </span>'),ht=v('<div class="detail-row svelte-yz0xxt"><span class="label svelte-yz0xxt">Notes:</span> <p class="notes svelte-yz0xxt"> </p></div>'),yt=v('<p class="empty-notes svelte-yz0xxt">No notes for this climb.</p>'),bt=v('<div class="climb-details svelte-yz0xxt"><!> <div class="tags svelte-yz0xxt"><span class="tag type svelte-yz0xxt"> </span> <span class="tag attempt-text svelte-yz0xxt"> </span></div></div>'),xt=v('<div><div class="climb-header svelte-yz0xxt" role="button" tabindex="0"><div class="climb-main-info svelte-yz0xxt"><span> </span> <span class="climb-name svelte-yz0xxt"> </span> <!> <!></div> <div class="climb-meta svelte-yz0xxt"><span><span class="icon svelte-yz0xxt"> </span> <!></span> <button class="delete-btn svelte-yz0xxt" aria-label="Delete climb" title="Delete climb">ğŸ—‘ï¸</button> <span class="chevron svelte-yz0xxt"> </span></div></div> <!></div>');function wt(y,s){Ke(s,!0);let f=ya(s,"showClimbType",3,!1),u=G(!1);function g(){n(u,!e(u))}function m(d){d.stopPropagation(),s.onDelete()}const c={Flash:"âš¡",Onsight:"ğŸ‘ï¸",Redpoint:"ğŸ”´",Dogged:"ğŸ› ï¸",DNF:"âŒ"};var w=xt();let I;var D=t(w);D.__click=g,D.__keydown=d=>(d.key==="Enter"||d.key===" ")&&g();var L=t(D),S=t(L);let k;var T=t(S,!0);a(S);var q=r(S,2),z=t(q,!0);a(q);var B=r(q,2);{var P=d=>{var x=pt(),Z=t(x,!0);a(x),C(()=>o(Z,s.climb.isSport?"Sport":"Boulder")),i(d,x)};h(B,d=>{f()&&d(P)})}var R=r(B,2);{var ve=d=>{var x=gt(),Z=t(x);a(x),C(()=>o(Z,`- ${s.climb.notes??""}`)),i(d,x)};h(R,d=>{!e(u)&&s.climb.notes&&d(ve)})}a(L);var K=r(L,2),O=t(K);let p;var A=t(O),V=t(A,!0);a(A);var U=r(A,2);{var Y=d=>{var x=mt(),Z=t(x,!0);a(x),C(()=>o(Z,s.climb.attemptsNum)),i(d,x)};h(U,d=>{s.climb.attemptType!=="Flash"&&s.climb.attemptType!=="Onsight"&&d(Y)})}a(O);var H=r(O,2);H.__click=m;var l=r(H,2),b=t(l,!0);a(l),a(K),a(D);var F=r(D,2);{var _=d=>{var x=bt(),Z=t(x);{var me=M=>{var se=ht(),ce=r(t(se),2),je=t(ce,!0);a(ce),a(se),C(()=>o(je,s.climb.notes)),i(M,se)},oe=M=>{var se=yt();i(M,se)};h(Z,M=>{s.climb.notes?M(me):M(oe,!1)})}var fe=r(Z,2),ne=t(fe),$=t(ne,!0);a(ne);var Q=r(ne,2),le=t(Q,!0);a(Q),a(fe),a(x),C(()=>{o($,s.climb.isSport?"Sport":"Boulder"),o(le,s.climb.attemptType)}),Re(3,x,()=>Je,()=>({duration:150})),i(d,x)};h(F,d=>{e(u)&&d(_)})}a(w),C(()=>{I=Ee(w,1,"climb-entry svelte-yz0xxt",null,I,{expanded:e(u)}),ke(D,"aria-expanded",e(u)),k=Ee(S,1,"grade-badge svelte-yz0xxt",null,k,{sport:s.climb.isSport}),o(T,s.climb.grade),o(z,s.climb.name||"Unnamed Route"),p=Ee(O,1,"attempt-type svelte-yz0xxt",null,p,{flash:s.climb.attemptType==="Flash"}),o(V,c[s.climb.attemptType]||s.climb.attemptType),o(b,e(u)?"â–²":"â–¼")}),i(y,w),Ye()}Ue(["click","keydown"]);var Dt=v('<button class="backdrop svelte-12q9g58" aria-label="Close modal"></button> <div class="modal svelte-12q9g58" role="dialog" aria-modal="true"><h3 class="svelte-12q9g58"> </h3> <p class="svelte-12q9g58"> </p> <div class="input-group svelte-12q9g58"><label for="delete-confirm" class="svelte-12q9g58">Type <strong>delete</strong> to confirm:</label> <input type="text" id="delete-confirm" placeholder="delete" autocomplete="off" class="svelte-12q9g58"/></div> <div class="actions svelte-12q9g58"><button class="btn-cancel svelte-12q9g58">Cancel</button> <button class="btn-delete svelte-12q9g58">Delete</button></div></div>',1);function ka(y,s){Ke(s,!0);let f=ya(s,"isOpen",3,!1),u=ya(s,"title",3,"Confirm Delete"),g=ya(s,"message",3,"Are you sure you want to delete this item? This action cannot be undone."),m=G(""),c=ra(()=>e(m).toLowerCase()==="delete");function w(){e(c)&&(s.onConfirm(),n(m,""))}function I(){s.onCancel(),n(m,"")}var D=Xe(),L=ze(D);{var S=k=>{var T=Dt(),q=ze(T);q.__click=I;var z=r(q,2),B=t(z),P=t(B,!0);a(B);var R=r(B,2),ve=t(R,!0);a(R);var K=r(R,2),O=r(t(K),2);Ve(O),a(K);var p=r(K,2),A=t(p);A.__click=I;var V=r(A,2);V.__click=w,a(p),a(z),C(()=>{o(P,u()),o(ve,g()),V.disabled=!e(c)}),Re(3,q,()=>lt,()=>({duration:200})),We(O,()=>e(m),U=>n(m,U)),Re(3,z,()=>nt,()=>({duration:200,start:.9})),i(k,T)};h(L,k=>{f()&&k(S)})}i(y,D),Ye()}Ue(["click"]);var St=v('<span class="stat svelte-7vqogn"> </span>'),kt=v('<span class="status-icon pending svelte-7vqogn" title="Waiting to sync">ğŸ”„</span>'),qt=v('<span class="status-icon error svelte-7vqogn" title="Sync error">âš ï¸</span>'),Tt=v('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Difficulty</span> <span class="value svelte-7vqogn"> </span></div>'),Ft=v('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Category</span> <span class="value svelte-7vqogn"> </span></div>'),Ct=v('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Focus</span> <span class="value svelte-7vqogn"> </span></div>'),zt=v('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Energy System</span> <span class="value svelte-7vqogn"> </span></div>'),Lt=v('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Wall Angle</span> <span class="value svelte-7vqogn"> </span></div>'),At=v('<p class="no-climbs svelte-7vqogn">No climbs logged for this session.</p>'),Et=v('<div class="card-body svelte-7vqogn"><div class="details-grid svelte-7vqogn"><div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Training Type</span> <span class="value svelte-7vqogn"> </span></div> <!> <!> <!> <!> <!></div> <div class="metrics-container svelte-7vqogn"><div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Finger Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div> <div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Shoulder Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div> <div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Forearm Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div></div> <div class="climbs-list svelte-7vqogn"><h4 class="svelte-7vqogn">Climbs</h4> <div class="climbs-container svelte-7vqogn"><!> <!></div></div></div>'),Ot=v('<div><div class="card-header svelte-7vqogn" role="button" tabindex="0"><div class="header-main svelte-7vqogn"><div class="date-badge svelte-7vqogn"><span class="day svelte-7vqogn"> </span> <span class="month svelte-7vqogn"> </span></div> <div class="session-info svelte-7vqogn"><div class="session-text svelte-7vqogn"><h3 class="location svelte-7vqogn"> </h3> <div class="session-meta svelte-7vqogn"><span class="type-tag svelte-7vqogn"> </span> <span class="stat svelte-7vqogn"> </span> <!></div></div> <div class="load-summary svelte-7vqogn"><div class="load-badge finger svelte-7vqogn"> </div> <div class="load-badge shoulder svelte-7vqogn"> </div> <div class="load-badge forearm svelte-7vqogn"> </div></div></div></div> <div class="header-actions"><div class="header-status svelte-7vqogn"><!></div>  <button class="btn-icon delete-session" title="Delete Session">ğŸ—‘ï¸</button> <span class="chevron svelte-7vqogn"> </span></div></div> <!></div> <!>',1);function jt(y,s){Ke(s,!0);let f=G(!1),u=G(!1);function g(){n(f,!e(f))}function m(){n(u,!0)}function c(){wa(s.session.id),n(u,!1),s.onDelete()}function w(ee){const N=[...s.session.climbs];N.splice(ee,1),Ea(s.session.id,{climbs:N}),s.onDelete()}let I=ra(()=>s.session.climbs.length),D=ra(()=>s.session.climbs.reduce((ee,N)=>{const J=parseInt(N.grade.replace(/\D/g,""))||0,X=parseInt(ee.replace(/\D/g,""))||0;return J>X?N.grade:ee},"V0"));var L=Ot(),S=ze(L);let k;var T=t(S);T.__click=g,T.__keydown=ee=>ee.key==="Enter"&&g();var q=t(T),z=t(q),B=t(z),P=t(B,!0);a(B);var R=r(B,2),ve=t(R,!0);a(R),a(z);var K=r(z,2),O=t(K),p=t(O),A=t(p,!0);a(p);var V=r(p,2),U=t(V),Y=t(U,!0);a(U);var H=r(U,2),l=t(H);a(H);var b=r(H,2);{var F=ee=>{var N=St(),J=t(N);a(N),C(()=>o(J,`Max: ${e(D)??""}`)),i(ee,N)};h(b,ee=>{e(I)>0&&ee(F)})}a(V),a(O);var _=r(O,2),d=t(_),x=t(d,!0);a(d);var Z=r(d,2),me=t(Z,!0);a(Z);var oe=r(Z,2),fe=t(oe,!0);a(oe),a(_),a(K),a(q);var ne=r(q,2),$=t(ne),Q=t($);{var le=ee=>{var N=kt();i(ee,N)},M=ee=>{var N=Xe(),J=ze(N);{var X=j=>{var E=qt();i(j,E)};h(J,j=>{s.session.syncStatus==="error"&&j(X)},!0)}i(ee,N)};h(Q,ee=>{s.session.syncStatus==="pending"?ee(le):ee(M,!1)})}a($);var se=r($,2);se.__click=ee=>{ee.stopPropagation(),m()};var ce=r(se,2),je=t(ce,!0);a(ce),a(ne),a(T);var Be=r(T,2);{var qe=ee=>{var N=Et(),J=t(N),X=t(J),j=r(t(X),2),E=t(j,!0);a(j),a(X);var ae=r(X,2);{var re=ie=>{var de=Tt(),W=r(t(de),2),te=t(W,!0);a(W),a(de),C(()=>o(te,s.session.difficulty)),i(ie,de)};h(ae,ie=>{s.session.difficulty&&ie(re)})}var _e=r(ae,2);{var ue=ie=>{var de=Ft(),W=r(t(de),2),te=t(W,!0);a(W),a(de),C(ge=>o(te,ge),[()=>s.session.categories.join(", ")]),i(ie,de)};h(_e,ie=>{s.session.categories?.length&&ie(ue)})}var pe=r(_e,2);{var Te=ie=>{var de=Ct(),W=r(t(de),2),te=t(W,!0);a(W),a(de),C(ge=>o(te,ge),[()=>s.session.techniqueFocuses.join(", ")]),i(ie,de)};h(pe,ie=>{s.session.techniqueFocuses?.length&&ie(Te)})}var xe=r(pe,2);{var he=ie=>{var de=zt(),W=r(t(de),2),te=t(W,!0);a(W),a(de),C(ge=>o(te,ge),[()=>s.session.energySystems.join(", ")]),i(ie,de)};h(xe,ie=>{s.session.energySystems?.length&&ie(he)})}var Ge=r(xe,2);{var ye=ie=>{var de=Lt(),W=r(t(de),2),te=t(W,!0);a(W),a(de),C(ge=>o(te,ge),[()=>s.session.wallAngles.join(", ")]),i(ie,de)};h(Ge,ie=>{s.session.wallAngles?.length&&ie(ye)})}a(J);var we=r(J,2),Pe=t(we),be=r(t(Pe),2),He=t(be);a(be);var Le=r(be,2),ea=t(Le);a(Le),a(Pe);var Qe=r(Pe,2),Ie=r(t(Qe),2),Fe=t(Ie);a(Ie);var Ae=r(Ie,2),ia=t(Ae);a(Ae),a(Qe);var Ce=r(Qe,2),Ne=r(t(Ce),2),la=t(Ne);a(Ne);var Se=r(Ne,2),_a=t(Se);a(Se),a(Ce),a(we);var aa=r(we,2),na=r(t(aa),2),ta=t(na);De(ta,17,()=>s.session.climbs,Oe,(ie,de,W)=>{{let te=ra(()=>s.session.climbingType==="Mixed");wt(ie,{get climb(){return e(de)},onDelete:()=>w(W),get showClimbType(){return e(te)}})}});var ua=r(ta,2);{var fa=ie=>{var de=At();i(ie,de)};h(ua,ie=>{s.session.climbs.length===0&&ie(fa)})}a(na),a(aa),a(N),C(ie=>{o(E,ie),ga(He,`width: ${s.session.fingerLoad/5*100}%`),o(ea,`${s.session.fingerLoad??""}/5`),ga(Fe,`width: ${s.session.shoulderLoad/5*100}%`),o(ia,`${s.session.shoulderLoad??""}/5`),ga(la,`width: ${s.session.forearmLoad/5*100}%`),o(_a,`${s.session.forearmLoad??""}/5`)},[()=>s.session.trainingTypes?.length?s.session.trainingTypes.join(", "):"None"]),Re(3,N,()=>Je,()=>({duration:200})),i(ee,N)};h(Be,ee=>{e(f)&&ee(qe)})}a(S);var Me=r(S,2);ka(Me,{get isOpen(){return e(u)},title:"Delete Session",message:"Are you sure you want to delete this session and all its climbs? This cannot be undone.",onConfirm:c,onCancel:()=>n(u,!1)}),C((ee,N)=>{k=Ee(S,1,"session-card svelte-7vqogn",null,k,{expanded:e(f)}),ke(T,"aria-expanded",e(f)),o(P,ee),o(ve,N),o(A,s.session.location),o(Y,s.session.climbingType),o(l,`${e(I)??""} climbs`),ke(d,"title",`Finger Load: ${s.session.fingerLoad??""}`),o(x,s.session.fingerLoad),ke(Z,"title",`Shoulder Load: ${s.session.shoulderLoad??""}`),o(me,s.session.shoulderLoad),ke(oe,"title",`Forearm Load: ${s.session.forearmLoad??""}`),o(fe,s.session.forearmLoad),o(je,e(f)?"â–²":"â–¼")},[()=>new Date(s.session.date).getDate(),()=>new Date(s.session.date).toLocaleDateString("en-GB",{month:"short"})]),i(y,L),Ye()}Ue(["click","keydown"]);var It=v('<div class="legend-item svelte-11p9lqi"><span class="l-icon svelte-11p9lqi"> </span> <span class="l-label svelte-11p9lqi"> </span></div>'),Nt=v('<div class="legend-content svelte-11p9lqi"><div class="legend-grid svelte-11p9lqi"></div></div>'),Rt=v('<div class="legend-container svelte-11p9lqi"><button class="legend-toggle svelte-11p9lqi"><span class="icon">â„¹ï¸</span> <span class="text">Icon Legend</span> <span class="chevron svelte-11p9lqi"> </span></button> <!></div>');function Na(y){let s=G(!1);const f=[{icon:"ğŸ‘ï¸",label:"Onsight"},{icon:"âš¡",label:"Flash"},{icon:"ğŸ”´",label:"Redpoint"},{icon:"ğŸ› ï¸",label:"Dogged"},{icon:"âŒ",label:"DNF"}];var u=Rt(),g=t(u);g.__click=()=>n(s,!e(s));var m=r(t(g),4),c=t(m,!0);a(m),a(g);var w=r(g,2);{var I=D=>{var L=Nt(),S=t(L);De(S,21,()=>f,Oe,(k,T)=>{var q=It(),z=t(q),B=t(z,!0);a(z);var P=r(z,2),R=t(P,!0);a(P),a(q),C(()=>{o(B,e(T).icon),o(R,e(T).label)}),i(k,q)}),a(S),a(L),Re(3,L,()=>Je),i(D,L)};h(w,D=>{e(s)&&D(I)})}a(u),C(()=>{ke(g,"aria-expanded",e(s)),o(c,e(s)?"â–¼":"â–¶")}),i(y,u)}Ue(["click"]);var Bt=v('<span class="spinner svelte-14fqz8w"></span> Fetching...',1),Mt=v('<div class="error-banner svelte-14fqz8w"> </div>'),Gt=v('<small class="svelte-14fqz8w">Try adjusting your filters.</small>'),Pt=v('<div class="empty-state svelte-14fqz8w"><p class="svelte-14fqz8w">No indoor climbing sessions found.</p> <!></div>'),Vt=v('<div class="view-container svelte-14fqz8w"><div class="view-header svelte-14fqz8w"><h2 class="view-title svelte-14fqz8w">ğŸ§— Indoor Climbing History</h2> <button class="fetch-btn svelte-14fqz8w" title="Fetch data from cloud"><!></button></div> <!> <!> <div class="info-bar svelte-14fqz8w"><div class="legend-wrapper svelte-14fqz8w"><!></div> <div class="load-key svelte-14fqz8w"><span class="key-label svelte-14fqz8w">Load:</span> <div class="key-item svelte-14fqz8w"><span class="dot finger svelte-14fqz8w"></span> Finger</div> <div class="key-item svelte-14fqz8w"><span class="dot shoulder svelte-14fqz8w"></span> Shoulder</div> <div class="key-item svelte-14fqz8w"><span class="dot forearm svelte-14fqz8w"></span> Forearm</div></div></div> <div class="sessions-list"><!> <!></div></div>');function Wt(y,s){Ke(s,!0);let f=G($e([])),u=G($e([])),g=G(!1),m=G(""),c=G($e({startDate:"",endDate:"",location:"",sessionType:"",grade:""}));Oa(()=>{w()});function w(){const l=xa("indoor_climb");n(f,l.sort((b,F)=>new Date(F.date).getTime()-new Date(b.date).getTime()),!0),S()}async function I(){n(g,!0),n(m,"");try{await Da();const l=await Ya();l.ok&&l.data?D(l.data):n(m,l.error||"Failed to fetch data",!0)}catch(l){n(m,l instanceof Error?l.message:"Unknown error",!0)}finally{n(g,!1)}}function D(l){const b=l.map(_=>({..._,activityType:"indoor_climb",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),syncStatus:"synced",syncedAt:new Date().toISOString()}));Sa(b);const F=xa("indoor_climb");n(f,F.sort((_,d)=>new Date(d.date).getTime()-new Date(_.date).getTime()),!0),S()}function L(l){n(c,l,!0),S()}function S(){n(u,e(f).filter(l=>{if(e(c).startDate&&l.date<e(c).startDate||e(c).endDate&&l.date>e(c).endDate||e(c).location&&l.location!==e(c).location||e(c).sessionType&&!l.trainingTypes?.includes(e(c).sessionType))return!1;if(e(c).grade){const b=e(c).grade.trim().toLowerCase();if(!l.climbs.some(_=>_.grade.trim().toLowerCase()===b))return!1}return!0}),!0)}var k=Vt(),T=t(k),q=r(t(T),2);q.__click=I;var z=t(q);{var B=l=>{var b=Bt();ma(),i(l,b)},P=l=>{var b=va("â˜ï¸ Fetch Data");i(l,b)};h(z,l=>{e(g)?l(B):l(P,!1)})}a(q),a(T);var R=r(T,2);{var ve=l=>{var b=Mt(),F=t(b,!0);a(b),C(()=>o(F,e(m))),Re(3,b,()=>Je),i(l,b)};h(R,l=>{e(m)&&l(ve)})}var K=r(R,2);ft(K,{onFilterParamsChange:L});var O=r(K,2),p=t(O),A=t(p);Na(A),a(p),ma(2),a(O);var V=r(O,2),U=t(V);De(U,17,()=>e(u),l=>l.id,(l,b)=>{jt(l,{get session(){return e(b)},onDelete:w})});var Y=r(U,2);{var H=l=>{var b=Pt(),F=r(t(b),2);{var _=d=>{var x=Gt();i(d,x)};h(F,d=>{e(f).length>0&&d(_)})}a(b),i(l,b)};h(Y,l=>{e(u).length===0&&l(H)})}a(V),a(k),C(()=>q.disabled=e(g)),i(y,k),Ye()}Ue(["click"]);var Ut=v('<span class="chevron svelte-1frtlim">â–²</span>'),Ht=v('<span class="chevron svelte-1frtlim">â–¼</span>'),Zt=v('<div class="input-with-action svelte-1frtlim"><input type="text" id="area-filter-text" placeholder="Type area name..." class="flat-left svelte-1frtlim"/> <button class="action-btn flat-right svelte-1frtlim" title="Back to list">âœ•</button></div>'),Kt=v("<option> </option>"),Yt=v('<select id="area-filter" class="svelte-1frtlim"><option>All Areas</option><!><option>Other (Manual Entry)</option></select>'),Jt=v('<div class="input-with-action svelte-1frtlim"><input type="text" id="crag-filter-text" placeholder="Type crag name..." class="flat-left svelte-1frtlim"/> <button class="action-btn flat-right svelte-1frtlim" title="Back to list">âœ•</button></div>'),Qt=v("<option> </option>"),Xt=v('<select id="crag-filter" class="svelte-1frtlim"><option>All Crags</option><!><option>Other (Manual Entry)</option></select>'),$t=v('<input type="text" id="crag-filter-text" class="svelte-1frtlim"/>'),es=v("<option> </option>"),as=v('<div class="filter-body svelte-1frtlim"><div class="filter-grid svelte-1frtlim"><div class="filter-item svelte-1frtlim"><label for="start-date" class="svelte-1frtlim">Start Date</label> <input type="date" id="start-date" class="svelte-1frtlim"/></div> <div class="filter-item svelte-1frtlim"><label for="end-date" class="svelte-1frtlim">End Date</label> <input type="date" id="end-date" class="svelte-1frtlim"/></div> <div class="filter-item svelte-1frtlim"><label for="area-filter" class="svelte-1frtlim">Area</label> <!></div> <div class="filter-item svelte-1frtlim"><label for="crag-filter" class="svelte-1frtlim">Crag</label> <!></div> <div class="filter-item svelte-1frtlim"><label for="session-type-filter" class="svelte-1frtlim">Session Type</label> <select id="session-type-filter" class="svelte-1frtlim"><option>Any Type</option><!></select></div> <div class="filter-item svelte-1frtlim"><label for="grade-filter" class="svelte-1frtlim">Grade (Exact)</label> <input type="text" id="grade-filter" placeholder="e.g. 7a" class="svelte-1frtlim"/></div></div> <div class="filter-actions svelte-1frtlim"><button class="reset-btn svelte-1frtlim">Reset Filters</button></div></div>'),ts=v('<div class="filter-container svelte-1frtlim"><button class="filter-header svelte-1frtlim"><div class="header-content svelte-1frtlim"><span class="icon svelte-1frtlim">ğŸ”</span> <span class="title svelte-1frtlim">Filters</span> <!></div></button> <!></div>');function ss(y,s){Ke(s,!0);const f=Ja(),u=["Projecting","Onsighting","Campusing","Repeaters","Fun","Volume"];let g=G(!1),m=G(""),c=G(""),w=G(""),I=G(""),D=G(""),L=G(""),S=G(!1),k=G(!1),T=ra(()=>e(w)&&e(w)!=="Other"?Qa(e(w)):[]);function q(){e(w)==="Other"?(n(S,!0),n(w,"")):n(S,!1),n(I,""),n(k,!1),R()}function z(){e(I)==="Other"?(n(k,!0),n(I,"")):n(k,!1),R()}function B(){n(g,!e(g))}function P(){n(m,""),n(c,""),n(w,""),n(I,""),n(D,""),n(L,""),n(S,!1),n(k,!1),R()}function R(){s.onFilterParamsChange({startDate:e(m),endDate:e(c),area:e(w),crag:e(I),sessionType:e(D),grade:e(L)})}var ve=ts(),K=t(ve);K.__click=B;var O=t(K),p=r(t(O),4);{var A=H=>{var l=Ut();i(H,l)},V=H=>{var l=Ht();i(H,l)};h(p,H=>{e(g)?H(A):H(V,!1)})}a(O),a(K);var U=r(K,2);{var Y=H=>{var l=as(),b=t(l),F=t(b),_=r(t(F),2);Ve(_),_.__change=R,a(F);var d=r(F,2),x=r(t(d),2);Ve(x),x.__change=R,a(d);var Z=r(d,2),me=r(t(Z),2);{var oe=N=>{var J=Zt(),X=t(J);Ve(X),X.__input=R;var j=r(X,2);j.__click=()=>{n(S,!1),n(w,""),R()},a(J),We(X,()=>e(w),E=>n(w,E)),i(N,J)},fe=N=>{var J=Yt();J.__change=q;var X=t(J);X.value=X.__value="";var j=r(X);De(j,17,()=>f,Oe,(ae,re)=>{var _e=Kt(),ue=t(_e,!0);a(_e);var pe={};C(()=>{o(ue,e(re)),pe!==(pe=e(re))&&(_e.value=(_e.__value=e(re))??"")}),i(ae,_e)});var E=r(j);E.value=E.__value="Other",a(J),pa(J,()=>e(w),ae=>n(w,ae)),i(N,J)};h(me,N=>{e(S)?N(oe):N(fe,!1)})}a(Z);var ne=r(Z,2),$=r(t(ne),2);{var Q=N=>{var J=Jt(),X=t(J);Ve(X),X.__input=R;var j=r(X,2);j.__click=()=>{n(k,!1),n(I,""),R()},a(J),We(X,()=>e(I),E=>n(I,E)),i(N,J)},le=N=>{var J=Xe(),X=ze(J);{var j=ae=>{var re=Xt();re.__change=z;var _e=t(re);_e.value=_e.__value="";var ue=r(_e);De(ue,17,()=>e(T),Oe,(Te,xe)=>{var he=Qt(),Ge=t(he,!0);a(he);var ye={};C(()=>{o(Ge,e(xe)),ye!==(ye=e(xe))&&(he.value=(he.__value=e(xe))??"")}),i(Te,he)});var pe=r(ue);pe.value=pe.__value="Other",a(re),pa(re,()=>e(I),Te=>n(I,Te)),i(ae,re)},E=ae=>{var re=$t();Ve(re),re.__input=R,C(()=>{ke(re,"placeholder",e(w)?"Filter crag...":"Select area first"),re.disabled=!e(S)&&!e(w)}),We(re,()=>e(I),_e=>n(I,_e)),i(ae,re)};h(X,ae=>{!e(S)&&e(w)&&e(T).length>0?ae(j):ae(E,!1)},!0)}i(N,J)};h($,N=>{e(k)?N(Q):N(le,!1)})}a(ne);var M=r(ne,2),se=r(t(M),2);se.__change=R;var ce=t(se);ce.value=ce.__value="";var je=r(ce);De(je,17,()=>u,Oe,(N,J)=>{var X=es(),j=t(X,!0);a(X);var E={};C(()=>{o(j,e(J)),E!==(E=e(J))&&(X.value=(X.__value=e(J))??"")}),i(N,X)}),a(se),a(M);var Be=r(M,2),qe=r(t(Be),2);Ve(qe),qe.__input=R,a(Be),a(b);var Me=r(b,2),ee=t(Me);ee.__click=P,a(Me),a(l),We(_,()=>e(m),N=>n(m,N)),We(x,()=>e(c),N=>n(c,N)),pa(se,()=>e(D),N=>n(D,N)),We(qe,()=>e(L),N=>n(L,N)),Re(3,l,()=>Je,()=>({duration:200})),i(H,l)};h(U,H=>{e(g)&&H(Y)})}a(ve),C(()=>ke(K,"aria-expanded",e(g))),i(y,ve),Ye()}Ue(["click","change","input"]);var rs=v('<span class="climb-type-tag svelte-1k6anfh"> </span>'),is=v('<span class="notes-preview svelte-1k6anfh"> </span>'),ls=v('<span class="attempts-count svelte-1k6anfh"> </span>'),ns=v('<div class="detail-row svelte-1k6anfh"><span class="label svelte-1k6anfh">Notes:</span> <p class="notes svelte-1k6anfh"> </p></div>'),vs=v('<p class="empty-notes svelte-1k6anfh">No notes for this climb.</p>'),os=v('<div class="climb-details svelte-1k6anfh"><!> <div class="tags svelte-1k6anfh"><span class="tag type svelte-1k6anfh"> </span> <span class="tag attempt-text svelte-1k6anfh"> </span></div></div>'),ds=v('<div><div class="climb-header svelte-1k6anfh" role="button" tabindex="0"><div class="climb-main-info svelte-1k6anfh"><span> </span> <span class="climb-name svelte-1k6anfh"> </span> <!> <!></div> <div class="climb-meta svelte-1k6anfh"><span><span class="icon svelte-1k6anfh"> </span> <!></span> <button class="delete-btn svelte-1k6anfh" aria-label="Delete climb" title="Delete climb">ğŸ—‘ï¸</button> <span class="chevron svelte-1k6anfh"> </span></div></div> <!></div>');function cs(y,s){Ke(s,!0);let f=ya(s,"showClimbType",3,!1),u=G(!1);function g(){n(u,!e(u))}function m(d){d.stopPropagation(),s.onDelete()}const c={Flash:"âš¡",Onsight:"ğŸ‘ï¸",Redpoint:"ğŸ”´",Dogged:"ğŸ› ï¸",DNF:"âŒ"};var w=ds();let I;var D=t(w);D.__click=g,D.__keydown=d=>(d.key==="Enter"||d.key===" ")&&g();var L=t(D),S=t(L);let k;var T=t(S,!0);a(S);var q=r(S,2),z=t(q,!0);a(q);var B=r(q,2);{var P=d=>{var x=rs(),Z=t(x,!0);a(x),C(()=>o(Z,s.climb.isSport?"Sport":"Boulder")),i(d,x)};h(B,d=>{f()&&d(P)})}var R=r(B,2);{var ve=d=>{var x=is(),Z=t(x);a(x),C(()=>o(Z,`- ${s.climb.notes??""}`)),i(d,x)};h(R,d=>{!e(u)&&s.climb.notes&&d(ve)})}a(L);var K=r(L,2),O=t(K);let p;var A=t(O),V=t(A,!0);a(A);var U=r(A,2);{var Y=d=>{var x=ls(),Z=t(x,!0);a(x),C(()=>o(Z,s.climb.attemptsNum)),i(d,x)};h(U,d=>{s.climb.attemptType!=="Flash"&&s.climb.attemptType!=="Onsight"&&d(Y)})}a(O);var H=r(O,2);H.__click=m;var l=r(H,2),b=t(l,!0);a(l),a(K),a(D);var F=r(D,2);{var _=d=>{var x=os(),Z=t(x);{var me=M=>{var se=ns(),ce=r(t(se),2),je=t(ce,!0);a(ce),a(se),C(()=>o(je,s.climb.notes)),i(M,se)},oe=M=>{var se=vs();i(M,se)};h(Z,M=>{s.climb.notes?M(me):M(oe,!1)})}var fe=r(Z,2),ne=t(fe),$=t(ne,!0);a(ne);var Q=r(ne,2),le=t(Q,!0);a(Q),a(fe),a(x),C(()=>{o($,s.climb.isSport?"Sport":"Boulder"),o(le,s.climb.attemptType)}),Re(3,x,()=>Je,()=>({duration:150})),i(d,x)};h(F,d=>{e(u)&&d(_)})}a(w),C(()=>{I=Ee(w,1,"climb-entry svelte-1k6anfh",null,I,{expanded:e(u)}),ke(D,"aria-expanded",e(u)),k=Ee(S,1,"grade-badge svelte-1k6anfh",null,k,{sport:s.climb.isSport}),o(T,s.climb.grade),o(z,s.climb.name||"Unnamed Route"),p=Ee(O,1,"attempt-type svelte-1k6anfh",null,p,{flash:s.climb.attemptType==="Flash"}),o(V,c[s.climb.attemptType]||s.climb.attemptType),o(b,e(u)?"â–²":"â–¼")}),i(y,w),Ye()}Ue(["click","keydown"]);var _s=v('<div class="sector-meta svelte-d5hg2r"> </div>'),us=v('<span class="stat svelte-d5hg2r"> </span>'),fs=v('<span class="status-icon pending svelte-d5hg2r" title="Waiting to sync">ğŸ”„</span>'),ps=v('<span class="status-icon error svelte-d5hg2r" title="Sync error">âš ï¸</span>'),gs=v('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Difficulty</span> <span class="value svelte-d5hg2r"> </span></div>'),ms=v('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Category</span> <span class="value svelte-d5hg2r"> </span></div>'),hs=v('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Focus</span> <span class="value svelte-d5hg2r"> </span></div>'),ys=v('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Energy System</span> <span class="value svelte-d5hg2r"> </span></div>'),bs=v('<p class="no-climbs svelte-d5hg2r">No climbs logged for this session.</p>'),xs=v('<div class="card-body svelte-d5hg2r"><div class="details-grid svelte-d5hg2r"><div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Training Type</span> <span class="value svelte-d5hg2r"> </span></div> <!> <!> <!> <!></div> <div class="metrics-container svelte-d5hg2r"><div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Finger Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div> <div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Shoulder Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div> <div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Forearm Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div></div> <div class="climbs-list svelte-d5hg2r"><h4 class="svelte-d5hg2r">Climbs</h4> <div class="climbs-container svelte-d5hg2r"><!> <!></div></div></div>'),ws=v('<div><div class="card-header svelte-d5hg2r" role="button" tabindex="0"><div class="header-main svelte-d5hg2r"><div class="date-badge svelte-d5hg2r"><span class="day svelte-d5hg2r"> </span> <span class="month svelte-d5hg2r"> </span></div> <div class="session-info svelte-d5hg2r"><div class="session-text svelte-d5hg2r"><h3 class="location svelte-d5hg2r"> <!></h3> <!> <div class="session-meta svelte-d5hg2r"><span class="type-tag svelte-d5hg2r"> </span> <span class="stat svelte-d5hg2r"> </span> <!></div></div> <div class="load-summary svelte-d5hg2r"><div class="load-badge finger svelte-d5hg2r"> </div> <div class="load-badge shoulder svelte-d5hg2r"> </div> <div class="load-badge forearm svelte-d5hg2r"> </div></div></div></div> <div class="header-actions svelte-d5hg2r"><div class="header-status svelte-d5hg2r"><!></div> <button class="btn-icon delete-session svelte-d5hg2r" title="Delete Session">ğŸ—‘ï¸</button> <span class="chevron svelte-d5hg2r"> </span></div></div> <!></div> <!>',1);function Ds(y,s){Ke(s,!0);let f=G(!1),u=G(!1);function g(){n(f,!e(f))}function m(){n(u,!0)}function c(){wa(s.session.id),n(u,!1),s.onDelete()}function w(j){const E=[...s.session.climbs];E.splice(j,1),Ea(s.session.id,{climbs:E}),s.onDelete()}let I=ra(()=>s.session.climbs.length),D=ra(()=>s.session.climbs.reduce((j,E)=>{const ae=parseInt(E.grade.replace(/\D/g,""))||0,re=parseInt(j.replace(/\D/g,""))||0;return ae>re?E.grade:j},"V0/4a"));var L=ws(),S=ze(L);let k;var T=t(S);T.__click=g,T.__keydown=j=>j.key==="Enter"&&g();var q=t(T),z=t(q),B=t(z),P=t(B,!0);a(B);var R=r(B,2),ve=t(R,!0);a(R),a(z);var K=r(z,2),O=t(K),p=t(O),A=t(p),V=r(A);{var U=j=>{var E=va();C(()=>o(E,`- ${s.session.crag??""}`)),i(j,E)};h(V,j=>{s.session.crag&&j(U)})}a(p);var Y=r(p,2);{var H=j=>{var E=_s(),ae=t(E);a(E),C(()=>o(ae,`ğŸ“ ${s.session.sector??""}`)),i(j,E)};h(Y,j=>{s.session.sector&&j(H)})}var l=r(Y,2),b=t(l),F=t(b,!0);a(b);var _=r(b,2),d=t(_);a(_);var x=r(_,2);{var Z=j=>{var E=us(),ae=t(E);a(E),C(()=>o(ae,`Max: ${e(D)??""}`)),i(j,E)};h(x,j=>{e(I)>0&&j(Z)})}a(l),a(O);var me=r(O,2),oe=t(me),fe=t(oe,!0);a(oe);var ne=r(oe,2),$=t(ne,!0);a(ne);var Q=r(ne,2),le=t(Q,!0);a(Q),a(me),a(K),a(q);var M=r(q,2),se=t(M),ce=t(se);{var je=j=>{var E=fs();i(j,E)},Be=j=>{var E=Xe(),ae=ze(E);{var re=_e=>{var ue=ps();i(_e,ue)};h(ae,_e=>{s.session.syncStatus==="error"&&_e(re)},!0)}i(j,E)};h(ce,j=>{s.session.syncStatus==="pending"?j(je):j(Be,!1)})}a(se);var qe=r(se,2);qe.__click=j=>{j.stopPropagation(),m()};var Me=r(qe,2),ee=t(Me,!0);a(Me),a(M),a(T);var N=r(T,2);{var J=j=>{var E=xs(),ae=t(E),re=t(ae),_e=r(t(re),2),ue=t(_e,!0);a(_e),a(re);var pe=r(re,2);{var Te=W=>{var te=gs(),ge=r(t(te),2),Ze=t(ge,!0);a(ge),a(te),C(()=>o(Ze,s.session.difficulty)),i(W,te)};h(pe,W=>{s.session.difficulty&&W(Te)})}var xe=r(pe,2);{var he=W=>{var te=ms(),ge=r(t(te),2),Ze=t(ge,!0);a(ge),a(te),C(oa=>o(Ze,oa),[()=>s.session.categories.join(", ")]),i(W,te)};h(xe,W=>{s.session.categories?.length&&W(he)})}var Ge=r(xe,2);{var ye=W=>{var te=hs(),ge=r(t(te),2),Ze=t(ge,!0);a(ge),a(te),C(oa=>o(Ze,oa),[()=>s.session.techniqueFocuses.join(", ")]),i(W,te)};h(Ge,W=>{s.session.techniqueFocuses?.length&&W(ye)})}var we=r(Ge,2);{var Pe=W=>{var te=ys(),ge=r(t(te),2),Ze=t(ge,!0);a(ge),a(te),C(oa=>o(Ze,oa),[()=>s.session.energySystems.join(", ")]),i(W,te)};h(we,W=>{s.session.energySystems?.length&&W(Pe)})}a(ae);var be=r(ae,2),He=t(be),Le=r(t(He),2),ea=t(Le);a(Le);var Qe=r(Le,2),Ie=t(Qe);a(Qe),a(He);var Fe=r(He,2),Ae=r(t(Fe),2),ia=t(Ae);a(Ae);var Ce=r(Ae,2),Ne=t(Ce);a(Ce),a(Fe);var la=r(Fe,2),Se=r(t(la),2),_a=t(Se);a(Se);var aa=r(Se,2),na=t(aa);a(aa),a(la),a(be);var ta=r(be,2),ua=r(t(ta),2),fa=t(ua);De(fa,17,()=>s.session.climbs,Oe,(W,te,ge)=>{{let Ze=ra(()=>s.session.climbingType==="Mixed");cs(W,{get climb(){return e(te)},onDelete:()=>w(ge),get showClimbType(){return e(Ze)}})}});var ie=r(fa,2);{var de=W=>{var te=bs();i(W,te)};h(ie,W=>{s.session.climbs.length===0&&W(de)})}a(ua),a(ta),a(E),C(W=>{o(ue,W),ga(ea,`width: ${s.session.fingerLoad/5*100}%`),o(Ie,`${s.session.fingerLoad??""}/5`),ga(ia,`width: ${s.session.shoulderLoad/5*100}%`),o(Ne,`${s.session.shoulderLoad??""}/5`),ga(_a,`width: ${s.session.forearmLoad/5*100}%`),o(na,`${s.session.forearmLoad??""}/5`)},[()=>s.session.trainingTypes?.length?s.session.trainingTypes.join(", "):"None"]),Re(3,E,()=>Je,()=>({duration:200})),i(j,E)};h(N,j=>{e(f)&&j(J)})}a(S);var X=r(S,2);ka(X,{get isOpen(){return e(u)},title:"Delete Session",message:"Are you sure you want to delete this session and all its climbs? This cannot be undone.",onConfirm:c,onCancel:()=>n(u,!1)}),C((j,E)=>{k=Ee(S,1,"session-card svelte-d5hg2r",null,k,{expanded:e(f)}),ke(T,"aria-expanded",e(f)),o(P,j),o(ve,E),o(A,`${s.session.area??""} `),o(F,s.session.climbingType),o(d,`${e(I)??""} climbs`),ke(oe,"title",`Finger Load: ${s.session.fingerLoad??""}`),o(fe,s.session.fingerLoad),ke(ne,"title",`Shoulder Load: ${s.session.shoulderLoad??""}`),o($,s.session.shoulderLoad),ke(Q,"title",`Forearm Load: ${s.session.forearmLoad??""}`),o(le,s.session.forearmLoad),o(ee,e(f)?"â–²":"â–¼")},[()=>new Date(s.session.date).getDate(),()=>new Date(s.session.date).toLocaleDateString(void 0,{month:"short"})]),i(y,L),Ye()}Ue(["click","keydown"]);var Ss=v('<span class="spinner svelte-1s7jdlh"></span> Fetching...',1),ks=v('<div class="error-banner svelte-1s7jdlh"> </div>'),qs=v('<small class="svelte-1s7jdlh">Try adjusting your filters.</small>'),Ts=v('<div class="empty-state svelte-1s7jdlh"><p class="svelte-1s7jdlh">No outdoor climbing sessions found.</p> <!></div>'),Fs=v('<div class="view-container svelte-1s7jdlh"><div class="view-header svelte-1s7jdlh"><h2 class="view-title svelte-1s7jdlh">â›°ï¸ Outdoor Climbing History</h2> <button class="fetch-btn svelte-1s7jdlh" title="Fetch data from cloud"><!></button></div> <!> <!> <div class="info-bar svelte-1s7jdlh"><div class="legend-wrapper svelte-1s7jdlh"><!></div> <div class="load-key svelte-1s7jdlh"><span class="key-label svelte-1s7jdlh">Load:</span> <div class="key-item svelte-1s7jdlh"><span class="dot finger svelte-1s7jdlh"></span> Finger</div> <div class="key-item svelte-1s7jdlh"><span class="dot shoulder svelte-1s7jdlh"></span> Shoulder</div> <div class="key-item svelte-1s7jdlh"><span class="dot forearm svelte-1s7jdlh"></span> Forearm</div></div></div> <div class="sessions-list"><!> <!></div></div>');function Cs(y,s){Ke(s,!0);let f=G($e([])),u=G($e([])),g=G(!1),m=G(""),c=G($e({startDate:"",endDate:"",area:"",crag:"",sessionType:"",grade:""}));Oa(()=>{w()});function w(){const l=xa("outdoor_climb");n(f,l.sort((b,F)=>new Date(F.date).getTime()-new Date(b.date).getTime()),!0),S()}async function I(){n(g,!0),n(m,"");try{await Da();const l=await Xa();l.ok&&l.data?D(l.data):n(m,l.error||"Failed to fetch data",!0)}catch(l){n(m,l instanceof Error?l.message:"Unknown error",!0)}finally{n(g,!1)}}function D(l){const b=l.map(_=>({..._,activityType:"outdoor_climb",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),syncStatus:"synced",syncedAt:new Date().toISOString()}));Sa(b);const F=xa("outdoor_climb");n(f,F.sort((_,d)=>new Date(d.date).getTime()-new Date(_.date).getTime()),!0),S()}function L(l){n(c,l,!0),S()}function S(){n(u,e(f).filter(l=>{if(e(c).startDate&&l.date<e(c).startDate||e(c).endDate&&l.date>e(c).endDate||e(c).area&&!l.area.toLowerCase().includes(e(c).area.toLowerCase())||e(c).crag&&!l.crag.toLowerCase().includes(e(c).crag.toLowerCase())||e(c).sessionType&&!l.trainingTypes?.includes(e(c).sessionType))return!1;if(e(c).grade){const b=e(c).grade.trim().toLowerCase();if(!l.climbs.some(_=>_.grade.trim().toLowerCase()===b))return!1}return!0}),!0)}var k=Fs(),T=t(k),q=r(t(T),2);q.__click=I;var z=t(q);{var B=l=>{var b=Ss();ma(),i(l,b)},P=l=>{var b=va("â˜ï¸ Fetch Data");i(l,b)};h(z,l=>{e(g)?l(B):l(P,!1)})}a(q),a(T);var R=r(T,2);{var ve=l=>{var b=ks(),F=t(b,!0);a(b),C(()=>o(F,e(m))),Re(3,b,()=>Je),i(l,b)};h(R,l=>{e(m)&&l(ve)})}var K=r(R,2);ss(K,{onFilterParamsChange:L});var O=r(K,2),p=t(O),A=t(p);Na(A),a(p),ma(2),a(O);var V=r(O,2),U=t(V);De(U,17,()=>e(u),l=>l.id,(l,b)=>{Ds(l,{get session(){return e(b)},onDelete:w})});var Y=r(U,2);{var H=l=>{var b=Ts(),F=r(t(b),2);{var _=d=>{var x=qs();i(d,x)};h(F,d=>{e(f).length>0&&d(_)})}a(b),i(l,b)};h(Y,l=>{e(u).length===0&&l(H)})}a(V),a(k),C(()=>q.disabled=e(g)),i(y,k),Ye()}Ue(["click"]);var zs=v('<div class="view-container svelte-133enjd"><h2 class="view-title svelte-133enjd">ğŸ‹ï¸ Gym Session History</h2> <p class="placeholder-text svelte-133enjd">Your gym sessions will appear here</p></div>');function Ls(y){var s=zs();i(y,s)}var As=v('<span class="spinner svelte-1szs0u9"></span> Fetching...',1),Es=v('<div class="loading svelte-1szs0u9">Loading sessions...</div>'),Os=v('<div class="empty-state svelte-1szs0u9"><!></div>'),js=v('<span class="set-tag svelte-1szs0u9"> <span class="x svelte-1szs0u9">x</span> </span>'),Is=v('<div class="ex-notes svelte-1szs0u9"> </div>'),Ns=v('<div class="exercise-item svelte-1szs0u9"><div class="ex-header svelte-1szs0u9"><span class="ex-name svelte-1szs0u9"> </span> <span class="ex-grip svelte-1szs0u9"> </span></div> <div class="ex-sets svelte-1szs0u9"></div> <!></div>'),Rs=v('<div class="card-body svelte-1szs0u9"><div class="exercises-list svelte-1szs0u9"></div></div>'),Bs=v('<div><div class="card-header" role="button" tabindex="0"><div class="header-main"><span class="session-date svelte-1szs0u9"> </span> <span class="meta svelte-1szs0u9"><!> </span></div> <div class="header-status svelte-1szs0u9"><span>â—</span> <button class="btn-icon delete-btn svelte-1szs0u9" title="Delete Session">ğŸ—‘ï¸</button> <span class="chevron svelte-1szs0u9"> </span></div></div> <!></div>'),Ms=v('<div class="timeline svelte-1szs0u9"></div>'),Gs=v('<div class="view-content svelte-1szs0u9"><div class="header svelte-1szs0u9"><h3 class="svelte-1szs0u9">ğŸ¤ Fingerboarding Log</h3> <button class="fetch-btn svelte-1szs0u9" title="Fetch data from cloud"><!></button></div> <div class="filters svelte-1szs0u9"><div class="filter-group svelte-1szs0u9"><label for="start-date" class="svelte-1szs0u9">From</label> <input type="date" id="start-date" class="svelte-1szs0u9"/></div> <div class="filter-group svelte-1szs0u9"><label for="end-date" class="svelte-1szs0u9">To</label> <input type="date" id="end-date" class="svelte-1szs0u9"/></div></div> <!></div> <!>',1);function Ps(y,s){Ke(s,!0);let f=G($e([])),u=G(!0),g=G(""),m=G(""),c=G($e(new Set)),w=G(!1),I=G(null);function D(_){n(I,_,!0),n(w,!0)}function L(){e(I)&&(wa(e(I)),n(I,null),n(w,!1),n(f,Ta().sort((_,d)=>new Date(d.date).getTime()-new Date(_.date).getTime()),!0))}async function S(){n(u,!0),n(f,Ta().sort((_,d)=>new Date(d.date).getTime()-new Date(_.date).getTime()),!0);try{await Da();const _=await $a();if(_.ok&&_.data){const d=_.data.map(x=>({...x,activityType:"fingerboarding",createdAt:x.createdAt||new Date().toISOString(),updatedAt:x.updatedAt||new Date().toISOString(),syncStatus:"synced"}));Sa(d),n(f,Ta().sort((x,Z)=>new Date(Z.date).getTime()-new Date(x.date).getTime()),!0)}}catch(_){console.error("Failed to sync",_)}finally{n(u,!1)}}S();let k=ra(()=>e(f).filter(_=>!(e(g)&&new Date(_.date)<new Date(e(g))||e(m)&&new Date(_.date)>new Date(e(m)))));function T(_){e(c).has(_)?e(c).delete(_):e(c).add(_),n(c,new Set(e(c)),!0)}function q(_){return _.exercises.reduce((d,x)=>d+x.details.length,0)}var z=Gs(),B=ze(z),P=t(B),R=r(t(P),2);R.__click=S;var ve=t(R);{var K=_=>{var d=As();ma(),i(_,d)},O=_=>{var d=va("â˜ï¸ Fetch Data");i(_,d)};h(ve,_=>{e(u)?_(K):_(O,!1)})}a(R),a(P);var p=r(P,2),A=t(p),V=r(t(A),2);Ve(V),a(A);var U=r(A,2),Y=r(t(U),2);Ve(Y),a(U),a(p);var H=r(p,2);{var l=_=>{var d=Es();i(_,d)},b=_=>{var d=Xe(),x=ze(d);{var Z=oe=>{var fe=Os(),ne=t(fe);{var $=le=>{var M=va("No sessions match filter.");i(le,M)},Q=le=>{var M=va("No fingerboarding sessions logged yet.");i(le,M)};h(ne,le=>{e(f).length>0?le($):le(Q,!1)})}a(fe),i(oe,fe)},me=oe=>{var fe=Ms();De(fe,21,()=>e(k),Oe,(ne,$)=>{var Q=Bs();let le;var M=t(Q);M.__click=()=>T(e($).id),M.__keydown=ue=>ue.key==="Enter"&&T(e($).id);var se=t(M),ce=t(se),je=t(ce,!0);a(ce);var Be=r(ce,2),qe=t(Be);{var Me=ue=>{var pe=va();C(()=>o(pe,`${e($).location??""} Â·`)),i(ue,pe)};h(qe,ue=>{e($).location&&e($).location!=="N/A"&&e($).location!=="Home"&&ue(Me)})}var ee=r(qe);a(Be),a(se);var N=r(se,2),J=t(N);let X;var j=r(J,2);j.__click=ue=>{ue.stopPropagation(),D(e($).id)};var E=r(j,2),ae=t(E,!0);a(E),a(N),a(M);var re=r(M,2);{var _e=ue=>{var pe=Rs(),Te=t(pe);De(Te,21,()=>e($).exercises,Oe,(xe,he)=>{var Ge=Ns(),ye=t(Ge),we=t(ye),Pe=t(we,!0);a(we);var be=r(we,2),He=t(be,!0);a(be),a(ye);var Le=r(ye,2);De(Le,21,()=>e(he).details,Oe,(Ie,Fe)=>{var Ae=js(),ia=t(Ae),Ce=r(ia,2);a(Ae),C(()=>{o(ia,`${e(Fe).weight>0?`+${e(Fe).weight}kg`:"BW"} `),o(Ce,` ${e(Fe).reps??""}s/reps`)}),i(Ie,Ae)}),a(Le);var ea=r(Le,2);{var Qe=Ie=>{var Fe=Is(),Ae=t(Fe);a(Fe),C(()=>o(Ae,`"${e(he).notes??""}"`)),i(Ie,Fe)};h(ea,Ie=>{e(he).notes&&Ie(Qe)})}a(Ge),C(()=>{o(Pe,e(he).name),o(He,e(he).gripType)}),i(xe,Ge)}),a(Te),a(pe),Re(3,pe,()=>Je,()=>({duration:200})),i(ue,pe)};h(re,ue=>{e(c).has(e($).id)&&ue(_e)})}a(Q),C((ue,pe,Te,xe)=>{le=Ee(Q,1,"session-card",null,le,ue),o(je,pe),o(ee,` ${e($).exercises.length??""} Exercises Â· ${Te??""} Sets`),X=Ee(J,1,"sync-dot svelte-1szs0u9",null,X,{synced:e($).syncStatus==="synced"}),ke(J,"title",e($).syncStatus==="synced"?"Synced":"Local"),o(ae,xe)},[()=>({expanded:e(c).has(e($).id)}),()=>new Date(e($).date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}),()=>q(e($)),()=>e(c).has(e($).id)?"â–²":"â–¼"]),i(ne,Q)}),a(fe),i(oe,fe)};h(x,oe=>{e(k).length===0?oe(Z):oe(me,!1)},!0)}i(_,d)};h(H,_=>{e(u)&&e(f).length===0?_(l):_(b,!1)})}a(B);var F=r(B,2);ka(F,{get isOpen(){return e(w)},title:"Delete Fingerboard Session",message:"Are you sure you want to delete this session? This cannot be undone.",onConfirm:L,onCancel:()=>n(w,!1)}),C(()=>R.disabled=e(u)),We(V,()=>e(g),_=>n(g,_)),We(Y,()=>e(m),_=>n(m,_)),i(y,z),Ye()}Ue(["click","keydown"]);var Vs=v('<span class="spinner svelte-xyvf5r"></span> Fetching...',1),Ws=v('<div class="loading svelte-xyvf5r">Loading sessions...</div>'),Us=v('<div class="empty-state svelte-xyvf5r">No competitions logged yet.</div>'),Hs=v('<span class="round-pos svelte-xyvf5r"> </span>'),Zs=v('<span class="c-attempts svelte-xyvf5r"> </span>'),Ks=v('<div class="climb-notes svelte-xyvf5r"> </div>'),Ys=v('<div class="climb-row svelte-xyvf5r"><div class="climb-info svelte-xyvf5r"><span class="c-name svelte-xyvf5r"> </span> <!></div> <div class="climb-result"><span> </span></div></div> <!>',1),Js=v('<div class="climbs-list"></div>'),Qs=v('<div class="round-item svelte-xyvf5r"><div class="round-header svelte-xyvf5r"><span class="round-name"> </span> <!></div> <!></div>'),Xs=v('<div class="rounds-list svelte-xyvf5r"></div>'),$s=v('<div class="load-meta svelte-xyvf5r"><span> </span></div>'),er=v('<div class="card-body svelte-xyvf5r"><!> <!> <div class="session-footer svelte-xyvf5r"><span> </span></div></div>'),ar=v('<div><div class="card-header svelte-xyvf5r" role="button" tabindex="0"><div class="header-main svelte-xyvf5r"><div class="left-col svelte-xyvf5r"><span class="venue svelte-xyvf5r"> </span> <span class="date svelte-xyvf5r"> </span></div> <div class="right-col svelte-xyvf5r"><div class="badges svelte-xyvf5r"><span class="type-tag svelte-xyvf5r"> </span> <span class="result-tag svelte-xyvf5r"> </span></div></div></div> <div class="header-status svelte-xyvf5r"><span>â—</span> <button class="btn-icon delete-btn svelte-xyvf5r" title="Delete Session">ğŸ—‘ï¸</button> <span class="chevron svelte-xyvf5r"> </span></div></div> <!></div>'),tr=v('<div class="timeline svelte-xyvf5r"></div>'),sr=v('<div class="view-content svelte-xyvf5r"><div class="header svelte-xyvf5r"><h3 class="svelte-xyvf5r">ğŸ† Competition Log</h3> <button class="fetch-btn svelte-xyvf5r" title="Fetch data from cloud"><!></button></div> <!> <!></div>');function rr(y,s){Ke(s,!0);let f=G($e([])),u=G(!0),g=G($e(new Set)),m=G(!1),c=G(null);function w(p){n(c,p,!0),n(m,!0)}function I(){e(c)&&(wa(e(c)),n(c,null),n(m,!1),n(f,Fa().sort((p,A)=>new Date(A.date).getTime()-new Date(p.date).getTime()),!0))}async function D(){n(u,!0),n(f,Fa().sort((p,A)=>new Date(A.date).getTime()-new Date(p.date).getTime()),!0);try{await Da();const p=await et();if(p.ok&&p.data){const A=p.data.map(V=>({...V,activityType:"competition",type:V.type,rounds:V.rounds.map(U=>({...U,climbs:U.climbs?.map(Y=>({...Y,status:Y.status}))})),createdAt:V.createdAt||new Date().toISOString(),updatedAt:V.updatedAt||new Date().toISOString(),syncStatus:"synced"}));Sa(A),n(f,Fa().sort((V,U)=>new Date(U.date).getTime()-new Date(V.date).getTime()),!0)}}catch(p){console.error("Failed to sync",p)}finally{n(u,!1)}}D();function L(p){e(g).has(p)?e(g).delete(p):e(g).add(p),n(g,new Set(e(g)),!0)}function S(p){if(!p.rounds||p.rounds.length===0)return"No rounds";const A=p.rounds[p.rounds.length-1];if(A.position)return`#${A.position} ${A.name}`;if(A.climbs){const V=A.climbs.filter(Y=>Y.status==="Top"||Y.status==="Flash").length,U=A.climbs.filter(Y=>Y.status==="Zone").length;return`${p.rounds.length} Rnds Â· Final: ${V}T ${U+V}Z`}return A.name}var k=sr(),T=t(k),q=r(t(T),2);q.__click=D;var z=t(q);{var B=p=>{var A=Vs();ma(),i(p,A)},P=p=>{var A=va("â˜ï¸ Fetch Data");i(p,A)};h(z,p=>{e(u)?p(B):p(P,!1)})}a(q),a(T);var R=r(T,2);{var ve=p=>{var A=Ws();i(p,A)},K=p=>{var A=Xe(),V=ze(A);{var U=H=>{var l=Us();i(H,l)},Y=H=>{var l=tr();De(l,21,()=>e(f),Oe,(b,F)=>{var _=ar();let d;var x=t(_);x.__click=()=>L(e(F).id),x.__keydown=E=>E.key==="Enter"&&L(e(F).id);var Z=t(x),me=t(Z),oe=t(me),fe=t(oe,!0);a(oe);var ne=r(oe,2),$=t(ne,!0);a(ne),a(me);var Q=r(me,2),le=t(Q),M=t(le),se=t(M,!0);a(M);var ce=r(M,2),je=t(ce,!0);a(ce),a(le),a(Q),a(Z);var Be=r(Z,2),qe=t(Be);let Me;var ee=r(qe,2);ee.__click=E=>{E.stopPropagation(),w(e(F).id)};var N=r(ee,2),J=t(N,!0);a(N),a(Be),a(x);var X=r(x,2);{var j=E=>{var ae=er(),re=t(ae);{var _e=ye=>{var we=Xs();De(we,21,()=>e(F).rounds,Oe,(Pe,be)=>{var He=Qs(),Le=t(He),ea=t(Le),Qe=t(ea,!0);a(ea);var Ie=r(ea,2);{var Fe=Ce=>{var Ne=Hs(),la=t(Ne);a(Ne),C(()=>o(la,`#${e(be).position??""}`)),i(Ce,Ne)};h(Ie,Ce=>{e(be).position&&Ce(Fe)})}a(Le);var Ae=r(Le,2);{var ia=Ce=>{var Ne=Js();De(Ne,21,()=>e(be).climbs,Oe,(la,Se)=>{var _a=Ys(),aa=ze(_a),na=t(aa),ta=t(na),ua=t(ta,!0);a(ta);var fa=r(ta,2);{var ie=da=>{var ca=Zs(),qa=t(ca);a(ca),C(()=>o(qa,`(${e(Se).attemptCount??""} tries)`)),i(da,ca)};h(fa,da=>{e(Se).attemptCount>1&&da(ie)})}a(na);var de=r(na,2),W=t(de);let te;var ge=t(W,!0);a(W),a(de),a(aa);var Ze=r(aa,2);{var oa=da=>{var ca=Ks(),qa=t(ca);a(ca),C(()=>o(qa,`"${e(Se).notes??""}"`)),i(da,ca)};h(Ze,da=>{e(Se).notes&&da(oa)})}C(()=>{o(ua,e(Se).name),te=Ee(W,1,"status-badge svelte-xyvf5r",null,te,{top:e(Se).status==="Top"||e(Se).status==="Flash",zone:e(Se).status==="Zone"}),o(ge,e(Se).status)}),i(la,_a)}),a(Ne),i(Ce,Ne)};h(Ae,Ce=>{e(be).climbs&&Ce(ia)})}a(He),C(()=>o(Qe,e(be).name)),i(Pe,He)}),a(we),i(ye,we)};h(re,ye=>{e(F).rounds&&ye(_e)})}var ue=r(re,2);{var pe=ye=>{var we=$s(),Pe=t(we),be=t(Pe);a(Pe),a(we),C(()=>o(be,`Detailed Load: Fingers ${e(F).fingerLoad??""}/5, Shoulders ${e(F).shoulderLoad??""}/5, Forearms ${e(F).forearmLoad??""}/5`)),i(ye,we)};h(ue,ye=>{(e(F).fingerLoad||e(F).shoulderLoad)&&ye(pe)})}var Te=r(ue,2),xe=t(Te);let he;var Ge=t(xe,!0);a(xe),a(Te),a(ae),C(()=>{he=Ee(xe,1,"sync-status svelte-xyvf5r",null,he,{synced:e(F).syncStatus==="synced"}),o(Ge,e(F).syncStatus==="synced"?"âœ“ Synced":"â˜ Local")}),Re(3,ae,()=>Je,()=>({duration:200})),i(E,ae)};h(X,E=>{e(g).has(e(F).id)&&E(j)})}a(_),C((E,ae,re,_e)=>{d=Ee(_,1,"session-card svelte-xyvf5r",null,d,E),o(fe,e(F).customVenue||e(F).venue),o($,ae),o(se,e(F).type),o(je,re),Me=Ee(qe,1,"sync-dot",null,Me,{synced:e(F).syncStatus==="synced"}),ke(qe,"title",e(F).syncStatus==="synced"?"Synced":"Local"),o(J,_e)},[()=>({expanded:e(g).has(e(F).id)}),()=>new Date(e(F).date).toLocaleDateString(void 0,{weekday:"short",day:"numeric",month:"short"}),()=>S(e(F)),()=>e(g).has(e(F).id)?"â–²":"â–¼"]),i(b,_)}),a(l),i(H,l)};h(V,H=>{e(f).length===0?H(U):H(Y,!1)},!0)}i(p,A)};h(R,p=>{e(u)&&e(f).length===0?p(ve):p(K,!1)})}var O=r(R,2);ka(O,{get isOpen(){return e(m)},title:"Delete Competition",message:"Are you sure you want to delete this competition session? This action cannot be undone.",onConfirm:I,onCancel:()=>n(m,!1)}),a(k),C(()=>q.disabled=e(u)),i(y,k),Ye()}Ue(["click","keydown"]);var ir=v("<option> </option>"),lr=v('<div class="view-container svelte-108px9u"><!></div>'),nr=v('<div class="page svelte-108px9u"><div class="page-header svelte-108px9u"><h1 class="svelte-108px9u">ğŸ“Š View Data</h1> <p class="subtitle svelte-108px9u">Browse your training history</p></div> <div class="content-card svelte-108px9u"><div class="form-group svelte-108px9u"><label for="activity-type" class="svelte-108px9u">Activity Type</label> <select id="activity-type" class="svelte-108px9u"><option disabled>Select an activity...</option><!></select></div> <!></div></div>');function mr(y){const s=[{value:"indoor_climb",label:"Indoor Climb",icon:"ğŸ§—"},{value:"outdoor_climb",label:"Outdoor Climb",icon:"â›°ï¸"},{value:"gym_session",label:"Gym Session",icon:"ğŸ‹ï¸"},{value:"fingerboarding",label:"Fingerboarding",icon:"ğŸ¤"},{value:"competition",label:"Competition",icon:"ğŸ†"}];let f=G("");var u=nr(),g=r(t(u),2),m=t(g),c=r(t(m),2),w=t(c);w.value=w.__value="";var I=r(w);De(I,17,()=>s,S=>S.value,(S,k)=>{var T=ir(),q=t(T);a(T);var z={};C(()=>{o(q,`${e(k).icon??""} ${e(k).label??""}`),z!==(z=e(k).value)&&(T.value=(T.__value=e(k).value)??"")}),i(S,T)}),a(c),a(m);var D=r(m,2);{var L=S=>{var k=lr(),T=t(k);{var q=B=>{Wt(B,{})},z=B=>{var P=Xe(),R=ze(P);{var ve=O=>{Cs(O,{})},K=O=>{var p=Xe(),A=ze(p);{var V=Y=>{Ls(Y)},U=Y=>{var H=Xe(),l=ze(H);{var b=_=>{Ps(_,{})},F=_=>{var d=Xe(),x=ze(d);{var Z=me=>{rr(me,{})};h(x,me=>{e(f)==="competition"&&me(Z)},!0)}i(_,d)};h(l,_=>{e(f)==="fingerboarding"?_(b):_(F,!1)},!0)}i(Y,H)};h(A,Y=>{e(f)==="gym_session"?Y(V):Y(U,!1)},!0)}i(O,p)};h(R,O=>{e(f)==="outdoor_climb"?O(ve):O(K,!1)},!0)}i(B,P)};h(T,B=>{e(f)==="indoor_climb"?B(q):B(z,!1)})}a(k),i(S,k)};h(D,S=>{e(f)&&S(L)})}a(g),a(u),pa(c,()=>e(f),S=>n(f,S)),i(y,u)}export{mr as component};
