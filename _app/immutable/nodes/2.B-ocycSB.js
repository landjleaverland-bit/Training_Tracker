import{n as ye,f as Il,r as Qe,s as Xe,h as ke,i as xl,e as Gl,y as Sl,c as Ol,o as Wl}from"../chunks/GsYGQhEn.js";import{y as Kl,z as Yl,A as Jl,B as Ql,l as ue,k as Ie,S as Ze,i as $e,d as _,C as Ye,D as V,E as We,a as H,b as i,F as x,G as Xl,w as a,c as h,e as y,H as F,g as O,h as v,j as N,s as Be,f as he,t as ve,I as Ue,J as Le,K as Ve,m as ze,n as xe,L as Nl,M as Ge,N as He,o as mt,p as bt,q as dt,r as ht,u as vt,v as yt,O as ct,P as ft,Q as Zl}from"../chunks/BD0eBpJ7.js";import{w as Al}from"../chunks/ZG84kFMr.js";function Bl(n,e,t,s){if(!e)return ye;const l=n.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return ye;const{delay:r=0,duration:c=300,easing:o=Il,start:u=Kl()+r,end:m=u+c,tick:f=ye,css:b}=t(n,{from:e,to:l},s);let p=!0,d=!1,k;function g(){b&&(k=Ql(n,0,1,c,r,o,b)),r||(d=!0)}function C(){b&&Jl(n,k),p=!1}return Yl(L=>{if(!d&&L>=u&&(d=!0),d&&L>=m&&(f(1,0),C()),!p)return!1;if(d){const q=L-u,T=0+1*o(q/c);f(T,1-T)}return!0}),g(),f(0,1),C}function Vl(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:s}=e,l=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=s,Et(n,l)}}function Et(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const s=getComputedStyle(n),l=s.transform==="none"?"":s.transform;n.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function ce(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function jl(n,e){n.d(1),e.delete(n.key)}function $l(n,e){Ie(n,1,1,()=>{e.delete(n.key)})}function Pl(n,e){n.f(),$l(n,e)}function kt(n,e,t,s,l,r,c,o,u,m,f,b){let p=n.length,d=r.length,k=p;const g={};for(;k--;)g[n[k].key]=k;const C=[],L=new Map,q=new Map,T=[];for(k=d;k--;){const S=b(l,r,k),w=t(S);let B=c.get(w);B?T.push(()=>B.p(S,e)):(B=m(w,S),B.c()),L.set(w,C[k]=B),w in g&&q.set(w,Math.abs(k-g[w]))}const I=new Set,E=new Set;function D(S){ue(S,1),S.m(o,f),c.set(S.key,S),f=S.first,d--}for(;p&&d;){const S=C[d-1],w=n[p-1],B=S.key,j=w.key;S===w?(f=S.first,p--,d--):L.has(j)?!c.has(B)||I.has(B)?D(S):E.has(j)?p--:q.get(B)>q.get(j)?(E.add(B),D(S)):(I.add(j),p--):(u(w,c),p--)}for(;p--;){const S=n[p];L.has(S.key)||u(S,c)}for(;d;)D(C[d-1]);return Qe(T),C}const Ct="training_tracker_api_key",es="c2fb788c7deedbeaa296e424d4c2921b871a4f6cb4cf393c1c1105653ab399b4",ts=localStorage.getItem(Ct),ut=Al(ts);ut.subscribe(n=>{n?localStorage.setItem(Ct,n):localStorage.removeItem(Ct)});async function ls(n){const e=new TextEncoder().encode(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(l=>l.toString(16).padStart(2,"0")).join("")}async function ss(n){return await ls(n)===es?(ut.set(n),!0):!1}function ns(){ut.set(null)}function Ml(n){const e=n-1;return e*e*e+1}function Me(n,{delay:e=0,duration:t=400,easing:s=Il}={}){const l=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:s,css:r=>`opacity: ${r*l}`}}function Ke(n,{delay:e=0,duration:t=400,easing:s=Ml,axis:l="y"}={}){const r=getComputedStyle(n),c=+r.opacity,o=l==="y"?"height":"width",u=parseFloat(r[o]),m=l==="y"?["top","bottom"]:["left","right"],f=m.map(L=>`${L[0].toUpperCase()}${L.slice(1)}`),b=parseFloat(r[`padding${f[0]}`]),p=parseFloat(r[`padding${f[1]}`]),d=parseFloat(r[`margin${f[0]}`]),k=parseFloat(r[`margin${f[1]}`]),g=parseFloat(r[`border${f[0]}Width`]),C=parseFloat(r[`border${f[1]}Width`]);return{delay:e,duration:t,easing:s,css:L=>`overflow: hidden;opacity: ${Math.min(L*20,1)*c};${o}: ${L*u}px;padding-${m[0]}: ${L*b}px;padding-${m[1]}: ${L*p}px;margin-${m[0]}: ${L*d}px;margin-${m[1]}: ${L*k}px;border-${m[0]}-width: ${L*g}px;border-${m[1]}-width: ${L*C}px;`}}function Dt(n){let e,t;return{c(){e=v("span"),t=ve(n[1]),this.h()},l(s){e=h(s,"SPAN",{class:!0});var l=y(e);t=he(l,n[1]),l.forEach(_),this.h()},h(){a(e,"class","error-text svelte-9dby7l")},m(s,l){H(s,e,l),i(e,t)},p(s,l){l&2&&Be(t,s[1])},d(s){s&&_(e)}}}function os(n){let e,t,s='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',l,r,c="Access Restricted",o,u,m="Please enter your password to unlock the application.",f,b,p,d,k,g,C,L="Unlock App",q,T,I,E=n[1]&&Dt(n);return{c(){e=v("div"),t=v("div"),t.innerHTML=s,l=N(),r=v("h2"),r.textContent=c,o=N(),u=v("p"),u.textContent=m,f=N(),b=v("form"),p=v("div"),d=v("input"),k=N(),E&&E.c(),g=N(),C=v("button"),C.textContent=L,this.h()},l(D){e=h(D,"DIV",{class:!0});var S=y(e);t=h(S,"DIV",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-1lmknyl"&&(t.innerHTML=s),l=O(S),r=h(S,"H2",{class:!0,"data-svelte-h":!0}),F(r)!=="svelte-r8hgrj"&&(r.textContent=c),o=O(S),u=h(S,"P",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-1ix94go"&&(u.textContent=m),f=O(S),b=h(S,"FORM",{class:!0});var w=y(b);p=h(w,"DIV",{class:!0});var B=y(p);d=h(B,"INPUT",{type:!0,placeholder:!0,class:!0}),k=O(B),E&&E.l(B),B.forEach(_),g=O(w),C=h(w,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(C)!=="svelte-6e23ii"&&(C.textContent=L),w.forEach(_),S.forEach(_),this.h()},h(){a(t,"class","lock-icon svelte-9dby7l"),a(r,"class","svelte-9dby7l"),a(u,"class","svelte-9dby7l"),a(d,"type","password"),a(d,"placeholder","Enter Password"),d.disabled=n[2],a(d,"class","svelte-9dby7l"),We(d,"error",n[1]),a(p,"class","input-group svelte-9dby7l"),a(C,"type","submit"),a(C,"class","unlock-button svelte-9dby7l"),a(b,"class","svelte-9dby7l"),a(e,"class","login-container svelte-9dby7l")},m(D,S){H(D,e,S),i(e,t),i(e,l),i(e,r),i(e,o),i(e,u),i(e,f),i(e,b),i(b,p),i(p,d),V(d,n[0]),i(p,k),E&&E.m(p,null),i(b,g),i(b,C),T||(I=[x(d,"input",n[4]),x(b,"submit",Xl(n[3]))],T=!0)},p(D,[S]){S&4&&(d.disabled=D[2]),S&1&&d.value!==D[0]&&V(d,D[0]),S&2&&We(d,"error",D[1]),D[1]?E?E.p(D,S):(E=Dt(D),E.c(),E.m(p,null)):E&&(E.d(1),E=null)},i(D){D&&(q||ke(()=>{q=Ye(e,Me,{}),q.start()}))},o:ye,d(D){D&&_(e),E&&E.d(),T=!1,Qe(I)}}}function rs(n,e,t){let s="",l="",r=!1;async function c(){if(!s.trim()){t(1,l="Please enter a password");return}t(2,r=!0),t(1,l="");try{await ss(s.trim())||t(1,l="Incorrect password")}catch{t(1,l="An error occurred")}finally{t(2,r=!1)}}function o(){s=this.value,t(0,s)}return[s,l,r,c,o]}class as extends Ze{constructor(e){super(),$e(this,e,rs,os,Xe,{})}}function Rl(n,{from:e,to:t},s={}){const l=getComputedStyle(n),r=l.transform==="none"?"":l.transform,[c,o]=l.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*c/t.width-(t.left+c),m=e.top+e.height*o/t.height-(t.top+o),{delay:f=0,duration:b=d=>Math.sqrt(d)*120,easing:p=Ml}=s;return{delay:f,duration:xl(b)?b(Math.sqrt(u*u+m*m)):b,easing:p,css:(d,k)=>{const g=k*u,C=k*m,L=d+k*e.width/t.width,q=d+k*e.height/t.height;return`transform: ${r} translate(${g}px, ${C}px) scale(${L}, ${q});`}}}function Lt(n,e,t){const s=n.slice();return s[21]=e[t],s[22]=e,s[23]=t,s}function It(n,e,t){const s=n.slice();return s[24]=e[t],s}function St(n,e,t){const s=n.slice();return s[24]=e[t],s}function Ot(n){let e,t=n[24]+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=h(l,"OPTION",{class:!0});var r=y(e);s=he(r,t),r.forEach(_),this.h()},h(){e.__value=n[24],V(e,e.__value),a(e,"class","svelte-7axjse")},m(l,r){H(l,e,r),i(e,s)},p:ye,d(l){l&&_(e)}}}function Nt(n){let e,t=n[24]+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=h(l,"OPTION",{class:!0});var r=y(e);s=he(r,t),r.forEach(_),this.h()},h(){e.__value=n[24],V(e,e.__value),a(e,"class","svelte-7axjse")},m(l,r){H(l,e,r),i(e,s)},p:ye,d(l){l&&_(e)}}}function At(n,e){let t,s,l,r,c,o,u,m,f,b,p,d,k,g,C,L='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',q,T,I,E=ye,D,S,w;function B(){e[16].call(l,e[22],e[23])}function j(){e[17].call(o,e[22],e[23])}function K(){e[18].call(f,e[22],e[23])}function le(){e[19].call(d,e[22],e[23])}function Ee(){return e[20](e[21])}return{key:n,first:null,c(){t=v("tr"),s=v("td"),l=v("input"),r=N(),c=v("td"),o=v("input"),u=N(),m=v("td"),f=v("input"),b=N(),p=v("td"),d=v("textarea"),k=N(),g=v("td"),C=v("button"),C.innerHTML=L,q=N(),this.h()},l(P){t=h(P,"TR",{});var A=y(t);s=h(A,"TD",{class:!0});var Z=y(s);l=h(Z,"INPUT",{type:!0,class:!0}),Z.forEach(_),r=O(A),c=h(A,"TD",{class:!0});var re=y(c);o=h(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(_),u=O(A),m=h(A,"TD",{class:!0});var ee=y(m);f=h(ee,"INPUT",{type:!0,placeholder:!0,class:!0}),ee.forEach(_),b=O(A),p=h(A,"TD",{class:!0});var ae=y(p);d=h(ae,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),y(d).forEach(_),ae.forEach(_),k=O(A),g=h(A,"TD",{class:!0});var X=y(g);C=h(X,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),F(C)!=="svelte-zfon6j"&&(C.innerHTML=L),X.forEach(_),q=O(A),A.forEach(_),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-7axjse"),a(s,"class","checkbox-col svelte-7axjse"),a(o,"type","text"),a(o,"placeholder","e.g. Blue"),a(o,"class","svelte-7axjse"),a(c,"class","svelte-7axjse"),a(f,"type","text"),a(f,"placeholder","e.g. 6b+"),a(f,"class","svelte-7axjse"),a(m,"class","svelte-7axjse"),a(d,"placeholder","e.g. Smooth"),a(d,"rows","1"),a(d,"class","svelte-7axjse"),a(p,"class","svelte-7axjse"),a(C,"class","delete-btn svelte-7axjse"),a(C,"title","Remove row"),a(g,"class","actions-col svelte-7axjse"),this.first=t},m(P,A){H(P,t,A),i(t,s),i(s,l),l.checked=e[21].isRopes,i(t,r),i(t,c),i(c,o),V(o,e[21].name),i(t,u),i(t,m),i(m,f),V(f,e[21].grade),i(t,b),i(t,p),i(p,d),V(d,e[21].notes),i(t,k),i(t,g),i(g,C),i(t,q),D=!0,S||(w=[x(l,"change",B),x(o,"input",j),x(f,"input",K),x(d,"input",le),x(C,"click",Ee)],S=!0)},p(P,A){e=P,A&32&&(l.checked=e[21].isRopes),A&32&&o.value!==e[21].name&&V(o,e[21].name),A&32&&f.value!==e[21].grade&&V(f,e[21].grade),A&32&&V(d,e[21].notes)},r(){I=t.getBoundingClientRect()},f(){Vl(t),E(),Et(t,I)},a(){E(),E=Bl(t,I,Rl,{duration:300})},i(P){D||(T&&T.end(1),D=!0)},o(P){P&&(T=Nl(t,Ke,{duration:200})),D=!1},d(P){P&&_(t),P&&T&&T.end(),S=!1,Qe(w)}}}function is(n){let e,t,s,l,r="Location",c,o,u,m="Select Location",f,b,p,d="Session Focus",k,g,C,L="Select Focus",q,T,I,E,D="Finger Load (0-5)",S,w,B,j,K,le="Shoulder Load (0-5)",Ee,P,A,Z,re,ee="Forearm Load (0-5)",ae,X,De,_e,pe,se,je="Exercises / Routes",fe,de,we=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,Se,Y,$,G,ge='<tr><th class="checkbox-col svelte-7axjse">Ropes?</th> <th class="svelte-7axjse">Route</th> <th class="svelte-7axjse">Grade</th> <th class="svelte-7axjse">Notes</th> <th class="actions-col svelte-7axjse"></th></tr>',te,R,U=[],z=new Map,ie,Te,oe,Ae,me=ce(n[6]),be=[];for(let M=0;M<me.length;M+=1)be[M]=Ot(St(n,me,M));let Pe=ce(n[7]),qe=[];for(let M=0;M<Pe.length;M+=1)qe[M]=Nt(It(n,Pe,M));let Fe=ce(n[5]);const Oe=M=>M[21].id;for(let M=0;M<Fe.length;M+=1){let Q=Lt(n,Fe,M),W=Oe(Q);z.set(W,U[M]=At(W,Q))}return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=r,c=N(),o=v("select"),u=v("option"),u.textContent=m;for(let M=0;M<be.length;M+=1)be[M].c();f=N(),b=v("div"),p=v("label"),p.textContent=d,k=N(),g=v("select"),C=v("option"),C.textContent=L;for(let M=0;M<qe.length;M+=1)qe[M].c();q=N(),T=v("div"),I=v("div"),E=v("label"),E.textContent=D,S=N(),w=v("input"),B=N(),j=v("div"),K=v("label"),K.textContent=le,Ee=N(),P=v("input"),A=N(),Z=v("div"),re=v("label"),re.textContent=ee,ae=N(),X=v("input"),De=N(),_e=v("div"),pe=v("div"),se=v("h3"),se.textContent=je,fe=N(),de=v("button"),de.innerHTML=we,Se=N(),Y=v("div"),$=v("table"),G=v("thead"),G.innerHTML=ge,te=N(),R=v("tbody");for(let M=0;M<U.length;M+=1)U[M].c();this.h()},l(M){e=h(M,"DIV",{class:!0});var Q=y(e);t=h(Q,"DIV",{class:!0});var W=y(t);s=h(W,"DIV",{class:!0});var Ne=y(s);l=h(Ne,"LABEL",{for:!0,"data-svelte-h":!0}),F(l)!=="svelte-1ij7h26"&&(l.textContent=r),c=O(Ne),o=h(Ne,"SELECT",{id:!0,class:!0});var et=y(o);u=h(et,"OPTION",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-mwu9va"&&(u.textContent=m);for(let Re=0;Re<be.length;Re+=1)be[Re].l(et);et.forEach(_),Ne.forEach(_),f=O(W),b=h(W,"DIV",{class:!0});var rt=y(b);p=h(rt,"LABEL",{for:!0,"data-svelte-h":!0}),F(p)!=="svelte-tg5qne"&&(p.textContent=d),k=O(rt),g=h(rt,"SELECT",{id:!0,class:!0});var J=y(g);C=h(J,"OPTION",{class:!0,"data-svelte-h":!0}),F(C)!=="svelte-1ni71k3"&&(C.textContent=L);for(let Re=0;Re<qe.length;Re+=1)qe[Re].l(J);J.forEach(_),rt.forEach(_),W.forEach(_),q=O(Q),T=h(Q,"DIV",{class:!0});var ne=y(T);I=h(ne,"DIV",{class:!0});var Ce=y(I);E=h(Ce,"LABEL",{for:!0,"data-svelte-h":!0}),F(E)!=="svelte-oda77g"&&(E.textContent=D),S=O(Ce),w=h(Ce,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Ce.forEach(_),B=O(ne),j=h(ne,"DIV",{class:!0});var Je=y(j);K=h(Je,"LABEL",{for:!0,"data-svelte-h":!0}),F(K)!=="svelte-1vtbxrq"&&(K.textContent=le),Ee=O(Je),P=h(Je,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Je.forEach(_),A=O(ne),Z=h(ne,"DIV",{class:!0});var ot=y(Z);re=h(ot,"LABEL",{for:!0,"data-svelte-h":!0}),F(re)!=="svelte-198js8s"&&(re.textContent=ee),ae=O(ot),X=h(ot,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),ot.forEach(_),ne.forEach(_),De=O(Q),_e=h(Q,"DIV",{class:!0});var tt=y(_e);pe=h(tt,"DIV",{class:!0});var lt=y(pe);se=h(lt,"H3",{class:!0,"data-svelte-h":!0}),F(se)!=="svelte-10xktbo"&&(se.textContent=je),fe=O(lt),de=h(lt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),F(de)!=="svelte-psf54d"&&(de.innerHTML=we),lt.forEach(_),Se=O(tt),Y=h(tt,"DIV",{class:!0});var st=y(Y);$=h(st,"TABLE",{class:!0});var nt=y($);G=h(nt,"THEAD",{"data-svelte-h":!0}),F(G)!=="svelte-3ucy7b"&&(G.innerHTML=ge),te=O(nt),R=h(nt,"TBODY",{});var at=y(R);for(let Re=0;Re<U.length;Re+=1)U[Re].l(at);at.forEach(_),nt.forEach(_),st.forEach(_),tt.forEach(_),Q.forEach(_),this.h()},h(){a(l,"for","climb-location"),u.__value="",V(u,u.__value),u.disabled=!0,u.selected=!0,a(u,"class","svelte-7axjse"),a(o,"id","climb-location"),a(o,"class","svelte-7axjse"),n[0]===void 0&&ke(()=>n[11].call(o)),a(s,"class","input-group svelte-7axjse"),a(p,"for","climb-session"),C.__value="",V(C,C.__value),C.disabled=!0,C.selected=!0,a(C,"class","svelte-7axjse"),a(g,"id","climb-session"),a(g,"class","svelte-7axjse"),n[1]===void 0&&ke(()=>n[12].call(g)),a(b,"class","input-group svelte-7axjse"),a(t,"class","form-grid svelte-7axjse"),a(E,"for","finger-load"),a(w,"id","finger-load"),a(w,"type","number"),a(w,"min","0"),a(w,"max","5"),a(w,"class","svelte-7axjse"),a(I,"class","load-group svelte-7axjse"),a(K,"for","shoulder-load"),a(P,"id","shoulder-load"),a(P,"type","number"),a(P,"min","0"),a(P,"max","5"),a(P,"class","svelte-7axjse"),a(j,"class","load-group svelte-7axjse"),a(re,"for","forearm-load"),a(X,"id","forearm-load"),a(X,"type","number"),a(X,"min","0"),a(X,"max","5"),a(X,"class","svelte-7axjse"),a(Z,"class","load-group svelte-7axjse"),a(T,"class","load-metrics svelte-7axjse"),a(se,"class","svelte-7axjse"),a(de,"class","add-row-btn svelte-7axjse"),a(de,"title","Add Exercise"),a(pe,"class","section-header svelte-7axjse"),a($,"class","svelte-7axjse"),a(Y,"class","table-container svelte-7axjse"),a(_e,"class","exercise-section svelte-7axjse"),a(e,"class","indoor-config svelte-7axjse")},m(M,Q){H(M,e,Q),i(e,t),i(t,s),i(s,l),i(s,c),i(s,o),i(o,u);for(let W=0;W<be.length;W+=1)be[W]&&be[W].m(o,null);Le(o,n[0],!0),i(t,f),i(t,b),i(b,p),i(b,k),i(b,g),i(g,C);for(let W=0;W<qe.length;W+=1)qe[W]&&qe[W].m(g,null);Le(g,n[1],!0),i(e,q),i(e,T),i(T,I),i(I,E),i(I,S),i(I,w),V(w,n[2]),i(T,B),i(T,j),i(j,K),i(j,Ee),i(j,P),V(P,n[3]),i(T,A),i(T,Z),i(Z,re),i(Z,ae),i(Z,X),V(X,n[4]),i(e,De),i(e,_e),i(_e,pe),i(pe,se),i(pe,fe),i(pe,de),i(_e,Se),i(_e,Y),i(Y,$),i($,G),i($,te),i($,R);for(let W=0;W<U.length;W+=1)U[W]&&U[W].m(R,null);Te=!0,oe||(Ae=[x(o,"change",n[11]),x(g,"change",n[12]),x(w,"input",n[13]),x(P,"input",n[14]),x(X,"input",n[15]),x(de,"click",n[8])],oe=!0)},p(M,[Q]){if(Q&64){me=ce(M[6]);let W;for(W=0;W<me.length;W+=1){const Ne=St(M,me,W);be[W]?be[W].p(Ne,Q):(be[W]=Ot(Ne),be[W].c(),be[W].m(o,null))}for(;W<be.length;W+=1)be[W].d(1);be.length=me.length}if(Q&65&&Le(o,M[0]),Q&128){Pe=ce(M[7]);let W;for(W=0;W<Pe.length;W+=1){const Ne=It(M,Pe,W);qe[W]?qe[W].p(Ne,Q):(qe[W]=Nt(Ne),qe[W].c(),qe[W].m(g,null))}for(;W<qe.length;W+=1)qe[W].d(1);qe.length=Pe.length}if(Q&130&&Le(g,M[1]),Q&4&&Ve(w.value)!==M[2]&&V(w,M[2]),Q&8&&Ve(P.value)!==M[3]&&V(P,M[3]),Q&16&&Ve(X.value)!==M[4]&&V(X,M[4]),Q&544){Fe=ce(M[5]),ze();for(let W=0;W<U.length;W+=1)U[W].r();U=kt(U,Q,Oe,1,M,Fe,z,R,Pl,At,null,Lt);for(let W=0;W<U.length;W+=1)U[W].a();xe()}},i(M){if(!Te){for(let Q=0;Q<Fe.length;Q+=1)ue(U[Q]);M&&(ie||ke(()=>{ie=Ye(e,Me,{}),ie.start()})),Te=!0}},o(M){for(let Q=0;Q<U.length;Q+=1)Ie(U[Q]);Te=!1},d(M){M&&_(e),Ue(be,M),Ue(qe,M);for(let Q=0;Q<U.length;Q+=1)U[Q].d();oe=!1,Qe(Ae)}}}function us(n,e,t){let s="",l="",r=0,c=0,o=0,u=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];const m=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],f=["Strength","Endurance","Power","Recovery"];function b(){t(5,u=[...u,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function p(w){u.length>1?t(5,u=u.filter(B=>B.id!==w)):t(5,u=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function d(){return{location:s,session:l,fingerLoad:r,shoulderLoad:c,forearmLoad:o,exercises:u}}function k(){s=Ge(this),t(0,s),t(6,m)}function g(){l=Ge(this),t(1,l),t(7,f)}function C(){r=Ve(this.value),t(2,r)}function L(){c=Ve(this.value),t(3,c)}function q(){o=Ve(this.value),t(4,o)}function T(w,B){w[B].isRopes=this.checked,t(5,u)}function I(w,B){w[B].name=this.value,t(5,u)}function E(w,B){w[B].grade=this.value,t(5,u)}function D(w,B){w[B].notes=this.value,t(5,u)}return[s,l,r,c,o,u,m,f,b,p,d,k,g,C,L,q,T,I,E,D,w=>p(w.id)]}class cs extends Ze{constructor(e){super(),$e(this,e,us,is,Xe,{getData:10})}get getData(){return this.$$.ctx[10]}}function fs(n){let e,t=`<h3 class="svelte-fh7bet">Gym Session Config</h3> <p class="svelte-fh7bet">Specific fields for gym sessions will go here (e.g., Focus, Exercises,
        Sets/Reps).</p> <div class="placeholder-box svelte-fh7bet"></div>`,s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-gs8whu"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,r){H(l,e,r)},p:ye,i(l){l&&(s||ke(()=>{s=Ye(e,Me,{}),s.start()}))},o:ye,d(l){l&&_(e)}}}let ds="",hs="";function vs(n,e,t){let s=[];function l(){return{location:ds,session:hs,exercises:s,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class _s extends Ze{constructor(e){super(),$e(this,e,vs,fs,Xe,{getData:0})}get getData(){return this.$$.ctx[0]}}const Ul=["Portland","Swanage","Bristol","Costa Del Severn","Cotswolds","Mendips","Wye Valley","Gower","South Wales","North Wales","Peak District","Devon","Fontainebleau","Switzerland","Other"],Hl={Portland:["Blacknor Far North","Blacknor North","Blacknor Central","Blacknor South","Blacknor Far South","Battleship Edge","Battleship Back Cliff","Wallsend North","Wallsend South","Coastguard North","Coastguard South","Godnor","Neddyfields","Cheyne Cliff","The Cuttings","The New Cuttings","The Cuttings Boulderfield"],Swanage:["Dancing Ledge","Hedbury","Winspit"],"Wye Valley":["Ban-y-Gor","Biblins Cave","Woodcroft Quarry","Wyndcliff Quarry"],"Costa Del Severn":["Brean","Clevedon","Portishead Quarry"],Bristol:["Avon Gorge","Leigh Woods","Bickley Wood","Hambrook"],Cotswolds:["Sally-in-the-Wood","Browns Folly"],Mendips:["Cheddar Gorge"],Gower:["Rhossili","Trial Wall Area","Foxhole"],"South Wales":["Dinas Rock","Ogmore"],"North Wales":["Cromlech","Australia"],"Peak District":["Burbage South Valley","Gardoms Edge","Raven Tor","Stanage","Curbar Edge"],Devon:["Dartmoor","Hartland","Tintagel"],Fontainebleau:["Bas Cuvier","Apremont","Franchard Isatis","Roche aux Sabots","Cul de Chien","Elephant"],Switzerland:["Magic Wood","Chironico","Cresciano","Brione","San Carlo"]};function Bt(n,e,t){const s=n.slice();return s[28]=e[t],s[29]=e,s[30]=t,s}function Vt(n,e,t){const s=n.slice();return s[31]=e[t],s}function ps(n,e,t){const s=n.slice();return s[34]=e[t],s}function gs(n){let e,t;return{c(){e=v("option"),t=ve(n[34]),this.h()},l(s){e=h(s,"OPTION",{class:!0});var l=y(e);t=he(l,n[34]),l.forEach(_),this.h()},h(){e.__value=n[34],V(e,e.__value),a(e,"class","svelte-6senle")},m(s,l){H(s,e,l),i(e,t)},p:ye,d(s){s&&_(e)}}}function jt(n){let e,t,s,l,r,c;return{c(){e=v("div"),t=v("input"),this.h()},l(o){e=h(o,"DIV",{});var u=y(e);t=h(u,"INPUT",{type:!0,placeholder:!0,class:!0}),u.forEach(_),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Area..."),a(t,"class","custom-input svelte-6senle")},m(o,u){H(o,e,u),i(e,t),V(t,n[1]),l=!0,r||(c=x(t,"input",n[15]),r=!0)},p(o,u){u[0]&2&&t.value!==o[1]&&V(t,o[1])},i(o){l||(o&&ke(()=>{l&&(s||(s=He(e,Ke,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=He(e,Ke,{},!1)),s.run(0)),l=!1},d(o){o&&_(e),o&&s&&s.end(),r=!1,c()}}}function ms(n){let e,t,s,l,r;return{c(){e=v("input"),this.h()},l(c){e=h(c,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),this.h()},h(){a(e,"id","climb-crag"),a(e,"type","text"),a(e,"placeholder",t=n[0]==="Other"?"Enter Crag Name":"Select area first..."),e.disabled=s=!n[0],a(e,"class","svelte-6senle")},m(c,o){H(c,e,o),V(e,n[2]),l||(r=x(e,"input",n[18]),l=!0)},p(c,o){o[0]&1&&t!==(t=c[0]==="Other"?"Enter Crag Name":"Select area first...")&&a(e,"placeholder",t),o[0]&1&&s!==(s=!c[0])&&(e.disabled=s),o[0]&516&&e.value!==c[2]&&V(e,c[2])},d(c){c&&_(e),l=!1,r()}}}function bs(n){let e,t,s="Select Crag",l,r="Other (Custom)",c,o,u,m,f=ce(n[9]),b=[];for(let d=0;d<f.length;d+=1)b[d]=Pt(Vt(n,f,d));let p=n[2]==="Other"&&Mt(n);return{c(){e=v("select"),t=v("option"),t.textContent=s;for(let d=0;d<b.length;d+=1)b[d].c();l=v("option"),l.textContent=r,c=N(),p&&p.c(),o=mt(),this.h()},l(d){e=h(d,"SELECT",{id:!0,class:!0});var k=y(e);t=h(k,"OPTION",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-1bf8330"&&(t.textContent=s);for(let g=0;g<b.length;g+=1)b[g].l(k);l=h(k,"OPTION",{class:!0,"data-svelte-h":!0}),F(l)!=="svelte-1ws39oy"&&(l.textContent=r),k.forEach(_),c=O(d),p&&p.l(d),o=mt(),this.h()},h(){t.__value="",V(t,t.__value),t.disabled=!0,t.selected=!0,a(t,"class","svelte-6senle"),l.__value="Other",V(l,l.__value),a(l,"class","svelte-6senle"),a(e,"id","climb-crag"),a(e,"class","svelte-6senle"),n[2]===void 0&&ke(()=>n[16].call(e))},m(d,k){H(d,e,k),i(e,t);for(let g=0;g<b.length;g+=1)b[g]&&b[g].m(e,null);i(e,l),Le(e,n[2],!0),H(d,c,k),p&&p.m(d,k),H(d,o,k),u||(m=x(e,"change",n[16]),u=!0)},p(d,k){if(k[0]&512){f=ce(d[9]);let g;for(g=0;g<f.length;g+=1){const C=Vt(d,f,g);b[g]?b[g].p(C,k):(b[g]=Pt(C),b[g].c(),b[g].m(e,l))}for(;g<b.length;g+=1)b[g].d(1);b.length=f.length}k[0]&516&&Le(e,d[2]),d[2]==="Other"?p?(p.p(d,k),k[0]&4&&ue(p,1)):(p=Mt(d),p.c(),ue(p,1),p.m(o.parentNode,o)):p&&(ze(),Ie(p,1,1,()=>{p=null}),xe())},d(d){d&&(_(e),_(c),_(o)),Ue(b,d),p&&p.d(d),u=!1,m()}}}function Pt(n){let e,t=n[31]+"",s,l;return{c(){e=v("option"),s=ve(t),this.h()},l(r){e=h(r,"OPTION",{class:!0});var c=y(e);s=he(c,t),c.forEach(_),this.h()},h(){e.__value=l=n[31],V(e,e.__value),a(e,"class","svelte-6senle")},m(r,c){H(r,e,c),i(e,s)},p(r,c){c[0]&512&&t!==(t=r[31]+"")&&Be(s,t),c[0]&512&&l!==(l=r[31])&&(e.__value=l,V(e,e.__value))},d(r){r&&_(e)}}}function Mt(n){let e,t,s,l,r,c;return{c(){e=v("div"),t=v("input"),this.h()},l(o){e=h(o,"DIV",{});var u=y(e);t=h(u,"INPUT",{type:!0,placeholder:!0,class:!0}),u.forEach(_),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Custom Crag..."),a(t,"class","custom-input svelte-6senle")},m(o,u){H(o,e,u),i(e,t),V(t,n[3]),l=!0,r||(c=x(t,"input",n[17]),r=!0)},p(o,u){u[0]&8&&t.value!==o[3]&&V(t,o[3])},i(o){l||(o&&ke(()=>{l&&(s||(s=He(e,Ke,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=He(e,Ke,{},!1)),s.run(0)),l=!1},d(o){o&&_(e),o&&s&&s.end(),r=!1,c()}}}function Rt(n,e){let t,s,l,r,c,o,u,m,f,b,p,d,k,g,C,L='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',q,T,I,E=ye,D,S,w;function B(){e[23].call(l,e[29],e[30])}function j(){e[24].call(o,e[29],e[30])}function K(){e[25].call(f,e[29],e[30])}function le(){e[26].call(d,e[29],e[30])}function Ee(){return e[27](e[28])}return{key:n,first:null,c(){t=v("tr"),s=v("td"),l=v("input"),r=N(),c=v("td"),o=v("input"),u=N(),m=v("td"),f=v("input"),b=N(),p=v("td"),d=v("textarea"),k=N(),g=v("td"),C=v("button"),C.innerHTML=L,q=N(),this.h()},l(P){t=h(P,"TR",{});var A=y(t);s=h(A,"TD",{class:!0});var Z=y(s);l=h(Z,"INPUT",{type:!0,class:!0}),Z.forEach(_),r=O(A),c=h(A,"TD",{class:!0});var re=y(c);o=h(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(_),u=O(A),m=h(A,"TD",{class:!0});var ee=y(m);f=h(ee,"INPUT",{type:!0,placeholder:!0,class:!0}),ee.forEach(_),b=O(A),p=h(A,"TD",{class:!0});var ae=y(p);d=h(ae,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),y(d).forEach(_),ae.forEach(_),k=O(A),g=h(A,"TD",{class:!0});var X=y(g);C=h(X,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),F(C)!=="svelte-zfon6j"&&(C.innerHTML=L),X.forEach(_),q=O(A),A.forEach(_),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-6senle"),a(s,"class","checkbox-col svelte-6senle"),a(o,"type","text"),a(o,"placeholder","e.g. Deliverance"),a(o,"class","svelte-6senle"),a(c,"class","svelte-6senle"),a(f,"type","text"),a(f,"placeholder","e.g. 7a+"),a(f,"class","svelte-6senle"),a(m,"class","svelte-6senle"),a(d,"placeholder","e.g. 2nd go"),a(d,"rows","1"),a(d,"class","svelte-6senle"),a(p,"class","svelte-6senle"),a(C,"class","delete-btn svelte-6senle"),a(C,"title","Remove row"),a(g,"class","actions-col svelte-6senle"),this.first=t},m(P,A){H(P,t,A),i(t,s),i(s,l),l.checked=e[28].isRopes,i(t,r),i(t,c),i(c,o),V(o,e[28].name),i(t,u),i(t,m),i(m,f),V(f,e[28].grade),i(t,b),i(t,p),i(p,d),V(d,e[28].notes),i(t,k),i(t,g),i(g,C),i(t,q),D=!0,S||(w=[x(l,"change",B),x(o,"input",j),x(f,"input",K),x(d,"input",le),x(C,"click",Ee)],S=!0)},p(P,A){e=P,A[0]&256&&(l.checked=e[28].isRopes),A[0]&256&&o.value!==e[28].name&&V(o,e[28].name),A[0]&256&&f.value!==e[28].grade&&V(f,e[28].grade),A[0]&256&&V(d,e[28].notes)},r(){I=t.getBoundingClientRect()},f(){Vl(t),E(),Et(t,I)},a(){E(),E=Bl(t,I,Rl,{duration:300})},i(P){D||(T&&T.end(1),D=!0)},o(P){P&&(T=Nl(t,Ke,{duration:200})),D=!1},d(P){P&&_(t),P&&T&&T.end(),S=!1,Qe(w)}}}function ks(n){let e,t,s,l,r="Area",c,o,u,m="Select Area",f,b,p,d,k="Crag",g,C,L,q,T="Wall / Sector",I,E,D,S,w,B,j="Finger Load (0-5)",K,le,Ee,P,A,Z="Shoulder Load (0-5)",re,ee,ae,X,De,_e="Forearm Load (0-5)",pe,se,je,fe,de,we,Se="Routes",Y,$,G=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,ge,te,R,U,z='<tr><th class="checkbox-col svelte-6senle">Ropes?</th> <th class="svelte-6senle">Route</th> <th class="svelte-6senle">Grade</th> <th class="svelte-6senle">Notes</th> <th class="actions-col svelte-6senle"></th></tr>',ie,Te,oe=[],Ae=new Map,me,be,Pe,qe,Fe=ce(Ul),Oe=[];for(let J=0;J<Fe.length;J+=1)Oe[J]=gs(ps(n,Fe,J));let M=n[0]==="Other"&&jt(n);function Q(J,ne){return J[0]&&J[0]!=="Other"?bs:ms}let W=Q(n),Ne=W(n),et=ce(n[8]);const rt=J=>J[28].id;for(let J=0;J<et.length;J+=1){let ne=Bt(n,et,J),Ce=rt(ne);Ae.set(Ce,oe[J]=Rt(Ce,ne))}return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=r,c=N(),o=v("select"),u=v("option"),u.textContent=m;for(let J=0;J<Oe.length;J+=1)Oe[J].c();f=N(),M&&M.c(),b=N(),p=v("div"),d=v("label"),d.textContent=k,g=N(),Ne.c(),C=N(),L=v("div"),q=v("label"),q.textContent=T,I=N(),E=v("input"),D=N(),S=v("div"),w=v("div"),B=v("label"),B.textContent=j,K=N(),le=v("input"),Ee=N(),P=v("div"),A=v("label"),A.textContent=Z,re=N(),ee=v("input"),ae=N(),X=v("div"),De=v("label"),De.textContent=_e,pe=N(),se=v("input"),je=N(),fe=v("div"),de=v("div"),we=v("h3"),we.textContent=Se,Y=N(),$=v("button"),$.innerHTML=G,ge=N(),te=v("div"),R=v("table"),U=v("thead"),U.innerHTML=z,ie=N(),Te=v("tbody");for(let J=0;J<oe.length;J+=1)oe[J].c();this.h()},l(J){e=h(J,"DIV",{class:!0});var ne=y(e);t=h(ne,"DIV",{class:!0});var Ce=y(t);s=h(Ce,"DIV",{class:!0});var Je=y(s);l=h(Je,"LABEL",{for:!0,"data-svelte-h":!0}),F(l)!=="svelte-10bxq12"&&(l.textContent=r),c=O(Je),o=h(Je,"SELECT",{id:!0,class:!0});var ot=y(o);u=h(ot,"OPTION",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-18hyx00"&&(u.textContent=m);for(let it=0;it<Oe.length;it+=1)Oe[it].l(ot);ot.forEach(_),f=O(Je),M&&M.l(Je),Je.forEach(_),b=O(Ce),p=h(Ce,"DIV",{class:!0});var tt=y(p);d=h(tt,"LABEL",{for:!0,"data-svelte-h":!0}),F(d)!=="svelte-1d1q4si"&&(d.textContent=k),g=O(tt),Ne.l(tt),tt.forEach(_),C=O(Ce),L=h(Ce,"DIV",{class:!0});var lt=y(L);q=h(lt,"LABEL",{for:!0,"data-svelte-h":!0}),F(q)!=="svelte-2wtmd"&&(q.textContent=T),I=O(lt),E=h(lt,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),lt.forEach(_),Ce.forEach(_),D=O(ne),S=h(ne,"DIV",{class:!0});var st=y(S);w=h(st,"DIV",{class:!0});var nt=y(w);B=h(nt,"LABEL",{for:!0,"data-svelte-h":!0}),F(B)!=="svelte-oda77g"&&(B.textContent=j),K=O(nt),le=h(nt,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),nt.forEach(_),Ee=O(st),P=h(st,"DIV",{class:!0});var at=y(P);A=h(at,"LABEL",{for:!0,"data-svelte-h":!0}),F(A)!=="svelte-1vtbxrq"&&(A.textContent=Z),re=O(at),ee=h(at,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),at.forEach(_),ae=O(st),X=h(st,"DIV",{class:!0});var Re=y(X);De=h(Re,"LABEL",{for:!0,"data-svelte-h":!0}),F(De)!=="svelte-198js8s"&&(De.textContent=_e),pe=O(Re),se=h(Re,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Re.forEach(_),st.forEach(_),je=O(ne),fe=h(ne,"DIV",{class:!0});var _t=y(fe);de=h(_t,"DIV",{class:!0});var pt=y(de);we=h(pt,"H3",{class:!0,"data-svelte-h":!0}),F(we)!=="svelte-1nagf2u"&&(we.textContent=Se),Y=O(pt),$=h(pt,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),F($)!=="svelte-uzzlti"&&($.innerHTML=G),pt.forEach(_),ge=O(_t),te=h(_t,"DIV",{class:!0});var Tt=y(te);R=h(Tt,"TABLE",{class:!0});var gt=y(R);U=h(gt,"THEAD",{"data-svelte-h":!0}),F(U)!=="svelte-3ucy7b"&&(U.innerHTML=z),ie=O(gt),Te=h(gt,"TBODY",{});var qt=y(Te);for(let it=0;it<oe.length;it+=1)oe[it].l(qt);qt.forEach(_),gt.forEach(_),Tt.forEach(_),_t.forEach(_),ne.forEach(_),this.h()},h(){a(l,"for","climb-area"),u.__value="",V(u,u.__value),u.disabled=!0,u.selected=!0,a(u,"class","svelte-6senle"),a(o,"id","climb-area"),a(o,"class","svelte-6senle"),n[0]===void 0&&ke(()=>n[14].call(o)),a(s,"class","input-group svelte-6senle"),a(d,"for","climb-crag"),a(p,"class","input-group svelte-6senle"),a(q,"for","climb-wall"),a(E,"id","climb-wall"),a(E,"type","text"),a(E,"placeholder","e.g. Popular End"),a(E,"class","svelte-6senle"),a(L,"class","input-group svelte-6senle"),a(t,"class","form-grid svelte-6senle"),a(B,"for","finger-load"),a(le,"id","finger-load"),a(le,"type","number"),a(le,"min","0"),a(le,"max","5"),a(le,"class","svelte-6senle"),a(w,"class","load-group svelte-6senle"),a(A,"for","shoulder-load"),a(ee,"id","shoulder-load"),a(ee,"type","number"),a(ee,"min","0"),a(ee,"max","5"),a(ee,"class","svelte-6senle"),a(P,"class","load-group svelte-6senle"),a(De,"for","forearm-load"),a(se,"id","forearm-load"),a(se,"type","number"),a(se,"min","0"),a(se,"max","5"),a(se,"class","svelte-6senle"),a(X,"class","load-group svelte-6senle"),a(S,"class","load-metrics svelte-6senle"),a(we,"class","svelte-6senle"),a($,"class","add-row-btn svelte-6senle"),a($,"title","Add Route"),a(de,"class","section-header svelte-6senle"),a(R,"class","svelte-6senle"),a(te,"class","table-container svelte-6senle"),a(fe,"class","exercise-section svelte-6senle"),a(e,"class","outdoor-config svelte-6senle")},m(J,ne){H(J,e,ne),i(e,t),i(t,s),i(s,l),i(s,c),i(s,o),i(o,u);for(let Ce=0;Ce<Oe.length;Ce+=1)Oe[Ce]&&Oe[Ce].m(o,null);Le(o,n[0],!0),i(s,f),M&&M.m(s,null),i(t,b),i(t,p),i(p,d),i(p,g),Ne.m(p,null),i(t,C),i(t,L),i(L,q),i(L,I),i(L,E),V(E,n[4]),i(e,D),i(e,S),i(S,w),i(w,B),i(w,K),i(w,le),V(le,n[5]),i(S,Ee),i(S,P),i(P,A),i(P,re),i(P,ee),V(ee,n[6]),i(S,ae),i(S,X),i(X,De),i(X,pe),i(X,se),V(se,n[7]),i(e,je),i(e,fe),i(fe,de),i(de,we),i(de,Y),i(de,$),i(fe,ge),i(fe,te),i(te,R),i(R,U),i(R,ie),i(R,Te);for(let Ce=0;Ce<oe.length;Ce+=1)oe[Ce]&&oe[Ce].m(Te,null);be=!0,Pe||(qe=[x(o,"change",n[14]),x(o,"change",n[10]),x(E,"input",n[19]),x(le,"input",n[20]),x(ee,"input",n[21]),x(se,"input",n[22]),x($,"click",n[11])],Pe=!0)},p(J,ne){if(ne[0]&1&&Le(o,J[0]),J[0]==="Other"?M?(M.p(J,ne),ne[0]&1&&ue(M,1)):(M=jt(J),M.c(),ue(M,1),M.m(s,null)):M&&(ze(),Ie(M,1,1,()=>{M=null}),xe()),W===(W=Q(J))&&Ne?Ne.p(J,ne):(Ne.d(1),Ne=W(J),Ne&&(Ne.c(),Ne.m(p,null))),ne[0]&16&&E.value!==J[4]&&V(E,J[4]),ne[0]&32&&Ve(le.value)!==J[5]&&V(le,J[5]),ne[0]&64&&Ve(ee.value)!==J[6]&&V(ee,J[6]),ne[0]&128&&Ve(se.value)!==J[7]&&V(se,J[7]),ne[0]&4352){et=ce(J[8]),ze();for(let Ce=0;Ce<oe.length;Ce+=1)oe[Ce].r();oe=kt(oe,ne,rt,1,J,et,Ae,Te,Pl,Rt,null,Bt);for(let Ce=0;Ce<oe.length;Ce+=1)oe[Ce].a();xe()}},i(J){if(!be){ue(M);for(let ne=0;ne<et.length;ne+=1)ue(oe[ne]);J&&(me||ke(()=>{me=Ye(e,Me,{}),me.start()})),be=!0}},o(J){Ie(M);for(let ne=0;ne<oe.length;ne+=1)Ie(oe[ne]);be=!1},d(J){J&&_(e),Ue(Oe,J),M&&M.d(),Ne.d();for(let ne=0;ne<oe.length;ne+=1)oe[ne].d();Pe=!1,Qe(qe)}}}function Cs(n,e,t){let s,l="",r="",c="",o="",u="",m=0,f=0,b=0;function p(){t(2,c=""),t(3,o="")}let d=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];function k(){t(8,d=[...d,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function g(A){d.length>1?t(8,d=d.filter(Z=>Z.id!==A)):t(8,d=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function C(){return{location:{area:l==="Other"?r:l,crag:c==="Other"?o:c,wall:u},session:"Outdoor",fingerLoad:m,shoulderLoad:f,forearmLoad:b,exercises:d}}function L(){l=Ge(this),t(0,l)}function q(){r=this.value,t(1,r)}function T(){c=Ge(this),t(2,c),t(9,s),t(0,l)}function I(){o=this.value,t(3,o)}function E(){c=this.value,t(2,c),t(9,s),t(0,l)}function D(){u=this.value,t(4,u)}function S(){m=Ve(this.value),t(5,m)}function w(){f=Ve(this.value),t(6,f)}function B(){b=Ve(this.value),t(7,b)}function j(A,Z){A[Z].isRopes=this.checked,t(8,d)}function K(A,Z){A[Z].name=this.value,t(8,d)}function le(A,Z){A[Z].grade=this.value,t(8,d)}function Ee(A,Z){A[Z].notes=this.value,t(8,d)}const P=A=>g(A.id);return n.$$.update=()=>{n.$$.dirty[0]&1&&t(9,s=Hl[l]||[])},[l,r,c,o,u,m,f,b,d,s,p,k,g,C,L,q,T,I,E,D,S,w,B,j,K,le,Ee,P]}class ys extends Ze{constructor(e){super(),$e(this,e,Cs,ks,Xe,{getData:13},null,[-1,-1])}get getData(){return this.$$.ctx[13]}}function Es(n){let e,t='<h3 class="svelte-fh7bet">Other Activity Config</h3> <p class="svelte-fh7bet">Generic fields for other activities will go here.</p> <div class="placeholder-box svelte-fh7bet"></div>',s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-kjirec"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,r){H(l,e,r)},p:ye,i(l){l&&(s||ke(()=>{s=Ye(e,Me,{}),s.start()}))},o:ye,d(l){l&&_(e)}}}let ws="",Ts="";function qs(n,e,t){let s=[];function l(){return{location:ws,session:Ts,exercises:s,fingerLoad:0,shoulderLoad:0,forearmLoad:0}}return[l]}class Ds extends Ze{constructor(e){super(),$e(this,e,qs,Es,Xe,{getData:0})}get getData(){return this.$$.ctx[0]}}function Ut(n,e,t){const s=n.slice();return s[18]=e[t],s[19]=e,s[20]=t,s}function Ht(n,e,t){const s=n.slice();return s[21]=e[t],s}function Ft(n,e,t){const s=n.slice();return s[24]=e[t],s}function zt(n){let e,t=n[24]+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=h(l,"OPTION",{class:!0});var r=y(e);s=he(r,t),r.forEach(_),this.h()},h(){e.__value=n[24],V(e,e.__value),a(e,"class","svelte-quqo74")},m(l,r){H(l,e,r),i(e,s)},p:ye,d(l){l&&_(e)}}}function xt(n){let e,t=n[21]+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=h(l,"OPTION",{class:!0});var r=y(e);s=he(r,t),r.forEach(_),this.h()},h(){e.__value=n[21],V(e,e.__value),a(e,"class","svelte-quqo74")},m(l,r){H(l,e,r),i(e,s)},p:ye,d(l){l&&_(e)}}}function Gt(n,e){let t,s,l,r,c,o,u,m,f,b,p,d,k,g,C,L,q,T,I="Ã—",E,D,S;function w(){e[12].call(l,e[19],e[20])}function B(){e[13].call(o,e[19],e[20])}function j(){e[14].call(f,e[19],e[20])}function K(){e[15].call(d,e[19],e[20])}function le(){e[16].call(C,e[19],e[20])}function Ee(){return e[17](e[18])}return{key:n,first:null,c(){t=v("tr"),s=v("td"),l=v("input"),r=N(),c=v("td"),o=v("input"),u=N(),m=v("td"),f=v("input"),b=N(),p=v("td"),d=v("input"),k=N(),g=v("td"),C=v("input"),L=N(),q=v("td"),T=v("button"),T.textContent=I,E=N(),this.h()},l(P){t=h(P,"TR",{});var A=y(t);s=h(A,"TD",{class:!0});var Z=y(s);l=h(Z,"INPUT",{type:!0,placeholder:!0,class:!0}),Z.forEach(_),r=O(A),c=h(A,"TD",{class:!0});var re=y(c);o=h(re,"INPUT",{type:!0,placeholder:!0,class:!0}),re.forEach(_),u=O(A),m=h(A,"TD",{class:!0});var ee=y(m);f=h(ee,"INPUT",{type:!0,placeholder:!0,class:!0}),ee.forEach(_),b=O(A),p=h(A,"TD",{class:!0});var ae=y(p);d=h(ae,"INPUT",{type:!0,placeholder:!0,class:!0}),ae.forEach(_),k=O(A),g=h(A,"TD",{class:!0});var X=y(g);C=h(X,"INPUT",{type:!0,placeholder:!0,class:!0}),X.forEach(_),L=O(A),q=h(A,"TD",{class:!0});var De=y(q);T=h(De,"BUTTON",{class:!0,"data-svelte-h":!0}),F(T)!=="svelte-rn69i5"&&(T.textContent=I),De.forEach(_),E=O(A),A.forEach(_),this.h()},h(){a(l,"type","text"),a(l,"placeholder","Hang"),a(l,"class","svelte-quqo74"),a(s,"class","svelte-quqo74"),a(o,"type","number"),a(o,"placeholder","0"),a(o,"class","svelte-quqo74"),a(c,"class","svelte-quqo74"),a(f,"type","number"),a(f,"placeholder","1"),a(f,"class","svelte-quqo74"),a(m,"class","svelte-quqo74"),a(d,"type","number"),a(d,"placeholder","1"),a(d,"class","svelte-quqo74"),a(p,"class","svelte-quqo74"),a(C,"type","text"),a(C,"placeholder","Notes"),a(C,"class","svelte-quqo74"),a(g,"class","svelte-quqo74"),a(T,"class","delete-btn svelte-quqo74"),a(q,"class","actions-col svelte-quqo74"),this.first=t},m(P,A){H(P,t,A),i(t,s),i(s,l),V(l,e[18].name),i(t,r),i(t,c),i(c,o),V(o,e[18].weight),i(t,u),i(t,m),i(m,f),V(f,e[18].sets),i(t,b),i(t,p),i(p,d),V(d,e[18].reps),i(t,k),i(t,g),i(g,C),V(C,e[18].notes),i(t,L),i(t,q),i(q,T),i(t,E),D||(S=[x(l,"input",w),x(o,"input",B),x(f,"input",j),x(d,"input",K),x(C,"input",le),x(T,"click",Ee)],D=!0)},p(P,A){e=P,A&8&&l.value!==e[18].name&&V(l,e[18].name),A&8&&Ve(o.value)!==e[18].weight&&V(o,e[18].weight),A&8&&Ve(f.value)!==e[18].sets&&V(f,e[18].sets),A&8&&Ve(d.value)!==e[18].reps&&V(d,e[18].reps),A&8&&C.value!==e[18].notes&&V(C,e[18].notes)},d(P){P&&_(t),D=!1,Qe(S)}}}function Ls(n){let e,t,s,l,r="Location",c,o,u,m="Select Location",f,b,p,d="Session Type",k,g,C,L="Select Session",q,T,I,E,D="Finger Load (0-5)",S,w,B,j,K,le,Ee="Sets / Exercises",P,A,Z="Add Row",re,ee,ae,X,De='<tr><th class="svelte-quqo74">Exercise</th> <th class="svelte-quqo74">Weight (+/-)</th> <th class="svelte-quqo74">Sets</th> <th class="svelte-quqo74">Reps</th> <th class="svelte-quqo74">Notes</th> <th class="actions-col svelte-quqo74"></th></tr>',_e,pe,se=[],je=new Map,fe,de,we,Se=ce(n[6]),Y=[];for(let R=0;R<Se.length;R+=1)Y[R]=zt(Ft(n,Se,R));let $=ce(n[7]),G=[];for(let R=0;R<$.length;R+=1)G[R]=xt(Ht(n,$,R));let ge=ce(n[3]);const te=R=>R[18].id;for(let R=0;R<ge.length;R+=1){let U=Ut(n,ge,R),z=te(U);je.set(z,se[R]=Gt(z,U))}return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=r,c=N(),o=v("select"),u=v("option"),u.textContent=m;for(let R=0;R<Y.length;R+=1)Y[R].c();f=N(),b=v("div"),p=v("label"),p.textContent=d,k=N(),g=v("select"),C=v("option"),C.textContent=L;for(let R=0;R<G.length;R+=1)G[R].c();q=N(),T=v("div"),I=v("div"),E=v("label"),E.textContent=D,S=N(),w=v("input"),B=N(),j=v("div"),K=v("div"),le=v("h3"),le.textContent=Ee,P=N(),A=v("button"),A.textContent=Z,re=N(),ee=v("div"),ae=v("table"),X=v("thead"),X.innerHTML=De,_e=N(),pe=v("tbody");for(let R=0;R<se.length;R+=1)se[R].c();this.h()},l(R){e=h(R,"DIV",{class:!0});var U=y(e);t=h(U,"DIV",{class:!0});var z=y(t);s=h(z,"DIV",{class:!0});var ie=y(s);l=h(ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(l)!=="svelte-1dxgp9b"&&(l.textContent=r),c=O(ie),o=h(ie,"SELECT",{id:!0,class:!0});var Te=y(o);u=h(Te,"OPTION",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-mwu9va"&&(u.textContent=m);for(let Q=0;Q<Y.length;Q+=1)Y[Q].l(Te);Te.forEach(_),ie.forEach(_),f=O(z),b=h(z,"DIV",{class:!0});var oe=y(b);p=h(oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(p)!=="svelte-h0spd7"&&(p.textContent=d),k=O(oe),g=h(oe,"SELECT",{id:!0,class:!0});var Ae=y(g);C=h(Ae,"OPTION",{class:!0,"data-svelte-h":!0}),F(C)!=="svelte-1ekya2v"&&(C.textContent=L);for(let Q=0;Q<G.length;Q+=1)G[Q].l(Ae);Ae.forEach(_),oe.forEach(_),z.forEach(_),q=O(U),T=h(U,"DIV",{class:!0});var me=y(T);I=h(me,"DIV",{class:!0});var be=y(I);E=h(be,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(E)!=="svelte-1w9evqp"&&(E.textContent=D),S=O(be),w=h(be,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),be.forEach(_),me.forEach(_),B=O(U),j=h(U,"DIV",{class:!0});var Pe=y(j);K=h(Pe,"DIV",{class:!0});var qe=y(K);le=h(qe,"H3",{class:!0,"data-svelte-h":!0}),F(le)!=="svelte-rv2rcn"&&(le.textContent=Ee),P=O(qe),A=h(qe,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),F(A)!=="svelte-tawc64"&&(A.textContent=Z),qe.forEach(_),re=O(Pe),ee=h(Pe,"DIV",{class:!0});var Fe=y(ee);ae=h(Fe,"TABLE",{class:!0});var Oe=y(ae);X=h(Oe,"THEAD",{"data-svelte-h":!0}),F(X)!=="svelte-163hj14"&&(X.innerHTML=De),_e=O(Oe),pe=h(Oe,"TBODY",{});var M=y(pe);for(let Q=0;Q<se.length;Q+=1)se[Q].l(M);M.forEach(_),Oe.forEach(_),Fe.forEach(_),Pe.forEach(_),U.forEach(_),this.h()},h(){a(l,"for","fb-location"),a(l,"class","svelte-quqo74"),u.__value="",V(u,u.__value),u.disabled=!0,u.selected=!0,a(u,"class","svelte-quqo74"),a(o,"id","fb-location"),a(o,"class","svelte-quqo74"),n[0]===void 0&&ke(()=>n[9].call(o)),a(s,"class","input-group svelte-quqo74"),a(p,"for","fb-session"),a(p,"class","svelte-quqo74"),C.__value="",V(C,C.__value),C.disabled=!0,C.selected=!0,a(C,"class","svelte-quqo74"),a(g,"id","fb-session"),a(g,"class","svelte-quqo74"),n[1]===void 0&&ke(()=>n[10].call(g)),a(b,"class","input-group svelte-quqo74"),a(t,"class","form-grid svelte-quqo74"),a(E,"for","fb-finger-load"),a(E,"class","svelte-quqo74"),a(w,"id","fb-finger-load"),a(w,"type","number"),a(w,"min","0"),a(w,"max","5"),a(w,"class","svelte-quqo74"),a(I,"class","load-group svelte-quqo74"),a(T,"class","load-metrics svelte-quqo74"),a(le,"class","svelte-quqo74"),a(A,"class","add-row-btn svelte-quqo74"),a(A,"title","Add Row"),a(K,"class","section-header svelte-quqo74"),a(ae,"class","svelte-quqo74"),a(ee,"class","table-container svelte-quqo74"),a(j,"class","exercise-section"),a(e,"class","fingerboard-config svelte-quqo74")},m(R,U){H(R,e,U),i(e,t),i(t,s),i(s,l),i(s,c),i(s,o),i(o,u);for(let z=0;z<Y.length;z+=1)Y[z]&&Y[z].m(o,null);Le(o,n[0],!0),i(t,f),i(t,b),i(b,p),i(b,k),i(b,g),i(g,C);for(let z=0;z<G.length;z+=1)G[z]&&G[z].m(g,null);Le(g,n[1],!0),i(e,q),i(e,T),i(T,I),i(I,E),i(I,S),i(I,w),V(w,n[2]),i(e,B),i(e,j),i(j,K),i(K,le),i(K,P),i(K,A),i(j,re),i(j,ee),i(ee,ae),i(ae,X),i(ae,_e),i(ae,pe);for(let z=0;z<se.length;z+=1)se[z]&&se[z].m(pe,null);de||(we=[x(o,"change",n[9]),x(g,"change",n[10]),x(w,"input",n[11]),x(A,"click",n[4])],de=!0)},p(R,[U]){if(U&64){Se=ce(R[6]);let z;for(z=0;z<Se.length;z+=1){const ie=Ft(R,Se,z);Y[z]?Y[z].p(ie,U):(Y[z]=zt(ie),Y[z].c(),Y[z].m(o,null))}for(;z<Y.length;z+=1)Y[z].d(1);Y.length=Se.length}if(U&65&&Le(o,R[0]),U&128){$=ce(R[7]);let z;for(z=0;z<$.length;z+=1){const ie=Ht(R,$,z);G[z]?G[z].p(ie,U):(G[z]=xt(ie),G[z].c(),G[z].m(g,null))}for(;z<G.length;z+=1)G[z].d(1);G.length=$.length}U&130&&Le(g,R[1]),U&4&&Ve(w.value)!==R[2]&&V(w,R[2]),U&40&&(ge=ce(R[3]),se=kt(se,U,te,1,R,ge,je,pe,jl,Gt,null,Ut))},i(R){R&&(fe||ke(()=>{fe=Ye(e,Me,{}),fe.start()}))},o:ye,d(R){R&&_(e),Ue(Y,R),Ue(G,R);for(let U=0;U<se.length;U+=1)se[U].d();de=!1,Qe(we)}}}function Is(n,e,t){let s="",l="",r=0,c=[{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}];function o(){return{location:s,session:l,fingerLoad:r,exercises:c}}function u(){t(3,c=[...c,{id:crypto.randomUUID(),name:"Hang",weight:0,sets:1,reps:1,notes:""}])}function m(E){c.length>1&&t(3,c=c.filter(D=>D.id!==E))}const f=["Home","Gym","Crag"],b=["Strength","Endurance","Recovery"];function p(){s=Ge(this),t(0,s),t(6,f)}function d(){l=Ge(this),t(1,l),t(7,b)}function k(){r=Ve(this.value),t(2,r)}function g(E,D){E[D].name=this.value,t(3,c)}function C(E,D){E[D].weight=Ve(this.value),t(3,c)}function L(E,D){E[D].sets=Ve(this.value),t(3,c)}function q(E,D){E[D].reps=Ve(this.value),t(3,c)}function T(E,D){E[D].notes=this.value,t(3,c)}return[s,l,r,c,u,m,f,b,o,p,d,k,g,C,L,q,T,E=>m(E.id)]}class Ss extends Ze{constructor(e){super(),$e(this,e,Is,Ls,Xe,{getData:8})}get getData(){return this.$$.ctx[8]}}const Fl="training_history_cache",Os=JSON.parse(localStorage.getItem(Fl)||"{}"),wt=Al(Os);wt.subscribe(n=>{localStorage.setItem(Fl,JSON.stringify(n))});function zl(n,e){wt.update(t=>{const s=t[n]||[],l=[...e,...s],r=new Map;return l.forEach(c=>{var f;const o=((f=c.date)==null?void 0:f.value)||c.date,m=`${o?new Date(o).toISOString():""}|${c.location}|${c.session_type}|${JSON.stringify(c.climbs)}`;r.has(m)||r.set(m,c)}),{...t,[n]:Array.from(r.values()).sort((c,o)=>{var f,b;const u=new Date(((f=c.date)==null?void 0:f.value)||c.date);return new Date(((b=o.date)==null?void 0:b.value)||o.date).getTime()-u.getTime()})}})}function Ns(n,e){zl(n,[e])}function Wt(n,e,t){const s=n.slice();return s[10]=e[t],s}function Kt(n){let e,t=n[10].text+"",s,l;return{c(){e=v("option"),s=ve(t),l=N(),this.h()},l(r){e=h(r,"OPTION",{class:!0});var c=y(e);s=he(c,t),l=O(c),c.forEach(_),this.h()},h(){e.__value=n[10].id,V(e,e.__value),a(e,"class","svelte-ilubjy")},m(r,c){H(r,e,c),i(e,s),i(e,l)},p:ye,d(r){r&&_(e)}}}function Yt(n){let e,t,s,l,r,c=n[2]?"Saving...":"Save Log",o,u,m,f,b;var p=n[5].component;function d(g,C){return{props:{}}}p&&(t=bt(p,d()),n[9](t));let k=n[3]&&Jt(n);return{c(){e=v("div"),t&&ht(t.$$.fragment),s=N(),k&&k.c(),l=N(),r=v("button"),o=ve(c),this.h()},l(g){e=h(g,"DIV",{class:!0});var C=y(e);t&&yt(t.$$.fragment,C),s=O(C),k&&k.l(C),l=O(C),r=h(C,"BUTTON",{class:!0});var L=y(r);o=he(L,c),L.forEach(_),C.forEach(_),this.h()},h(){a(r,"class","save-button svelte-ilubjy"),r.disabled=n[2],a(e,"class","config-wrapper svelte-ilubjy")},m(g,C){H(g,e,C),t&&vt(t,e,null),i(e,s),k&&k.m(e,null),i(e,l),i(e,r),i(r,o),m=!0,f||(b=x(r,"click",n[7]),f=!0)},p(g,C){if(C&32&&p!==(p=g[5].component)){if(t){ze();const L=t;Ie(L.$$.fragment,1,0,()=>{dt(L,1)}),xe()}p?(t=bt(p,d()),g[9](t),ht(t.$$.fragment),ue(t.$$.fragment,1),vt(t,e,s)):t=null}else if(p){const L={};t.$set(L)}g[3]?k?(k.p(g,C),C&8&&ue(k,1)):(k=Jt(g),k.c(),ue(k,1),k.m(e,l)):k&&(ze(),Ie(k,1,1,()=>{k=null}),xe()),(!m||C&4)&&c!==(c=g[2]?"Saving...":"Save Log")&&Be(o,c),(!m||C&4)&&(r.disabled=g[2])},i(g){m||(t&&ue(t.$$.fragment,g),ue(k),g&&(u||ke(()=>{u=Ye(e,Me,{}),u.start()})),m=!0)},o(g){t&&Ie(t.$$.fragment,g),Ie(k),m=!1},d(g){g&&_(e),n[9](null),t&&dt(t),k&&k.d(),f=!1,b()}}}function Jt(n){let e,t,s,l;return{c(){e=v("div"),t=ve(n[3]),this.h()},l(r){e=h(r,"DIV",{class:!0});var c=y(e);t=he(c,n[3]),c.forEach(_),this.h()},h(){a(e,"class","message svelte-ilubjy"),We(e,"success",n[4]),We(e,"error",!n[4])},m(r,c){H(r,e,c),i(e,t),l=!0},p(r,c){(!l||c&8)&&Be(t,r[3]),(!l||c&16)&&We(e,"success",r[4]),(!l||c&16)&&We(e,"error",!r[4])},i(r){l||(r&&ke(()=>{l&&(s||(s=He(e,Me,{},!0)),s.run(1))}),l=!0)},o(r){r&&(s||(s=He(e,Me,{},!1)),s.run(0)),l=!1},d(r){r&&_(e),r&&s&&s.end()}}}function As(n){let e,t,s="Log Exercise",l,r,c,o="What did you do today?",u,m,f,b="Select activity type...",p,d,k,g,C=ce(n[6]),L=[];for(let T=0;T<C.length;T+=1)L[T]=Kt(Wt(n,C,T));let q=n[5]&&Yt(n);return{c(){e=v("div"),t=v("h2"),t.textContent=s,l=N(),r=v("div"),c=v("label"),c.textContent=o,u=N(),m=v("select"),f=v("option"),f.textContent=b;for(let T=0;T<L.length;T+=1)L[T].c();p=N(),q&&q.c(),this.h()},l(T){e=h(T,"DIV",{class:!0});var I=y(e);t=h(I,"H2",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-1eeau7i"&&(t.textContent=s),l=O(I),r=h(I,"DIV",{class:!0});var E=y(r);c=h(E,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(c)!=="svelte-1ndwsee"&&(c.textContent=o),u=O(E),m=h(E,"SELECT",{id:!0,class:!0});var D=y(m);f=h(D,"OPTION",{class:!0,"data-svelte-h":!0}),F(f)!=="svelte-11gchci"&&(f.textContent=b);for(let S=0;S<L.length;S+=1)L[S].l(D);D.forEach(_),E.forEach(_),p=O(I),q&&q.l(I),I.forEach(_),this.h()},h(){a(t,"class","svelte-ilubjy"),a(c,"for","exercise-type"),a(c,"class","svelte-ilubjy"),f.__value="",V(f,f.__value),f.disabled=!0,f.selected=!0,a(f,"class","svelte-ilubjy"),a(m,"id","exercise-type"),a(m,"class","svelte-ilubjy"),n[0]===void 0&&ke(()=>n[8].call(m)),a(r,"class","dropdown-wrapper svelte-ilubjy"),a(e,"class","tab-content svelte-ilubjy")},m(T,I){H(T,e,I),i(e,t),i(e,l),i(e,r),i(r,c),i(r,u),i(r,m),i(m,f);for(let E=0;E<L.length;E+=1)L[E]&&L[E].m(m,null);Le(m,n[0],!0),i(e,p),q&&q.m(e,null),d=!0,k||(g=x(m,"change",n[8]),k=!0)},p(T,[I]){if(I&64){C=ce(T[6]);let E;for(E=0;E<C.length;E+=1){const D=Wt(T,C,E);L[E]?L[E].p(D,I):(L[E]=Kt(D),L[E].c(),L[E].m(m,null))}for(;E<L.length;E+=1)L[E].d(1);L.length=C.length}I&65&&Le(m,T[0]),T[5]?q?(q.p(T,I),I&32&&ue(q,1)):(q=Yt(T),q.c(),ue(q,1),q.m(e,null)):q&&(ze(),Ie(q,1,1,()=>{q=null}),xe())},i(T){d||(ue(q),d=!0)},o(T){Ie(q),d=!1},d(T){T&&_(e),Ue(L,T),q&&q.d(),k=!1,g()}}}const Bs="https://save-log-825153765638.europe-west1.run.app";function Vs(n,e,t){let s,l="";const r=[{id:"indoor",text:"Indoor Climb",component:cs},{id:"fingerboard",text:"Fingerboarding",component:Ss},{id:"gym",text:"Gym Session",component:_s},{id:"outdoor",text:"Outdoor Climb",component:ys},{id:"other",text:"Other",component:Ds}];let c,o=!1,u="",m=!1;async function f(){if(!c||!c.getData){console.error("Component does not support data export");return}const d=c.getData(),k=Sl(ut);if(!d.location||!d.session||d.exercises&&d.exercises.length===0){t(3,u="Please select a Location, Session, and add at least one exercise."),t(4,m=!1);return}if(!k){t(3,u="Authentication error. Please log in again."),t(4,m=!1);return}t(2,o=!0),t(3,u="");try{const g={activity_type:l,location:d.location,session_type:d.session,finger_load:d.fingerLoad||0,shoulder_load:d.shoulderLoad||0,forearm_load:d.forearmLoad||0,climbs:d.exercises,date:new Date().toISOString()},C=await fetch(Bs,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${k}`},body:JSON.stringify(g)});if(!C.ok){const L=await C.text();throw new Error(`Server error (${C.status}): ${L}`)}t(3,u="Log saved successfully!"),t(4,m=!0),Ns(l,g)}catch(g){console.error("Save Error:",g),t(3,u="Failed to save log. Check console for details."),t(4,m=!1)}finally{t(2,o=!1)}}function b(){l=Ge(this),t(0,l),t(6,r)}function p(d){Gl[d?"unshift":"push"](()=>{c=d,t(1,c)})}return n.$$.update=()=>{n.$$.dirty&1&&t(5,s=r.find(d=>d.id===l)),n.$$.dirty&1&&l&&t(3,u="")},[l,c,o,u,m,s,r,f,b,p]}class js extends Ze{constructor(e){super(),$e(this,e,Vs,As,Xe,{})}}function Qt(n,e,t){const s=n.slice();return s[43]=e[t],s}function Xt(n,e,t){const s=n.slice();return s[46]=e[t],s}function Zt(n,e,t){const s=n.slice();return s[49]=e[t],s}function $t(n,e,t){const s=n.slice();return s[49]=e[t],s}function el(n,e,t){const s=n.slice();return s[54]=e[t],s}function tl(n,e,t){const s=n.slice();return s[63]=e[t],s}function ll(n,e,t){const s=n.slice();return s[57]=e[t],s}function Ps(n,e,t){const s=n.slice();return s[60]=e[t],s}function sl(n,e,t){const s=n.slice();return s[66]=e[t],s}function Ms(n){let e,t,s;return{c(){e=ft("svg"),t=ft("path"),s=ft("path"),this.h()},l(l){e=ct(l,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var r=y(e);t=ct(r,"path",{d:!0}),y(t).forEach(_),s=ct(r,"path",{d:!0}),y(s).forEach(_),r.forEach(_),this.h()},h(){a(t,"d","M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"),a(s,"d","M21 3v5h-5"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"width","16"),a(e,"height","16"),a(e,"viewBox","0 0 24 24"),a(e,"fill","none"),a(e,"stroke","currentColor"),a(e,"stroke-width","2"),a(e,"stroke-linecap","round"),a(e,"stroke-linejoin","round")},m(l,r){H(l,e,r),i(e,t),i(e,s)},d(l){l&&_(e)}}}function Rs(n){let e;return{c(){e=v("div"),this.h()},l(t){e=h(t,"DIV",{class:!0}),y(e).forEach(_),this.h()},h(){a(e,"class","spinner-small svelte-qeurdo")},m(t,s){H(t,e,s)},d(t){t&&_(e)}}}function nl(n){let e,t=n[66].label+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=h(l,"OPTION",{class:!0});var r=y(e);s=he(r,t),r.forEach(_),this.h()},h(){e.__value=n[66].id,V(e,e.__value),a(e,"class","svelte-qeurdo")},m(l,r){H(l,e,r),i(e,s)},p:ye,d(l){l&&_(e)}}}function ol(n){let e,t,s,l,r="Start Date",c,o,u,m,f,b="End Date",p,d,k,g,C,L="Location",q,T,I,E,D,S="Session / Type",w,B,j,K,le="Grade (Exact)",Ee,P,A,Z,re,ee="Clear",ae,X,De="Apply",_e,pe,se,je;function fe(G,ge){return G[0]==="outdoor"?Hs:Us}let de=fe(n),we=de(n);function Se(G,ge){return G[0]==="outdoor"?xs:zs}let Y=Se(n),$=Y(n);return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("label"),l.textContent=r,c=N(),o=v("input"),u=N(),m=v("div"),f=v("label"),f.textContent=b,p=N(),d=v("input"),k=N(),g=v("div"),C=v("label"),C.textContent=L,q=N(),we.c(),T=N(),I=v("div"),E=v("div"),D=v("label"),D.textContent=S,w=N(),$.c(),B=N(),j=v("div"),K=v("label"),K.textContent=le,Ee=N(),P=v("input"),A=N(),Z=v("div"),re=v("button"),re.textContent=ee,ae=N(),X=v("button"),X.textContent=De,this.h()},l(G){e=h(G,"DIV",{class:!0});var ge=y(e);t=h(ge,"DIV",{class:!0});var te=y(t);s=h(te,"DIV",{class:!0});var R=y(s);l=h(R,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(l)!=="svelte-1kxlpsi"&&(l.textContent=r),c=O(R),o=h(R,"INPUT",{id:!0,type:!0,class:!0}),R.forEach(_),u=O(te),m=h(te,"DIV",{class:!0});var U=y(m);f=h(U,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(f)!=="svelte-j60kik"&&(f.textContent=b),p=O(U),d=h(U,"INPUT",{id:!0,type:!0,class:!0}),U.forEach(_),k=O(te),g=h(te,"DIV",{class:!0});var z=y(g);C=h(z,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(C)!=="svelte-3cwczo"&&(C.textContent=L),q=O(z),we.l(z),z.forEach(_),te.forEach(_),T=O(ge),I=h(ge,"DIV",{class:!0});var ie=y(I);E=h(ie,"DIV",{class:!0});var Te=y(E);D=h(Te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(D)!=="svelte-jb3f35"&&(D.textContent=S),w=O(Te),$.l(Te),Te.forEach(_),B=O(ie),j=h(ie,"DIV",{class:!0});var oe=y(j);K=h(oe,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),F(K)!=="svelte-f1ofpo"&&(K.textContent=le),Ee=O(oe),P=h(oe,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),oe.forEach(_),A=O(ie),Z=h(ie,"DIV",{class:!0});var Ae=y(Z);re=h(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),F(re)!=="svelte-1hjrww8"&&(re.textContent=ee),ae=O(Ae),X=h(Ae,"BUTTON",{class:!0,"data-svelte-h":!0}),F(X)!=="svelte-1ch465z"&&(X.textContent=De),Ae.forEach(_),ie.forEach(_),ge.forEach(_),this.h()},h(){a(l,"for","startDate"),a(l,"class","svelte-qeurdo"),a(o,"id","startDate"),a(o,"type","date"),a(o,"class","svelte-qeurdo"),a(s,"class","filter-group svelte-qeurdo"),a(f,"for","endDate"),a(f,"class","svelte-qeurdo"),a(d,"id","endDate"),a(d,"type","date"),a(d,"class","svelte-qeurdo"),a(m,"class","filter-group svelte-qeurdo"),a(C,"for","filterLocation"),a(C,"class","svelte-qeurdo"),a(g,"class","filter-group svelte-qeurdo"),a(t,"class","filter-row svelte-qeurdo"),a(D,"for","filterSession"),a(D,"class","svelte-qeurdo"),a(E,"class","filter-group svelte-qeurdo"),a(K,"for","filterGrade"),a(K,"class","svelte-qeurdo"),a(P,"id","filterGrade"),a(P,"type","text"),a(P,"placeholder","e.g. 7a+"),a(P,"class","svelte-qeurdo"),a(j,"class","filter-group svelte-qeurdo"),a(re,"class","clear-btn svelte-qeurdo"),a(X,"class","apply-btn svelte-qeurdo"),a(Z,"class","filter-actions svelte-qeurdo"),a(I,"class","filter-row svelte-qeurdo"),a(e,"class","filters-panel svelte-qeurdo")},m(G,ge){H(G,e,ge),i(e,t),i(t,s),i(s,l),i(s,c),i(s,o),V(o,n[10]),i(t,u),i(t,m),i(m,f),i(m,p),i(m,d),V(d,n[11]),i(t,k),i(t,g),i(g,C),i(g,q),we.m(g,null),i(e,T),i(e,I),i(I,E),i(E,D),i(E,w),$.m(E,null),i(I,B),i(I,j),i(j,K),i(j,Ee),i(j,P),V(P,n[14]),i(I,A),i(I,Z),i(Z,re),i(Z,ae),i(Z,X),pe=!0,se||(je=[x(o,"input",n[30]),x(d,"input",n[31]),x(P,"input",n[41]),x(re,"click",n[24]),x(X,"click",n[23])],se=!0)},p(G,ge){ge[0]&1024&&V(o,G[10]),ge[0]&2048&&V(d,G[11]),de===(de=fe(G))&&we?we.p(G,ge):(we.d(1),we=de(G),we&&(we.c(),we.m(g,null))),Y===(Y=Se(G))&&$?$.p(G,ge):($.d(1),$=Y(G),$&&($.c(),$.m(E,null))),ge[0]&16384&&P.value!==G[14]&&V(P,G[14])},i(G){pe||(G&&ke(()=>{pe&&(_e||(_e=He(e,Me,{},!0)),_e.run(1))}),pe=!0)},o(G){G&&(_e||(_e=He(e,Me,{},!1)),_e.run(0)),pe=!1},d(G){G&&_(e),we.d(),$.d(),G&&_e&&_e.end(),se=!1,Qe(je)}}}function Us(n){let e,t,s="Any Location",l,r,c=ce(n[20]),o=[];for(let u=0;u<c.length;u+=1)o[u]=rl(tl(n,c,u));return{c(){e=v("select"),t=v("option"),t.textContent=s;for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=h(u,"SELECT",{id:!0,class:!0});var m=y(e);t=h(m,"OPTION",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-vg9lqd"&&(t.textContent=s);for(let f=0;f<o.length;f+=1)o[f].l(m);m.forEach(_),this.h()},h(){t.__value="",V(t,t.__value),a(t,"class","svelte-qeurdo"),a(e,"id","filterLocation"),a(e,"class","svelte-qeurdo"),n[12]===void 0&&ke(()=>n[38].call(e))},m(u,m){H(u,e,m),i(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);Le(e,n[12],!0),l||(r=x(e,"change",n[38]),l=!0)},p(u,m){if(m[0]&1048576){c=ce(u[20]);let f;for(f=0;f<c.length;f+=1){const b=tl(u,c,f);o[f]?o[f].p(b,m):(o[f]=rl(b),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=c.length}m[0]&1052672&&Le(e,u[12])},d(u){u&&_(e),Ue(o,u),l=!1,r()}}}function Hs(n){let e,t,s,l="Any Area",r,c,o,u,m="Any Crag",f,b="Other (Custom)",p,d,k,g,C=ce(Ul),L=[];for(let D=0;D<C.length;D+=1)L[D]=Fs(Ps(n,C,D));let q=n[1]==="Other"&&al(n),T=ce(n[16]),I=[];for(let D=0;D<T.length;D+=1)I[D]=il(ll(n,T,D));let E=n[3]==="Other"&&ul(n);return{c(){e=v("div"),t=v("select"),s=v("option"),s.textContent=l;for(let D=0;D<L.length;D+=1)L[D].c();r=N(),q&&q.c(),c=N(),o=v("select"),u=v("option"),u.textContent=m;for(let D=0;D<I.length;D+=1)I[D].c();f=v("option"),f.textContent=b,d=N(),E&&E.c(),this.h()},l(D){e=h(D,"DIV",{class:!0});var S=y(e);t=h(S,"SELECT",{id:!0,class:!0});var w=y(t);s=h(w,"OPTION",{class:!0,"data-svelte-h":!0}),F(s)!=="svelte-1a0ocwf"&&(s.textContent=l);for(let j=0;j<L.length;j+=1)L[j].l(w);w.forEach(_),r=O(S),q&&q.l(S),c=O(S),o=h(S,"SELECT",{id:!0,class:!0});var B=y(o);u=h(B,"OPTION",{class:!0,"data-svelte-h":!0}),F(u)!=="svelte-1fifq8b"&&(u.textContent=m);for(let j=0;j<I.length;j+=1)I[j].l(B);f=h(B,"OPTION",{class:!0,"data-svelte-h":!0}),F(f)!=="svelte-1ws39oy"&&(f.textContent=b),B.forEach(_),d=O(S),E&&E.l(S),S.forEach(_),this.h()},h(){s.__value="",V(s,s.__value),a(s,"class","svelte-qeurdo"),a(t,"id","filterArea"),a(t,"class","svelte-qeurdo"),n[1]===void 0&&ke(()=>n[32].call(t)),u.__value="",V(u,u.__value),a(u,"class","svelte-qeurdo"),f.__value="Other",V(f,f.__value),a(f,"class","svelte-qeurdo"),a(o,"id","filterCrag"),o.disabled=p=!n[1],a(o,"class","svelte-qeurdo"),n[3]===void 0&&ke(()=>n[35].call(o)),a(e,"class","outdoor-filters svelte-qeurdo")},m(D,S){H(D,e,S),i(e,t),i(t,s);for(let w=0;w<L.length;w+=1)L[w]&&L[w].m(t,null);Le(t,n[1],!0),i(e,r),q&&q.m(e,null),i(e,c),i(e,o),i(o,u);for(let w=0;w<I.length;w+=1)I[w]&&I[w].m(o,null);i(o,f),Le(o,n[3],!0),i(e,d),E&&E.m(e,null),k||(g=[x(t,"change",n[32]),x(t,"change",n[33]),x(o,"change",n[35]),x(o,"change",n[36])],k=!0)},p(D,S){if(S[0]&2&&Le(t,D[1]),D[1]==="Other"?q?(q.p(D,S),S[0]&2&&ue(q,1)):(q=al(D),q.c(),ue(q,1),q.m(e,c)):q&&(ze(),Ie(q,1,1,()=>{q=null}),xe()),S[0]&65536){T=ce(D[16]);let w;for(w=0;w<T.length;w+=1){const B=ll(D,T,w);I[w]?I[w].p(B,S):(I[w]=il(B),I[w].c(),I[w].m(o,f))}for(;w<I.length;w+=1)I[w].d(1);I.length=T.length}S[0]&2&&p!==(p=!D[1])&&(o.disabled=p),S[0]&65544&&Le(o,D[3]),D[3]==="Other"?E?(E.p(D,S),S[0]&8&&ue(E,1)):(E=ul(D),E.c(),ue(E,1),E.m(e,null)):E&&(ze(),Ie(E,1,1,()=>{E=null}),xe())},d(D){D&&_(e),Ue(L,D),q&&q.d(),Ue(I,D),E&&E.d(),k=!1,Qe(g)}}}function rl(n){let e,t=n[63]+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=h(l,"OPTION",{class:!0});var r=y(e);s=he(r,t),r.forEach(_),this.h()},h(){e.__value=n[63],V(e,e.__value),a(e,"class","svelte-qeurdo")},m(l,r){H(l,e,r),i(e,s)},p:ye,d(l){l&&_(e)}}}function Fs(n){let e,t;return{c(){e=v("option"),t=ve(n[60]),this.h()},l(s){e=h(s,"OPTION",{class:!0});var l=y(e);t=he(l,n[60]),l.forEach(_),this.h()},h(){e.__value=n[60],V(e,e.__value),a(e,"class","svelte-qeurdo")},m(s,l){H(s,e,l),i(e,t)},p:ye,d(s){s&&_(e)}}}function al(n){let e,t,s,l,r,c;return{c(){e=v("div"),t=v("input"),this.h()},l(o){e=h(o,"DIV",{});var u=y(e);t=h(u,"INPUT",{type:!0,placeholder:!0,class:!0}),u.forEach(_),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Area..."),a(t,"class","custom-filter-input svelte-qeurdo")},m(o,u){H(o,e,u),i(e,t),V(t,n[2]),l=!0,r||(c=x(t,"input",n[34]),r=!0)},p(o,u){u[0]&4&&t.value!==o[2]&&V(t,o[2])},i(o){l||(o&&ke(()=>{l&&(s||(s=He(e,Ke,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=He(e,Ke,{},!1)),s.run(0)),l=!1},d(o){o&&_(e),o&&s&&s.end(),r=!1,c()}}}function il(n){let e,t=n[57]+"",s,l;return{c(){e=v("option"),s=ve(t),this.h()},l(r){e=h(r,"OPTION",{class:!0});var c=y(e);s=he(c,t),c.forEach(_),this.h()},h(){e.__value=l=n[57],V(e,e.__value),a(e,"class","svelte-qeurdo")},m(r,c){H(r,e,c),i(e,s)},p(r,c){c[0]&65536&&t!==(t=r[57]+"")&&Be(s,t),c[0]&65536&&l!==(l=r[57])&&(e.__value=l,V(e,e.__value))},d(r){r&&_(e)}}}function ul(n){let e,t,s,l,r,c;return{c(){e=v("div"),t=v("input"),this.h()},l(o){e=h(o,"DIV",{});var u=y(e);t=h(u,"INPUT",{type:!0,placeholder:!0,class:!0}),u.forEach(_),this.h()},h(){a(t,"type","text"),a(t,"placeholder","Enter Crag..."),a(t,"class","custom-filter-input svelte-qeurdo")},m(o,u){H(o,e,u),i(e,t),V(t,n[4]),l=!0,r||(c=x(t,"input",n[37]),r=!0)},p(o,u){u[0]&16&&t.value!==o[4]&&V(t,o[4])},i(o){l||(o&&ke(()=>{l&&(s||(s=He(e,Ke,{},!0)),s.run(1))}),l=!0)},o(o){o&&(s||(s=He(e,Ke,{},!1)),s.run(0)),l=!1},d(o){o&&_(e),o&&s&&s.end(),r=!1,c()}}}function zs(n){let e,t,s="Any Session",l,r,c=ce(n[21]),o=[];for(let u=0;u<c.length;u+=1)o[u]=cl(el(n,c,u));return{c(){e=v("select"),t=v("option"),t.textContent=s;for(let u=0;u<o.length;u+=1)o[u].c();this.h()},l(u){e=h(u,"SELECT",{id:!0,class:!0});var m=y(e);t=h(m,"OPTION",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-178oehu"&&(t.textContent=s);for(let f=0;f<o.length;f+=1)o[f].l(m);m.forEach(_),this.h()},h(){t.__value="",V(t,t.__value),a(t,"class","svelte-qeurdo"),a(e,"id","filterSession"),a(e,"class","svelte-qeurdo"),n[13]===void 0&&ke(()=>n[40].call(e))},m(u,m){H(u,e,m),i(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);Le(e,n[13],!0),l||(r=x(e,"change",n[40]),l=!0)},p(u,m){if(m[0]&2097152){c=ce(u[21]);let f;for(f=0;f<c.length;f+=1){const b=el(u,c,f);o[f]?o[f].p(b,m):(o[f]=cl(b),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=c.length}m[0]&2105344&&Le(e,u[13])},d(u){u&&_(e),Ue(o,u),l=!1,r()}}}function xs(n){let e,t,s="Any Type",l,r="Bouldering",c,o="Ropes",u,m;return{c(){e=v("select"),t=v("option"),t.textContent=s,l=v("option"),l.textContent=r,c=v("option"),c.textContent=o,this.h()},l(f){e=h(f,"SELECT",{id:!0,class:!0});var b=y(e);t=h(b,"OPTION",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-c7i2yo"&&(t.textContent=s),l=h(b,"OPTION",{class:!0,"data-svelte-h":!0}),F(l)!=="svelte-ffaje2"&&(l.textContent=r),c=h(b,"OPTION",{class:!0,"data-svelte-h":!0}),F(c)!=="svelte-78wj0c"&&(c.textContent=o),b.forEach(_),this.h()},h(){t.__value="",V(t,t.__value),a(t,"class","svelte-qeurdo"),l.__value="Bouldering",V(l,l.__value),a(l,"class","svelte-qeurdo"),c.__value="Ropes",V(c,c.__value),a(c,"class","svelte-qeurdo"),a(e,"id","filterSession"),a(e,"class","svelte-qeurdo"),n[13]===void 0&&ke(()=>n[39].call(e))},m(f,b){H(f,e,b),i(e,t),i(e,l),i(e,c),Le(e,n[13],!0),u||(m=x(e,"change",n[39]),u=!0)},p(f,b){b[0]&2105344&&Le(e,f[13])},d(f){f&&_(e),u=!1,m()}}}function cl(n){let e,t=n[54]+"",s;return{c(){e=v("option"),s=ve(t),this.h()},l(l){e=h(l,"OPTION",{class:!0});var r=y(e);s=he(r,t),r.forEach(_),this.h()},h(){e.__value=n[54],V(e,e.__value),a(e,"class","svelte-qeurdo")},m(l,r){H(l,e,r),i(e,s)},p:ye,d(l){l&&_(e)}}}function Gs(n){let e,t,s,l=[],r=new Map,c,o,u,m=n[17].length>0&&fl(),f=n[17].length===0&&n[5].length>0&&dl(),b=ce(n[17]);const p=k=>k[43].key;for(let k=0;k<b.length;k+=1){let g=Qt(n,b,k),C=p(g);r.set(C,l[k]=Cl(C,g))}let d=n[17].length>0&&yl(n);return{c(){m&&m.c(),e=N(),t=v("div"),f&&f.c(),s=N();for(let k=0;k<l.length;k+=1)l[k].c();o=N(),d&&d.c(),u=mt(),this.h()},l(k){m&&m.l(k),e=O(k),t=h(k,"DIV",{class:!0});var g=y(t);f&&f.l(g),s=O(g);for(let C=0;C<l.length;C+=1)l[C].l(g);g.forEach(_),o=O(k),d&&d.l(k),u=mt(),this.h()},h(){a(t,"class","sessions-list svelte-qeurdo")},m(k,g){m&&m.m(k,g),H(k,e,g),H(k,t,g),f&&f.m(t,null),i(t,s);for(let C=0;C<l.length;C+=1)l[C]&&l[C].m(t,null);H(k,o,g),d&&d.m(k,g),H(k,u,g)},p(k,g){k[17].length>0?m?g[0]&131072&&ue(m,1):(m=fl(),m.c(),ue(m,1),m.m(e.parentNode,e)):m&&(ze(),Ie(m,1,1,()=>{m=null}),xe()),k[17].length===0&&k[5].length>0?f||(f=dl(),f.c(),f.m(t,s)):f&&(f.d(1),f=null),g[0]&426240&&(b=ce(k[17]),l=kt(l,g,p,1,k,b,r,t,jl,Cl,null,Qt)),k[17].length>0?d?(d.p(k,g),g[0]&131072&&ue(d,1)):(d=yl(k),d.c(),ue(d,1),d.m(u.parentNode,u)):d&&(d.d(1),d=null)},i(k){ue(m),k&&(c||ke(()=>{c=Ye(t,Me,{}),c.start()})),ue(d)},o(k){Ie(m)},d(k){k&&(_(e),_(t),_(o),_(u)),m&&m.d(k),f&&f.d();for(let g=0;g<l.length;g+=1)l[g].d();d&&d.d(k)}}}function Ws(n){let e,t=`<p>No data cached for this activity. Click &quot;Fetch Data&quot; to sync
                from the server.</p> <div class="empty-state"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg></div>`,s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-h6ex8u"&&(e.innerHTML=t),this.h()},h(){a(e,"class","placeholder svelte-qeurdo")},m(l,r){H(l,e,r)},p:ye,i(l){l&&(s||ke(()=>{s=Ye(e,Me,{}),s.start()}))},o:ye,d(l){l&&_(e)}}}function Ks(n){let e,t,s,l,r,c,o="Retry",u,m,f;return{c(){e=v("div"),t=v("p"),s=ve("Error: "),l=ve(n[7]),r=N(),c=v("button"),c.textContent=o,this.h()},l(b){e=h(b,"DIV",{class:!0});var p=y(e);t=h(p,"P",{});var d=y(t);s=he(d,"Error: "),l=he(d,n[7]),d.forEach(_),r=O(p),c=h(p,"BUTTON",{class:!0,"data-svelte-h":!0}),F(c)!=="svelte-1n0rt7s"&&(c.textContent=o),p.forEach(_),this.h()},h(){a(c,"class","retry-btn svelte-qeurdo"),a(e,"class","status-msg error svelte-qeurdo")},m(b,p){H(b,e,p),i(e,t),i(t,s),i(t,l),i(e,r),i(e,c),m||(f=x(c,"click",n[22]),m=!0)},p(b,p){p[0]&128&&Be(l,b[7])},i(b){b&&(u||ke(()=>{u=Ye(e,Me,{}),u.start()}))},o:ye,d(b){b&&_(e),m=!1,f()}}}function Ys(n){let e,t=`<div class="spinner svelte-qeurdo"></div>
            Loading your training history...`,s;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(l){e=h(l,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-7ltysi"&&(e.innerHTML=t),this.h()},h(){a(e,"class","status-msg svelte-qeurdo")},m(l,r){H(l,e,r)},p:ye,i(l){l&&(s||ke(()=>{s=Ye(e,Me,{}),s.start()}))},o:ye,d(l){l&&_(e)}}}function fl(n){let e,t='<div class="legend-item finger svelte-qeurdo"><span class="dot svelte-qeurdo"></span> Finger</div> <div class="legend-item shoulder svelte-qeurdo"><span class="dot svelte-qeurdo"></span> Shoulder</div> <div class="legend-item forearm svelte-qeurdo"><span class="dot svelte-qeurdo"></span> Forearm</div> <span class="legend-note">(0-5 Scale)</span>',s,l;return{c(){e=v("div"),e.innerHTML=t,this.h()},l(r){e=h(r,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-s8a0lt"&&(e.innerHTML=t),this.h()},h(){a(e,"class","legend-row svelte-qeurdo")},m(r,c){H(r,e,c),l=!0},i(r){l||(r&&ke(()=>{l&&(s||(s=He(e,Me,{},!0)),s.run(1))}),l=!0)},o(r){r&&(s||(s=He(e,Me,{},!1)),s.run(0)),l=!1},d(r){r&&_(e),r&&s&&s.end()}}}function dl(n){let e,t="No results match your filters.";return{c(){e=v("div"),e.textContent=t,this.h()},l(s){e=h(s,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-1m70tcd"&&(e.textContent=t),this.h()},h(){a(e,"class","no-results svelte-qeurdo")},m(s,l){H(s,e,l)},d(s){s&&_(e)}}}function hl(n){let e,t,s,l,r,c,o,u,m=ce(n[15].filter(wl)),f=[];for(let d=0;d<m.length;d+=1)f[d]=vl($t(n,m,d));let b=ce(n[43].items),p=[];for(let d=0;d<b.length;d+=1)p[d]=kl(Xt(n,b,d));return{c(){e=v("div"),t=v("table"),s=v("thead"),l=v("tr");for(let d=0;d<f.length;d+=1)f[d].c();r=N(),c=v("tbody");for(let d=0;d<p.length;d+=1)p[d].c();this.h()},l(d){e=h(d,"DIV",{class:!0});var k=y(e);t=h(k,"TABLE",{class:!0});var g=y(t);s=h(g,"THEAD",{});var C=y(s);l=h(C,"TR",{});var L=y(l);for(let T=0;T<f.length;T+=1)f[T].l(L);L.forEach(_),C.forEach(_),r=O(g),c=h(g,"TBODY",{});var q=y(c);for(let T=0;T<p.length;T+=1)p[T].l(q);q.forEach(_),g.forEach(_),k.forEach(_),this.h()},h(){a(t,"class","details-table svelte-qeurdo"),a(e,"class","session-details svelte-qeurdo")},m(d,k){H(d,e,k),i(e,t),i(t,s),i(s,l);for(let g=0;g<f.length;g+=1)f[g]&&f[g].m(l,null);i(t,r),i(t,c);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(c,null);u=!0},p(d,k){if(k[0]&32768){m=ce(d[15].filter(wl));let g;for(g=0;g<m.length;g+=1){const C=$t(d,m,g);f[g]?f[g].p(C,k):(f[g]=vl(C),f[g].c(),f[g].m(l,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=m.length}if(k[0]&163840){b=ce(d[43].items);let g;for(g=0;g<b.length;g+=1){const C=Xt(d,b,g);p[g]?p[g].p(C,k):(p[g]=kl(C),p[g].c(),p[g].m(c,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=b.length}},i(d){u||(d&&ke(()=>{u&&(o||(o=He(e,Ke,{},!0)),o.run(1))}),u=!0)},o(d){d&&(o||(o=He(e,Ke,{},!1)),o.run(0)),u=!1},d(d){d&&_(e),Ue(f,d),Ue(p,d),d&&o&&o.end()}}}function vl(n){let e,t=n[49].label+"",s;return{c(){e=v("th"),s=ve(t),this.h()},l(l){e=h(l,"TH",{class:!0});var r=y(e);s=he(r,t),r.forEach(_),this.h()},h(){a(e,"class","svelte-qeurdo")},m(l,r){H(l,e,r),i(e,s)},p(l,r){r[0]&32768&&t!==(t=l[49].label+"")&&Be(s,t)},d(l){l&&_(e)}}}function Js(n){let e=(n[46][n[49].key]||"-")+"",t;return{c(){t=ve(e)},l(s){t=he(s,e)},m(s,l){H(s,t,l)},p(s,l){l[0]&163840&&e!==(e=(s[46][s[49].key]||"-")+"")&&Be(t,e)},d(s){s&&_(t)}}}function Qs(n){let e,t,s=(n[46].route||n[46].name||"-")+"",l,r,c,o,u,m=n[46].grade&&_l(n),f=n[46].weight&&pl(n),b=(n[46].sets||n[46].reps)&&gl(n),p=n[46].notes&&ml(n);return{c(){e=v("div"),t=v("span"),l=ve(s),r=N(),m&&m.c(),c=N(),f&&f.c(),o=N(),b&&b.c(),u=N(),p&&p.c(),this.h()},l(d){e=h(d,"DIV",{class:!0});var k=y(e);t=h(k,"SPAN",{class:!0});var g=y(t);l=he(g,s),g.forEach(_),r=O(k),m&&m.l(k),c=O(k),f&&f.l(k),o=O(k),b&&b.l(k),u=O(k),p&&p.l(k),k.forEach(_),this.h()},h(){a(t,"class","ex-name svelte-qeurdo"),a(e,"class","exercise-row svelte-qeurdo")},m(d,k){H(d,e,k),i(e,t),i(t,l),i(e,r),m&&m.m(e,null),i(e,c),f&&f.m(e,null),i(e,o),b&&b.m(e,null),i(e,u),p&&p.m(e,null)},p(d,k){k[0]&131072&&s!==(s=(d[46].route||d[46].name||"-")+"")&&Be(l,s),d[46].grade?m?m.p(d,k):(m=_l(d),m.c(),m.m(e,c)):m&&(m.d(1),m=null),d[46].weight?f?f.p(d,k):(f=pl(d),f.c(),f.m(e,o)):f&&(f.d(1),f=null),d[46].sets||d[46].reps?b?b.p(d,k):(b=gl(d),b.c(),b.m(e,u)):b&&(b.d(1),b=null),d[46].notes?p?p.p(d,k):(p=ml(d),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(d){d&&_(e),m&&m.d(),f&&f.d(),b&&b.d(),p&&p.d()}}}function _l(n){let e,t=n[46].grade+"",s;return{c(){e=v("span"),s=ve(t),this.h()},l(l){e=h(l,"SPAN",{class:!0});var r=y(e);s=he(r,t),r.forEach(_),this.h()},h(){a(e,"class","ex-meta grade svelte-qeurdo")},m(l,r){H(l,e,r),i(e,s)},p(l,r){r[0]&131072&&t!==(t=l[46].grade+"")&&Be(s,t)},d(l){l&&_(e)}}}function pl(n){let e,t=n[46].weight+"",s,l;return{c(){e=v("span"),s=ve(t),l=ve("kg"),this.h()},l(r){e=h(r,"SPAN",{class:!0});var c=y(e);s=he(c,t),l=he(c,"kg"),c.forEach(_),this.h()},h(){a(e,"class","ex-meta weight svelte-qeurdo")},m(r,c){H(r,e,c),i(e,s),i(e,l)},p(r,c){c[0]&131072&&t!==(t=r[46].weight+"")&&Be(s,t)},d(r){r&&_(e)}}}function gl(n){let e,t=n[46].sets+"",s,l,r=n[46].reps+"",c;return{c(){e=v("span"),s=ve(t),l=ve("x"),c=ve(r),this.h()},l(o){e=h(o,"SPAN",{class:!0});var u=y(e);s=he(u,t),l=he(u,"x"),c=he(u,r),u.forEach(_),this.h()},h(){a(e,"class","ex-meta sets svelte-qeurdo")},m(o,u){H(o,e,u),i(e,s),i(e,l),i(e,c)},p(o,u){u[0]&131072&&t!==(t=o[46].sets+"")&&Be(s,t),u[0]&131072&&r!==(r=o[46].reps+"")&&Be(c,r)},d(o){o&&_(e)}}}function ml(n){let e,t=n[46].notes+"",s;return{c(){e=v("span"),s=ve(t),this.h()},l(l){e=h(l,"SPAN",{class:!0});var r=y(e);s=he(r,t),r.forEach(_),this.h()},h(){a(e,"class","ex-notes svelte-qeurdo")},m(l,r){H(l,e,r),i(e,s)},p(l,r){r[0]&131072&&t!==(t=l[46].notes+"")&&Be(s,t)},d(l){l&&_(e)}}}function bl(n){let e;function t(r,c){return r[49].isObject?Qs:Js}let s=t(n),l=s(n);return{c(){e=v("td"),l.c(),this.h()},l(r){e=h(r,"TD",{class:!0});var c=y(e);l.l(c),c.forEach(_),this.h()},h(){a(e,"class","svelte-qeurdo")},m(r,c){H(r,e,c),l.m(e,null)},p(r,c){s===(s=t(r))&&l?l.p(r,c):(l.d(1),l=s(r),l&&(l.c(),l.m(e,null)))},d(r){r&&_(e),l.d()}}}function kl(n){let e,t,s=ce(n[15].filter(Tl)),l=[];for(let r=0;r<s.length;r+=1)l[r]=bl(Zt(n,s,r));return{c(){e=v("tr");for(let r=0;r<l.length;r+=1)l[r].c();t=N()},l(r){e=h(r,"TR",{});var c=y(e);for(let o=0;o<l.length;o+=1)l[o].l(c);t=O(c),c.forEach(_)},m(r,c){H(r,e,c);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(e,null);i(e,t)},p(r,c){if(c[0]&163840){s=ce(r[15].filter(Tl));let o;for(o=0;o<s.length;o+=1){const u=Zt(r,s,o);l[o]?l[o].p(u,c):(l[o]=bl(u),l[o].c(),l[o].m(e,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=s.length}},d(r){r&&_(e),Ue(l,r)}}}function Cl(n,e){let t,s,l,r,c=El(e[43].date)+"",o,u,m,f=e[43].location+"",b,p,d,k=e[43].session+"",g,C,L,q,T,I="FI",E,D,S=e[43].fingerLoad+"",w,B,j,K,le="SH",Ee,P,A=e[43].shoulderLoad+"",Z,re,ee,ae,X="FO",De,_e,pe=e[43].forearmLoad+"",se,je,fe,de,we,Se=e[8].has(e[43].key),Y,$,G;function ge(){return e[42](e[43])}let te=Se&&hl(e);return{key:n,first:null,c(){t=v("div"),s=v("button"),l=v("div"),r=v("span"),o=ve(c),u=N(),m=v("span"),b=ve(f),p=N(),d=v("span"),g=ve(k),C=N(),L=v("div"),q=v("div"),T=v("span"),T.textContent=I,E=N(),D=v("span"),w=ve(S),B=N(),j=v("div"),K=v("span"),K.textContent=le,Ee=N(),P=v("span"),Z=ve(A),re=N(),ee=v("div"),ae=v("span"),ae.textContent=X,De=N(),_e=v("span"),se=ve(pe),je=N(),fe=ft("svg"),de=ft("path"),we=N(),te&&te.c(),Y=N(),this.h()},l(R){t=h(R,"DIV",{class:!0});var U=y(t);s=h(U,"BUTTON",{class:!0});var z=y(s);l=h(z,"DIV",{class:!0});var ie=y(l);r=h(ie,"SPAN",{class:!0});var Te=y(r);o=he(Te,c),Te.forEach(_),u=O(ie),m=h(ie,"SPAN",{class:!0});var oe=y(m);b=he(oe,f),oe.forEach(_),p=O(ie),d=h(ie,"SPAN",{class:!0});var Ae=y(d);g=he(Ae,k),Ae.forEach(_),ie.forEach(_),C=O(z),L=h(z,"DIV",{class:!0});var me=y(L);q=h(me,"DIV",{class:!0});var be=y(q);T=h(be,"SPAN",{class:!0,"data-svelte-h":!0}),F(T)!=="svelte-lon4bu"&&(T.textContent=I),E=O(be),D=h(be,"SPAN",{class:!0});var Pe=y(D);w=he(Pe,S),Pe.forEach(_),be.forEach(_),B=O(me),j=h(me,"DIV",{class:!0});var qe=y(j);K=h(qe,"SPAN",{class:!0,"data-svelte-h":!0}),F(K)!=="svelte-ryswzs"&&(K.textContent=le),Ee=O(qe),P=h(qe,"SPAN",{class:!0});var Fe=y(P);Z=he(Fe,A),Fe.forEach(_),qe.forEach(_),re=O(me),ee=h(me,"DIV",{class:!0});var Oe=y(ee);ae=h(Oe,"SPAN",{class:!0,"data-svelte-h":!0}),F(ae)!=="svelte-1q34mlw"&&(ae.textContent=X),De=O(Oe),_e=h(Oe,"SPAN",{class:!0});var M=y(_e);se=he(M,pe),M.forEach(_),Oe.forEach(_),je=O(me),fe=ct(me,"svg",{class:!0,xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var Q=y(fe);de=ct(Q,"path",{d:!0}),y(de).forEach(_),Q.forEach(_),me.forEach(_),z.forEach(_),we=O(U),te&&te.l(U),Y=O(U),U.forEach(_),this.h()},h(){a(r,"class","date svelte-qeurdo"),a(m,"class","location svelte-qeurdo"),a(d,"class","tag svelte-qeurdo"),a(l,"class","session-info svelte-qeurdo"),a(T,"class","label svelte-qeurdo"),a(D,"class","val"),a(q,"class","load-pill finger svelte-qeurdo"),a(K,"class","label svelte-qeurdo"),a(P,"class","val"),a(j,"class","load-pill shoulder svelte-qeurdo"),a(ae,"class","label svelte-qeurdo"),a(_e,"class","val"),a(ee,"class","load-pill forearm svelte-qeurdo"),a(de,"d","m6 9 6 6 6-6"),a(fe,"class","chevron svelte-qeurdo"),a(fe,"xmlns","http://www.w3.org/2000/svg"),a(fe,"width","20"),a(fe,"height","20"),a(fe,"viewBox","0 0 24 24"),a(fe,"fill","none"),a(fe,"stroke","currentColor"),a(fe,"stroke-width","2"),a(fe,"stroke-linecap","round"),a(fe,"stroke-linejoin","round"),a(L,"class","load-summary svelte-qeurdo"),a(s,"class","session-header svelte-qeurdo"),a(t,"class","session-card svelte-qeurdo"),We(t,"expanded",e[8].has(e[43].key)),this.first=t},m(R,U){H(R,t,U),i(t,s),i(s,l),i(l,r),i(r,o),i(l,u),i(l,m),i(m,b),i(l,p),i(l,d),i(d,g),i(s,C),i(s,L),i(L,q),i(q,T),i(q,E),i(q,D),i(D,w),i(L,B),i(L,j),i(j,K),i(j,Ee),i(j,P),i(P,Z),i(L,re),i(L,ee),i(ee,ae),i(ee,De),i(ee,_e),i(_e,se),i(L,je),i(L,fe),i(fe,de),i(t,we),te&&te.m(t,null),i(t,Y),$||(G=x(s,"click",ge),$=!0)},p(R,U){e=R,U[0]&131072&&c!==(c=El(e[43].date)+"")&&Be(o,c),U[0]&131072&&f!==(f=e[43].location+"")&&Be(b,f),U[0]&131072&&k!==(k=e[43].session+"")&&Be(g,k),U[0]&131072&&S!==(S=e[43].fingerLoad+"")&&Be(w,S),U[0]&131072&&A!==(A=e[43].shoulderLoad+"")&&Be(Z,A),U[0]&131072&&pe!==(pe=e[43].forearmLoad+"")&&Be(se,pe),U[0]&131328&&(Se=e[8].has(e[43].key)),Se?te?(te.p(e,U),U[0]&131328&&ue(te,1)):(te=hl(e),te.c(),ue(te,1),te.m(t,Y)):te&&(ze(),Ie(te,1,1,()=>{te=null}),xe()),U[0]&131328&&We(t,"expanded",e[8].has(e[43].key))},d(R){R&&_(t),te&&te.d(),$=!1,G()}}}function yl(n){let e,t,s=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                    Export to CSV`,l,r,c;return{c(){e=v("div"),t=v("button"),t.innerHTML=s,this.h()},l(o){e=h(o,"DIV",{class:!0});var u=y(e);t=h(u,"BUTTON",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-jjg4f9"&&(t.innerHTML=s),u.forEach(_),this.h()},h(){a(t,"class","export-btn svelte-qeurdo"),a(e,"class","footer-actions svelte-qeurdo")},m(o,u){H(o,e,u),i(e,t),r||(c=x(t,"click",n[25]),r=!0)},p:ye,i(o){o&&(l||ke(()=>{l=Ye(e,Me,{}),l.start()}))},o:ye,d(o){o&&_(e),r=!1,c()}}}function Xs(n){let e,t,s,l,r,c,o,u=`<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"></polygon></svg>
                Filters`,m,f,b,p,d,k;function g(w,B){return w[6]?Rs:Ms}let C=g(n),L=C(n),q=ce(n[19]),T=[];for(let w=0;w<q.length;w+=1)T[w]=nl(sl(n,q,w));let I=n[9]&&ol(n);function E(w,B){return w[6]?Ys:w[7]?Ks:w[5].length===0?Ws:Gs}let D=E(n),S=D(n);return{c(){e=v("div"),t=v("div"),s=v("div"),l=v("button"),L.c(),r=ve(`
                Fetch Data`),c=N(),o=v("button"),o.innerHTML=u,m=N(),f=v("select");for(let w=0;w<T.length;w+=1)T[w].c();b=N(),I&&I.c(),p=N(),S.c(),this.h()},l(w){e=h(w,"DIV",{class:!0});var B=y(e);t=h(B,"DIV",{class:!0});var j=y(t);s=h(j,"DIV",{class:!0});var K=y(s);l=h(K,"BUTTON",{class:!0,title:!0});var le=y(l);L.l(le),r=he(le,`
                Fetch Data`),le.forEach(_),c=O(K),o=h(K,"BUTTON",{class:!0,"data-svelte-h":!0}),F(o)!=="svelte-vw25g4"&&(o.innerHTML=u),m=O(K),f=h(K,"SELECT",{class:!0});var Ee=y(f);for(let P=0;P<T.length;P+=1)T[P].l(Ee);Ee.forEach(_),K.forEach(_),j.forEach(_),b=O(B),I&&I.l(B),p=O(B),S.l(B),B.forEach(_),this.h()},h(){a(l,"class","fetch-btn svelte-qeurdo"),l.disabled=n[6],a(l,"title","Fetch latest data"),a(o,"class","filter-toggle svelte-qeurdo"),We(o,"active",n[9]),a(f,"class","type-select svelte-qeurdo"),n[0]===void 0&&ke(()=>n[29].call(f)),a(s,"class","header-actions svelte-qeurdo"),a(t,"class","header-row svelte-qeurdo"),a(e,"class","view-container svelte-qeurdo")},m(w,B){H(w,e,B),i(e,t),i(t,s),i(s,l),L.m(l,null),i(l,r),i(s,c),i(s,o),i(s,m),i(s,f);for(let j=0;j<T.length;j+=1)T[j]&&T[j].m(f,null);Le(f,n[0],!0),i(e,b),I&&I.m(e,null),i(e,p),S.m(e,null),d||(k=[x(l,"click",n[22]),x(o,"click",n[28]),x(f,"change",n[29])],d=!0)},p(w,B){if(C!==(C=g(w))&&(L.d(1),L=C(w),L&&(L.c(),L.m(l,r))),B[0]&64&&(l.disabled=w[6]),B[0]&512&&We(o,"active",w[9]),B[0]&524288){q=ce(w[19]);let j;for(j=0;j<q.length;j+=1){const K=sl(w,q,j);T[j]?T[j].p(K,B):(T[j]=nl(K),T[j].c(),T[j].m(f,null))}for(;j<T.length;j+=1)T[j].d(1);T.length=q.length}B[0]&524289&&Le(f,w[0]),w[9]?I?(I.p(w,B),B[0]&512&&ue(I,1)):(I=ol(w),I.c(),ue(I,1),I.m(e,p)):I&&(ze(),Ie(I,1,1,()=>{I=null}),xe()),D===(D=E(w))&&S?S.p(w,B):(S.d(1),S=D(w),S&&(S.c(),ue(S,1),S.m(e,null)))},i(w){ue(I),ue(S)},o(w){Ie(I)},d(w){w&&_(e),L.d(),Ue(T,w),I&&I.d(),S.d(),d=!1,Qe(k)}}}const Zs="https://get-log-825153765638.europe-west1.run.app";function $s(n,e,t,s,l,r){const c=n.filter(u=>{var m,f,b;if(e&&new Date(((m=u.date)==null?void 0:m.value)||u.date)<new Date(e))return!1;if(t){const p=new Date(t);if(p.setHours(23,59,59,999),new Date(((f=u.date)==null?void 0:f.value)||u.date)>p)return!1}return!(s&&!(typeof u.location=="string"?u.location:"").toLowerCase().includes(s.toLowerCase())||l&&u.session_type!==l||r&&((b=u.climbs)==null?void 0:b.grade)!==r)}),o={};return c.forEach(u=>{var p;const m=((p=u.date)==null?void 0:p.value)||u.date,b=`${new Date(m).toISOString().split("T")[0]}|${u.location}|${u.session_type}`;o[b]||(o[b]={key:b,date:u.date,location:u.location,session:u.session_type,fingerLoad:0,shoulderLoad:0,forearmLoad:0,items:[]}),o[b].fingerLoad=Math.max(o[b].fingerLoad,u.finger_load||0),o[b].shoulderLoad=Math.max(o[b].shoulderLoad,u.shoulder_load||0),o[b].forearmLoad=Math.max(o[b].forearmLoad,u.forearm_load||0),o[b].items.push(u.climbs)}),Object.values(o).sort((u,m)=>{const f=new Date(u.date.value||u.date);return new Date(m.date.value||m.date).getTime()-f.getTime()})}function El(n){return n?new Date(n.value||n).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"2-digit"}):"-"}function en(n){switch(n){case"indoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Session"},{key:"climbs",label:"Data",isObject:!0}];case"fingerboard":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Hang",isObject:!0}];case"outdoor":return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"},{key:"climbs",label:"Routes",isObject:!0}];default:return[{key:"date",label:"Date"},{key:"location",label:"Location"},{key:"session_type",label:"Type"}]}}const wl=n=>n.key!=="date"&&n.key!=="location"&&n.key!=="session_type",Tl=n=>n.key!=="date"&&n.key!=="location"&&n.key!=="session_type";function tn(n,e,t){let s,l,r,c,o;Ol(n,wt,Y=>t(27,o=Y));let u="indoor",m=!1,f="",b=new Set;function p(Y){b.has(Y)?b.delete(Y):b.add(Y),t(8,b)}let d=!1,k="",g="",C="",L="",q="",T="",I="",E="",D="",S={startDate:"",endDate:"",location:"",session:"",grade:""};const w=[{id:"indoor",label:"Indoor Climb"},{id:"fingerboard",label:"Fingerboarding"},{id:"gym",label:"Gym Session"},{id:"outdoor",label:"Outdoor Climb"},{id:"other",label:"Other"}],B=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],j=["Strength","Endurance","Power","Recovery"];async function K(){if(u){t(6,m=!0),t(7,f="");try{const Y=Sl(ut),$=new URLSearchParams({type:u}),G=await fetch(`${Zs}?${$.toString()}`,{method:"GET",headers:{Authorization:`Bearer ${Y}`}});if(!G.ok){const te=await G.text();throw new Error(te||"Failed to fetch data")}const ge=await G.json();zl(u,ge)}catch(Y){console.error("Fetch Error:",Y),t(7,f=Y.message||"An unknown error occurred")}finally{t(6,m=!1)}}}function le(){t(26,S={startDate:k,endDate:g,location:C,session:E,grade:D}),t(9,d=!1)}function Ee(){t(10,k=""),t(11,g=""),t(12,C=""),t(13,E=""),t(14,D=""),le()}function P(){if(!s||s.length===0)return;const Y=["date","location","session_type","finger_load","shoulder_load","forearm_load"],$=new Set;s.forEach(Te=>{Te.climbs&&Object.keys(Te.climbs).forEach(oe=>$.add(oe))});const G=Array.from($),ge=[...Y,...G],te=[];te.push(ge.join(",")),s.forEach(Te=>{const oe=ge.map(Ae=>{let me;return Y.includes(Ae)?me=Te[Ae]:me=Te.climbs?Te.climbs[Ae]:"",me&&typeof me=="object"&&me.value&&(me=me.value),`"${(me==null?"":String(me)).replace(/"/g,'""')}"`});te.push(oe.join(","))});const R=te.join(`
`),U=new Blob([R],{type:"text/csv;charset=utf-8;"}),z=URL.createObjectURL(U),ie=document.createElement("a");ie.setAttribute("href",z),ie.setAttribute("download",`training_data_${u}_${new Date().toISOString().split("T")[0]}.csv`),ie.style.visibility="hidden",document.body.appendChild(ie),ie.click(),document.body.removeChild(ie)}Wl(()=>{});const A=()=>t(9,d=!d);function Z(){u=Ge(this),t(0,u),t(19,w)}function re(){k=this.value,t(10,k)}function ee(){g=this.value,t(11,g)}function ae(){L=Ge(this),t(1,L)}const X=()=>{t(3,T=""),t(2,q="")};function De(){q=this.value,t(2,q)}function _e(){T=Ge(this),t(3,T),t(16,r),t(1,L)}const pe=()=>t(4,I="");function se(){I=this.value,t(4,I)}function je(){C=Ge(this),t(12,C),t(0,u),t(1,L),t(2,q),t(3,T),t(4,I),t(20,B)}function fe(){E=Ge(this),t(13,E),t(21,j)}function de(){E=Ge(this),t(13,E),t(21,j)}function we(){D=this.value,t(14,D)}const Se=Y=>p(Y.key);return n.$$.update=()=>{if(n.$$.dirty[0]&134217729&&t(5,s=o[u]||[]),n.$$.dirty[0]&67108896&&t(17,l=$s(s,S.startDate,S.endDate,S.location,S.session,S.grade)),n.$$.dirty[0]&2&&t(16,r=Hl[L]||[]),n.$$.dirty[0]&31&&u==="outdoor"){const Y=L==="Other"?q:L,$=T==="Other"?I:T;$?t(12,C=$):Y?t(12,C=Y):t(12,C="")}n.$$.dirty[0]&1&&t(15,c=en(u))},[u,L,q,T,I,s,m,f,b,d,k,g,C,E,D,c,r,l,p,w,B,j,K,le,Ee,P,S,o,A,Z,re,ee,ae,X,De,_e,pe,se,je,fe,de,we,Se]}class ln extends Ze{constructor(e){super(),$e(this,e,tn,Xs,Xe,{},null,[-1,-1,-1])}}function sn(n){let e,t='<h2 class="svelte-dqa28t">Graph Data</h2> <div class="placeholder svelte-dqa28t"><p class="svelte-dqa28t">Visual progress charts and graphs will be displayed here.</p> <div class="empty-state svelte-dqa28t"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-line-chart"><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"></path></svg></div></div>';return{c(){e=v("div"),e.innerHTML=t,this.h()},l(s){e=h(s,"DIV",{class:!0,"data-svelte-h":!0}),F(e)!=="svelte-r5xejk"&&(e.innerHTML=t),this.h()},h(){a(e,"class","tab-content svelte-dqa28t")},m(s,l){H(s,e,l)},p:ye,i:ye,o:ye,d(s){s&&_(e)}}}class nn extends Ze{constructor(e){super(),$e(this,e,null,sn,Xe,{})}}function ql(n,e,t){const s=n.slice();return s[5]=e[t],s}function Dl(n){let e,t='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg>',s,l;return{c(){e=v("button"),e.innerHTML=t,this.h()},l(r){e=h(r,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),F(e)!=="svelte-1y2odl3"&&(e.innerHTML=t),this.h()},h(){a(e,"class","logout-button svelte-xzza9f"),a(e,"title","Logout")},m(r,c){H(r,e,c),s||(l=x(e,"click",ns),s=!0)},d(r){r&&_(e),s=!1,l()}}}function on(n){let e,t,s;return t=new as({}),{c(){e=v("div"),ht(t.$$.fragment),this.h()},l(l){e=h(l,"DIV",{class:!0});var r=y(e);yt(t.$$.fragment,r),r.forEach(_),this.h()},h(){a(e,"class","content-container svelte-xzza9f")},m(l,r){H(l,e,r),vt(t,e,null),s=!0},p:ye,i(l){s||(ue(t.$$.fragment,l),s=!0)},o(l){Ie(t.$$.fragment,l),s=!1},d(l){l&&_(e),dt(t)}}}function rn(n){let e,t,s,l,r,c=ce(n[3]),o=[];for(let f=0;f<c.length;f+=1)o[f]=Ll(ql(n,c,f));var u=n[1].component;function m(f,b){return{}}return u&&(l=bt(u,m())),{c(){e=v("nav");for(let f=0;f<o.length;f+=1)o[f].c();t=N(),s=v("div"),l&&ht(l.$$.fragment),this.h()},l(f){e=h(f,"NAV",{class:!0});var b=y(e);for(let d=0;d<o.length;d+=1)o[d].l(b);b.forEach(_),t=O(f),s=h(f,"DIV",{class:!0});var p=y(s);l&&yt(l.$$.fragment,p),p.forEach(_),this.h()},h(){a(e,"class","tabs-nav svelte-xzza9f"),a(s,"class","content-container svelte-xzza9f")},m(f,b){H(f,e,b);for(let p=0;p<o.length;p+=1)o[p]&&o[p].m(e,null);H(f,t,b),H(f,s,b),l&&vt(l,s,null),r=!0},p(f,b){if(b&9){c=ce(f[3]);let p;for(p=0;p<c.length;p+=1){const d=ql(f,c,p);o[p]?o[p].p(d,b):(o[p]=Ll(d),o[p].c(),o[p].m(e,null))}for(;p<o.length;p+=1)o[p].d(1);o.length=c.length}if(b&2&&u!==(u=f[1].component)){if(l){ze();const p=l;Ie(p.$$.fragment,1,0,()=>{dt(p,1)}),xe()}u?(l=bt(u,m()),ht(l.$$.fragment),ue(l.$$.fragment,1),vt(l,s,null)):l=null}},i(f){r||(l&&ue(l.$$.fragment,f),r=!0)},o(f){l&&Ie(l.$$.fragment,f),r=!1},d(f){f&&(_(e),_(t),_(s)),Ue(o,f),l&&dt(l)}}}function Ll(n){let e,t=n[5].label+"",s,l,r,c;function o(){return n[4](n[5])}return{c(){e=v("button"),s=ve(t),l=N(),this.h()},l(u){e=h(u,"BUTTON",{class:!0});var m=y(e);s=he(m,t),l=O(m),m.forEach(_),this.h()},h(){a(e,"class","tab-button svelte-xzza9f"),We(e,"active",n[0]===n[5].id)},m(u,m){H(u,e,m),i(e,s),i(e,l),r||(c=x(e,"click",o),r=!0)},p(u,m){n=u,m&9&&We(e,"active",n[0]===n[5].id)},d(u){u&&_(e),r=!1,c()}}}function an(n){let e,t,s,l,r,c,o,u="Training Tracker",m,f,b,p,d;document.title=e="Training Tracker "+(n[2]?"- "+n[1].label:"(Locked)");let k=n[2]&&Dl();const g=[rn,on],C=[];function L(q,T){return q[2]?0:1}return b=L(n),p=C[b]=g[b](n),{c(){t=v("meta"),s=N(),l=v("main"),r=v("div"),c=v("header"),o=v("h1"),o.textContent=u,m=N(),k&&k.c(),f=N(),p.c(),this.h()},l(q){const T=Zl("svelte-ggv3pg",document.head);t=h(T,"META",{name:!0,content:!0}),T.forEach(_),s=O(q),l=h(q,"MAIN",{});var I=y(l);r=h(I,"DIV",{class:!0});var E=y(r);c=h(E,"HEADER",{class:!0});var D=y(c);o=h(D,"H1",{class:!0,"data-svelte-h":!0}),F(o)!=="svelte-95sjtq"&&(o.textContent=u),m=O(D),k&&k.l(D),D.forEach(_),f=O(E),p.l(E),E.forEach(_),I.forEach(_),this.h()},h(){a(t,"name","description"),a(t,"content","A simple Svelte webapp for tracking training"),a(o,"class","svelte-xzza9f"),a(c,"class","svelte-xzza9f"),a(r,"class","app-container svelte-xzza9f")},m(q,T){i(document.head,t),H(q,s,T),H(q,l,T),i(l,r),i(r,c),i(c,o),i(c,m),k&&k.m(c,null),i(r,f),C[b].m(r,null),d=!0},p(q,[T]){(!d||T&6)&&e!==(e="Training Tracker "+(q[2]?"- "+q[1].label:"(Locked)"))&&(document.title=e),q[2]?k||(k=Dl(),k.c(),k.m(c,null)):k&&(k.d(1),k=null);let I=b;b=L(q),b===I?C[b].p(q,T):(ze(),Ie(C[I],1,1,()=>{C[I]=null}),xe(),p=C[b],p?p.p(q,T):(p=C[b]=g[b](q),p.c()),ue(p,1),p.m(r,null))},i(q){d||(ue(p),d=!0)},o(q){Ie(p),d=!1},d(q){q&&(_(s),_(l)),_(t),k&&k.d(),C[b].d()}}}function un(n,e,t){let s,l;Ol(n,ut,u=>t(2,l=u));const r=[{id:"log",label:"Log Exercise",component:js},{id:"view",label:"View Data",component:ln},{id:"graph",label:"Graph Data",component:nn}];let c="log";const o=u=>t(0,c=u.id);return n.$$.update=()=>{n.$$.dirty&1&&t(1,s=r.find(u=>u.id===c))},[c,s,l,r,o]}class hn extends Ze{constructor(e){super(),$e(this,e,un,an,Xe,{})}}export{hn as component};
