import{f,a as o,c as ht,t as Ue}from"../chunks/CSQvsE9s.js";import{a1 as Ra,p as Ct,c as l,r as a,s,i as e,t as z,a as Tt,f as _t,aV as S,w as et,o as Xt,x as t,d as ca,aG as Be,aW as Ht,b0 as Ia,b1 as da,j as Xe,e as _e,b2 as ba,ac as Te,b3 as Aa,b4 as Yt,b5 as Oa,b6 as Ba,v as ja,b7 as Pa}from"../chunks/DGPNV_z9.js";import{d as sa,s as M,e as H}from"../chunks/DSMXtqZM.js";import{i as j}from"../chunks/D9GEZg6r.js";import{e as ce,i as ue,r as D,b as R,c as La,s as qt,d as $a}from"../chunks/_iMURHzE.js";import{s as Ke}from"../chunks/Ct8JfZaa.js";import{i as Fa,s as Ga,c as Ze,d as Ma,u as Sa,m as ka,b as wa,e as Ja,f as Ea,h as Ua,j as Ka,k as Wa,l as Ha}from"../chunks/Cn4iyW3Z.js";import{i as ua,c as Ya,g as Qa,a as Xa,b as Za,t as va,f as ya,E as na,d as es,D as ts,e as as,h as ss,j as ls,s as rs}from"../chunks/CuiA2Y8F.js";import{p as St}from"../chunks/Dd0awD9h.js";import{i as la}from"../chunks/BH8c2ae4.js";import{b as is}from"../chunks/B_U3diDF.js";function ha(he){return function(...A){var m=A[0];return m.stopPropagation(),he?.apply(this,A)}}function Qt(he,A){var m=he.$$events?.[A.type],T=Ra(m)?m.slice():m==null?[]:[m];for(var W of T)W.call(this,A)}var os=f('<span class="placeholder svelte-1g8x5ph"> </span>'),ns=f('<span class="chip-display"> </span>'),vs=f('<button type="button"> </button>'),cs=f('<div class="multi-select-container svelte-1g8x5ph"><div class="chips svelte-1g8x5ph"><!></div> <div class="options-grid svelte-1g8x5ph"></div></div>');function Jt(he,A){Ct(A,!0);let m=St(A,"selected",19,()=>[]),T=St(A,"placeholder",3,"Select options...");function W(U){let w=[...m()];U==="None"?w.includes("None")?w=[]:w=["None"]:(w=w.filter(L=>L!=="None"),w.includes(U)?w=w.filter(L=>L!==U):w.push(U)),A.onChange(w)}var x=cs(),N=l(x),G=l(N);{var q=U=>{var w=os(),L=l(w,!0);a(w),z(()=>M(L,T())),o(U,w)},Y=U=>{var w=ht(),L=_t(w);ce(L,17,m,ue,(C,h)=>{var _=ns(),k=l(_,!0);a(_),z(()=>M(k,e(h))),o(C,_)}),o(U,w)};j(G,U=>{m().length===0?U(q):U(Y,!1)})}a(N);var J=s(N,2);ce(J,21,()=>A.options,ue,(U,w)=>{var L=vs();L.__click=()=>W(e(w));var C=l(L,!0);a(L),z(h=>{Ke(L,1,`option-chip ${h??""}`,"svelte-1g8x5ph"),M(C,e(w))},[()=>m().includes(e(w))?"selected":""]),o(U,L)}),a(J),a(x),o(he,x),Tt()}sa(["click"]);var ds=f('<div class="input-with-action svelte-1lf3qka"><input type="text" id="location-manual" placeholder="Enter custom location..." class="flat-left svelte-1lf3qka"/> <button type="button" class="action-btn flat-right svelte-1lf3qka" title="Back to list">‚úï</button></div>'),us=f("<option> </option>"),ps=f('<select id="location" class="svelte-1lf3qka"><option disabled>Select location...</option><!></select>'),fs=f("<option> </option>"),ms=f("<option> </option>"),_s=f('<th class="svelte-1lf3qka">Sport?</th>'),gs=f('<td class="center svelte-1lf3qka"><input type="checkbox" class="svelte-1lf3qka"/></td>'),bs=f('<span class="grade-error svelte-1lf3qka">Invalid</span>'),ys=f("<option> </option>"),hs=f("<option> </option>"),Ss=f('<button type="button" class="remove-btn svelte-1lf3qka">‚úï</button>'),ks=f('<tr><!><td class="svelte-1lf3qka"><input type="text" placeholder="Route name..." class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><input type="text" placeholder="V3"/> <!></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><input type="number" min="1" class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td><textarea placeholder="Notes..." class="svelte-1lf3qka"></textarea></td><td class="center svelte-1lf3qka"><!></td></tr>'),ws=f("<div> </div>"),xs=f('<div class="form-content svelte-1lf3qka"><h3 class="svelte-1lf3qka">üßó Indoor Climb</h3> <div class="form-row svelte-1lf3qka"><div class="form-group svelte-1lf3qka"><label for="date" class="svelte-1lf3qka">Date</label> <input type="date" id="date" class="svelte-1lf3qka"/></div> <div class="form-group svelte-1lf3qka"><label for="location" class="svelte-1lf3qka">Location</label> <!></div></div> <div class="form-group svelte-1lf3qka"><label for="climbing-type" class="svelte-1lf3qka">Climbing Type</label> <select id="climbing-type" class="svelte-1lf3qka"><option disabled>Select type...</option><!></select></div> <div class="load-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Load Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="load-item svelte-1lf3qka"><label for="finger-load" class="svelte-1lf3qka">Finger</label> <input type="number" id="finger-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="shoulder-load" class="svelte-1lf3qka">Shoulder</label> <input type="number" id="shoulder-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="forearm-load" class="svelte-1lf3qka">Forearm</label> <input type="number" id="forearm-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div></div> <h4 class="mt-4 svelte-1lf3qka">Grip Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="load-item svelte-1lf3qka"><label for="open-grip" class="svelte-1lf3qka">Open</label> <input type="number" id="open-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="crimp-grip" class="svelte-1lf3qka">Crimp</label> <input type="number" id="crimp-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="pinch-grip" class="svelte-1lf3qka">Pinch</label> <input type="number" id="pinch-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="sloper-grip" class="svelte-1lf3qka">Sloper</label> <input type="number" id="sloper-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="jug-grip" class="svelte-1lf3qka">Jug</label> <input type="number" id="jug-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div></div></div> <div class="training-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Training Details</h4> <div class="training-grid svelte-1lf3qka"><div class="training-item svelte-1lf3qka"><label for="training-type" class="svelte-1lf3qka">Training Type</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="difficulty" class="svelte-1lf3qka">Difficulty</label> <select id="difficulty" class="svelte-1lf3qka"></select></div> <div class="training-item svelte-1lf3qka"><label for="category" class="svelte-1lf3qka">Category</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="energy-system" class="svelte-1lf3qka">Energy System</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="technique-focus" class="svelte-1lf3qka">Technique Focus</label> <!></div></div></div> <div class="climbs-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Climbs</h4> <div class="table-container svelte-1lf3qka"><table class="climbs-table svelte-1lf3qka"><thead><tr><!><th class="svelte-1lf3qka">Name</th><th class="svelte-1lf3qka">Grade</th><th class="svelte-1lf3qka">Attempt</th><th class="svelte-1lf3qka">#</th><th class="svelte-1lf3qka">Wall</th><th class="svelte-1lf3qka">Notes</th><th class="svelte-1lf3qka"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-1lf3qka">+ Add Climb</button></div> <div class="submit-section svelte-1lf3qka"><!> <button type="button" class="submit-btn svelte-1lf3qka"><!></button></div></div>');function qs(he,A){Ct(A,!0);const m=["Rockstar Unit 3","Rockstar Unit 5","Rockstar Techno","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","Other"],T=["Bouldering","Sport","Mixed"],W=["Onsight","Flash","Redpoint","Dogged","DNF"],x=["None","Projecting","Onsighting","Campusing","Repeaters"],N=["None","Easy","Medium","Hard","Max","Limit+"],G=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Coordination","Slab Technique","Overhang Technique"],q=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],Y=["None","Trusting feet","Double-clutch","Standing on volumes","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Pogo","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"],J=["None","Overhang","Slab","Roof","Moon Board","Kilter Board","Beast","Circuit Board","Boulder wall","Lead wall","Comp wall","Auto belays"],w=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","V4","6B","V5","6C","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"].map(p=>p.toLowerCase());let L=S(null),C=S(et(new Date().toISOString().split("T")[0])),h=S(""),_=S(""),k=S(et(["None"])),E=S("None"),ee=S(et(["None"])),u=S(et(["None"])),b=S(et(["None"])),O=S(3),I=S(3),ae=S(3),Q=S(3),ie=S(3),X=S(3),se=S(3),F=S(3),c=S(et([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}])),g=S(!1);const te="indoor_climb_draft";let le=S(!1);Xt(()=>{const p=localStorage.getItem(te);if(p)try{const v=JSON.parse(p);v.date&&t(C,v.date,!0),v.location&&t(h,v.location,!0),v.isOtherLocation&&t(g,v.isOtherLocation,!0),v.climbingType&&t(_,v.climbingType,!0),v.trainingTypes&&t(k,v.trainingTypes,!0),v.difficulty&&t(E,v.difficulty,!0),v.categories&&t(ee,v.categories,!0),v.energySystems&&t(u,v.energySystems,!0),v.techniqueFocuses&&t(b,v.techniqueFocuses,!0),v.fingerLoad&&t(O,v.fingerLoad,!0),v.shoulderLoad&&t(I,v.shoulderLoad,!0),v.forearmLoad&&t(ae,v.forearmLoad,!0),v.openGrip&&t(Q,v.openGrip,!0),v.crimpGrip&&t(ie,v.crimpGrip,!0),v.pinchGrip&&t(X,v.pinchGrip,!0),v.sloperGrip&&t(se,v.sloperGrip,!0),v.jugGrip&&t(F,v.jugGrip,!0),v.climbs&&t(c,v.climbs,!0)}catch(v){console.error("Failed to restore draft",v)}t(le,!0)}),ca(()=>{if(!e(le))return;const p={date:e(C),location:e(h),isOtherLocation:e(g),climbingType:e(_),trainingTypes:e(k),difficulty:e(E),categories:e(ee),energySystems:e(u),techniqueFocuses:e(b),fingerLoad:e(O),shoulderLoad:e(I),forearmLoad:e(ae),openGrip:e(Q),crimpGrip:e(ie),pinchGrip:e(X),sloperGrip:e(se),jugGrip:e(F),climbs:e(c)};localStorage.setItem(te,JSON.stringify(p))});function B(){e(h)==="Other"&&(t(g,!0),t(h,""))}function V(){t(g,!1),t(h,"")}function ge(){t(c,[...e(c),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0)}function Me(p){t(c,e(c).filter((v,oe)=>oe!==p),!0)}function We(p,v){e(c)[p].attemptType=v,(v==="Flash"||v==="Onsight")&&(e(c)[p].attemptsNum=1)}function tt(p){t(L,p,!0)}function xe(){t(L,null)}let qe=Ht(()=>e(_)==="Mixed");function Pe(p){return e(_)==="Sport"?!0:e(_)==="Bouldering"?!1:p.isSport}function Fe(p){return p.trim()?w.includes(p.trim().toLowerCase()):!0}let pe=S("idle"),be=S("");function me(){return e(h)?e(_)?e(c).filter(v=>v.grade.trim()&&!Fe(v.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a location"}async function Ee(){const p=me();if(p){t(pe,"error"),t(be,p,!0);return}t(pe,"saving");try{const v=e(c).map(Se=>({...Se,isSport:Pe(Se)})),oe={date:e(C),location:e(h),customLocation:e(g)?e(h):void 0,climbingType:e(_),trainingTypes:e(k),difficulty:e(E),categories:e(ee),energySystems:e(u),techniqueFocuses:e(b),fingerLoad:e(O),shoulderLoad:e(I),forearmLoad:e(ae),openGrip:e(Q),crimpGrip:e(ie),pinchGrip:e(X),sloperGrip:e(se),jugGrip:e(F),climbs:v},ze=Ma(oe);if(ua()){const Se=await Ya(oe);Se.ok?(Sa(ze.id,Se.id),ka(Se.id),t(pe,"success"),t(be,"Session saved and synced!"),localStorage.removeItem(te)):(wa(ze.id),t(pe,"success"),t(be,"Saved locally. Sync failed: "+(Se.error||"Unknown error")),localStorage.removeItem(te))}else t(pe,"success"),t(be,"Saved locally. Will sync when online."),localStorage.removeItem(te);window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{Ie()},2e3)}catch(v){t(pe,"error"),t(be,"Failed to save session"),console.error("Save error:",v)}}function Ie(){t(C,new Date().toISOString().split("T")[0],!0),t(h,""),t(g,!1),t(_,""),t(k,["None"],!0),t(E,"None"),t(ee,["None"],!0),t(u,["None"],!0),t(b,["None"],!0),t(O,3),t(I,3),t(ae,3),t(Q,3),t(ie,3),t(X,3),t(se,3),t(F,3),t(c,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:"",wall:"Overhang"}],!0),t(pe,"idle"),t(be,"")}var Ne=xs(),ye=s(l(Ne),2),$e=l(ye),Oe=s(l($e),2);D(Oe),a($e);var ct=s($e,2),gt=s(l(ct),2);{var at=p=>{var v=ds(),oe=l(v);D(oe);var ze=s(oe,2);ze.__click=V,a(v),R(oe,()=>e(h),Se=>t(h,Se)),o(p,v)},bt=p=>{var v=ps();v.__change=B;var oe=l(v);oe.value=oe.__value="";var ze=s(oe);ce(ze,17,()=>m,ue,(Se,Ye)=>{var nt=us(),aa=l(nt,!0);a(nt);var Rt={};z(()=>{M(aa,e(Ye)),Rt!==(Rt=e(Ye))&&(nt.value=(nt.__value=e(Ye))??"")}),o(Se,nt)}),a(v),Ze(v,()=>e(h),Se=>t(h,Se)),o(p,v)};j(gt,p=>{e(g)?p(at):p(bt,!1)})}a(ct),a(ye);var st=s(ye,2),Nt=s(l(st),2),i=l(Nt);i.value=i.__value="";var r=s(i);ce(r,17,()=>T,ue,(p,v)=>{var oe=fs(),ze=l(oe,!0);a(oe);var Se={};z(()=>{M(ze,e(v)),Se!==(Se=e(v))&&(oe.value=(oe.__value=e(v))??"")}),o(p,oe)}),a(Nt),a(st);var y=s(st,2),P=s(l(y),2),Z=l(P),$=s(l(Z),2);D($),Be(2),a(Z);var re=s(Z,2),ke=s(l(re),2);D(ke),Be(2),a(re);var dt=s(re,2),lt=s(l(dt),2);D(lt),Be(2),a(dt),a(P);var Ot=s(P,4),kt=l(Ot),Gt=s(l(kt),2);D(Gt),Be(2),a(kt);var ve=s(kt,2),de=s(l(ve),2);D(de),Be(2),a(ve);var Ce=s(ve,2),He=s(l(Ce),2);D(He),Be(2),a(Ce);var ut=s(Ce,2),rt=s(l(ut),2);D(rt),Be(2),a(ut);var it=s(ut,2),Ae=s(l(it),2);D(Ae),Be(2),a(it),a(Ot),a(y);var Ge=s(y,2),De=s(l(Ge),2),Ve=l(De),Lt=s(l(Ve),2);Jt(Lt,{get options(){return x},get selected(){return e(k)},placeholder:"Select types...",onChange:p=>t(k,p,!0)}),a(Ve);var pt=s(Ve,2),Ft=s(l(pt),2);ce(Ft,21,()=>N,ue,(p,v)=>{var oe=ms(),ze=l(oe,!0);a(oe);var Se={};z(()=>{M(ze,e(v)),Se!==(Se=e(v))&&(oe.value=(oe.__value=e(v))??"")}),o(p,oe)}),a(Ft),a(pt);var It=s(pt,2),Ut=s(l(It),2);Jt(Ut,{get options(){return G},get selected(){return e(ee)},placeholder:"Select categories...",onChange:p=>t(ee,p,!0)}),a(It);var Dt=s(It,2),Re=s(l(Dt),2);Jt(Re,{get options(){return q},get selected(){return e(u)},placeholder:"Select systems...",onChange:p=>t(u,p,!0)}),a(Dt);var ot=s(Dt,2),yt=s(l(ot),2);Jt(yt,{get options(){return Y},get selected(){return e(b)},placeholder:"Select focus...",onChange:p=>t(b,p,!0)}),a(ot),a(De),a(Ge);var Kt=s(Ge,2),zt=s(l(Kt),2),Zt=l(zt),Wt=l(Zt),pa=l(Wt),ra=l(pa);{var xa=p=>{var v=_s();o(p,v)};j(ra,p=>{e(qe)&&p(xa)})}Be(7),a(pa),a(Wt);var ia=s(Wt);ce(ia,21,()=>e(c),ue,(p,v,oe)=>{var ze=ks(),Se=l(ze);{var Ye=ne=>{var je=gs(),Qe=l(je);D(Qe),a(je),La(Qe,()=>e(v).isSport,Et=>e(v).isSport=Et),o(ne,je)};j(Se,ne=>{e(qe)&&ne(Ye)})}var nt=s(Se),aa=l(nt);D(aa),a(nt);var Rt=s(nt),d=l(Rt);D(d);let n;var K=s(d,2);{var Le=ne=>{var je=bs();o(ne,je)};j(K,ne=>{Fe(e(v).grade)||ne(Le)})}a(Rt);var fe=s(Rt),Je=l(fe);Je.__change=ne=>We(oe,ne.target.value),ce(Je,21,()=>W,ue,(ne,je)=>{var Qe=ys(),Et=l(Qe,!0);a(Qe);var $t={};z(()=>{M(Et,e(je)),$t!==($t=e(je))&&(Qe.value=(Qe.__value=e(je))??"")}),o(ne,Qe)}),a(Je);var wt;Fa(Je),a(fe);var ft=s(fe),vt=l(ft);D(vt),a(ft);var mt=s(ft),Bt=l(mt);ce(Bt,21,()=>J.filter(ne=>ne!=="None"),ue,(ne,je)=>{var Qe=hs(),Et=l(Qe,!0);a(Qe);var $t={};z(()=>{M(Et,e(je)),$t!==($t=e(je))&&(Qe.value=(Qe.__value=e(je))??"")}),o(ne,Qe)}),a(Bt),a(mt);var At=s(mt);let _a;var Pt=l(At);Ia(Pt),a(At);var jt=s(At),ga=l(jt);{var oa=ne=>{var je=Ss();je.__click=()=>Me(oe),o(ne,je)};j(ga,ne=>{e(c).length>1&&ne(oa)})}a(jt),a(ze),z(ne=>{n=Ke(d,1,"grade-input svelte-1lf3qka",null,n,ne),wt!==(wt=e(v).attemptType)&&(Je.value=(Je.__value=e(v).attemptType)??"",Ga(Je,e(v).attemptType)),vt.disabled=e(v).attemptType==="Flash"||e(v).attemptType==="Onsight",_a=Ke(At,1,"notes-cell svelte-1lf3qka",null,_a,{expanded:e(L)===oe})},[()=>({invalid:!Fe(e(v).grade)})]),R(aa,()=>e(v).name,ne=>e(v).name=ne),R(d,()=>e(v).grade,ne=>e(v).grade=ne),R(vt,()=>e(v).attemptsNum,ne=>e(v).attemptsNum=ne),Ze(Bt,()=>e(v).wall,ne=>e(v).wall=ne),H("focus",Pt,()=>tt(oe)),H("blur",Pt,xe),R(Pt,()=>e(v).notes,ne=>e(v).notes=ne),o(p,ze)}),a(ia),a(Zt),a(zt);var qa=s(zt,2);qa.__click=ge,a(Kt);var ea=s(Kt,2),ta=l(ea);{var fa=p=>{var v=ws();let oe;var ze=l(v,!0);a(v),z(()=>{oe=Ke(v,1,"save-message svelte-1lf3qka",null,oe,{success:e(pe)==="success",error:e(pe)==="error"}),M(ze,e(be))}),o(p,v)};j(ta,p=>{e(be)&&p(fa)})}var Vt=s(ta,2);Vt.__click=Ee;var ma=l(Vt);{var Ca=p=>{var v=Ue("Saving...");o(p,v)},Ta=p=>{var v=ht(),oe=_t(v);{var ze=Ye=>{var nt=Ue("‚úì Saved!");o(Ye,nt)},Se=Ye=>{var nt=Ue("Save Session");o(Ye,nt)};j(oe,Ye=>{e(pe)==="success"?Ye(ze):Ye(Se,!1)},!0)}o(p,v)};j(ma,p=>{e(pe)==="saving"?p(Ca):p(Ta,!1)})}a(Vt),a(ea),a(Ne),z(()=>Vt.disabled=e(pe)==="saving"),R(Oe,()=>e(C),p=>t(C,p)),Ze(Nt,()=>e(_),p=>t(_,p)),R($,()=>e(O),p=>t(O,p)),R(ke,()=>e(I),p=>t(I,p)),R(lt,()=>e(ae),p=>t(ae,p)),R(Gt,()=>e(Q),p=>t(Q,p)),R(de,()=>e(ie),p=>t(ie,p)),R(He,()=>e(X),p=>t(X,p)),R(rt,()=>e(se),p=>t(se,p)),R(Ae,()=>e(F),p=>t(F,p)),Ze(Ft,()=>e(E),p=>t(E,p)),o(he,Ne),Tt()}sa(["click","change"]);var Cs=f("<option> </option>"),Ts=f('<div class="input-with-action svelte-15o2ys1"><input type="text" id="crag-manual" placeholder="Enter custom crag name..." class="flat-left svelte-15o2ys1"/> <button type="button" class="action-btn flat-right svelte-15o2ys1" title="Back to list">‚úï</button></div>'),Ns=f("<option> </option>"),Os=f("<option>Other (Manual Entry)</option>"),Ls=f('<select id="crag" class="svelte-15o2ys1"><option disabled> </option><!><!></select>'),Fs=f("<option> </option>"),Gs=f("<option> </option>"),zs=f('<th class="svelte-15o2ys1">Sport?</th>'),js=f('<td class="center svelte-15o2ys1"><input type="checkbox" class="svelte-15o2ys1"/></td>'),Es=f('<span class="grade-error svelte-15o2ys1">Invalid</span>'),Is=f("<option> </option>"),As=f('<button type="button" class="remove-btn svelte-15o2ys1">‚úï</button>'),Ds=f('<tr><!><td class="svelte-15o2ys1"><input type="text" placeholder="Route name..." class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><input type="text" placeholder="V3"/> <!></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><input type="number" min="1" class="svelte-15o2ys1"/></td><td><textarea placeholder="Notes..." class="svelte-15o2ys1"></textarea></td><td class="center svelte-15o2ys1"><!></td></tr>'),Vs=f("<div> </div>"),Rs=f('<div class="form-content svelte-15o2ys1"><h3 class="svelte-15o2ys1">‚õ∞Ô∏è Outdoor Climb</h3> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="date" class="svelte-15o2ys1">Date</label> <input type="date" id="date" class="svelte-15o2ys1"/></div> <div class="form-group svelte-15o2ys1"><label for="area" class="svelte-15o2ys1">Area</label> <select id="area" class="svelte-15o2ys1"><option disabled>Select area...</option><!></select></div></div> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="crag" class="svelte-15o2ys1">Crag</label> <!></div> <div class="form-group svelte-15o2ys1"><label for="sector" class="svelte-15o2ys1">Wall / Sector</label> <input type="text" id="sector" placeholder="Enter sector or wall name..." class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="climbing-type" class="svelte-15o2ys1">Climbing Type</label> <select id="climbing-type" class="svelte-15o2ys1"><option disabled>Select type...</option><!></select></div> <div class="load-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Load Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="load-item svelte-15o2ys1"><label for="finger-load" class="svelte-15o2ys1">Finger</label> <input type="number" id="finger-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="shoulder-load" class="svelte-15o2ys1">Shoulder</label> <input type="number" id="shoulder-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="forearm-load" class="svelte-15o2ys1">Forearm</label> <input type="number" id="forearm-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div></div> <h4 class="mt-4 svelte-15o2ys1">Grip Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="load-item svelte-15o2ys1"><label for="open-grip" class="svelte-15o2ys1">Open</label> <input type="number" id="open-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="crimp-grip" class="svelte-15o2ys1">Crimp</label> <input type="number" id="crimp-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="pinch-grip" class="svelte-15o2ys1">Pinch</label> <input type="number" id="pinch-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="sloper-grip" class="svelte-15o2ys1">Sloper</label> <input type="number" id="sloper-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="jug-grip" class="svelte-15o2ys1">Jug</label> <input type="number" id="jug-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div></div></div> <div class="training-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Training Details</h4> <div class="training-grid svelte-15o2ys1"><div class="training-item svelte-15o2ys1"><label for="training-type" class="svelte-15o2ys1">Training Type</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="difficulty" class="svelte-15o2ys1">Difficulty</label> <select id="difficulty" class="svelte-15o2ys1"></select></div> <div class="training-item svelte-15o2ys1"><label for="category" class="svelte-15o2ys1">Category</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="energy-system" class="svelte-15o2ys1">Energy System</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="technique-focus" class="svelte-15o2ys1">Technique Focus</label> <!></div></div></div> <div class="climbs-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Climbs</h4> <div class="table-container svelte-15o2ys1"><table class="climbs-table svelte-15o2ys1"><thead><tr><!><th class="svelte-15o2ys1">Name</th><th class="svelte-15o2ys1">Grade</th><th class="svelte-15o2ys1">Attempt</th><th class="svelte-15o2ys1">#</th><th class="svelte-15o2ys1">Notes</th><th class="svelte-15o2ys1"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-15o2ys1">+ Add Climb</button></div> <div class="submit-section svelte-15o2ys1"><!> <button type="button" class="submit-btn svelte-15o2ys1"><!></button></div></div>');function Bs(he,A){Ct(A,!0);const m=Qa(),T=["Boulder","Sport","Trad"],W=["Onsight","Flash","Redpoint","Dogged","DNF"],x=["None","Projecting","Onsighting","Campusing","Repeaters"],N=["None","Easy","Medium","Hard","Max","Limit+"],G=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Coordination","Slab Technique","Overhang Technique"],q=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],Y=["None","Trusting feet","Double-clutch","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"],U=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","V4","6B","V5","6C","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"].map(d=>d.toLowerCase());let w=S(null),L=S(et(new Date().toISOString().split("T")[0])),C=S(""),h=S(""),_=S(""),k=S(""),E=S(et(["None"])),ee=S("None"),u=S(et(["None"])),b=S(et(["None"])),O=S(et(["None"])),I=S(3),ae=S(3),Q=S(3),ie=S(3),X=S(3),se=S(3),F=S(3),c=S(3),g=S(et([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}])),te=Ht(()=>e(C)?Za(e(C)):[]),le=S(!1);const B="outdoor_climb_draft";let V=S(!1);Xt(()=>{const d=localStorage.getItem(B);if(d)try{const n=JSON.parse(d);n.date&&t(L,n.date,!0),n.area&&t(C,n.area,!0),n.crag&&t(h,n.crag,!0),n.sector&&t(_,n.sector,!0),n.isOtherCrag&&t(le,n.isOtherCrag,!0),n.climbingType&&t(k,n.climbingType,!0),n.trainingTypes&&t(E,n.trainingTypes,!0),n.difficulty&&t(ee,n.difficulty,!0),n.categories&&t(u,n.categories,!0),n.energySystems&&t(b,n.energySystems,!0),n.techniqueFocuses&&t(O,n.techniqueFocuses,!0),n.fingerLoad&&t(I,n.fingerLoad,!0),n.shoulderLoad&&t(ae,n.shoulderLoad,!0),n.forearmLoad&&t(Q,n.forearmLoad,!0),n.openGrip&&t(ie,n.openGrip,!0),n.crimpGrip&&t(X,n.crimpGrip,!0),n.pinchGrip&&t(se,n.pinchGrip,!0),n.sloperGrip&&t(F,n.sloperGrip,!0),n.jugGrip&&t(c,n.jugGrip,!0),n.climbs&&t(g,n.climbs,!0)}catch(n){console.error("Failed to restore draft",n)}t(V,!0)}),ca(()=>{if(!e(V))return;const d={date:e(L),area:e(C),crag:e(h),sector:e(_),isOtherCrag:e(le),climbingType:e(k),trainingTypes:e(E),difficulty:e(ee),categories:e(u),energySystems:e(b),techniqueFocuses:e(O),fingerLoad:e(I),shoulderLoad:e(ae),forearmLoad:e(Q),openGrip:e(ie),crimpGrip:e(X),pinchGrip:e(se),sloperGrip:e(F),jugGrip:e(c),climbs:e(g)};localStorage.setItem(B,JSON.stringify(d))}),ca(()=>{e(C)&&(t(h,""),t(le,!1))});function ge(){e(h)==="Other"&&(t(le,!0),t(h,""))}function Me(){t(le,!1),t(h,"")}function We(){t(g,[...e(g),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0)}function tt(d){t(g,e(g).filter((n,K)=>K!==d),!0)}function xe(d,n){e(g)[d].attemptType=n,(n==="Flash"||n==="Onsight")&&(e(g)[d].attemptsNum=1)}function qe(d){t(w,d,!0)}function Pe(){t(w,null)}let Fe=Ht(()=>e(k)==="Trad");function pe(d){return e(k)==="Sport"?!0:e(k)==="Boulder"?!1:d.isSport}function be(d){return d.trim()?U.includes(d.trim().toLowerCase()):!0}let me=S("idle"),Ee=S("");function Ie(){return e(C)?e(h)?e(k)?e(g).filter(n=>n.grade.trim()&&!be(n.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a crag":"Please select an area"}async function Ne(){const d=Ie();if(d){t(me,"error"),t(Ee,d,!0);return}t(me,"saving");try{const n=e(g).map(fe=>({...fe,isSport:pe(fe)})),K={date:e(L),area:e(C),crag:e(h),sector:e(_)||void 0,climbingType:e(k),trainingTypes:e(E),difficulty:e(ee),categories:e(u),energySystems:e(b),techniqueFocuses:e(O),fingerLoad:e(I),shoulderLoad:e(ae),forearmLoad:e(Q),openGrip:e(ie),crimpGrip:e(X),pinchGrip:e(se),sloperGrip:e(F),jugGrip:e(c),climbs:n},Le=Ja(K);if(ua()){const fe=await Xa(K);fe.ok?(Sa(Le.id,fe.id),ka(fe.id),t(me,"success"),t(Ee,"Session saved and synced!"),localStorage.removeItem(B)):(wa(Le.id),t(me,"success"),t(Ee,"Saved locally. Sync failed: "+(fe.error||"Unknown error")),localStorage.removeItem(B))}else t(me,"success"),t(Ee,"Saved locally. Will sync when online."),localStorage.removeItem(B);window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{ye()},2e3)}catch(n){t(me,"error"),t(Ee,"Failed to save session"),console.error("Save error:",n)}}function ye(){t(L,new Date().toISOString().split("T")[0],!0),t(C,""),t(h,""),t(_,""),t(k,""),t(E,["None"],!0),t(ee,"None"),t(u,["None"],!0),t(b,["None"],!0),t(O,["None"],!0),t(I,3),t(ae,3),t(Q,3),t(ie,3),t(X,3),t(se,3),t(F,3),t(c,3),t(g,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0),t(me,"idle"),t(Ee,"")}var $e=Rs(),Oe=s(l($e),2),ct=l(Oe),gt=s(l(ct),2);D(gt),a(ct);var at=s(ct,2),bt=s(l(at),2),st=l(bt);st.value=st.__value="";var Nt=s(st);ce(Nt,17,()=>m,ue,(d,n)=>{var K=Cs(),Le=l(K,!0);a(K);var fe={};z(()=>{M(Le,e(n)),fe!==(fe=e(n))&&(K.value=(K.__value=e(n))??"")}),o(d,K)}),a(bt),a(at),a(Oe);var i=s(Oe,2),r=l(i),y=s(l(r),2);{var P=d=>{var n=Ts(),K=l(n);D(K);var Le=s(K,2);Le.__click=Me,a(n),R(K,()=>e(h),fe=>t(h,fe)),o(d,n)},Z=d=>{var n=Ls();n.__change=ge;var K=l(n),Le=l(K,!0);a(K),K.value=K.__value="";var fe=s(K);ce(fe,17,()=>e(te),ue,(ft,vt)=>{var mt=Ns(),Bt=l(mt,!0);a(mt);var At={};z(()=>{M(Bt,e(vt)),At!==(At=e(vt))&&(mt.value=(mt.__value=e(vt))??"")}),o(ft,mt)});var Je=s(fe);{var wt=ft=>{var vt=Os();vt.value=vt.__value="Other",o(ft,vt)};j(Je,ft=>{e(C)&&ft(wt)})}a(n),z(()=>{n.disabled=!e(C),M(Le,e(C)?"Select crag...":"Select area first...")}),Ze(n,()=>e(h),ft=>t(h,ft)),o(d,n)};j(y,d=>{e(le)?d(P):d(Z,!1)})}a(r);var $=s(r,2),re=s(l($),2);D(re),a($),a(i);var ke=s(i,2),dt=s(l(ke),2),lt=l(dt);lt.value=lt.__value="";var Ot=s(lt);ce(Ot,17,()=>T,ue,(d,n)=>{var K=Fs(),Le=l(K,!0);a(K);var fe={};z(()=>{M(Le,e(n)),fe!==(fe=e(n))&&(K.value=(K.__value=e(n))??"")}),o(d,K)}),a(dt),a(ke);var kt=s(ke,2),Gt=s(l(kt),2),ve=l(Gt),de=s(l(ve),2);D(de),Be(2),a(ve);var Ce=s(ve,2),He=s(l(Ce),2);D(He),Be(2),a(Ce);var ut=s(Ce,2),rt=s(l(ut),2);D(rt),Be(2),a(ut),a(Gt);var it=s(Gt,4),Ae=l(it),Ge=s(l(Ae),2);D(Ge),Be(2),a(Ae);var De=s(Ae,2),Ve=s(l(De),2);D(Ve),Be(2),a(De);var Lt=s(De,2),pt=s(l(Lt),2);D(pt),Be(2),a(Lt);var Ft=s(Lt,2),It=s(l(Ft),2);D(It),Be(2),a(Ft);var Ut=s(Ft,2),Dt=s(l(Ut),2);D(Dt),Be(2),a(Ut),a(it),a(kt);var Re=s(kt,2),ot=s(l(Re),2),yt=l(ot),Kt=s(l(yt),2);Jt(Kt,{get options(){return x},get selected(){return e(E)},placeholder:"Select types...",onChange:d=>t(E,d,!0)}),a(yt);var zt=s(yt,2),Zt=s(l(zt),2);ce(Zt,21,()=>N,ue,(d,n)=>{var K=Gs(),Le=l(K,!0);a(K);var fe={};z(()=>{M(Le,e(n)),fe!==(fe=e(n))&&(K.value=(K.__value=e(n))??"")}),o(d,K)}),a(Zt),a(zt);var Wt=s(zt,2),pa=s(l(Wt),2);Jt(pa,{get options(){return G},get selected(){return e(u)},placeholder:"Select categories...",onChange:d=>t(u,d,!0)}),a(Wt);var ra=s(Wt,2),xa=s(l(ra),2);Jt(xa,{get options(){return q},get selected(){return e(b)},placeholder:"Select systems...",onChange:d=>t(b,d,!0)}),a(ra);var ia=s(ra,2),qa=s(l(ia),2);Jt(qa,{get options(){return Y},get selected(){return e(O)},placeholder:"Select focus...",onChange:d=>t(O,d,!0)}),a(ia),a(ot),a(Re);var ea=s(Re,2),ta=s(l(ea),2),fa=l(ta),Vt=l(fa),ma=l(Vt),Ca=l(ma);{var Ta=d=>{var n=zs();o(d,n)};j(Ca,d=>{e(Fe)&&d(Ta)})}Be(6),a(ma),a(Vt);var p=s(Vt);ce(p,21,()=>e(g),ue,(d,n,K)=>{var Le=Ds(),fe=l(Le);{var Je=we=>{var xt=js(),Mt=l(xt);D(Mt),a(xt),La(Mt,()=>e(n).isSport,Na=>e(n).isSport=Na),o(we,xt)};j(fe,we=>{e(Fe)&&we(Je)})}var wt=s(fe),ft=l(wt);D(ft),a(wt);var vt=s(wt),mt=l(vt);D(mt);let Bt;var At=s(mt,2);{var _a=we=>{var xt=Es();o(we,xt)};j(At,we=>{be(e(n).grade)||we(_a)})}a(vt);var Pt=s(vt),jt=l(Pt);jt.__change=we=>xe(K,we.target.value),ce(jt,21,()=>W,ue,(we,xt)=>{var Mt=Is(),Na=l(Mt,!0);a(Mt);var za={};z(()=>{M(Na,e(xt)),za!==(za=e(xt))&&(Mt.value=(Mt.__value=e(xt))??"")}),o(we,Mt)}),a(jt);var ga;Fa(jt),a(Pt);var oa=s(Pt),ne=l(oa);D(ne),a(oa);var je=s(oa);let Qe;var Et=l(je);Ia(Et),a(je);var $t=s(je),Da=l($t);{var Va=we=>{var xt=As();xt.__click=()=>tt(K),o(we,xt)};j(Da,we=>{e(g).length>1&&we(Va)})}a($t),a(Le),z(we=>{Bt=Ke(mt,1,"grade-input svelte-15o2ys1",null,Bt,we),ga!==(ga=e(n).attemptType)&&(jt.value=(jt.__value=e(n).attemptType)??"",Ga(jt,e(n).attemptType)),ne.disabled=e(n).attemptType==="Flash"||e(n).attemptType==="Onsight",Qe=Ke(je,1,"notes-cell svelte-15o2ys1",null,Qe,{expanded:e(w)===K})},[()=>({invalid:!be(e(n).grade)})]),R(ft,()=>e(n).name,we=>e(n).name=we),R(mt,()=>e(n).grade,we=>e(n).grade=we),R(ne,()=>e(n).attemptsNum,we=>e(n).attemptsNum=we),H("focus",Et,()=>qe(K)),H("blur",Et,Pe),R(Et,()=>e(n).notes,we=>e(n).notes=we),o(d,Le)}),a(p),a(fa),a(ta);var v=s(ta,2);v.__click=We,a(ea);var oe=s(ea,2),ze=l(oe);{var Se=d=>{var n=Vs();let K;var Le=l(n,!0);a(n),z(()=>{K=Ke(n,1,"save-message svelte-15o2ys1",null,K,{success:e(me)==="success",error:e(me)==="error"}),M(Le,e(Ee))}),o(d,n)};j(ze,d=>{e(Ee)&&d(Se)})}var Ye=s(ze,2);Ye.__click=Ne;var nt=l(Ye);{var aa=d=>{var n=Ue("Saving...");o(d,n)},Rt=d=>{var n=ht(),K=_t(n);{var Le=Je=>{var wt=Ue("‚úì Saved!");o(Je,wt)},fe=Je=>{var wt=Ue("Save Session");o(Je,wt)};j(K,Je=>{e(me)==="success"?Je(Le):Je(fe,!1)},!0)}o(d,n)};j(nt,d=>{e(me)==="saving"?d(aa):d(Rt,!1)})}a(Ye),a(oe),a($e),z(()=>Ye.disabled=e(me)==="saving"),R(gt,()=>e(L),d=>t(L,d)),Ze(bt,()=>e(C),d=>t(C,d)),R(re,()=>e(_),d=>t(_,d)),Ze(dt,()=>e(k),d=>t(k,d)),R(de,()=>e(I),d=>t(I,d)),R(He,()=>e(ae),d=>t(ae,d)),R(rt,()=>e(Q),d=>t(Q,d)),R(Ge,()=>e(ie),d=>t(ie,d)),R(Ve,()=>e(X),d=>t(X,d)),R(pt,()=>e(se),d=>t(se,d)),R(It,()=>e(F),d=>t(F,d)),R(Dt,()=>e(c),d=>t(c,d)),Ze(Zt,()=>e(ee),d=>t(ee,d)),o(he,$e),Tt()}sa(["click","change"]);var Ps=f('<div><div class="col set-num svelte-ow8x7m"> </div> <div class="col weight svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col reps svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col check svelte-ow8x7m"><button><!></button></div></div>');function $s(he,A){Ct(A,!1);let m=St(A,"setNumber",8),T=St(A,"set",12);const W=da();function x(){T(T().completed=!T().completed,!0),W("change",T()),T().completed&&W("complete")}function N(u){W("focus",{field:u,value:T()[u],set:T()})}la();var G=Ps();let q;var Y=l(G),J=l(Y,!0);a(Y);var U=s(Y,2),w=l(U);D(w),a(U);var L=s(U,2),C=l(L);D(C),a(L);var h=s(L,2),_=l(h);let k;var E=l(_);{var ee=u=>{var b=Ue("‚úì");o(u,b)};j(E,u=>{Xe(T()),_e(()=>T().completed)&&u(ee)})}a(_),a(h),a(G),z(()=>{q=Ke(G,1,"set-row svelte-ow8x7m",null,q,{completed:T().completed}),M(J,m()),k=Ke(_,1,"check-btn svelte-ow8x7m",null,k,{checked:T().completed})}),R(w,()=>T().weight,u=>T(T().weight=u,!0)),H("focus",w,()=>N("weight")),R(C,()=>T().reps,u=>T(T().reps=u,!0)),H("focus",C,()=>N("reps")),H("click",_,x),o(he,G),Tt()}var Ms=f('<div><span class="dot svelte-1ni79z8"></span> <span class="text"> </span></div>'),Js=f("<button></button>"),Us=f('<div class="exercise-card svelte-1ni79z8"><div class="header svelte-1ni79z8"><div class="title-group svelte-1ni79z8"><button class="icon-btn info-btn svelte-1ni79z8" aria-label="Exercise Info"><div class="info-icon svelte-1ni79z8">?</div></button> <div><h4 class="svelte-1ni79z8"> </h4> <div class="benchmarks svelte-1ni79z8"></div></div></div> <button class="icon-btn delete-btn svelte-1ni79z8" aria-label="Delete Exercise">üóëÔ∏è</button></div> <div class="table-header svelte-1ni79z8"><div class="col">Set</div> <div class="col">kg</div> <div class="col">Reps</div> <div class="col">‚úì</div></div> <div class="sets"></div> <button class="add-set-btn svelte-1ni79z8">+ Add Set</button> <div class="difficulty-footer svelte-1ni79z8"><span class="diff-label svelte-1ni79z8">How did it feel?</span> <div class="diff-circles svelte-1ni79z8"></div></div></div>');function Ks(he,A){Ct(A,!1);let m=St(A,"exercise",12),T=St(A,"benchmarks",24,()=>({}));const W=da();function x(){const u=m().sets[m().sets.length-1],b={weight:u?u.weight:0,reps:u?u.reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1};m(m().sets=[...m().sets,b],!0)}const N=["Green","Yellow","Orange","Red"];la();var G=Us(),q=l(G),Y=l(q),J=l(Y),U=s(J,2),w=l(U),L=l(w,!0);a(w);var C=s(w,2);ce(C,5,()=>N,ue,(u,b)=>{var O=ht(),I=_t(O);{var ae=Q=>{var ie=Ms();Ke(ie,1,"benchmark-pill svelte-1ni79z8",null,{},{"has-data":!0});var X=s(l(ie),2),se=l(X);a(X),a(ie),z(F=>{Ea(ie,`--pill-color: var(--color-${F??""})`),M(se,`${Xe(T()),e(b),_e(()=>T()[e(b)]?.weight)??""}kg x ${Xe(T()),e(b),_e(()=>T()[e(b)]?.reps)??""}`)},[()=>(e(b),_e(()=>e(b).toLowerCase()))]),o(Q,ie)};j(I,Q=>{Xe(T()),e(b),_e(()=>T()[e(b)])&&Q(ae)})}o(u,O)}),a(C),a(U),a(Y);var h=s(Y,2);a(q);var _=s(q,4);ce(_,5,()=>(Xe(m()),_e(()=>m().sets)),ue,(u,b,O)=>{$s(u,{setNumber:O+1,get set(){return(Xe(m()),_e(()=>m().sets))[O]},set set(I){(Xe(m()),_e(()=>m().sets))[O]=I,ba(()=>m())},$$events:{complete(I){Qt.call(this,A,I)},focus(I){Qt.call(this,A,I)},change(I){Qt.call(this,A,I)}},$$legacy:!0})}),a(_);var k=s(_,2),E=s(k,2),ee=s(l(E),2);ce(ee,5,()=>N,ue,(u,b)=>{var O=Js();let I;z(ae=>{I=Ke(O,1,"diff-circle svelte-1ni79z8",null,I,{selected:m().difficulty===e(b)}),Ea(O,`--circle-color: var(--color-${ae??""})`),qt(O,"aria-label",`Mark as ${e(b)??""}`)},[()=>(e(b),_e(()=>e(b).toLowerCase()))]),H("click",O,()=>m(m().difficulty=e(b),!0)),o(u,O)}),a(ee),a(E),a(G),z(()=>M(L,(Xe(m()),_e(()=>m().name)))),H("click",J,()=>W("info",m())),H("click",h,()=>W("delete",m())),H("click",k,x),o(he,G),Tt()}var Ws=f('<div class="keypad svelte-1fay4f8"><div class="header svelte-1fay4f8"><span class="label svelte-1fay4f8"> </span> <div class="display svelte-1fay4f8" role="textbox" aria-readonly="true"> </div></div> <div class="quick-adds svelte-1fay4f8"><button class="svelte-1fay4f8">+2.5</button> <button class="svelte-1fay4f8">+5</button> <button class="svelte-1fay4f8">+10</button></div> <div class="grid svelte-1fay4f8"><button class="svelte-1fay4f8">1</button> <button class="svelte-1fay4f8">2</button> <button class="svelte-1fay4f8">3</button> <button class="svelte-1fay4f8">4</button> <button class="svelte-1fay4f8">5</button> <button class="svelte-1fay4f8">6</button> <button class="svelte-1fay4f8">7</button> <button class="svelte-1fay4f8">8</button> <button class="svelte-1fay4f8">9</button> <button class="action svelte-1fay4f8">C</button> <button class="svelte-1fay4f8">0</button> <button class="action svelte-1fay4f8">‚å´</button></div></div>');function Hs(he,A){Ct(A,!1);let m=St(A,"value",8,null),T=St(A,"label",8,"Value");const W=da();function x(te){const le=m()?.toString()||"";if(le.length>=5)return;const B=parseFloat(le+te.toString());W("change",B)}function N(){W("change",0)}function G(){const te=m()?.toString()||"";if(te.length<=1){W("change",0);return}const le=parseFloat(te.slice(0,-1));W("change",le)}function q(te){W("change",(m()||0)+te)}la();var Y=Ws(),J=l(Y),U=l(J),w=l(U,!0);a(U);var L=s(U,2),C=l(L,!0);a(L),a(J);var h=s(J,2),_=l(h),k=s(_,2),E=s(k,2);a(h);var ee=s(h,2),u=l(ee),b=s(u,2),O=s(b,2),I=s(O,2),ae=s(I,2),Q=s(ae,2),ie=s(Q,2),X=s(ie,2),se=s(X,2),F=s(se,2),c=s(F,2),g=s(c,2);a(ee),a(Y),z(()=>{M(w,T()),qt(L,"aria-label",T()),M(C,m()||0)}),H("click",_,()=>q(2.5)),H("click",k,()=>q(5)),H("click",E,()=>q(10)),H("click",u,()=>x(1)),H("click",b,()=>x(2)),H("click",O,()=>x(3)),H("click",I,()=>x(4)),H("click",ae,()=>x(5)),H("click",Q,()=>x(6)),H("click",ie,()=>x(7)),H("click",X,()=>x(8)),H("click",se,()=>x(9)),H("click",F,N),H("click",c,()=>x(0)),H("click",g,G),o(he,Y),Tt()}var Ys=f('<div class="rest-timer svelte-18i4gcv"><div class="timer-display svelte-18i4gcv"><span class="label svelte-18i4gcv">Rest</span> <span class="time svelte-18i4gcv"> </span></div> <div class="controls svelte-18i4gcv"><button class="svelte-18i4gcv">-30</button> <button class="svelte-18i4gcv">+30</button> <button class="skip svelte-18i4gcv">Skip</button></div></div>');function Qs(he,A){Ct(A,!1);const m=Te(),T=Te();let W=St(A,"duration",8,90),x=St(A,"onComplete",8,()=>{}),N=Te(W()),G,q=St(A,"visible",12,!0);function Y(){clearInterval(G),t(N,W()),G=setInterval(()=>{Ba(N,-1),e(N)<=0&&(clearInterval(G),x()())},1e3)}function J(_){t(N,e(N)+_)}function U(_){e(N)>_&&t(N,e(N)-_)}function w(){q(!1),clearInterval(G),x()()}Xt(()=>{Y()}),Aa(()=>{clearInterval(G)}),Yt(()=>e(N),()=>{t(m,Math.floor(e(N)/60))}),Yt(()=>e(N),()=>{t(T,e(N)%60)}),Oa(),la();var L=ht(),C=_t(L);{var h=_=>{var k=Ys(),E=l(k),ee=s(l(E),2),u=l(ee);a(ee),a(E);var b=s(E,2),O=l(b),I=s(O,2),ae=s(I,2);a(b),a(k),z(Q=>M(u,`${e(m)??""}:${Q??""}`),[()=>(e(T),_e(()=>e(T).toString().padStart(2,"0")))]),H("click",O,()=>U(30)),H("click",I,()=>J(30)),H("click",ae,w),va(3,k,()=>ya,()=>({y:50,duration:300})),o(_,k)};j(C,_=>{q()&&_(h)})}o(he,L),Tt()}var Xs=f("<img/>"),Zs=f('<div class="animation-frame svelte-zbmy0k"></div>'),el=f('<div class="visual-placeholder svelte-zbmy0k"><span>No animation available</span></div>'),tl=f("<li> </li>"),al=f('<div class="modal-overlay svelte-zbmy0k" role="button" tabindex="0" aria-label="Close modal"><div class="modal-content svelte-zbmy0k" role="dialog" aria-modal="true" tabindex="-1"><div class="header svelte-zbmy0k"><h3 class="svelte-zbmy0k"> </h3> <span class="category svelte-zbmy0k"> </span> <button class="close-btn svelte-zbmy0k" aria-label="Close">√ó</button></div> <div class="visual-container svelte-zbmy0k"><!> <div class="muscles svelte-zbmy0k"> </div></div> <div class="instructions svelte-zbmy0k"><h4>Instructions</h4> <ol class="svelte-zbmy0k"></ol></div></div></div>');function sl(he,A){Ct(A,!1);let m=St(A,"exercise",8),T=St(A,"visible",8,!1);const W=da();let x=Te(0),N;function G(){m().images&&m().images.length>0&&(t(x,0),N=setInterval(()=>{t(x,(e(x)+1)%m().images.length)},800))}function q(){N&&clearInterval(N)}Aa(()=>{q()});function Y(){W("close")}Yt(()=>(Xe(T()),Xe(m())),()=>{T()&&m().images?.length?G():q()}),Oa(),la();var J=ht(),U=_t(J);{var w=L=>{var C=al(),h=l(C),_=l(h),k=l(_),E=l(k,!0);a(k);var ee=s(k,2),u=l(ee,!0);a(ee);var b=s(ee,2);a(_);var O=s(_,2),I=l(O);{var ae=c=>{var g=Zs();ce(g,5,()=>(Xe(m()),_e(()=>m().images)),ue,(te,le,B)=>{var V=Xs();let ge;z(()=>{qt(V,"src",`${is??""}${e(le)??""}`),qt(V,"alt",`${Xe(m()),_e(()=>m().name)??""} frame ${B+1}`),ge=Ke(V,1,"svelte-zbmy0k",null,ge,{active:B===e(x)})}),o(te,V)}),a(g),o(c,g)},Q=c=>{var g=el();o(c,g)};j(I,c=>{Xe(m()),_e(()=>m().images&&m().images.length>0)?c(ae):c(Q,!1)})}var ie=s(I,2),X=l(ie);a(ie),a(O);var se=s(O,2),F=s(l(se),2);ce(F,5,()=>(Xe(m()),_e(()=>m().instructions)),ue,(c,g)=>{var te=tl(),le=l(te,!0);a(te),z(()=>M(le,e(g))),o(c,te)}),a(F),a(se),a(h),a(C),z(c=>{M(E,(Xe(m()),_e(()=>m().name))),M(u,(Xe(m()),_e(()=>m().category))),M(X,`Targets: ${c??""}`)},[()=>(Xe(m()),_e(()=>m().targetMuscles.join(", ")))]),H("click",b,Y),va(3,h,()=>ya,()=>({y:50,duration:300})),H("click",h,ha(function(c){Qt.call(this,A,c)})),H("keydown",h,ha(function(c){Qt.call(this,A,c)})),H("click",C,Y),H("keydown",C,c=>c.key==="Escape"&&Y()),o(L,C)};j(U,L=>{T()&&L(w)})}o(he,J),Tt()}var ll=f("<span>Saved! ‚úì</span>"),rl=f("<button><!></button>"),il=f("<option> </option>"),ol=f("<option> </option>"),nl=f('<div class="filter-row svelte-1w0zsmt"><select class="category-select svelte-1w0zsmt"><option>Select Category...</option><!></select> <select class="subcategory-select svelte-1w0zsmt"><option>Select Subcategory...</option><!></select></div>'),vl=f('<span class="details svelte-1w0zsmt"> </span>'),cl=f('<button class="exercise-item-simple svelte-1w0zsmt"><span class="name svelte-1w0zsmt"> </span> <!></button>'),dl=f('<div class="no-results svelte-1w0zsmt"> </div>'),ul=f('<div class="modal-overlay svelte-1w0zsmt" role="button" tabindex="0" aria-label="Close modal"><div class="picker-modal svelte-1w0zsmt" role="dialog" aria-modal="true" tabindex="-1"><div class="picker-header svelte-1w0zsmt"><h3>Add Exercise</h3> <div class="search-row svelte-1w0zsmt"><input type="text" placeholder="Search exercises..." class="svelte-1w0zsmt"/></div> <!></div> <div class="picker-content svelte-1w0zsmt"><div class="exercise-list-simple svelte-1w0zsmt"><!> <!></div></div></div></div>'),pl=f('<div class="keypad-overlay svelte-1w0zsmt"><div class="keypad-header svelte-1w0zsmt"><span> </span> <button class="svelte-1w0zsmt">Done</button></div> <!></div>'),fl=f('<div class="gym-session-form svelte-1w0zsmt"><div class="session-meta svelte-1w0zsmt"><input type="text" class="session-name svelte-1w0zsmt" placeholder="Workout Name (e.g. Pull Day)"/> <div class="meta-row svelte-1w0zsmt"><label class="svelte-1w0zsmt">Date <input type="date" class="svelte-1w0zsmt"/></label> <label class="svelte-1w0zsmt">Bodyweight (kg) <input type="number" placeholder="Optional" class="svelte-1w0zsmt"/></label> <label class="svelte-1w0zsmt">Block <select class="svelte-1w0zsmt"><option>Strength</option><option>Power</option><option>Power Endurance</option><option>Muscular Endurance</option></select></label></div></div> <div class="exercises-list"></div> <button class="add-exercise-btn svelte-1w0zsmt">+ Add Exercise</button> <!> <!> <!> <!> <!> <!></div>');function ml(he,A){Ct(A,!1);const m=Te(),T=Te(),W=da(),x="gym_session_draft";let N=Te(""),G=Te(),q=Te([]),Y=Te(new Date().toISOString().split("T")[0]),J=Te("Strength"),U=Te(null),w=Te([]);function L(i){const r={Green:null,Yellow:null,Orange:null,Red:null},y=[...e(w)].sort((P,Z)=>new Date(Z.date).getTime()-new Date(P.date).getTime());for(const P of y){if(r.Green&&r.Yellow&&r.Orange&&r.Red)break;const Z=P.exercises.find($=>$.name===i);if(Z&&Z.difficulty&&!r[Z.difficulty]){let $=null;for(const re of Z.sets)(!$||re.weight>$.weight||re.weight===$.weight&&re.reps>$.reps)&&($=re);$&&(r[Z.difficulty]={weight:$.weight,reps:$.reps})}}return r}let C=Te(!1),h=Te(""),_=Te(""),k=Te(""),E=Te(null),ee=Te(!1),u=Te(null),b=Te(null),O=Te(!1),I=Te(!1);Xt(()=>{const i=localStorage.getItem(x);if(i)try{const r=JSON.parse(i);r.sessionName&&t(N,r.sessionName),r.bodyweight&&t(G,r.bodyweight),r.startTime&&t(Y,r.startTime),r.trainingBlock&&t(J,r.trainingBlock),r.exercises&&t(q,r.exercises)}catch(r){console.error("Failed to restore draft",r)}t(I,!0)});const ae=Array.from(new Set(na.map(i=>i.category))).sort();function Q(){t(k,"")}function ie(i){const r={id:crypto.randomUUID(),name:i.name,sets:[{weight:0,reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1}]};t(q,[...e(q),r]),t(C,!1),t(h,""),t(_,""),t(k,"")}function X(i,r,y){t(E,{exerciseIndex:r,setIndex:y,field:i.detail.field})}function se(i){if(!e(E))return;const{exerciseIndex:r,setIndex:y,field:P}=e(E);Pa(q,e(q)[r].sets[y][P]=i.detail),t(q,[...e(q)])}function F(){t(ee,!0)}function c(){e(q).length!==0&&(Ua({date:e(Y),name:e(N)||"Gym Workout",bodyweight:e(G),trainingBlock:e(J),exercises:e(q)}),t(O,!0),localStorage.removeItem(x),setTimeout(()=>{t(O,!1),W("save")},1500))}function g(){t(E,null)}Yt(()=>(e(w),e(J),e(Y)),()=>{t(w,Ka());const i=e(w).filter(r=>(r.trainingBlock||"Strength")===e(J)&&r.date<e(Y));i.sort((r,y)=>new Date(y.date).getTime()-new Date(r.date).getTime()),t(U,i.length>0?i[0]:null)}),Yt(()=>(e(I),e(N),e(G),e(Y),e(J),e(q)),()=>{if(e(I)&&typeof localStorage<"u"){const i={sessionName:e(N),bodyweight:e(G),startTime:e(Y),trainingBlock:e(J),exercises:e(q)};localStorage.setItem(x,JSON.stringify(i))}}),Yt(()=>(e(h),e(_),e(k)),()=>{t(m,na.filter(i=>{if(e(h))return i.name.toLowerCase().includes(e(h).toLowerCase())||i.targetMuscles.some(P=>P.toLowerCase().includes(e(h).toLowerCase()));const r=e(_)?i.category===e(_):!0,y=e(k)?i.subcategory===e(k):!0;return r&&y}))}),Yt(()=>(e(_),na),()=>{t(T,e(_)?Array.from(new Set(na.filter(i=>i.category===e(_)).map(i=>i.subcategory))).sort():[])}),Oa(),la();var te=fl(),le=l(te),B=l(le);D(B);var V=s(B,2),ge=l(V),Me=s(l(ge));D(Me),a(ge);var We=s(ge,2),tt=s(l(We));D(tt),a(We);var xe=s(We,2),qe=s(l(xe));z(()=>{e(J),ba(()=>{})});var Pe=l(qe);Pe.value=Pe.__value="Strength";var Fe=s(Pe);Fe.value=Fe.__value="Power";var pe=s(Fe);pe.value=pe.__value="Power Endurance";var be=s(pe);be.value=be.__value="Muscular Endurance",a(qe),a(xe),a(V),a(le);var me=s(le,2);ce(me,5,()=>e(q),ue,(i,r,y)=>{{let P=ja(()=>(e(r),_e(()=>L(e(r).name))));Ks(i,{get exercise(){return e(r)},get benchmarks(){return e(P)},$$events:{focus:Z=>X(Z,y,e(q)[y].sets.indexOf(Z.detail.set)),complete:F,delete:()=>{t(b,y)},info:()=>{const Z=na.find($=>$.name===e(r).name);Z&&t(u,Z)}}})}}),a(me);var Ee=s(me,2),Ie=s(Ee,2);{var Ne=i=>{var r=rl();let y;var P=l(r);{var Z=re=>{var ke=ll();o(re,ke)},$=re=>{var ke=Ue("Finish Workout");o(re,ke)};j(P,re=>{e(O)?re(Z):re($,!1)})}a(r),z(()=>{y=Ke(r,1,"save-btn svelte-1w0zsmt",null,y,{success:e(O)}),r.disabled=e(O)}),H("click",r,c),o(i,r)};j(Ie,i=>{e(q),_e(()=>e(q).length>0)&&i(Ne)})}var ye=s(Ie,2);{var $e=i=>{var r=ul(),y=l(r),P=l(y),Z=s(l(P),2),$=l(Z);D($),a(Z);var re=s(Z,2);{var ke=ve=>{var de=nl(),Ce=l(de);z(()=>{e(_),ba(()=>{})});var He=l(Ce);He.value=He.__value="";var ut=s(He);ce(ut,1,()=>ae,ue,(Ge,De)=>{var Ve=il(),Lt=l(Ve,!0);a(Ve);var pt={};z(()=>{M(Lt,e(De)),pt!==(pt=e(De))&&(Ve.value=(Ve.__value=e(De))??"")}),o(Ge,Ve)}),a(Ce);var rt=s(Ce,2);z(()=>{e(k),ba(()=>{e(_),e(T)})});var it=l(rt);it.value=it.__value="";var Ae=s(it);ce(Ae,1,()=>e(T),ue,(Ge,De)=>{var Ve=ol(),Lt=l(Ve,!0);a(Ve);var pt={};z(()=>{M(Lt,e(De)),pt!==(pt=e(De))&&(Ve.value=(Ve.__value=e(De))??"")}),o(Ge,Ve)}),a(rt),a(de),z(()=>rt.disabled=!e(_)),Ze(Ce,()=>e(_),Ge=>t(_,Ge)),H("change",Ce,Q),Ze(rt,()=>e(k),Ge=>t(k,Ge)),o(ve,de)};j(re,ve=>{e(h)||ve(ke)})}a(P);var dt=s(P,2),lt=l(dt),Ot=l(lt);ce(Ot,1,()=>e(m),ue,(ve,de)=>{var Ce=cl(),He=l(Ce),ut=l(He,!0);a(He);var rt=s(He,2);{var it=Ae=>{var Ge=vl(),De=l(Ge);a(Ge),z(()=>M(De,`${e(de),_e(()=>e(de).category)??""} - ${e(de),_e(()=>e(de).subcategory)??""}`)),o(Ae,Ge)};j(rt,Ae=>{e(h)&&Ae(it)})}a(Ce),z(()=>M(ut,(e(de),_e(()=>e(de).name)))),H("click",Ce,()=>ie(e(de))),o(ve,Ce)});var kt=s(Ot,2);{var Gt=ve=>{var de=dl(),Ce=l(de,!0);a(de),z(()=>M(Ce,e(h)?"No exercises found":"Select a category and subcategory to view exercises.")),o(ve,de)};j(kt,ve=>{e(m),_e(()=>e(m).length===0)&&ve(Gt)})}a(lt),a(dt),a(y),a(r),R($,()=>e(h),ve=>t(h,ve)),H("click",y,ha(function(ve){Qt.call(this,A,ve)})),H("keydown",y,ha(function(ve){Qt.call(this,A,ve)})),va(3,y,()=>ya,()=>({y:100,duration:300})),H("click",r,()=>t(C,!1)),H("keydown",r,ve=>ve.key==="Escape"&&t(C,!1)),va(3,r,()=>es),o(i,r)};j(ye,i=>{e(C)&&i($e)})}var Oe=s(ye,2);{var ct=i=>{sl(i,{get exercise(){return e(u)},visible:!0,$$events:{close:()=>t(u,null)}})};j(Oe,i=>{e(u)&&i(ct)})}var gt=s(Oe,2);{var at=i=>{var r=pl(),y=l(r),P=l(y),Z=l(P);a(P);var $=s(P,2);a(y);var re=s(y,2);{let ke=ja(()=>(e(E),_e(()=>e(E).field==="weight"?"Weight (kg)":"Reps")));Hs(re,{get value(){return e(q),e(E),_e(()=>e(q)[e(E).exerciseIndex].sets[e(E).setIndex][e(E).field])},get label(){return e(ke)},$$events:{change:se}})}a(r),z(()=>M(Z,`Editing ${e(q),e(E),_e(()=>e(q)[e(E).exerciseIndex].name)??""} - Set ${e(E),_e(()=>e(E).setIndex+1)??""}`)),H("click",$,g),va(3,r,()=>ya,()=>({y:200,duration:300})),o(i,r)};j(gt,i=>{e(E)&&i(at)})}var bt=s(gt,2);Qs(bt,{get visible(){return e(ee)},set visible(i){t(ee,i)},$$legacy:!0});var st=s(bt,2);{var Nt=i=>{ts(i,{isOpen:!0,title:"Delete Exercise",get message(){return`Are you sure you want to delete ${e(q),e(b),_e(()=>e(q)[e(b)].name)??""}?`},requireInput:!1,onConfirm:()=>{e(b)!==null&&(t(q,e(q).filter((r,y)=>y!==e(b))),t(b,null))},onCancel:()=>t(b,null)})};j(st,i=>{e(b)!==null&&i(Nt)})}a(te),R(B,()=>e(N),i=>t(N,i)),R(Me,()=>e(Y),i=>t(Y,i)),R(tt,()=>e(G),i=>t(G,i)),Ze(qe,()=>e(J),i=>t(J,i)),H("click",Ee,()=>t(C,!0)),o(he,te),Tt()}var _l=f("<option> </option>"),gl=f("<option> </option>"),bl=f('<button class="remove-set-btn svelte-1m63nqt">‚úï</button>'),yl=f('<div class="set-row svelte-1m63nqt"><div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Weight</label> <input type="number" placeholder="0" class="svelte-1m63nqt"/></div> <div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Reps/Secs</label> <input type="number" placeholder="1" class="svelte-1m63nqt"/></div> <!></div>'),hl=f('<div class="exercise-card svelte-1m63nqt"><div class="card-header svelte-1m63nqt"><div class="header-inputs svelte-1m63nqt"><select class="svelte-1m63nqt"></select> <select class="svelte-1m63nqt"></select></div> <button class="remove-card-btn svelte-1m63nqt" title="Remove Exercise">‚úï</button></div> <div class="sets-list svelte-1m63nqt"><!> <button class="add-set-btn svelte-1m63nqt">+ Add Set</button></div> <div class="card-footer svelte-1m63nqt"><div class="meta-input svelte-1m63nqt"><label class="svelte-1m63nqt">Total Sets</label> <input type="number" readonly="" disabled class="svelte-1m63nqt"/></div> <div class="notes-input svelte-1m63nqt"><label class="svelte-1m63nqt">Notes</label> <input type="text" placeholder="Notes..." class="svelte-1m63nqt"/></div></div></div>'),Sl=f("<div> </div>"),kl=f('<div class="form-content svelte-1m63nqt"><div class="header-row svelte-1m63nqt"><h3 class="svelte-1m63nqt">ü§è Fingerboarding</h3> <button class="add-row-btn svelte-1m63nqt">+ Add Exercise</button></div> <div class="form-group date-group svelte-1m63nqt"><label for="date">Date</label> <input type="date" id="date" class="svelte-1m63nqt"/></div> <div class="cards-container svelte-1m63nqt"></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1m63nqt"><!></button></div></div>');function wl(he,A){Ct(A,!0);const m=["Max hangs","Recruitment pulls","Max pick-ups"],T=["Full-crimp","Half-crimp","Three finger drag","Pinch","Open hand","Sloper"];let W=S(et(new Date().toISOString().split("T")[0])),x=S(et([]));function N(){t(x,[...e(x),{id:crypto.randomUUID(),name:m[0],gripType:T[1],sets:1,details:[{weight:0,reps:5}],notes:""}],!0)}const G="fingerboard_session_draft";let q=S(!1);Xt(()=>{const F=localStorage.getItem(G);if(F)try{const c=JSON.parse(F);c.date&&t(W,c.date,!0),c.exercises&&Array.isArray(c.exercises)&&t(x,c.exercises,!0)}catch(c){console.error("Failed to restore draft",c)}e(x).length===0&&N(),t(q,!0)}),ca(()=>{if(!e(q))return;const F={date:e(W),exercises:e(x)};localStorage.setItem(G,JSON.stringify(F))});function Y(F){t(x,e(x).filter((c,g)=>g!==F),!0)}function J(F){const c=e(x)[F],g=c.details[c.details.length-1];c.details=[...c.details,{...g}],c.sets=c.details.length}function U(F,c){const g=e(x)[F];g.details.length>1&&(g.details=g.details.filter((te,le)=>le!==c),g.sets=g.details.length)}let w=S("idle"),L=S("");async function C(){t(w,"saving");try{const F={date:e(W),location:"N/A",exercises:JSON.parse(JSON.stringify(e(x)))},c=Wa(F);if(ua()){const g=await as(F);g.ok?(Sa(c.id,g.id),ka(g.id),t(w,"success"),t(L,"Session saved and synced!"),localStorage.removeItem(G)):(wa(c.id),t(w,"success"),t(L,"Saved locally. Sync failed: "+(g.error||"Unknown error")),localStorage.removeItem(G))}else t(w,"success"),t(L,"Saved locally. Will sync when online."),localStorage.removeItem(G);window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{h()},2e3)}catch(F){t(w,"error"),t(L,"Failed to save session"),console.error("Save error:",F)}}function h(){t(W,new Date().toISOString().split("T")[0],!0),t(x,[],!0),N(),t(w,"idle"),t(L,"")}var _=kl(),k=l(_),E=s(l(k),2);E.__click=N,a(k);var ee=s(k,2),u=s(l(ee),2);D(u),a(ee);var b=s(ee,2);ce(b,21,()=>e(x),ue,(F,c,g)=>{var te=hl(),le=l(te),B=l(le),V=l(B);ce(V,21,()=>m,ue,(Ie,Ne)=>{var ye=_l(),$e=l(ye,!0);a(ye);var Oe={};z(()=>{M($e,e(Ne)),Oe!==(Oe=e(Ne))&&(ye.value=(ye.__value=e(Ne))??"")}),o(Ie,ye)}),a(V);var ge=s(V,2);ce(ge,21,()=>T,ue,(Ie,Ne)=>{var ye=gl(),$e=l(ye,!0);a(ye);var Oe={};z(()=>{M($e,e(Ne)),Oe!==(Oe=e(Ne))&&(ye.value=(ye.__value=e(Ne))??"")}),o(Ie,ye)}),a(ge),a(B);var Me=s(B,2);Me.__click=()=>Y(g),a(le);var We=s(le,2),tt=l(We);ce(tt,17,()=>e(c).details,ue,(Ie,Ne,ye)=>{var $e=yl(),Oe=l($e),ct=l(Oe);qt(ct,"for",`weight-${g}-${ye}`);var gt=s(ct,2);D(gt),qt(gt,"id",`weight-${g}-${ye}`),a(Oe);var at=s(Oe,2),bt=l(at);qt(bt,"for",`reps-${g}-${ye}`);var st=s(bt,2);D(st),qt(st,"id",`reps-${g}-${ye}`),a(at);var Nt=s(at,2);{var i=r=>{var y=bl();y.__click=()=>U(g,ye),o(r,y)};j(Nt,r=>{e(c).details.length>1&&r(i)})}a($e),R(gt,()=>e(Ne).weight,r=>e(Ne).weight=r),R(st,()=>e(Ne).reps,r=>e(Ne).reps=r),o(Ie,$e)});var xe=s(tt,2);xe.__click=()=>J(g),a(We);var qe=s(We,2),Pe=l(qe),Fe=l(Pe);qt(Fe,"for",`total-sets-${g}`);var pe=s(Fe,2);D(pe),qt(pe,"id",`total-sets-${g}`),a(Pe);var be=s(Pe,2),me=l(be);qt(me,"for",`notes-${g}`);var Ee=s(me,2);D(Ee),qt(Ee,"id",`notes-${g}`),a(be),a(qe),a(te),z(()=>$a(pe,e(c).sets)),Ze(V,()=>e(c).name,Ie=>e(c).name=Ie),Ze(ge,()=>e(c).gripType,Ie=>e(c).gripType=Ie),R(Ee,()=>e(c).notes,Ie=>e(c).notes=Ie),o(F,te)}),a(b);var O=s(b,2),I=l(O);{var ae=F=>{var c=Sl();let g;var te=l(c,!0);a(c),z(()=>{g=Ke(c,1,"save-message svelte-1m63nqt",null,g,{success:e(w)==="success",error:e(w)==="error"}),M(te,e(L))}),o(F,c)};j(I,F=>{e(L)&&F(ae)})}var Q=s(I,2);Q.__click=C;var ie=l(Q);{var X=F=>{var c=Ue("Saving...");o(F,c)},se=F=>{var c=ht(),g=_t(c);{var te=B=>{var V=Ue("‚úì Saved!");o(B,V)},le=B=>{var V=Ue("Save Session");o(B,V)};j(g,B=>{e(w)==="success"?B(te):B(le,!1)},!0)}o(F,c)};j(ie,F=>{e(w)==="saving"?F(X):F(se,!1)})}a(Q),a(O),a(_),z(()=>Q.disabled=e(w)==="saving"),R(u,()=>e(W),F=>t(W,F)),o(he,_),Tt()}sa(["click"]);var xl=f("<option> </option>"),ql=f('<input type="text" placeholder="Enter venue name" class="mt-2 svelte-1fje4dh"/>'),Cl=f("<option> </option>"),Tl=f("<option> </option>"),Nl=f('<input type="text" placeholder="Round name" class="mt-2 svelte-1fje4dh"/>'),Ol=f('<div class="form-group svelte-1fje4dh"><label for="round" class="svelte-1fje4dh">Round</label> <select id="round" class="svelte-1fje4dh"></select> <!></div>'),Ll=f('<div class="result-mode-content svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="position" class="svelte-1fje4dh">Final Position</label> <input type="number" id="position" placeholder="#" class="large-input svelte-1fje4dh"/></div></div>'),Fl=f("<option> </option>"),Gl=f('<input type="number" min="1" class="svelte-1fje4dh"/>'),zl=f('<span class="flash-dash">-</span>'),jl=f('<tr><td class="col-name svelte-1fje4dh"><input type="text" class="svelte-1fje4dh"/></td><td class="col-status svelte-1fje4dh"><select class="svelte-1fje4dh"></select></td><td class="col-attempt svelte-1fje4dh"><!></td><td class="col-notes svelte-1fje4dh"><input type="text" placeholder="..." class="svelte-1fje4dh"/></td><td class="col-action svelte-1fje4dh"><button class="svelte-1fje4dh">‚úï</button></td></tr>'),El=f('<div class="load-metrics-compact svelte-1fje4dh"><div class="metric svelte-1fje4dh"><label for="finger">Finger Load</label> <input type="number" id="finger" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div> <div class="metric svelte-1fje4dh"><label for="shoulder">Shoulder Load</label> <input type="number" id="shoulder" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div> <div class="metric svelte-1fje4dh"><label for="forearm">Forearm Load</label> <input type="number" id="forearm" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div></div> <div class="climbs-table-container svelte-1fje4dh"><div class="section-header svelte-1fje4dh"><h4 class="svelte-1fje4dh">Boulders / Routes</h4></div> <table class="climbs-table svelte-1fje4dh"><thead><tr><th class="svelte-1fje4dh">#</th><th class="svelte-1fje4dh">Result</th><th class="svelte-1fje4dh">Att.</th><th class="svelte-1fje4dh">Notes</th><th class="svelte-1fje4dh"></th></tr></thead><tbody></tbody></table> <button class="add-row-btn svelte-1fje4dh">+ Add Row</button></div>',1),Il=f("<div> </div>"),Al=f('<div class="form-content svelte-1fje4dh"><h3 class="svelte-1fje4dh">üèÜ Competition</h3> <div class="form-grid svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="date" class="svelte-1fje4dh">Date</label> <input type="date" id="date" class="svelte-1fje4dh"/></div> <div class="form-group svelte-1fje4dh"><label for="venue" class="svelte-1fje4dh">Venue</label> <select id="venue" class="svelte-1fje4dh"><option disabled>Select venue...</option><!></select> <!></div></div> <div class="form-group mb-4 svelte-1fje4dh"><label for="type" class="svelte-1fje4dh">Type</label> <select id="type" class="svelte-1fje4dh"></select></div> <div class="form-group mb-4 checkbox-group svelte-1fje4dh"><label for="isSimulation" class="checkbox-label svelte-1fje4dh"><input type="checkbox" id="isSimulation" class="svelte-1fje4dh"/> Simulation (Practice/Mock comp)</label></div> <div class="round-section svelte-1fje4dh"><!> <!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1fje4dh"><!></button></div></div>');function Dl(he,A){Ct(A,!0);const m=["Flashpoint Bristol","Rockstar Techno","Rockstar Unit 3","Rockstar Unit 5","Bloc","TCA","Other"],T=["Bouldering","Lead","Speed"],W=["Qualifiers","Semi-Finals","Finals","Result","Other"],x=["Flash","Top","Zone","Attempt"];let N=S(et(new Date().toISOString().split("T")[0])),G=S(""),q=S(""),Y=S("Bouldering"),J=S(!1),U=S(4),w=S(4),L=S(4),C=S("Qualifiers"),h=S(""),_=S(null),k=S(et([{name:"#1",status:"Flash",attemptCount:1,notes:""}]));const E="competition_session_draft";let ee=S(!1);Xt(()=>{const i=localStorage.getItem(E);if(i)try{const r=JSON.parse(i);r.date&&t(N,r.date,!0),r.venue&&t(G,r.venue,!0),r.customVenue&&t(q,r.customVenue,!0),r.type&&t(Y,r.type,!0),r.fingerLoad&&t(U,r.fingerLoad,!0),r.shoulderLoad&&t(w,r.shoulderLoad,!0),r.forearmLoad&&t(L,r.forearmLoad,!0),r.roundName&&t(C,r.roundName,!0),r.customRoundName&&t(h,r.customRoundName,!0),r.finalPosition&&t(_,r.finalPosition,!0),r.climbs&&t(k,r.climbs,!0),typeof r.isSimulation=="boolean"&&t(J,r.isSimulation,!0)}catch(r){console.error("Failed to restore draft",r)}t(ee,!0)}),ca(()=>{if(!e(ee))return;const i={date:e(N),venue:e(G),customVenue:e(q),type:e(Y),fingerLoad:e(U),shoulderLoad:e(w),forearmLoad:e(L),roundName:e(C),customRoundName:e(h),finalPosition:e(_),climbs:e(k),isSimulation:e(J)};localStorage.setItem(E,JSON.stringify(i))});let u=Ht(()=>!e(J)&&e(C)==="Result"),b=Ht(()=>e(G)==="Other"),O=Ht(()=>e(C)==="Other"),I=Ht(()=>e(C)==="Other"?e(h):e(C));function ae(){const i=e(k).length+1;t(k,[...e(k),{name:`#${i}`,status:"Flash",attemptCount:1,notes:""}],!0)}function Q(i){e(k).length>1?t(k,e(k).filter((r,y)=>y!==i),!0):e(k)[0]={name:"#1",status:"Flash",attemptCount:1,notes:""}}function ie(i,r){e(k)[i].status=r,r==="Flash"&&(e(k)[i].attemptCount=1)}let X=S("idle"),se=S("");async function F(){if(!e(G)||e(G)==="Other"&&!e(q)){t(X,"error"),t(se,"Please specify a venue");return}t(X,"saving");try{const i={name:e(J)?"Simulation":e(I),position:e(u)?e(_):void 0,climbs:e(u)?void 0:JSON.parse(JSON.stringify(e(k)))},r={date:e(N),venue:e(G)==="Other"?e(q):e(G),customVenue:e(G)==="Other"?e(q):void 0,type:e(Y),isSimulation:e(J),fingerLoad:e(u)?void 0:e(U),shoulderLoad:e(u)?void 0:e(w),forearmLoad:e(u)?void 0:e(L),rounds:[i]},y=Ha(r);if(ua()){const P=await ss(r);P.ok?(Sa(y.id,P.id),ka(P.id),t(X,"success"),t(se,"Competition saved and synced!"),localStorage.removeItem(E)):(wa(y.id),t(X,"success"),t(se,"Saved locally. Sync failed: "+(P.error||"Unknown error")),localStorage.removeItem(E))}else t(X,"success"),t(se,"Saved locally. Will sync when online."),localStorage.removeItem(E);window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{c()},2e3)}catch(i){t(X,"error"),t(se,"Failed to save session"),console.error("Save error:",i)}}function c(){t(N,new Date().toISOString().split("T")[0],!0),t(G,""),t(q,""),t(_,null),t(k,[{name:"#1",status:"Flash",attemptCount:1,notes:""}],!0),t(X,"idle"),t(se,"")}var g=Al(),te=s(l(g),2),le=l(te),B=s(l(le),2);D(B),a(le);var V=s(le,2),ge=s(l(V),2),Me=l(ge);Me.value=Me.__value="";var We=s(Me);ce(We,17,()=>m,ue,(i,r)=>{var y=xl(),P=l(y,!0);a(y);var Z={};z(()=>{M(P,e(r)),Z!==(Z=e(r))&&(y.value=(y.__value=e(r))??"")}),o(i,y)}),a(ge);var tt=s(ge,2);{var xe=i=>{var r=ql();D(r),R(r,()=>e(q),y=>t(q,y)),o(i,r)};j(tt,i=>{e(b)&&i(xe)})}a(V),a(te);var qe=s(te,2),Pe=s(l(qe),2);ce(Pe,21,()=>T,ue,(i,r)=>{var y=Cl(),P=l(y,!0);a(y);var Z={};z(()=>{M(P,e(r)),Z!==(Z=e(r))&&(y.value=(y.__value=e(r))??"")}),o(i,y)}),a(Pe),a(qe);var Fe=s(qe,2),pe=l(Fe),be=l(pe);D(be),Be(),a(pe),a(Fe);var me=s(Fe,2),Ee=l(me);{var Ie=i=>{var r=Ol(),y=s(l(r),2);ce(y,21,()=>W,ue,($,re)=>{var ke=Tl(),dt=l(ke,!0);a(ke);var lt={};z(()=>{M(dt,e(re)),lt!==(lt=e(re))&&(ke.value=(ke.__value=e(re))??"")}),o($,ke)}),a(y);var P=s(y,2);{var Z=$=>{var re=Nl();D(re),R(re,()=>e(h),ke=>t(h,ke)),o($,re)};j(P,$=>{e(O)&&$(Z)})}a(r),Ze(y,()=>e(C),$=>t(C,$)),o(i,r)};j(Ee,i=>{e(J)||i(Ie)})}var Ne=s(Ee,2);{var ye=i=>{var r=Ll(),y=l(r),P=s(l(y),2);D(P),a(y),a(r),R(P,()=>e(_),Z=>t(_,Z)),o(i,r)},$e=i=>{var r=El(),y=_t(r),P=l(y),Z=s(l(P),2);D(Z),a(P);var $=s(P,2),re=s(l($),2);D(re),a($);var ke=s($,2),dt=s(l(ke),2);D(dt),a(ke),a(y);var lt=s(y,2),Ot=s(l(lt),2),kt=s(l(Ot));ce(kt,21,()=>e(k),ue,(ve,de,Ce)=>{var He=jl(),ut=l(He),rt=l(ut);D(rt),a(ut);var it=s(ut),Ae=l(it);Ae.__change=Re=>ie(Ce,Re.target.value),ce(Ae,21,()=>x,ue,(Re,ot)=>{var yt=Fl(),Kt=l(yt,!0);a(yt);var zt={};z(()=>{M(Kt,e(ot)),zt!==(zt=e(ot))&&(yt.value=(yt.__value=e(ot))??"")}),o(Re,yt)}),a(Ae);var Ge;Fa(Ae),a(it);var De=s(it),Ve=l(De);{var Lt=Re=>{var ot=Gl();D(ot),R(ot,()=>e(de).attemptCount,yt=>e(de).attemptCount=yt),o(Re,ot)},pt=Re=>{var ot=zl();o(Re,ot)};j(Ve,Re=>{e(de).status!=="Flash"?Re(Lt):Re(pt,!1)})}a(De);var Ft=s(De),It=l(Ft);D(It),a(Ft);var Ut=s(Ft),Dt=l(Ut);Dt.__click=()=>Q(Ce),a(Ut),a(He),z(()=>{Ge!==(Ge=e(de).status)&&(Ae.value=(Ae.__value=e(de).status)??"",Ga(Ae,e(de).status))}),R(rt,()=>e(de).name,Re=>e(de).name=Re),R(It,()=>e(de).notes,Re=>e(de).notes=Re),o(ve,He)}),a(kt),a(Ot);var Gt=s(Ot,2);Gt.__click=ae,a(lt),R(Z,()=>e(U),ve=>t(U,ve)),R(re,()=>e(w),ve=>t(w,ve)),R(dt,()=>e(L),ve=>t(L,ve)),o(i,r)};j(Ne,i=>{e(u)?i(ye):i($e,!1)})}a(me);var Oe=s(me,2),ct=l(Oe);{var gt=i=>{var r=Il();let y;var P=l(r,!0);a(r),z(()=>{y=Ke(r,1,"save-message svelte-1fje4dh",null,y,{success:e(X)==="success",error:e(X)==="error"}),M(P,e(se))}),o(i,r)};j(ct,i=>{e(se)&&i(gt)})}var at=s(ct,2);at.__click=F;var bt=l(at);{var st=i=>{var r=Ue("Saving...");o(i,r)},Nt=i=>{var r=ht(),y=_t(r);{var P=$=>{var re=Ue("‚úì Saved!");o($,re)},Z=$=>{var re=Ue("Save Session");o($,re)};j(y,$=>{e(X)==="success"?$(P):$(Z,!1)},!0)}o(i,r)};j(bt,i=>{e(X)==="saving"?i(st):i(Nt,!1)})}a(at),a(Oe),a(g),z(()=>at.disabled=e(X)==="saving"),R(B,()=>e(N),i=>t(N,i)),Ze(ge,()=>e(G),i=>t(G,i)),Ze(Pe,()=>e(Y),i=>t(Y,i)),La(be,()=>e(J),i=>t(J,i)),o(he,g),Tt()}sa(["change","click"]);var Vl=f('<span class="spinner svelte-b2zgdd"></span> Syncing...',1),Rl=f("<button><!></button>"),Bl=f("<div> </div>"),Pl=f('<div><div class="sync-info svelte-b2zgdd"><span class="sync-icon svelte-b2zgdd"> </span> <span class="sync-text svelte-b2zgdd"><!></span></div> <!> <!></div>'),$l=f("<option> </option>"),Ml=f('<div class="form-container svelte-b2zgdd"><!></div>'),Jl=f('<div class="page svelte-b2zgdd"><div class="page-header svelte-b2zgdd"><h1 class="svelte-b2zgdd">üìù Log Data</h1> <p class="subtitle svelte-b2zgdd">Record your training sessions</p></div> <!> <div class="content-card svelte-b2zgdd"><div class="form-group svelte-b2zgdd"><label for="activity-type" class="svelte-b2zgdd">Activity Type</label> <select id="activity-type" class="svelte-b2zgdd"><option disabled>Select an activity...</option><!></select></div> <!></div></div>');function sr(he,A){Ct(A,!0);const m=[{value:"indoor_climb",label:"Indoor Climb",icon:"üßó"},{value:"outdoor_climb",label:"Outdoor Climb",icon:"‚õ∞Ô∏è"},{value:"gym_session",label:"Gym Session",icon:"üèãÔ∏è"},{value:"fingerboarding",label:"Fingerboarding",icon:"ü§è"},{value:"competition",label:"Competition",icon:"üèÜ"}];let T=S(""),W=S(0),x=S("idle"),N=S(""),G=S(!0);Xt(()=>{q(),t(G,ua(),!0);const u=()=>{t(G,!0),q()},b=()=>{t(G,!1)},O=()=>{q()};return window.addEventListener("online",u),window.addEventListener("offline",b),window.addEventListener("session-saved",O),()=>{window.removeEventListener("online",u),window.removeEventListener("offline",b),window.removeEventListener("session-saved",O)}});function q(){t(W,ls(),!0)}async function Y(){if(!e(G)){t(x,"error"),t(N,"No network connection");return}t(x,"syncing"),t(N,"");try{const u=await rs();u.failed===0&&u.success>0?(t(x,"success"),t(N,`Synced ${u.success} session${u.success>1?"s":""}!`)):u.failed>0&&u.success>0?(t(x,"error"),t(N,`Synced ${u.success}, failed ${u.failed}`)):u.failed>0?(t(x,"error"),t(N,`Failed to sync ${u.failed} session${u.failed>1?"s":""}`)):(t(x,"idle"),t(N,"")),q(),e(x)==="success"&&setTimeout(()=>{t(x,"idle"),t(N,"")},3e3)}catch(u){t(x,"error"),t(N,"Sync failed"),console.error("Sync error:",u)}}var J=Jl(),U=s(l(J),2);{var w=u=>{var b=Pl();let O;var I=l(b),ae=l(I),Q=l(ae,!0);a(ae);var ie=s(ae,2),X=l(ie);{var se=B=>{var V=Ue();z(()=>M(V,`${e(W)??""} session${e(W)>1?"s":""} waiting to sync`)),o(B,V)},F=B=>{var V=Ue();z(()=>M(V,`Offline - ${e(W)??""} session${e(W)>1?"s":""} saved locally`)),o(B,V)};j(X,B=>{e(G)?B(se):B(F,!1)})}a(ie),a(I);var c=s(I,2);{var g=B=>{var V=Rl();let ge;V.__click=Y;var Me=l(V);{var We=xe=>{var qe=Vl();Be(),o(xe,qe)},tt=xe=>{var qe=ht(),Pe=_t(qe);{var Fe=be=>{var me=Ue("‚úì Synced!");o(be,me)},pe=be=>{var me=Ue("Sync Now");o(be,me)};j(Pe,be=>{e(x)==="success"?be(Fe):be(pe,!1)},!0)}o(xe,qe)};j(Me,xe=>{e(x)==="syncing"?xe(We):xe(tt,!1)})}a(V),z(()=>{ge=Ke(V,1,"sync-btn svelte-b2zgdd",null,ge,{syncing:e(x)==="syncing"}),V.disabled=e(x)==="syncing"}),o(B,V)};j(c,B=>{e(G)&&B(g)})}var te=s(c,2);{var le=B=>{var V=Bl();let ge;var Me=l(V,!0);a(V),z(()=>{ge=Ke(V,1,"sync-message svelte-b2zgdd",null,ge,{error:e(x)==="error",success:e(x)==="success"}),M(Me,e(N))}),o(B,V)};j(te,B=>{e(N)&&B(le)})}a(b),z(()=>{O=Ke(b,1,"sync-banner svelte-b2zgdd",null,O,{offline:!e(G)}),M(Q,e(G)?"üîÑ":"üì¥")}),o(u,b)};j(U,u=>{e(W)>0&&u(w)})}var L=s(U,2),C=l(L),h=s(l(C),2),_=l(h);_.value=_.__value="";var k=s(_);ce(k,17,()=>m,u=>u.value,(u,b)=>{var O=$l(),I=l(O);a(O);var ae={};z(()=>{M(I,`${e(b).icon??""} ${e(b).label??""}`),ae!==(ae=e(b).value)&&(O.value=(O.__value=e(b).value)??"")}),o(u,O)}),a(h),a(C);var E=s(C,2);{var ee=u=>{var b=Ml(),O=l(b);{var I=Q=>{qs(Q,{})},ae=Q=>{var ie=ht(),X=_t(ie);{var se=c=>{Bs(c,{})},F=c=>{var g=ht(),te=_t(g);{var le=V=>{ml(V,{})},B=V=>{var ge=ht(),Me=_t(ge);{var We=xe=>{wl(xe,{})},tt=xe=>{var qe=ht(),Pe=_t(qe);{var Fe=pe=>{Dl(pe,{})};j(Pe,pe=>{e(T)==="competition"&&pe(Fe)},!0)}o(xe,qe)};j(Me,xe=>{e(T)==="fingerboarding"?xe(We):xe(tt,!1)},!0)}o(V,ge)};j(te,V=>{e(T)==="gym_session"?V(le):V(B,!1)},!0)}o(c,g)};j(X,c=>{e(T)==="outdoor_climb"?c(se):c(F,!1)},!0)}o(Q,ie)};j(O,Q=>{e(T)==="indoor_climb"?Q(I):Q(ae,!1)})}a(b),o(u,b)};j(E,u=>{e(T)&&u(ee)})}a(L),a(J),Ze(h,()=>e(T),u=>t(T,u)),o(he,J),Tt()}sa(["click"]);export{sr as component};
