import{f,a as o,c as bt,t as Ue}from"../chunks/CSQvsE9s.js";import{a1 as Ra,p as qt,c as l,r as a,s,i as e,t as z,a as Ct,f as dt,aV as y,w as Ye,o as $t,x as t,d as pa,aG as Ve,aW as Bt,b0 as Ia,b1 as fa,j as He,e as _e,b2 as ha,ac as Ce,b3 as Da,b4 as Pt,b5 as La,b6 as Ba,v as Aa,b7 as Pa}from"../chunks/DGPNV_z9.js";import{d as Zt,s as K,e as Y}from"../chunks/DSMXtqZM.js";import{i as j}from"../chunks/D9GEZg6r.js";import{e as ue,i as pe,r as D,b as B,c as Fa,s as xt,d as Ma}from"../chunks/_iMURHzE.js";import{s as Ke}from"../chunks/Ct8JfZaa.js";import{i as Ga,s as za,c as Xe,d as $a,u as wa,m as xa,b as qa,e as Ja,f as Ea,h as Ua,j as Ka,k as Wa,l as Ha}from"../chunks/Cn4iyW3Z.js";import{i as ma,c as Ya,g as Qa,a as Xa,b as Za,t as ua,f as Sa,E as da,d as es,D as ts,e as as,h as ss,j as ls,s as rs}from"../chunks/PJ8PROFl.js";import{p as yt}from"../chunks/Dd0awD9h.js";import{i as ea}from"../chunks/BH8c2ae4.js";import{b as is}from"../chunks/D6XAJm7L.js";function ka(ye){return function(...I){var _=I[0];return _.stopPropagation(),ye?.apply(this,I)}}function Mt(ye,I){var _=ye.$$events?.[I.type],T=Ra(_)?_.slice():_==null?[]:[_];for(var W of T)W.call(this,I)}var os=f('<span class="placeholder svelte-1g8x5ph"> </span>'),ns=f('<span class="chip-display"> </span>'),vs=f('<button type="button"> </button>'),cs=f('<div class="multi-select-container svelte-1g8x5ph"><div class="chips svelte-1g8x5ph"><!></div> <div class="options-grid svelte-1g8x5ph"></div></div>');function Et(ye,I){qt(I,!0);let _=yt(I,"selected",19,()=>[]),T=yt(I,"placeholder",3,"Select options...");function W(U){let w=[..._()];U==="None"?w.includes("None")?w=[]:w=["None"]:(w=w.filter(L=>L!=="None"),w.includes(U)?w=w.filter(L=>L!==U):w.push(U)),I.onChange(w)}var x=cs(),N=l(x),G=l(N);{var q=U=>{var w=os(),L=l(w,!0);a(w),z(()=>K(L,T())),o(U,w)},Q=U=>{var w=bt(),L=dt(w);ue(L,17,_,pe,(C,h)=>{var g=ns(),k=l(g,!0);a(g),z(()=>K(k,e(h))),o(C,g)}),o(U,w)};j(G,U=>{_().length===0?U(q):U(Q,!1)})}a(N);var J=s(N,2);ue(J,21,()=>I.options,pe,(U,w)=>{var L=vs();L.__click=()=>W(e(w));var C=l(L,!0);a(L),z(h=>{Ke(L,1,`option-chip ${h??""}`,"svelte-1g8x5ph"),K(C,e(w))},[()=>_().includes(e(w))?"selected":""]),o(U,L)}),a(J),a(x),o(ye,x),Ct()}Zt(["click"]);var ds=f('<div class="input-with-action svelte-1lf3qka"><input type="text" id="location-manual" placeholder="Enter custom location..." class="flat-left svelte-1lf3qka"/> <button type="button" class="action-btn flat-right svelte-1lf3qka" title="Back to list">‚úï</button></div>'),us=f("<option> </option>"),ps=f('<select id="location" class="svelte-1lf3qka"><option disabled>Select location...</option><!></select>'),fs=f("<option> </option>"),ms=f("<option> </option>"),_s=f('<th class="svelte-1lf3qka">Sport?</th>'),gs=f('<td class="center svelte-1lf3qka"><input type="checkbox" class="svelte-1lf3qka"/></td>'),bs=f('<span class="grade-error svelte-1lf3qka">Invalid</span>'),ys=f("<option> </option>"),hs=f('<button type="button" class="remove-btn svelte-1lf3qka">‚úï</button>'),Ss=f('<tr><!><td class="svelte-1lf3qka"><input type="text" placeholder="Route name..." class="svelte-1lf3qka"/></td><td class="svelte-1lf3qka"><input type="text" placeholder="V3"/> <!></td><td class="svelte-1lf3qka"><select class="svelte-1lf3qka"></select></td><td class="svelte-1lf3qka"><input type="number" min="1" class="svelte-1lf3qka"/></td><td><textarea placeholder="Notes..." class="svelte-1lf3qka"></textarea></td><td class="center svelte-1lf3qka"><!></td></tr>'),ks=f("<div> </div>"),ws=f('<div class="form-content svelte-1lf3qka"><h3 class="svelte-1lf3qka">üßó Indoor Climb</h3> <div class="form-row svelte-1lf3qka"><div class="form-group svelte-1lf3qka"><label for="date" class="svelte-1lf3qka">Date</label> <input type="date" id="date" class="svelte-1lf3qka"/></div> <div class="form-group svelte-1lf3qka"><label for="location" class="svelte-1lf3qka">Location</label> <!></div></div> <div class="form-group svelte-1lf3qka"><label for="climbing-type" class="svelte-1lf3qka">Climbing Type</label> <select id="climbing-type" class="svelte-1lf3qka"><option disabled>Select type...</option><!></select></div> <div class="load-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Load Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="load-item svelte-1lf3qka"><label for="finger-load" class="svelte-1lf3qka">Finger</label> <input type="number" id="finger-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="shoulder-load" class="svelte-1lf3qka">Shoulder</label> <input type="number" id="shoulder-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="forearm-load" class="svelte-1lf3qka">Forearm</label> <input type="number" id="forearm-load" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div></div> <h4 class="mt-4 svelte-1lf3qka">Grip Metrics</h4> <div class="load-metrics svelte-1lf3qka"><div class="load-item svelte-1lf3qka"><label for="open-grip" class="svelte-1lf3qka">Open</label> <input type="number" id="open-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="crimp-grip" class="svelte-1lf3qka">Crimp</label> <input type="number" id="crimp-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="pinch-grip" class="svelte-1lf3qka">Pinch</label> <input type="number" id="pinch-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="sloper-grip" class="svelte-1lf3qka">Sloper</label> <input type="number" id="sloper-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div> <div class="load-item svelte-1lf3qka"><label for="jug-grip" class="svelte-1lf3qka">Jug</label> <input type="number" id="jug-grip" min="1" max="5" class="svelte-1lf3qka"/> <span class="load-scale svelte-1lf3qka">/ 5</span></div></div></div> <div class="training-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Training Details</h4> <div class="training-grid svelte-1lf3qka"><div class="training-item svelte-1lf3qka"><label for="training-type" class="svelte-1lf3qka">Training Type</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="difficulty" class="svelte-1lf3qka">Difficulty</label> <select id="difficulty" class="svelte-1lf3qka"></select></div> <div class="training-item svelte-1lf3qka"><label for="category" class="svelte-1lf3qka">Category</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="energy-system" class="svelte-1lf3qka">Energy System</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="technique-focus" class="svelte-1lf3qka">Technique Focus</label> <!></div> <div class="training-item svelte-1lf3qka"><label for="wall-angle" class="svelte-1lf3qka">Wall</label> <!></div></div></div> <div class="climbs-section svelte-1lf3qka"><h4 class="svelte-1lf3qka">Climbs</h4> <div class="table-container svelte-1lf3qka"><table class="climbs-table svelte-1lf3qka"><thead><tr><!><th class="svelte-1lf3qka">Name</th><th class="svelte-1lf3qka">Grade</th><th class="svelte-1lf3qka">Attempt</th><th class="svelte-1lf3qka">#</th><th class="svelte-1lf3qka">Notes</th><th class="svelte-1lf3qka"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-1lf3qka">+ Add Climb</button></div> <div class="submit-section svelte-1lf3qka"><!> <button type="button" class="submit-btn svelte-1lf3qka"><!></button></div></div>');function xs(ye,I){qt(I,!0);const _=["Rockstar Unit 3","Rockstar Unit 5","Rockstar Techno","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","Other"],T=["Bouldering","Sport","Mixed"],W=["Onsight","Flash","Redpoint","Dogged","DNF"],x=["None","Projecting","Onsighting","Campusing","Repeaters"],N=["None","Easy","Medium","Hard","Max","Limit+"],G=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Coordination","Slab Technique","Overhang Technique"],q=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],Q=["None","Trusting feet","Double-clutch","Standing on volumes","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Pogo","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"],J=["None","Overhang","Slab","Roof","Moon Board","Kilter Board","Beast","Circuit Board"],w=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","V4","6B","V5","6C","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"].map(p=>p.toLowerCase());let L=y(null),C=y(Ye(new Date().toISOString().split("T")[0])),h=y(""),g=y(""),k=y(Ye(["None"])),A=y("None"),te=y(Ye(["None"])),d=y(Ye(["None"])),b=y(Ye(["None"])),O=y(Ye(["None"])),E=y(3),se=y(3),X=y(3),ie=y(3),Z=y(3),re=y(3),F=y(3),u=y(3),m=y(Ye([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}])),H=y(!1);const ae="indoor_climb_draft";let P=y(!1);$t(()=>{const p=localStorage.getItem(ae);if(p)try{const v=JSON.parse(p);v.date&&t(C,v.date,!0),v.location&&t(h,v.location,!0),v.isOtherLocation&&t(H,v.isOtherLocation,!0),v.climbingType&&t(g,v.climbingType,!0),v.trainingTypes&&t(k,v.trainingTypes,!0),v.difficulty&&t(A,v.difficulty,!0),v.categories&&t(te,v.categories,!0),v.energySystems&&t(d,v.energySystems,!0),v.techniqueFocuses&&t(b,v.techniqueFocuses,!0),v.wallAngles&&t(O,v.wallAngles,!0),v.fingerLoad&&t(E,v.fingerLoad,!0),v.shoulderLoad&&t(se,v.shoulderLoad,!0),v.forearmLoad&&t(X,v.forearmLoad,!0),v.openGrip&&t(ie,v.openGrip,!0),v.crimpGrip&&t(Z,v.crimpGrip,!0),v.pinchGrip&&t(re,v.pinchGrip,!0),v.sloperGrip&&t(F,v.sloperGrip,!0),v.jugGrip&&t(u,v.jugGrip,!0),v.climbs&&t(m,v.climbs,!0)}catch(v){console.error("Failed to restore draft",v)}t(P,!0)}),pa(()=>{if(!e(P))return;const p={date:e(C),location:e(h),isOtherLocation:e(H),climbingType:e(g),trainingTypes:e(k),difficulty:e(A),categories:e(te),energySystems:e(d),techniqueFocuses:e(b),wallAngles:e(O),fingerLoad:e(E),shoulderLoad:e(se),forearmLoad:e(X),openGrip:e(ie),crimpGrip:e(Z),pinchGrip:e(re),sloperGrip:e(F),jugGrip:e(u),climbs:e(m)};localStorage.setItem(ae,JSON.stringify(p))});function V(){e(h)==="Other"&&(t(H,!0),t(h,""))}function ge(){t(H,!1),t(h,"")}function $e(){t(m,[...e(m),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0)}function We(p){t(m,e(m).filter((v,le)=>le!==p),!0)}function Ze(p,v){e(m)[p].attemptType=v,(v==="Flash"||v==="Onsight")&&(e(m)[p].attemptsNum=1)}function xe(p){t(L,p,!0)}function Te(){t(L,null)}let Ge=Bt(()=>e(g)==="Mixed");function Re(p){return e(g)==="Sport"?!0:e(g)==="Bouldering"?!1:p.isSport}function Ne(p){return p.trim()?w.includes(p.trim().toLowerCase()):!0}let ce=y("idle"),ne=y("");function ze(){return e(h)?e(g)?e(m).filter(v=>v.grade.trim()&&!Ne(v.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a location"}async function je(){const p=ze();if(p){t(ce,"error"),t(ne,p,!0);return}t(ce,"saving");try{const v=e(m).map(Se=>({...Se,isSport:Re(Se)})),le={date:e(C),location:e(h),customLocation:e(H)?e(h):void 0,climbingType:e(g),trainingTypes:e(k),difficulty:e(A),categories:e(te),energySystems:e(d),techniqueFocuses:e(b),wallAngles:e(O),fingerLoad:e(E),shoulderLoad:e(se),forearmLoad:e(X),openGrip:e(ie),crimpGrip:e(Z),pinchGrip:e(re),sloperGrip:e(F),jugGrip:e(u),climbs:v},De=$a(le);if(ma()){const Se=await Ya(le);Se.ok?(wa(De.id,Se.id),xa(Se.id),t(ce,"success"),t(ne,"Session saved and synced!"),localStorage.removeItem(ae)):(qa(De.id),t(ce,"success"),t(ne,"Saved locally. Sync failed: "+(Se.error||"Unknown error")),localStorage.removeItem(ae))}else t(ce,"success"),t(ne,"Saved locally. Will sync when online."),localStorage.removeItem(ae);window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{Ae()},2e3)}catch(v){t(ce,"error"),t(ne,"Failed to save session"),console.error("Save error:",v)}}function Ae(){t(C,new Date().toISOString().split("T")[0],!0),t(h,""),t(H,!1),t(g,""),t(k,["None"],!0),t(A,"None"),t(te,["None"],!0),t(d,["None"],!0),t(b,["None"],!0),t(O,["None"],!0),t(E,3),t(se,3),t(X,3),t(ie,3),t(Z,3),t(re,3),t(F,3),t(u,3),t(m,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0),t(ce,"idle"),t(ne,"")}var be=ws(),Be=s(l(be),2),qe=l(Be),rt=s(l(qe),2);D(rt),a(qe);var it=s(qe,2),et=s(l(it),2);{var ut=p=>{var v=ds(),le=l(v);D(le);var De=s(le,2);De.__click=ge,a(v),B(le,()=>e(h),Se=>t(h,Se)),o(p,v)},pt=p=>{var v=ps();v.__change=V;var le=l(v);le.value=le.__value="";var De=s(le);ue(De,17,()=>_,pe,(Se,vt)=>{var c=us(),n=l(c,!0);a(c);var R={};z(()=>{K(n,e(vt)),R!==(R=e(vt))&&(c.value=(c.__value=e(vt))??"")}),o(Se,c)}),a(v),Xe(v,()=>e(h),Se=>t(h,Se)),o(p,v)};j(et,p=>{e(H)?p(ut):p(pt,!1)})}a(it),a(Be);var Tt=s(Be,2),i=s(l(Tt),2),r=l(i);r.value=r.__value="";var S=s(r);ue(S,17,()=>T,pe,(p,v)=>{var le=fs(),De=l(le,!0);a(le);var Se={};z(()=>{K(De,e(v)),Se!==(Se=e(v))&&(le.value=(le.__value=e(v))??"")}),o(p,le)}),a(i),a(Tt);var M=s(Tt,2),ee=s(l(M),2),$=l(ee),oe=s(l($),2);D(oe),Ve(2),a($);var he=s($,2),ot=s(l(he),2);D(ot),Ve(2),a(he);var tt=s(he,2),Nt=s(l(tt),2);D(Nt),Ve(2),a(tt),a(ee);var Ot=s(ee,4),Lt=l(Ot),de=s(l(Lt),2);D(de),Ve(2),a(Lt);var ve=s(Lt,2),Oe=s(l(ve),2);D(Oe),Ve(2),a(ve);var Je=s(ve,2),ft=s(l(Je),2);D(ft),Ve(2),a(Je);var Qe=s(Je,2),at=s(l(Qe),2);D(at),Ve(2),a(Qe);var Ee=s(Qe,2),Ie=s(l(Ee),2);D(Ie),Ve(2),a(Ee),a(Ot),a(M);var Fe=s(M,2),Pe=s(l(Fe),2),mt=l(Pe),ht=s(l(mt),2);Et(ht,{get options(){return x},get selected(){return e(k)},placeholder:"Select types...",onChange:p=>t(k,p,!0)}),a(mt);var Ft=s(mt,2),zt=s(l(Ft),2);ue(zt,21,()=>N,pe,(p,v)=>{var le=ms(),De=l(le,!0);a(le);var Se={};z(()=>{K(De,e(v)),Se!==(Se=e(v))&&(le.value=(le.__value=e(v))??"")}),o(p,le)}),a(zt),a(Ft);var jt=s(Ft,2),Jt=s(l(jt),2);Et(Jt,{get options(){return G},get selected(){return e(te)},placeholder:"Select categories...",onChange:p=>t(te,p,!0)}),a(jt);var Le=s(jt,2),nt=s(l(Le),2);Et(nt,{get options(){return q},get selected(){return e(d)},placeholder:"Select systems...",onChange:p=>t(d,p,!0)}),a(Le);var st=s(Le,2),ta=s(l(st),2);Et(ta,{get options(){return Q},get selected(){return e(b)},placeholder:"Select focus...",onChange:p=>t(b,p,!0)}),a(st);var At=s(st,2),aa=s(l(At),2);Et(aa,{get options(){return J},get selected(){return e(O)},placeholder:"Select angles...",onChange:p=>t(O,p,!0)}),a(At),a(Pe),a(Fe);var Rt=s(Fe,2),sa=s(l(Rt),2),Ut=l(sa),la=l(Ut),ra=l(la),Ca=l(ra);{var ia=p=>{var v=_s();o(p,v)};j(Ca,p=>{e(Ge)&&p(ia)})}Ve(6),a(ra),a(la);var Kt=s(la);ue(Kt,21,()=>e(m),pe,(p,v,le)=>{var De=Ss(),Se=l(De);{var vt=fe=>{var lt=gs(),gt=l(lt);D(gt),a(lt),Fa(gt,()=>e(v).isSport,Xt=>e(v).isSport=Xt),o(fe,lt)};j(Se,fe=>{e(Ge)&&fe(vt)})}var c=s(Se),n=l(c);D(n),a(c);var R=s(c),ke=l(R);D(ke);let me;var St=s(ke,2);{var Gt=fe=>{var lt=bs();o(fe,lt)};j(St,fe=>{Ne(e(v).grade)||fe(Gt)})}a(R);var ct=s(R),Me=l(ct);Me.__change=fe=>Ze(le,fe.target.value),ue(Me,21,()=>W,pe,(fe,lt)=>{var gt=ys(),Xt=l(gt,!0);a(gt);var ya={};z(()=>{K(Xt,e(lt)),ya!==(ya=e(lt))&&(gt.value=(gt.__value=e(lt))??"")}),o(fe,gt)}),a(Me);var _t;Ga(Me),a(ct);var It=s(ct),Dt=l(It);D(Dt),a(It);var Yt=s(It);let Qt;var kt=l(Yt);Ia(kt),a(Yt);var na=s(Yt),va=l(na);{var ca=fe=>{var lt=hs();lt.__click=()=>We(le),o(fe,lt)};j(va,fe=>{e(m).length>1&&fe(ca)})}a(na),a(De),z(fe=>{me=Ke(ke,1,"grade-input svelte-1lf3qka",null,me,fe),_t!==(_t=e(v).attemptType)&&(Me.value=(Me.__value=e(v).attemptType)??"",za(Me,e(v).attemptType)),Dt.disabled=e(v).attemptType==="Flash"||e(v).attemptType==="Onsight",Qt=Ke(Yt,1,"notes-cell svelte-1lf3qka",null,Qt,{expanded:e(L)===le})},[()=>({invalid:!Ne(e(v).grade)})]),B(n,()=>e(v).name,fe=>e(v).name=fe),B(ke,()=>e(v).grade,fe=>e(v).grade=fe),B(Dt,()=>e(v).attemptsNum,fe=>e(v).attemptsNum=fe),Y("focus",kt,()=>xe(le)),Y("blur",kt,Te),B(kt,()=>e(v).notes,fe=>e(v).notes=fe),o(p,De)}),a(Kt),a(Ut),a(sa);var _a=s(sa,2);_a.__click=$e,a(Rt);var Wt=s(Rt,2),oa=l(Wt);{var Ta=p=>{var v=ks();let le;var De=l(v,!0);a(v),z(()=>{le=Ke(v,1,"save-message svelte-1lf3qka",null,le,{success:e(ce)==="success",error:e(ce)==="error"}),K(De,e(ne))}),o(p,v)};j(oa,p=>{e(ne)&&p(Ta)})}var Ht=s(oa,2);Ht.__click=je;var ga=l(Ht);{var Na=p=>{var v=Ue("Saving...");o(p,v)},ba=p=>{var v=bt(),le=dt(v);{var De=vt=>{var c=Ue("‚úì Saved!");o(vt,c)},Se=vt=>{var c=Ue("Save Session");o(vt,c)};j(le,vt=>{e(ce)==="success"?vt(De):vt(Se,!1)},!0)}o(p,v)};j(ga,p=>{e(ce)==="saving"?p(Na):p(ba,!1)})}a(Ht),a(Wt),a(be),z(()=>Ht.disabled=e(ce)==="saving"),B(rt,()=>e(C),p=>t(C,p)),Xe(i,()=>e(g),p=>t(g,p)),B(oe,()=>e(E),p=>t(E,p)),B(ot,()=>e(se),p=>t(se,p)),B(Nt,()=>e(X),p=>t(X,p)),B(de,()=>e(ie),p=>t(ie,p)),B(Oe,()=>e(Z),p=>t(Z,p)),B(ft,()=>e(re),p=>t(re,p)),B(at,()=>e(F),p=>t(F,p)),B(Ie,()=>e(u),p=>t(u,p)),Xe(zt,()=>e(A),p=>t(A,p)),o(ye,be),Ct()}Zt(["click","change"]);var qs=f("<option> </option>"),Cs=f('<div class="input-with-action svelte-15o2ys1"><input type="text" id="crag-manual" placeholder="Enter custom crag name..." class="flat-left svelte-15o2ys1"/> <button type="button" class="action-btn flat-right svelte-15o2ys1" title="Back to list">‚úï</button></div>'),Ts=f("<option> </option>"),Ns=f("<option>Other (Manual Entry)</option>"),Os=f('<select id="crag" class="svelte-15o2ys1"><option disabled> </option><!><!></select>'),Ls=f("<option> </option>"),Fs=f("<option> </option>"),Gs=f('<th class="svelte-15o2ys1">Sport?</th>'),zs=f('<td class="center svelte-15o2ys1"><input type="checkbox" class="svelte-15o2ys1"/></td>'),js=f('<span class="grade-error svelte-15o2ys1">Invalid</span>'),As=f("<option> </option>"),Es=f('<button type="button" class="remove-btn svelte-15o2ys1">‚úï</button>'),Is=f('<tr><!><td class="svelte-15o2ys1"><input type="text" placeholder="Route name..." class="svelte-15o2ys1"/></td><td class="svelte-15o2ys1"><input type="text" placeholder="V3"/> <!></td><td class="svelte-15o2ys1"><select class="svelte-15o2ys1"></select></td><td class="svelte-15o2ys1"><input type="number" min="1" class="svelte-15o2ys1"/></td><td><textarea placeholder="Notes..." class="svelte-15o2ys1"></textarea></td><td class="center svelte-15o2ys1"><!></td></tr>'),Ds=f("<div> </div>"),Vs=f('<div class="form-content svelte-15o2ys1"><h3 class="svelte-15o2ys1">‚õ∞Ô∏è Outdoor Climb</h3> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="date" class="svelte-15o2ys1">Date</label> <input type="date" id="date" class="svelte-15o2ys1"/></div> <div class="form-group svelte-15o2ys1"><label for="area" class="svelte-15o2ys1">Area</label> <select id="area" class="svelte-15o2ys1"><option disabled>Select area...</option><!></select></div></div> <div class="form-row svelte-15o2ys1"><div class="form-group svelte-15o2ys1"><label for="crag" class="svelte-15o2ys1">Crag</label> <!></div> <div class="form-group svelte-15o2ys1"><label for="sector" class="svelte-15o2ys1">Wall / Sector</label> <input type="text" id="sector" placeholder="Enter sector or wall name..." class="svelte-15o2ys1"/></div></div> <div class="form-group svelte-15o2ys1"><label for="climbing-type" class="svelte-15o2ys1">Climbing Type</label> <select id="climbing-type" class="svelte-15o2ys1"><option disabled>Select type...</option><!></select></div> <div class="load-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Load Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="load-item svelte-15o2ys1"><label for="finger-load" class="svelte-15o2ys1">Finger</label> <input type="number" id="finger-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="shoulder-load" class="svelte-15o2ys1">Shoulder</label> <input type="number" id="shoulder-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="forearm-load" class="svelte-15o2ys1">Forearm</label> <input type="number" id="forearm-load" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div></div> <h4 class="mt-4 svelte-15o2ys1">Grip Metrics</h4> <div class="load-metrics svelte-15o2ys1"><div class="load-item svelte-15o2ys1"><label for="open-grip" class="svelte-15o2ys1">Open</label> <input type="number" id="open-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="crimp-grip" class="svelte-15o2ys1">Crimp</label> <input type="number" id="crimp-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="pinch-grip" class="svelte-15o2ys1">Pinch</label> <input type="number" id="pinch-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="sloper-grip" class="svelte-15o2ys1">Sloper</label> <input type="number" id="sloper-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div> <div class="load-item svelte-15o2ys1"><label for="jug-grip" class="svelte-15o2ys1">Jug</label> <input type="number" id="jug-grip" min="1" max="5" class="svelte-15o2ys1"/> <span class="load-scale svelte-15o2ys1">/ 5</span></div></div></div> <div class="training-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Training Details</h4> <div class="training-grid svelte-15o2ys1"><div class="training-item svelte-15o2ys1"><label for="training-type" class="svelte-15o2ys1">Training Type</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="difficulty" class="svelte-15o2ys1">Difficulty</label> <select id="difficulty" class="svelte-15o2ys1"></select></div> <div class="training-item svelte-15o2ys1"><label for="category" class="svelte-15o2ys1">Category</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="energy-system" class="svelte-15o2ys1">Energy System</label> <!></div> <div class="training-item svelte-15o2ys1"><label for="technique-focus" class="svelte-15o2ys1">Technique Focus</label> <!></div></div></div> <div class="climbs-section svelte-15o2ys1"><h4 class="svelte-15o2ys1">Climbs</h4> <div class="table-container svelte-15o2ys1"><table class="climbs-table svelte-15o2ys1"><thead><tr><!><th class="svelte-15o2ys1">Name</th><th class="svelte-15o2ys1">Grade</th><th class="svelte-15o2ys1">Attempt</th><th class="svelte-15o2ys1">#</th><th class="svelte-15o2ys1">Notes</th><th class="svelte-15o2ys1"></th></tr></thead><tbody></tbody></table></div> <button type="button" class="add-btn svelte-15o2ys1">+ Add Climb</button></div> <div class="submit-section svelte-15o2ys1"><!> <button type="button" class="submit-btn svelte-15o2ys1"><!></button></div></div>');function Rs(ye,I){qt(I,!0);const _=Qa(),T=["Boulder","Sport","Trad"],W=["Onsight","Flash","Redpoint","Dogged","DNF"],x=["None","Projecting","Onsighting","Campusing","Repeaters"],N=["None","Easy","Medium","Hard","Max","Limit+"],G=["None","Strength","Power","Strength Capacity","Power Capacity","Strength Endurance","Power Endurance","Coordination","Slab Technique","Overhang Technique"],q=["None","Aerobic Lactic Capacity","Aerobic Lactic Power","Anaerobic Alactic Capacity","Anaerobic Alactic Power","Anaerobic Power","Anaerobic Lactic Capacity"],Q=["None","Trusting feet","Double-clutch","Deadpointing","Flagging","Swapping feet","Edging","Smearing","Matching","Backstepping","Drop Knee","Bridging","Laybacking","Mantling","Kneebar","Dyno","Coordination Moves","Gastoning","Undercutting","Compressing","Heel Hook","Toe Hook","Bicycle"],U=["V0-","4-","V0","4","V0+","4+","V1","5","V2","5+","V3","6A","V4","6B","V5","6C","V6","7A","V7","7A+","V8","7B","7B+","V9","7C","V10","7C+","V11","8A","V12","8A+","V13","8B","V14","8B+","V15","8C","V16","8C+","V17","9A"].map(c=>c.toLowerCase());let w=y(null),L=y(Ye(new Date().toISOString().split("T")[0])),C=y(""),h=y(""),g=y(""),k=y(""),A=y(Ye(["None"])),te=y("None"),d=y(Ye(["None"])),b=y(Ye(["None"])),O=y(Ye(["None"])),E=y(3),se=y(3),X=y(3),ie=y(3),Z=y(3),re=y(3),F=y(3),u=y(3),m=y(Ye([{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}])),H=Bt(()=>e(C)?Za(e(C)):[]),ae=y(!1);const P="outdoor_climb_draft";let V=y(!1);$t(()=>{const c=localStorage.getItem(P);if(c)try{const n=JSON.parse(c);n.date&&t(L,n.date,!0),n.area&&t(C,n.area,!0),n.crag&&t(h,n.crag,!0),n.sector&&t(g,n.sector,!0),n.isOtherCrag&&t(ae,n.isOtherCrag,!0),n.climbingType&&t(k,n.climbingType,!0),n.trainingTypes&&t(A,n.trainingTypes,!0),n.difficulty&&t(te,n.difficulty,!0),n.categories&&t(d,n.categories,!0),n.energySystems&&t(b,n.energySystems,!0),n.techniqueFocuses&&t(O,n.techniqueFocuses,!0),n.fingerLoad&&t(E,n.fingerLoad,!0),n.shoulderLoad&&t(se,n.shoulderLoad,!0),n.forearmLoad&&t(X,n.forearmLoad,!0),n.openGrip&&t(ie,n.openGrip,!0),n.crimpGrip&&t(Z,n.crimpGrip,!0),n.pinchGrip&&t(re,n.pinchGrip,!0),n.sloperGrip&&t(F,n.sloperGrip,!0),n.jugGrip&&t(u,n.jugGrip,!0),n.climbs&&t(m,n.climbs,!0)}catch(n){console.error("Failed to restore draft",n)}t(V,!0)}),pa(()=>{if(!e(V))return;const c={date:e(L),area:e(C),crag:e(h),sector:e(g),isOtherCrag:e(ae),climbingType:e(k),trainingTypes:e(A),difficulty:e(te),categories:e(d),energySystems:e(b),techniqueFocuses:e(O),fingerLoad:e(E),shoulderLoad:e(se),forearmLoad:e(X),openGrip:e(ie),crimpGrip:e(Z),pinchGrip:e(re),sloperGrip:e(F),jugGrip:e(u),climbs:e(m)};localStorage.setItem(P,JSON.stringify(c))}),pa(()=>{e(C)&&(t(h,""),t(ae,!1))});function ge(){e(h)==="Other"&&(t(ae,!0),t(h,""))}function $e(){t(ae,!1),t(h,"")}function We(){t(m,[...e(m),{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0)}function Ze(c){t(m,e(m).filter((n,R)=>R!==c),!0)}function xe(c,n){e(m)[c].attemptType=n,(n==="Flash"||n==="Onsight")&&(e(m)[c].attemptsNum=1)}function Te(c){t(w,c,!0)}function Ge(){t(w,null)}let Re=Bt(()=>e(k)==="Trad");function Ne(c){return e(k)==="Sport"?!0:e(k)==="Boulder"?!1:c.isSport}function ce(c){return c.trim()?U.includes(c.trim().toLowerCase()):!0}let ne=y("idle"),ze=y("");function je(){return e(C)?e(h)?e(k)?e(m).filter(n=>n.grade.trim()&&!ce(n.grade)).length>0?"Please fix invalid grades":null:"Please select a climbing type":"Please select a crag":"Please select an area"}async function Ae(){const c=je();if(c){t(ne,"error"),t(ze,c,!0);return}t(ne,"saving");try{const n=e(m).map(me=>({...me,isSport:Ne(me)})),R={date:e(L),area:e(C),crag:e(h),sector:e(g)||void 0,climbingType:e(k),trainingTypes:e(A),difficulty:e(te),categories:e(d),energySystems:e(b),techniqueFocuses:e(O),fingerLoad:e(E),shoulderLoad:e(se),forearmLoad:e(X),openGrip:e(ie),crimpGrip:e(Z),pinchGrip:e(re),sloperGrip:e(F),jugGrip:e(u),climbs:n},ke=Ja(R);if(ma()){const me=await Xa(R);me.ok?(wa(ke.id,me.id),xa(me.id),t(ne,"success"),t(ze,"Session saved and synced!"),localStorage.removeItem(P)):(qa(ke.id),t(ne,"success"),t(ze,"Saved locally. Sync failed: "+(me.error||"Unknown error")),localStorage.removeItem(P))}else t(ne,"success"),t(ze,"Saved locally. Will sync when online."),localStorage.removeItem(P);window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{be()},2e3)}catch(n){t(ne,"error"),t(ze,"Failed to save session"),console.error("Save error:",n)}}function be(){t(L,new Date().toISOString().split("T")[0],!0),t(C,""),t(h,""),t(g,""),t(k,""),t(A,["None"],!0),t(te,"None"),t(d,["None"],!0),t(b,["None"],!0),t(O,["None"],!0),t(E,3),t(se,3),t(X,3),t(ie,3),t(Z,3),t(re,3),t(F,3),t(u,3),t(m,[{isSport:!1,name:"",grade:"",attemptType:"Flash",attemptsNum:1,notes:""}],!0),t(ne,"idle"),t(ze,"")}var Be=Vs(),qe=s(l(Be),2),rt=l(qe),it=s(l(rt),2);D(it),a(rt);var et=s(rt,2),ut=s(l(et),2),pt=l(ut);pt.value=pt.__value="";var Tt=s(pt);ue(Tt,17,()=>_,pe,(c,n)=>{var R=qs(),ke=l(R,!0);a(R);var me={};z(()=>{K(ke,e(n)),me!==(me=e(n))&&(R.value=(R.__value=e(n))??"")}),o(c,R)}),a(ut),a(et),a(qe);var i=s(qe,2),r=l(i),S=s(l(r),2);{var M=c=>{var n=Cs(),R=l(n);D(R);var ke=s(R,2);ke.__click=$e,a(n),B(R,()=>e(h),me=>t(h,me)),o(c,n)},ee=c=>{var n=Os();n.__change=ge;var R=l(n),ke=l(R,!0);a(R),R.value=R.__value="";var me=s(R);ue(me,17,()=>e(H),pe,(ct,Me)=>{var _t=Ts(),It=l(_t,!0);a(_t);var Dt={};z(()=>{K(It,e(Me)),Dt!==(Dt=e(Me))&&(_t.value=(_t.__value=e(Me))??"")}),o(ct,_t)});var St=s(me);{var Gt=ct=>{var Me=Ns();Me.value=Me.__value="Other",o(ct,Me)};j(St,ct=>{e(C)&&ct(Gt)})}a(n),z(()=>{n.disabled=!e(C),K(ke,e(C)?"Select crag...":"Select area first...")}),Xe(n,()=>e(h),ct=>t(h,ct)),o(c,n)};j(S,c=>{e(ae)?c(M):c(ee,!1)})}a(r);var $=s(r,2),oe=s(l($),2);D(oe),a($),a(i);var he=s(i,2),ot=s(l(he),2),tt=l(ot);tt.value=tt.__value="";var Nt=s(tt);ue(Nt,17,()=>T,pe,(c,n)=>{var R=Ls(),ke=l(R,!0);a(R);var me={};z(()=>{K(ke,e(n)),me!==(me=e(n))&&(R.value=(R.__value=e(n))??"")}),o(c,R)}),a(ot),a(he);var Ot=s(he,2),Lt=s(l(Ot),2),de=l(Lt),ve=s(l(de),2);D(ve),Ve(2),a(de);var Oe=s(de,2),Je=s(l(Oe),2);D(Je),Ve(2),a(Oe);var ft=s(Oe,2),Qe=s(l(ft),2);D(Qe),Ve(2),a(ft),a(Lt);var at=s(Lt,4),Ee=l(at),Ie=s(l(Ee),2);D(Ie),Ve(2),a(Ee);var Fe=s(Ee,2),Pe=s(l(Fe),2);D(Pe),Ve(2),a(Fe);var mt=s(Fe,2),ht=s(l(mt),2);D(ht),Ve(2),a(mt);var Ft=s(mt,2),zt=s(l(Ft),2);D(zt),Ve(2),a(Ft);var jt=s(Ft,2),Jt=s(l(jt),2);D(Jt),Ve(2),a(jt),a(at),a(Ot);var Le=s(Ot,2),nt=s(l(Le),2),st=l(nt),ta=s(l(st),2);Et(ta,{get options(){return x},get selected(){return e(A)},placeholder:"Select types...",onChange:c=>t(A,c,!0)}),a(st);var At=s(st,2),aa=s(l(At),2);ue(aa,21,()=>N,pe,(c,n)=>{var R=Fs(),ke=l(R,!0);a(R);var me={};z(()=>{K(ke,e(n)),me!==(me=e(n))&&(R.value=(R.__value=e(n))??"")}),o(c,R)}),a(aa),a(At);var Rt=s(At,2),sa=s(l(Rt),2);Et(sa,{get options(){return G},get selected(){return e(d)},placeholder:"Select categories...",onChange:c=>t(d,c,!0)}),a(Rt);var Ut=s(Rt,2),la=s(l(Ut),2);Et(la,{get options(){return q},get selected(){return e(b)},placeholder:"Select systems...",onChange:c=>t(b,c,!0)}),a(Ut);var ra=s(Ut,2),Ca=s(l(ra),2);Et(Ca,{get options(){return Q},get selected(){return e(O)},placeholder:"Select focus...",onChange:c=>t(O,c,!0)}),a(ra),a(nt),a(Le);var ia=s(Le,2),Kt=s(l(ia),2),_a=l(Kt),Wt=l(_a),oa=l(Wt),Ta=l(oa);{var Ht=c=>{var n=Gs();o(c,n)};j(Ta,c=>{e(Re)&&c(Ht)})}Ve(6),a(oa),a(Wt);var ga=s(Wt);ue(ga,21,()=>e(m),pe,(c,n,R)=>{var ke=Is(),me=l(ke);{var St=we=>{var wt=zs(),Vt=l(wt);D(Vt),a(wt),Fa(Vt,()=>e(n).isSport,Oa=>e(n).isSport=Oa),o(we,wt)};j(me,we=>{e(Re)&&we(St)})}var Gt=s(me),ct=l(Gt);D(ct),a(Gt);var Me=s(Gt),_t=l(Me);D(_t);let It;var Dt=s(_t,2);{var Yt=we=>{var wt=js();o(we,wt)};j(Dt,we=>{ce(e(n).grade)||we(Yt)})}a(Me);var Qt=s(Me),kt=l(Qt);kt.__change=we=>xe(R,we.target.value),ue(kt,21,()=>W,pe,(we,wt)=>{var Vt=As(),Oa=l(Vt,!0);a(Vt);var ja={};z(()=>{K(Oa,e(wt)),ja!==(ja=e(wt))&&(Vt.value=(Vt.__value=e(wt))??"")}),o(we,Vt)}),a(kt);var na;Ga(kt),a(Qt);var va=s(Qt),ca=l(va);D(ca),a(va);var fe=s(va);let lt;var gt=l(fe);Ia(gt),a(fe);var Xt=s(fe),ya=l(Xt);{var Va=we=>{var wt=Es();wt.__click=()=>Ze(R),o(we,wt)};j(ya,we=>{e(m).length>1&&we(Va)})}a(Xt),a(ke),z(we=>{It=Ke(_t,1,"grade-input svelte-15o2ys1",null,It,we),na!==(na=e(n).attemptType)&&(kt.value=(kt.__value=e(n).attemptType)??"",za(kt,e(n).attemptType)),ca.disabled=e(n).attemptType==="Flash"||e(n).attemptType==="Onsight",lt=Ke(fe,1,"notes-cell svelte-15o2ys1",null,lt,{expanded:e(w)===R})},[()=>({invalid:!ce(e(n).grade)})]),B(ct,()=>e(n).name,we=>e(n).name=we),B(_t,()=>e(n).grade,we=>e(n).grade=we),B(ca,()=>e(n).attemptsNum,we=>e(n).attemptsNum=we),Y("focus",gt,()=>Te(R)),Y("blur",gt,Ge),B(gt,()=>e(n).notes,we=>e(n).notes=we),o(c,ke)}),a(ga),a(_a),a(Kt);var Na=s(Kt,2);Na.__click=We,a(ia);var ba=s(ia,2),p=l(ba);{var v=c=>{var n=Ds();let R;var ke=l(n,!0);a(n),z(()=>{R=Ke(n,1,"save-message svelte-15o2ys1",null,R,{success:e(ne)==="success",error:e(ne)==="error"}),K(ke,e(ze))}),o(c,n)};j(p,c=>{e(ze)&&c(v)})}var le=s(p,2);le.__click=Ae;var De=l(le);{var Se=c=>{var n=Ue("Saving...");o(c,n)},vt=c=>{var n=bt(),R=dt(n);{var ke=St=>{var Gt=Ue("‚úì Saved!");o(St,Gt)},me=St=>{var Gt=Ue("Save Session");o(St,Gt)};j(R,St=>{e(ne)==="success"?St(ke):St(me,!1)},!0)}o(c,n)};j(De,c=>{e(ne)==="saving"?c(Se):c(vt,!1)})}a(le),a(ba),a(Be),z(()=>le.disabled=e(ne)==="saving"),B(it,()=>e(L),c=>t(L,c)),Xe(ut,()=>e(C),c=>t(C,c)),B(oe,()=>e(g),c=>t(g,c)),Xe(ot,()=>e(k),c=>t(k,c)),B(ve,()=>e(E),c=>t(E,c)),B(Je,()=>e(se),c=>t(se,c)),B(Qe,()=>e(X),c=>t(X,c)),B(Ie,()=>e(ie),c=>t(ie,c)),B(Pe,()=>e(Z),c=>t(Z,c)),B(ht,()=>e(re),c=>t(re,c)),B(zt,()=>e(F),c=>t(F,c)),B(Jt,()=>e(u),c=>t(u,c)),Xe(aa,()=>e(te),c=>t(te,c)),o(ye,Be),Ct()}Zt(["click","change"]);var Bs=f('<div><div class="col set-num svelte-ow8x7m"> </div> <div class="col weight svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col reps svelte-ow8x7m"><input type="number" placeholder="-" class="svelte-ow8x7m"/></div> <div class="col check svelte-ow8x7m"><button><!></button></div></div>');function Ps(ye,I){qt(I,!1);let _=yt(I,"setNumber",8),T=yt(I,"set",12);const W=fa();function x(){T(T().completed=!T().completed,!0),W("change",T()),T().completed&&W("complete")}function N(d){W("focus",{field:d,value:T()[d],set:T()})}ea();var G=Bs();let q;var Q=l(G),J=l(Q,!0);a(Q);var U=s(Q,2),w=l(U);D(w),a(U);var L=s(U,2),C=l(L);D(C),a(L);var h=s(L,2),g=l(h);let k;var A=l(g);{var te=d=>{var b=Ue("‚úì");o(d,b)};j(A,d=>{He(T()),_e(()=>T().completed)&&d(te)})}a(g),a(h),a(G),z(()=>{q=Ke(G,1,"set-row svelte-ow8x7m",null,q,{completed:T().completed}),K(J,_()),k=Ke(g,1,"check-btn svelte-ow8x7m",null,k,{checked:T().completed})}),B(w,()=>T().weight,d=>T(T().weight=d,!0)),Y("focus",w,()=>N("weight")),B(C,()=>T().reps,d=>T(T().reps=d,!0)),Y("focus",C,()=>N("reps")),Y("click",g,x),o(ye,G),Ct()}var Ms=f('<div><span class="dot svelte-1ni79z8"></span> <span class="text"> </span></div>'),$s=f("<button></button>"),Js=f('<div class="exercise-card svelte-1ni79z8"><div class="header svelte-1ni79z8"><div class="title-group svelte-1ni79z8"><button class="icon-btn info-btn svelte-1ni79z8" aria-label="Exercise Info"><div class="info-icon svelte-1ni79z8">?</div></button> <div><h4 class="svelte-1ni79z8"> </h4> <div class="benchmarks svelte-1ni79z8"></div></div></div> <button class="icon-btn delete-btn svelte-1ni79z8" aria-label="Delete Exercise">üóëÔ∏è</button></div> <div class="table-header svelte-1ni79z8"><div class="col">Set</div> <div class="col">kg</div> <div class="col">Reps</div> <div class="col">‚úì</div></div> <div class="sets"></div> <button class="add-set-btn svelte-1ni79z8">+ Add Set</button> <div class="difficulty-footer svelte-1ni79z8"><span class="diff-label svelte-1ni79z8">How did it feel?</span> <div class="diff-circles svelte-1ni79z8"></div></div></div>');function Us(ye,I){qt(I,!1);let _=yt(I,"exercise",12),T=yt(I,"benchmarks",24,()=>({}));const W=fa();function x(){const d=_().sets[_().sets.length-1],b={weight:d?d.weight:0,reps:d?d.reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1};_(_().sets=[..._().sets,b],!0)}const N=["Green","Yellow","Orange","Red"];ea();var G=Js(),q=l(G),Q=l(q),J=l(Q),U=s(J,2),w=l(U),L=l(w,!0);a(w);var C=s(w,2);ue(C,5,()=>N,pe,(d,b)=>{var O=bt(),E=dt(O);{var se=X=>{var ie=Ms();Ke(ie,1,"benchmark-pill svelte-1ni79z8",null,{},{"has-data":!0});var Z=s(l(ie),2),re=l(Z);a(Z),a(ie),z(F=>{Ea(ie,`--pill-color: var(--color-${F??""})`),K(re,`${He(T()),e(b),_e(()=>T()[e(b)]?.weight)??""}kg x ${He(T()),e(b),_e(()=>T()[e(b)]?.reps)??""}`)},[()=>(e(b),_e(()=>e(b).toLowerCase()))]),o(X,ie)};j(E,X=>{He(T()),e(b),_e(()=>T()[e(b)])&&X(se)})}o(d,O)}),a(C),a(U),a(Q);var h=s(Q,2);a(q);var g=s(q,4);ue(g,5,()=>(He(_()),_e(()=>_().sets)),pe,(d,b,O)=>{Ps(d,{setNumber:O+1,get set(){return(He(_()),_e(()=>_().sets))[O]},set set(E){(He(_()),_e(()=>_().sets))[O]=E,ha(()=>_())},$$events:{complete(E){Mt.call(this,I,E)},focus(E){Mt.call(this,I,E)},change(E){Mt.call(this,I,E)}},$$legacy:!0})}),a(g);var k=s(g,2),A=s(k,2),te=s(l(A),2);ue(te,5,()=>N,pe,(d,b)=>{var O=$s();let E;z(se=>{E=Ke(O,1,"diff-circle svelte-1ni79z8",null,E,{selected:_().difficulty===e(b)}),Ea(O,`--circle-color: var(--color-${se??""})`),xt(O,"aria-label",`Mark as ${e(b)??""}`)},[()=>(e(b),_e(()=>e(b).toLowerCase()))]),Y("click",O,()=>_(_().difficulty=e(b),!0)),o(d,O)}),a(te),a(A),a(G),z(()=>K(L,(He(_()),_e(()=>_().name)))),Y("click",J,()=>W("info",_())),Y("click",h,()=>W("delete",_())),Y("click",k,x),o(ye,G),Ct()}var Ks=f('<div class="keypad svelte-1fay4f8"><div class="header svelte-1fay4f8"><span class="label svelte-1fay4f8"> </span> <div class="display svelte-1fay4f8" role="textbox" aria-readonly="true"> </div></div> <div class="quick-adds svelte-1fay4f8"><button class="svelte-1fay4f8">+2.5</button> <button class="svelte-1fay4f8">+5</button> <button class="svelte-1fay4f8">+10</button></div> <div class="grid svelte-1fay4f8"><button class="svelte-1fay4f8">1</button> <button class="svelte-1fay4f8">2</button> <button class="svelte-1fay4f8">3</button> <button class="svelte-1fay4f8">4</button> <button class="svelte-1fay4f8">5</button> <button class="svelte-1fay4f8">6</button> <button class="svelte-1fay4f8">7</button> <button class="svelte-1fay4f8">8</button> <button class="svelte-1fay4f8">9</button> <button class="action svelte-1fay4f8">C</button> <button class="svelte-1fay4f8">0</button> <button class="action svelte-1fay4f8">‚å´</button></div></div>');function Ws(ye,I){qt(I,!1);let _=yt(I,"value",8,null),T=yt(I,"label",8,"Value");const W=fa();function x(H){const ae=_()?.toString()||"";if(ae.length>=5)return;const P=parseFloat(ae+H.toString());W("change",P)}function N(){W("change",0)}function G(){const H=_()?.toString()||"";if(H.length<=1){W("change",0);return}const ae=parseFloat(H.slice(0,-1));W("change",ae)}function q(H){W("change",(_()||0)+H)}ea();var Q=Ks(),J=l(Q),U=l(J),w=l(U,!0);a(U);var L=s(U,2),C=l(L,!0);a(L),a(J);var h=s(J,2),g=l(h),k=s(g,2),A=s(k,2);a(h);var te=s(h,2),d=l(te),b=s(d,2),O=s(b,2),E=s(O,2),se=s(E,2),X=s(se,2),ie=s(X,2),Z=s(ie,2),re=s(Z,2),F=s(re,2),u=s(F,2),m=s(u,2);a(te),a(Q),z(()=>{K(w,T()),xt(L,"aria-label",T()),K(C,_()||0)}),Y("click",g,()=>q(2.5)),Y("click",k,()=>q(5)),Y("click",A,()=>q(10)),Y("click",d,()=>x(1)),Y("click",b,()=>x(2)),Y("click",O,()=>x(3)),Y("click",E,()=>x(4)),Y("click",se,()=>x(5)),Y("click",X,()=>x(6)),Y("click",ie,()=>x(7)),Y("click",Z,()=>x(8)),Y("click",re,()=>x(9)),Y("click",F,N),Y("click",u,()=>x(0)),Y("click",m,G),o(ye,Q),Ct()}var Hs=f('<div class="rest-timer svelte-18i4gcv"><div class="timer-display svelte-18i4gcv"><span class="label svelte-18i4gcv">Rest</span> <span class="time svelte-18i4gcv"> </span></div> <div class="controls svelte-18i4gcv"><button class="svelte-18i4gcv">-30</button> <button class="svelte-18i4gcv">+30</button> <button class="skip svelte-18i4gcv">Skip</button></div></div>');function Ys(ye,I){qt(I,!1);const _=Ce(),T=Ce();let W=yt(I,"duration",8,90),x=yt(I,"onComplete",8,()=>{}),N=Ce(W()),G,q=yt(I,"visible",12,!0);function Q(){clearInterval(G),t(N,W()),G=setInterval(()=>{Ba(N,-1),e(N)<=0&&(clearInterval(G),x()())},1e3)}function J(g){t(N,e(N)+g)}function U(g){e(N)>g&&t(N,e(N)-g)}function w(){q(!1),clearInterval(G),x()()}$t(()=>{Q()}),Da(()=>{clearInterval(G)}),Pt(()=>e(N),()=>{t(_,Math.floor(e(N)/60))}),Pt(()=>e(N),()=>{t(T,e(N)%60)}),La(),ea();var L=bt(),C=dt(L);{var h=g=>{var k=Hs(),A=l(k),te=s(l(A),2),d=l(te);a(te),a(A);var b=s(A,2),O=l(b),E=s(O,2),se=s(E,2);a(b),a(k),z(X=>K(d,`${e(_)??""}:${X??""}`),[()=>(e(T),_e(()=>e(T).toString().padStart(2,"0")))]),Y("click",O,()=>U(30)),Y("click",E,()=>J(30)),Y("click",se,w),ua(3,k,()=>Sa,()=>({y:50,duration:300})),o(g,k)};j(C,g=>{q()&&g(h)})}o(ye,L),Ct()}var Qs=f("<img/>"),Xs=f('<div class="animation-frame svelte-zbmy0k"></div>'),Zs=f('<div class="visual-placeholder svelte-zbmy0k"><span>No animation available</span></div>'),el=f("<li> </li>"),tl=f('<div class="modal-overlay svelte-zbmy0k" role="button" tabindex="0" aria-label="Close modal"><div class="modal-content svelte-zbmy0k" role="dialog" aria-modal="true" tabindex="-1"><div class="header svelte-zbmy0k"><h3 class="svelte-zbmy0k"> </h3> <span class="category svelte-zbmy0k"> </span> <button class="close-btn svelte-zbmy0k" aria-label="Close">√ó</button></div> <div class="visual-container svelte-zbmy0k"><!> <div class="muscles svelte-zbmy0k"> </div></div> <div class="instructions svelte-zbmy0k"><h4>Instructions</h4> <ol class="svelte-zbmy0k"></ol></div></div></div>');function al(ye,I){qt(I,!1);let _=yt(I,"exercise",8),T=yt(I,"visible",8,!1);const W=fa();let x=Ce(0),N;function G(){_().images&&_().images.length>0&&(t(x,0),N=setInterval(()=>{t(x,(e(x)+1)%_().images.length)},800))}function q(){N&&clearInterval(N)}Da(()=>{q()});function Q(){W("close")}Pt(()=>(He(T()),He(_())),()=>{T()&&_().images?.length?G():q()}),La(),ea();var J=bt(),U=dt(J);{var w=L=>{var C=tl(),h=l(C),g=l(h),k=l(g),A=l(k,!0);a(k);var te=s(k,2),d=l(te,!0);a(te);var b=s(te,2);a(g);var O=s(g,2),E=l(O);{var se=u=>{var m=Xs();ue(m,5,()=>(He(_()),_e(()=>_().images)),pe,(H,ae,P)=>{var V=Qs();let ge;z(()=>{xt(V,"src",`${is??""}${e(ae)??""}`),xt(V,"alt",`${He(_()),_e(()=>_().name)??""} frame ${P+1}`),ge=Ke(V,1,"svelte-zbmy0k",null,ge,{active:P===e(x)})}),o(H,V)}),a(m),o(u,m)},X=u=>{var m=Zs();o(u,m)};j(E,u=>{He(_()),_e(()=>_().images&&_().images.length>0)?u(se):u(X,!1)})}var ie=s(E,2),Z=l(ie);a(ie),a(O);var re=s(O,2),F=s(l(re),2);ue(F,5,()=>(He(_()),_e(()=>_().instructions)),pe,(u,m)=>{var H=el(),ae=l(H,!0);a(H),z(()=>K(ae,e(m))),o(u,H)}),a(F),a(re),a(h),a(C),z(u=>{K(A,(He(_()),_e(()=>_().name))),K(d,(He(_()),_e(()=>_().category))),K(Z,`Targets: ${u??""}`)},[()=>(He(_()),_e(()=>_().targetMuscles.join(", ")))]),Y("click",b,Q),ua(3,h,()=>Sa,()=>({y:50,duration:300})),Y("click",h,ka(function(u){Mt.call(this,I,u)})),Y("keydown",h,ka(function(u){Mt.call(this,I,u)})),Y("click",C,Q),Y("keydown",C,u=>u.key==="Escape"&&Q()),o(L,C)};j(U,L=>{T()&&L(w)})}o(ye,J),Ct()}var sl=f("<span>Saved! ‚úì</span>"),ll=f("<button><!></button>"),rl=f("<option> </option>"),il=f("<option> </option>"),ol=f('<div class="filter-row svelte-1w0zsmt"><select class="category-select svelte-1w0zsmt"><option>Select Category...</option><!></select> <select class="subcategory-select svelte-1w0zsmt"><option>Select Subcategory...</option><!></select></div>'),nl=f('<span class="details svelte-1w0zsmt"> </span>'),vl=f('<button class="exercise-item-simple svelte-1w0zsmt"><span class="name svelte-1w0zsmt"> </span> <!></button>'),cl=f('<div class="no-results svelte-1w0zsmt"> </div>'),dl=f('<div class="modal-overlay svelte-1w0zsmt" role="button" tabindex="0" aria-label="Close modal"><div class="picker-modal svelte-1w0zsmt" role="dialog" aria-modal="true" tabindex="-1"><div class="picker-header svelte-1w0zsmt"><h3>Add Exercise</h3> <div class="search-row svelte-1w0zsmt"><input type="text" placeholder="Search exercises..." class="svelte-1w0zsmt"/></div> <!></div> <div class="picker-content svelte-1w0zsmt"><div class="exercise-list-simple svelte-1w0zsmt"><!> <!></div></div></div></div>'),ul=f('<div class="keypad-overlay svelte-1w0zsmt"><div class="keypad-header svelte-1w0zsmt"><span> </span> <button class="svelte-1w0zsmt">Done</button></div> <!></div>'),pl=f('<div class="gym-session-form svelte-1w0zsmt"><div class="session-meta svelte-1w0zsmt"><input type="text" class="session-name svelte-1w0zsmt" placeholder="Workout Name (e.g. Pull Day)"/> <div class="meta-row svelte-1w0zsmt"><label class="svelte-1w0zsmt">Date <input type="date" class="svelte-1w0zsmt"/></label> <label class="svelte-1w0zsmt">Bodyweight (kg) <input type="number" placeholder="Optional" class="svelte-1w0zsmt"/></label> <label class="svelte-1w0zsmt">Block <select class="svelte-1w0zsmt"><option>Strength</option><option>Power</option><option>Power Endurance</option><option>Muscular Endurance</option></select></label></div></div> <div class="exercises-list"></div> <button class="add-exercise-btn svelte-1w0zsmt">+ Add Exercise</button> <!> <!> <!> <!> <!> <!></div>');function fl(ye,I){qt(I,!1);const _=Ce(),T=Ce(),W=fa(),x="gym_session_draft";let N=Ce(""),G=Ce(),q=Ce([]),Q=Ce(new Date().toISOString().split("T")[0]),J=Ce("Strength"),U=Ce(null),w=Ce([]);function L(i){const r={Green:null,Yellow:null,Orange:null,Red:null},S=[...e(w)].sort((M,ee)=>new Date(ee.date).getTime()-new Date(M.date).getTime());for(const M of S){if(r.Green&&r.Yellow&&r.Orange&&r.Red)break;const ee=M.exercises.find($=>$.name===i);if(ee&&ee.difficulty&&!r[ee.difficulty]){let $=null;for(const oe of ee.sets)(!$||oe.weight>$.weight||oe.weight===$.weight&&oe.reps>$.reps)&&($=oe);$&&(r[ee.difficulty]={weight:$.weight,reps:$.reps})}}return r}let C=Ce(!1),h=Ce(""),g=Ce(""),k=Ce(""),A=Ce(null),te=Ce(!1),d=Ce(null),b=Ce(null),O=Ce(!1),E=Ce(!1);$t(()=>{const i=localStorage.getItem(x);if(i)try{const r=JSON.parse(i);r.sessionName&&t(N,r.sessionName),r.bodyweight&&t(G,r.bodyweight),r.startTime&&t(Q,r.startTime),r.trainingBlock&&t(J,r.trainingBlock),r.exercises&&t(q,r.exercises)}catch(r){console.error("Failed to restore draft",r)}t(E,!0)});const se=Array.from(new Set(da.map(i=>i.category))).sort();function X(){t(k,"")}function ie(i){const r={id:crypto.randomUUID(),name:i.name,sets:[{weight:0,reps:0,isWarmup:!1,isFailure:!1,isDropSet:!1,completed:!1}]};t(q,[...e(q),r]),t(C,!1),t(h,""),t(g,""),t(k,"")}function Z(i,r,S){t(A,{exerciseIndex:r,setIndex:S,field:i.detail.field})}function re(i){if(!e(A))return;const{exerciseIndex:r,setIndex:S,field:M}=e(A);Pa(q,e(q)[r].sets[S][M]=i.detail),t(q,[...e(q)])}function F(){t(te,!0)}function u(){e(q).length!==0&&(Ua({date:e(Q),name:e(N)||"Gym Workout",bodyweight:e(G),trainingBlock:e(J),exercises:e(q)}),t(O,!0),localStorage.removeItem(x),setTimeout(()=>{t(O,!1),W("save")},1500))}function m(){t(A,null)}Pt(()=>(e(w),e(J),e(Q)),()=>{t(w,Ka());const i=e(w).filter(r=>(r.trainingBlock||"Strength")===e(J)&&r.date<e(Q));i.sort((r,S)=>new Date(S.date).getTime()-new Date(r.date).getTime()),t(U,i.length>0?i[0]:null)}),Pt(()=>(e(E),e(N),e(G),e(Q),e(J),e(q)),()=>{if(e(E)&&typeof localStorage<"u"){const i={sessionName:e(N),bodyweight:e(G),startTime:e(Q),trainingBlock:e(J),exercises:e(q)};localStorage.setItem(x,JSON.stringify(i))}}),Pt(()=>(e(h),e(g),e(k)),()=>{t(_,da.filter(i=>{if(e(h))return i.name.toLowerCase().includes(e(h).toLowerCase())||i.targetMuscles.some(M=>M.toLowerCase().includes(e(h).toLowerCase()));const r=e(g)?i.category===e(g):!0,S=e(k)?i.subcategory===e(k):!0;return r&&S}))}),Pt(()=>(e(g),da),()=>{t(T,e(g)?Array.from(new Set(da.filter(i=>i.category===e(g)).map(i=>i.subcategory))).sort():[])}),La(),ea();var H=pl(),ae=l(H),P=l(ae);D(P);var V=s(P,2),ge=l(V),$e=s(l(ge));D($e),a(ge);var We=s(ge,2),Ze=s(l(We));D(Ze),a(We);var xe=s(We,2),Te=s(l(xe));z(()=>{e(J),ha(()=>{})});var Ge=l(Te);Ge.value=Ge.__value="Strength";var Re=s(Ge);Re.value=Re.__value="Power";var Ne=s(Re);Ne.value=Ne.__value="Power Endurance";var ce=s(Ne);ce.value=ce.__value="Muscular Endurance",a(Te),a(xe),a(V),a(ae);var ne=s(ae,2);ue(ne,5,()=>e(q),pe,(i,r,S)=>{{let M=Aa(()=>(e(r),_e(()=>L(e(r).name))));Us(i,{get exercise(){return e(r)},get benchmarks(){return e(M)},$$events:{focus:ee=>Z(ee,S,e(q)[S].sets.indexOf(ee.detail.set)),complete:F,delete:()=>{t(b,S)},info:()=>{const ee=da.find($=>$.name===e(r).name);ee&&t(d,ee)}}})}}),a(ne);var ze=s(ne,2),je=s(ze,2);{var Ae=i=>{var r=ll();let S;var M=l(r);{var ee=oe=>{var he=sl();o(oe,he)},$=oe=>{var he=Ue("Finish Workout");o(oe,he)};j(M,oe=>{e(O)?oe(ee):oe($,!1)})}a(r),z(()=>{S=Ke(r,1,"save-btn svelte-1w0zsmt",null,S,{success:e(O)}),r.disabled=e(O)}),Y("click",r,u),o(i,r)};j(je,i=>{e(q),_e(()=>e(q).length>0)&&i(Ae)})}var be=s(je,2);{var Be=i=>{var r=dl(),S=l(r),M=l(S),ee=s(l(M),2),$=l(ee);D($),a(ee);var oe=s(ee,2);{var he=de=>{var ve=ol(),Oe=l(ve);z(()=>{e(g),ha(()=>{})});var Je=l(Oe);Je.value=Je.__value="";var ft=s(Je);ue(ft,1,()=>se,pe,(Ie,Fe)=>{var Pe=rl(),mt=l(Pe,!0);a(Pe);var ht={};z(()=>{K(mt,e(Fe)),ht!==(ht=e(Fe))&&(Pe.value=(Pe.__value=e(Fe))??"")}),o(Ie,Pe)}),a(Oe);var Qe=s(Oe,2);z(()=>{e(k),ha(()=>{e(g),e(T)})});var at=l(Qe);at.value=at.__value="";var Ee=s(at);ue(Ee,1,()=>e(T),pe,(Ie,Fe)=>{var Pe=il(),mt=l(Pe,!0);a(Pe);var ht={};z(()=>{K(mt,e(Fe)),ht!==(ht=e(Fe))&&(Pe.value=(Pe.__value=e(Fe))??"")}),o(Ie,Pe)}),a(Qe),a(ve),z(()=>Qe.disabled=!e(g)),Xe(Oe,()=>e(g),Ie=>t(g,Ie)),Y("change",Oe,X),Xe(Qe,()=>e(k),Ie=>t(k,Ie)),o(de,ve)};j(oe,de=>{e(h)||de(he)})}a(M);var ot=s(M,2),tt=l(ot),Nt=l(tt);ue(Nt,1,()=>e(_),pe,(de,ve)=>{var Oe=vl(),Je=l(Oe),ft=l(Je,!0);a(Je);var Qe=s(Je,2);{var at=Ee=>{var Ie=nl(),Fe=l(Ie);a(Ie),z(()=>K(Fe,`${e(ve),_e(()=>e(ve).category)??""} - ${e(ve),_e(()=>e(ve).subcategory)??""}`)),o(Ee,Ie)};j(Qe,Ee=>{e(h)&&Ee(at)})}a(Oe),z(()=>K(ft,(e(ve),_e(()=>e(ve).name)))),Y("click",Oe,()=>ie(e(ve))),o(de,Oe)});var Ot=s(Nt,2);{var Lt=de=>{var ve=cl(),Oe=l(ve,!0);a(ve),z(()=>K(Oe,e(h)?"No exercises found":"Select a category and subcategory to view exercises.")),o(de,ve)};j(Ot,de=>{e(_),_e(()=>e(_).length===0)&&de(Lt)})}a(tt),a(ot),a(S),a(r),B($,()=>e(h),de=>t(h,de)),Y("click",S,ka(function(de){Mt.call(this,I,de)})),Y("keydown",S,ka(function(de){Mt.call(this,I,de)})),ua(3,S,()=>Sa,()=>({y:100,duration:300})),Y("click",r,()=>t(C,!1)),Y("keydown",r,de=>de.key==="Escape"&&t(C,!1)),ua(3,r,()=>es),o(i,r)};j(be,i=>{e(C)&&i(Be)})}var qe=s(be,2);{var rt=i=>{al(i,{get exercise(){return e(d)},visible:!0,$$events:{close:()=>t(d,null)}})};j(qe,i=>{e(d)&&i(rt)})}var it=s(qe,2);{var et=i=>{var r=ul(),S=l(r),M=l(S),ee=l(M);a(M);var $=s(M,2);a(S);var oe=s(S,2);{let he=Aa(()=>(e(A),_e(()=>e(A).field==="weight"?"Weight (kg)":"Reps")));Ws(oe,{get value(){return e(q),e(A),_e(()=>e(q)[e(A).exerciseIndex].sets[e(A).setIndex][e(A).field])},get label(){return e(he)},$$events:{change:re}})}a(r),z(()=>K(ee,`Editing ${e(q),e(A),_e(()=>e(q)[e(A).exerciseIndex].name)??""} - Set ${e(A),_e(()=>e(A).setIndex+1)??""}`)),Y("click",$,m),ua(3,r,()=>Sa,()=>({y:200,duration:300})),o(i,r)};j(it,i=>{e(A)&&i(et)})}var ut=s(it,2);Ys(ut,{get visible(){return e(te)},set visible(i){t(te,i)},$$legacy:!0});var pt=s(ut,2);{var Tt=i=>{ts(i,{isOpen:!0,title:"Delete Exercise",get message(){return`Are you sure you want to delete ${e(q),e(b),_e(()=>e(q)[e(b)].name)??""}?`},requireInput:!1,onConfirm:()=>{e(b)!==null&&(t(q,e(q).filter((r,S)=>S!==e(b))),t(b,null))},onCancel:()=>t(b,null)})};j(pt,i=>{e(b)!==null&&i(Tt)})}a(H),B(P,()=>e(N),i=>t(N,i)),B($e,()=>e(Q),i=>t(Q,i)),B(Ze,()=>e(G),i=>t(G,i)),Xe(Te,()=>e(J),i=>t(J,i)),Y("click",ze,()=>t(C,!0)),o(ye,H),Ct()}var ml=f("<option> </option>"),_l=f("<option> </option>"),gl=f('<button class="remove-set-btn svelte-1m63nqt">‚úï</button>'),bl=f('<div class="set-row svelte-1m63nqt"><div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Weight</label> <input type="number" placeholder="0" class="svelte-1m63nqt"/></div> <div class="input-wrap svelte-1m63nqt"><label class="svelte-1m63nqt">Reps/Secs</label> <input type="number" placeholder="1" class="svelte-1m63nqt"/></div> <!></div>'),yl=f('<div class="exercise-card svelte-1m63nqt"><div class="card-header svelte-1m63nqt"><div class="header-inputs svelte-1m63nqt"><select class="svelte-1m63nqt"></select> <select class="svelte-1m63nqt"></select></div> <button class="remove-card-btn svelte-1m63nqt" title="Remove Exercise">‚úï</button></div> <div class="sets-list svelte-1m63nqt"><!> <button class="add-set-btn svelte-1m63nqt">+ Add Set</button></div> <div class="card-footer svelte-1m63nqt"><div class="meta-input svelte-1m63nqt"><label class="svelte-1m63nqt">Total Sets</label> <input type="number" readonly="" disabled class="svelte-1m63nqt"/></div> <div class="notes-input svelte-1m63nqt"><label class="svelte-1m63nqt">Notes</label> <input type="text" placeholder="Notes..." class="svelte-1m63nqt"/></div></div></div>'),hl=f("<div> </div>"),Sl=f('<div class="form-content svelte-1m63nqt"><div class="header-row svelte-1m63nqt"><h3 class="svelte-1m63nqt">ü§è Fingerboarding</h3> <button class="add-row-btn svelte-1m63nqt">+ Add Exercise</button></div> <div class="form-group date-group svelte-1m63nqt"><label for="date">Date</label> <input type="date" id="date" class="svelte-1m63nqt"/></div> <div class="cards-container svelte-1m63nqt"></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1m63nqt"><!></button></div></div>');function kl(ye,I){qt(I,!0);const _=["Max hangs","Recruitment pulls","Max pick-ups"],T=["Full-crimp","Half-crimp","Three finger drag","Pinch","Open hand","Sloper"];let W=y(Ye(new Date().toISOString().split("T")[0])),x=y(Ye([]));function N(){t(x,[...e(x),{id:crypto.randomUUID(),name:_[0],gripType:T[1],sets:1,details:[{weight:0,reps:5}],notes:""}],!0)}const G="fingerboard_session_draft";let q=y(!1);$t(()=>{const F=localStorage.getItem(G);if(F)try{const u=JSON.parse(F);u.date&&t(W,u.date,!0),u.exercises&&Array.isArray(u.exercises)&&t(x,u.exercises,!0)}catch(u){console.error("Failed to restore draft",u)}e(x).length===0&&N(),t(q,!0)}),pa(()=>{if(!e(q))return;const F={date:e(W),exercises:e(x)};localStorage.setItem(G,JSON.stringify(F))});function Q(F){t(x,e(x).filter((u,m)=>m!==F),!0)}function J(F){const u=e(x)[F],m=u.details[u.details.length-1];u.details=[...u.details,{...m}],u.sets=u.details.length}function U(F,u){const m=e(x)[F];m.details.length>1&&(m.details=m.details.filter((H,ae)=>ae!==u),m.sets=m.details.length)}let w=y("idle"),L=y("");async function C(){t(w,"saving");try{const F={date:e(W),location:"N/A",exercises:JSON.parse(JSON.stringify(e(x)))},u=Wa(F);if(ma()){const m=await as(F);m.ok?(wa(u.id,m.id),xa(m.id),t(w,"success"),t(L,"Session saved and synced!"),localStorage.removeItem(G)):(qa(u.id),t(w,"success"),t(L,"Saved locally. Sync failed: "+(m.error||"Unknown error")),localStorage.removeItem(G))}else t(w,"success"),t(L,"Saved locally. Will sync when online."),localStorage.removeItem(G);window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{h()},2e3)}catch(F){t(w,"error"),t(L,"Failed to save session"),console.error("Save error:",F)}}function h(){t(W,new Date().toISOString().split("T")[0],!0),t(x,[],!0),N(),t(w,"idle"),t(L,"")}var g=Sl(),k=l(g),A=s(l(k),2);A.__click=N,a(k);var te=s(k,2),d=s(l(te),2);D(d),a(te);var b=s(te,2);ue(b,21,()=>e(x),pe,(F,u,m)=>{var H=yl(),ae=l(H),P=l(ae),V=l(P);ue(V,21,()=>_,pe,(je,Ae)=>{var be=ml(),Be=l(be,!0);a(be);var qe={};z(()=>{K(Be,e(Ae)),qe!==(qe=e(Ae))&&(be.value=(be.__value=e(Ae))??"")}),o(je,be)}),a(V);var ge=s(V,2);ue(ge,21,()=>T,pe,(je,Ae)=>{var be=_l(),Be=l(be,!0);a(be);var qe={};z(()=>{K(Be,e(Ae)),qe!==(qe=e(Ae))&&(be.value=(be.__value=e(Ae))??"")}),o(je,be)}),a(ge),a(P);var $e=s(P,2);$e.__click=()=>Q(m),a(ae);var We=s(ae,2),Ze=l(We);ue(Ze,17,()=>e(u).details,pe,(je,Ae,be)=>{var Be=bl(),qe=l(Be),rt=l(qe);xt(rt,"for",`weight-${m}-${be}`);var it=s(rt,2);D(it),xt(it,"id",`weight-${m}-${be}`),a(qe);var et=s(qe,2),ut=l(et);xt(ut,"for",`reps-${m}-${be}`);var pt=s(ut,2);D(pt),xt(pt,"id",`reps-${m}-${be}`),a(et);var Tt=s(et,2);{var i=r=>{var S=gl();S.__click=()=>U(m,be),o(r,S)};j(Tt,r=>{e(u).details.length>1&&r(i)})}a(Be),B(it,()=>e(Ae).weight,r=>e(Ae).weight=r),B(pt,()=>e(Ae).reps,r=>e(Ae).reps=r),o(je,Be)});var xe=s(Ze,2);xe.__click=()=>J(m),a(We);var Te=s(We,2),Ge=l(Te),Re=l(Ge);xt(Re,"for",`total-sets-${m}`);var Ne=s(Re,2);D(Ne),xt(Ne,"id",`total-sets-${m}`),a(Ge);var ce=s(Ge,2),ne=l(ce);xt(ne,"for",`notes-${m}`);var ze=s(ne,2);D(ze),xt(ze,"id",`notes-${m}`),a(ce),a(Te),a(H),z(()=>Ma(Ne,e(u).sets)),Xe(V,()=>e(u).name,je=>e(u).name=je),Xe(ge,()=>e(u).gripType,je=>e(u).gripType=je),B(ze,()=>e(u).notes,je=>e(u).notes=je),o(F,H)}),a(b);var O=s(b,2),E=l(O);{var se=F=>{var u=hl();let m;var H=l(u,!0);a(u),z(()=>{m=Ke(u,1,"save-message svelte-1m63nqt",null,m,{success:e(w)==="success",error:e(w)==="error"}),K(H,e(L))}),o(F,u)};j(E,F=>{e(L)&&F(se)})}var X=s(E,2);X.__click=C;var ie=l(X);{var Z=F=>{var u=Ue("Saving...");o(F,u)},re=F=>{var u=bt(),m=dt(u);{var H=P=>{var V=Ue("‚úì Saved!");o(P,V)},ae=P=>{var V=Ue("Save Session");o(P,V)};j(m,P=>{e(w)==="success"?P(H):P(ae,!1)},!0)}o(F,u)};j(ie,F=>{e(w)==="saving"?F(Z):F(re,!1)})}a(X),a(O),a(g),z(()=>X.disabled=e(w)==="saving"),B(d,()=>e(W),F=>t(W,F)),o(ye,g),Ct()}Zt(["click"]);var wl=f("<option> </option>"),xl=f('<input type="text" placeholder="Enter venue name" class="mt-2 svelte-1fje4dh"/>'),ql=f("<option> </option>"),Cl=f("<option> </option>"),Tl=f('<input type="text" placeholder="Round name" class="mt-2 svelte-1fje4dh"/>'),Nl=f('<div class="form-group svelte-1fje4dh"><label for="round" class="svelte-1fje4dh">Round</label> <select id="round" class="svelte-1fje4dh"></select> <!></div>'),Ol=f('<div class="result-mode-content svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="position" class="svelte-1fje4dh">Final Position</label> <input type="number" id="position" placeholder="#" class="large-input svelte-1fje4dh"/></div></div>'),Ll=f("<option> </option>"),Fl=f('<input type="number" min="1" class="svelte-1fje4dh"/>'),Gl=f('<span class="flash-dash">-</span>'),zl=f('<tr><td class="col-name svelte-1fje4dh"><input type="text" class="svelte-1fje4dh"/></td><td class="col-status svelte-1fje4dh"><select class="svelte-1fje4dh"></select></td><td class="col-attempt svelte-1fje4dh"><!></td><td class="col-notes svelte-1fje4dh"><input type="text" placeholder="..." class="svelte-1fje4dh"/></td><td class="col-action svelte-1fje4dh"><button class="svelte-1fje4dh">‚úï</button></td></tr>'),jl=f('<div class="load-metrics-compact svelte-1fje4dh"><div class="metric svelte-1fje4dh"><label for="finger">Finger Load</label> <input type="number" id="finger" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div> <div class="metric svelte-1fje4dh"><label for="shoulder">Shoulder Load</label> <input type="number" id="shoulder" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div> <div class="metric svelte-1fje4dh"><label for="forearm">Forearm Load</label> <input type="number" id="forearm" min="0" max="5" step="0.5" class="svelte-1fje4dh"/></div></div> <div class="climbs-table-container svelte-1fje4dh"><div class="section-header svelte-1fje4dh"><h4 class="svelte-1fje4dh">Boulders / Routes</h4></div> <table class="climbs-table svelte-1fje4dh"><thead><tr><th class="svelte-1fje4dh">#</th><th class="svelte-1fje4dh">Result</th><th class="svelte-1fje4dh">Att.</th><th class="svelte-1fje4dh">Notes</th><th class="svelte-1fje4dh"></th></tr></thead><tbody></tbody></table> <button class="add-row-btn svelte-1fje4dh">+ Add Row</button></div>',1),Al=f("<div> </div>"),El=f('<div class="form-content svelte-1fje4dh"><h3 class="svelte-1fje4dh">üèÜ Competition</h3> <div class="form-grid svelte-1fje4dh"><div class="form-group svelte-1fje4dh"><label for="date" class="svelte-1fje4dh">Date</label> <input type="date" id="date" class="svelte-1fje4dh"/></div> <div class="form-group svelte-1fje4dh"><label for="venue" class="svelte-1fje4dh">Venue</label> <select id="venue" class="svelte-1fje4dh"><option disabled>Select venue...</option><!></select> <!></div></div> <div class="form-group mb-4 svelte-1fje4dh"><label for="type" class="svelte-1fje4dh">Type</label> <select id="type" class="svelte-1fje4dh"></select></div> <div class="form-group mb-4 checkbox-group svelte-1fje4dh"><label for="isSimulation" class="checkbox-label svelte-1fje4dh"><input type="checkbox" id="isSimulation" class="svelte-1fje4dh"/> Simulation (Practice/Mock comp)</label></div> <div class="round-section svelte-1fje4dh"><!> <!></div> <div class="submit-section"><!> <button type="button" class="submit-btn svelte-1fje4dh"><!></button></div></div>');function Il(ye,I){qt(I,!0);const _=["Flashpoint Bristol","Rockstar Techno","Rockstar Unit 3","Rockstar Unit 5","Bloc","TCA","Other"],T=["Bouldering","Lead","Speed"],W=["Qualifiers","Semi-Finals","Finals","Result","Other"],x=["Flash","Top","Zone","Attempt"];let N=y(Ye(new Date().toISOString().split("T")[0])),G=y(""),q=y(""),Q=y("Bouldering"),J=y(!1),U=y(4),w=y(4),L=y(4),C=y("Qualifiers"),h=y(""),g=y(null),k=y(Ye([{name:"#1",status:"Flash",attemptCount:1,notes:""}]));const A="competition_session_draft";let te=y(!1);$t(()=>{const i=localStorage.getItem(A);if(i)try{const r=JSON.parse(i);r.date&&t(N,r.date,!0),r.venue&&t(G,r.venue,!0),r.customVenue&&t(q,r.customVenue,!0),r.type&&t(Q,r.type,!0),r.fingerLoad&&t(U,r.fingerLoad,!0),r.shoulderLoad&&t(w,r.shoulderLoad,!0),r.forearmLoad&&t(L,r.forearmLoad,!0),r.roundName&&t(C,r.roundName,!0),r.customRoundName&&t(h,r.customRoundName,!0),r.finalPosition&&t(g,r.finalPosition,!0),r.climbs&&t(k,r.climbs,!0),typeof r.isSimulation=="boolean"&&t(J,r.isSimulation,!0)}catch(r){console.error("Failed to restore draft",r)}t(te,!0)}),pa(()=>{if(!e(te))return;const i={date:e(N),venue:e(G),customVenue:e(q),type:e(Q),fingerLoad:e(U),shoulderLoad:e(w),forearmLoad:e(L),roundName:e(C),customRoundName:e(h),finalPosition:e(g),climbs:e(k),isSimulation:e(J)};localStorage.setItem(A,JSON.stringify(i))});let d=Bt(()=>!e(J)&&e(C)==="Result"),b=Bt(()=>e(G)==="Other"),O=Bt(()=>e(C)==="Other"),E=Bt(()=>e(C)==="Other"?e(h):e(C));function se(){const i=e(k).length+1;t(k,[...e(k),{name:`#${i}`,status:"Flash",attemptCount:1,notes:""}],!0)}function X(i){e(k).length>1?t(k,e(k).filter((r,S)=>S!==i),!0):e(k)[0]={name:"#1",status:"Flash",attemptCount:1,notes:""}}function ie(i,r){e(k)[i].status=r,r==="Flash"&&(e(k)[i].attemptCount=1)}let Z=y("idle"),re=y("");async function F(){if(!e(G)||e(G)==="Other"&&!e(q)){t(Z,"error"),t(re,"Please specify a venue");return}t(Z,"saving");try{const i={name:e(J)?"Simulation":e(E),position:e(d)?e(g):void 0,climbs:e(d)?void 0:JSON.parse(JSON.stringify(e(k)))},r={date:e(N),venue:e(G)==="Other"?e(q):e(G),customVenue:e(G)==="Other"?e(q):void 0,type:e(Q),isSimulation:e(J),fingerLoad:e(d)?void 0:e(U),shoulderLoad:e(d)?void 0:e(w),forearmLoad:e(d)?void 0:e(L),rounds:[i]},S=Ha(r);if(ma()){const M=await ss(r);M.ok?(wa(S.id,M.id),xa(M.id),t(Z,"success"),t(re,"Competition saved and synced!"),localStorage.removeItem(A)):(qa(S.id),t(Z,"success"),t(re,"Saved locally. Sync failed: "+(M.error||"Unknown error")),localStorage.removeItem(A))}else t(Z,"success"),t(re,"Saved locally. Will sync when online."),localStorage.removeItem(A);window.dispatchEvent(new CustomEvent("session-saved")),setTimeout(()=>{u()},2e3)}catch(i){t(Z,"error"),t(re,"Failed to save session"),console.error("Save error:",i)}}function u(){t(N,new Date().toISOString().split("T")[0],!0),t(G,""),t(q,""),t(g,null),t(k,[{name:"#1",status:"Flash",attemptCount:1,notes:""}],!0),t(Z,"idle"),t(re,"")}var m=El(),H=s(l(m),2),ae=l(H),P=s(l(ae),2);D(P),a(ae);var V=s(ae,2),ge=s(l(V),2),$e=l(ge);$e.value=$e.__value="";var We=s($e);ue(We,17,()=>_,pe,(i,r)=>{var S=wl(),M=l(S,!0);a(S);var ee={};z(()=>{K(M,e(r)),ee!==(ee=e(r))&&(S.value=(S.__value=e(r))??"")}),o(i,S)}),a(ge);var Ze=s(ge,2);{var xe=i=>{var r=xl();D(r),B(r,()=>e(q),S=>t(q,S)),o(i,r)};j(Ze,i=>{e(b)&&i(xe)})}a(V),a(H);var Te=s(H,2),Ge=s(l(Te),2);ue(Ge,21,()=>T,pe,(i,r)=>{var S=ql(),M=l(S,!0);a(S);var ee={};z(()=>{K(M,e(r)),ee!==(ee=e(r))&&(S.value=(S.__value=e(r))??"")}),o(i,S)}),a(Ge),a(Te);var Re=s(Te,2),Ne=l(Re),ce=l(Ne);D(ce),Ve(),a(Ne),a(Re);var ne=s(Re,2),ze=l(ne);{var je=i=>{var r=Nl(),S=s(l(r),2);ue(S,21,()=>W,pe,($,oe)=>{var he=Cl(),ot=l(he,!0);a(he);var tt={};z(()=>{K(ot,e(oe)),tt!==(tt=e(oe))&&(he.value=(he.__value=e(oe))??"")}),o($,he)}),a(S);var M=s(S,2);{var ee=$=>{var oe=Tl();D(oe),B(oe,()=>e(h),he=>t(h,he)),o($,oe)};j(M,$=>{e(O)&&$(ee)})}a(r),Xe(S,()=>e(C),$=>t(C,$)),o(i,r)};j(ze,i=>{e(J)||i(je)})}var Ae=s(ze,2);{var be=i=>{var r=Ol(),S=l(r),M=s(l(S),2);D(M),a(S),a(r),B(M,()=>e(g),ee=>t(g,ee)),o(i,r)},Be=i=>{var r=jl(),S=dt(r),M=l(S),ee=s(l(M),2);D(ee),a(M);var $=s(M,2),oe=s(l($),2);D(oe),a($);var he=s($,2),ot=s(l(he),2);D(ot),a(he),a(S);var tt=s(S,2),Nt=s(l(tt),2),Ot=s(l(Nt));ue(Ot,21,()=>e(k),pe,(de,ve,Oe)=>{var Je=zl(),ft=l(Je),Qe=l(ft);D(Qe),a(ft);var at=s(ft),Ee=l(at);Ee.__change=Le=>ie(Oe,Le.target.value),ue(Ee,21,()=>x,pe,(Le,nt)=>{var st=Ll(),ta=l(st,!0);a(st);var At={};z(()=>{K(ta,e(nt)),At!==(At=e(nt))&&(st.value=(st.__value=e(nt))??"")}),o(Le,st)}),a(Ee);var Ie;Ga(Ee),a(at);var Fe=s(at),Pe=l(Fe);{var mt=Le=>{var nt=Fl();D(nt),B(nt,()=>e(ve).attemptCount,st=>e(ve).attemptCount=st),o(Le,nt)},ht=Le=>{var nt=Gl();o(Le,nt)};j(Pe,Le=>{e(ve).status!=="Flash"?Le(mt):Le(ht,!1)})}a(Fe);var Ft=s(Fe),zt=l(Ft);D(zt),a(Ft);var jt=s(Ft),Jt=l(jt);Jt.__click=()=>X(Oe),a(jt),a(Je),z(()=>{Ie!==(Ie=e(ve).status)&&(Ee.value=(Ee.__value=e(ve).status)??"",za(Ee,e(ve).status))}),B(Qe,()=>e(ve).name,Le=>e(ve).name=Le),B(zt,()=>e(ve).notes,Le=>e(ve).notes=Le),o(de,Je)}),a(Ot),a(Nt);var Lt=s(Nt,2);Lt.__click=se,a(tt),B(ee,()=>e(U),de=>t(U,de)),B(oe,()=>e(w),de=>t(w,de)),B(ot,()=>e(L),de=>t(L,de)),o(i,r)};j(Ae,i=>{e(d)?i(be):i(Be,!1)})}a(ne);var qe=s(ne,2),rt=l(qe);{var it=i=>{var r=Al();let S;var M=l(r,!0);a(r),z(()=>{S=Ke(r,1,"save-message svelte-1fje4dh",null,S,{success:e(Z)==="success",error:e(Z)==="error"}),K(M,e(re))}),o(i,r)};j(rt,i=>{e(re)&&i(it)})}var et=s(rt,2);et.__click=F;var ut=l(et);{var pt=i=>{var r=Ue("Saving...");o(i,r)},Tt=i=>{var r=bt(),S=dt(r);{var M=$=>{var oe=Ue("‚úì Saved!");o($,oe)},ee=$=>{var oe=Ue("Save Session");o($,oe)};j(S,$=>{e(Z)==="success"?$(M):$(ee,!1)},!0)}o(i,r)};j(ut,i=>{e(Z)==="saving"?i(pt):i(Tt,!1)})}a(et),a(qe),a(m),z(()=>et.disabled=e(Z)==="saving"),B(P,()=>e(N),i=>t(N,i)),Xe(ge,()=>e(G),i=>t(G,i)),Xe(Ge,()=>e(Q),i=>t(Q,i)),Fa(ce,()=>e(J),i=>t(J,i)),o(ye,m),Ct()}Zt(["change","click"]);var Dl=f('<span class="spinner svelte-b2zgdd"></span> Syncing...',1),Vl=f("<button><!></button>"),Rl=f("<div> </div>"),Bl=f('<div><div class="sync-info svelte-b2zgdd"><span class="sync-icon svelte-b2zgdd"> </span> <span class="sync-text svelte-b2zgdd"><!></span></div> <!> <!></div>'),Pl=f("<option> </option>"),Ml=f('<div class="form-container svelte-b2zgdd"><!></div>'),$l=f('<div class="page svelte-b2zgdd"><div class="page-header svelte-b2zgdd"><h1 class="svelte-b2zgdd">üìù Log Data</h1> <p class="subtitle svelte-b2zgdd">Record your training sessions</p></div> <!> <div class="content-card svelte-b2zgdd"><div class="form-group svelte-b2zgdd"><label for="activity-type" class="svelte-b2zgdd">Activity Type</label> <select id="activity-type" class="svelte-b2zgdd"><option disabled>Select an activity...</option><!></select></div> <!></div></div>');function ar(ye,I){qt(I,!0);const _=[{value:"indoor_climb",label:"Indoor Climb",icon:"üßó"},{value:"outdoor_climb",label:"Outdoor Climb",icon:"‚õ∞Ô∏è"},{value:"gym_session",label:"Gym Session",icon:"üèãÔ∏è"},{value:"fingerboarding",label:"Fingerboarding",icon:"ü§è"},{value:"competition",label:"Competition",icon:"üèÜ"}];let T=y(""),W=y(0),x=y("idle"),N=y(""),G=y(!0);$t(()=>{q(),t(G,ma(),!0);const d=()=>{t(G,!0),q()},b=()=>{t(G,!1)},O=()=>{q()};return window.addEventListener("online",d),window.addEventListener("offline",b),window.addEventListener("session-saved",O),()=>{window.removeEventListener("online",d),window.removeEventListener("offline",b),window.removeEventListener("session-saved",O)}});function q(){t(W,ls(),!0)}async function Q(){if(!e(G)){t(x,"error"),t(N,"No network connection");return}t(x,"syncing"),t(N,"");try{const d=await rs();d.failed===0&&d.success>0?(t(x,"success"),t(N,`Synced ${d.success} session${d.success>1?"s":""}!`)):d.failed>0&&d.success>0?(t(x,"error"),t(N,`Synced ${d.success}, failed ${d.failed}`)):d.failed>0?(t(x,"error"),t(N,`Failed to sync ${d.failed} session${d.failed>1?"s":""}`)):(t(x,"idle"),t(N,"")),q(),e(x)==="success"&&setTimeout(()=>{t(x,"idle"),t(N,"")},3e3)}catch(d){t(x,"error"),t(N,"Sync failed"),console.error("Sync error:",d)}}var J=$l(),U=s(l(J),2);{var w=d=>{var b=Bl();let O;var E=l(b),se=l(E),X=l(se,!0);a(se);var ie=s(se,2),Z=l(ie);{var re=P=>{var V=Ue();z(()=>K(V,`${e(W)??""} session${e(W)>1?"s":""} waiting to sync`)),o(P,V)},F=P=>{var V=Ue();z(()=>K(V,`Offline - ${e(W)??""} session${e(W)>1?"s":""} saved locally`)),o(P,V)};j(Z,P=>{e(G)?P(re):P(F,!1)})}a(ie),a(E);var u=s(E,2);{var m=P=>{var V=Vl();let ge;V.__click=Q;var $e=l(V);{var We=xe=>{var Te=Dl();Ve(),o(xe,Te)},Ze=xe=>{var Te=bt(),Ge=dt(Te);{var Re=ce=>{var ne=Ue("‚úì Synced!");o(ce,ne)},Ne=ce=>{var ne=Ue("Sync Now");o(ce,ne)};j(Ge,ce=>{e(x)==="success"?ce(Re):ce(Ne,!1)},!0)}o(xe,Te)};j($e,xe=>{e(x)==="syncing"?xe(We):xe(Ze,!1)})}a(V),z(()=>{ge=Ke(V,1,"sync-btn svelte-b2zgdd",null,ge,{syncing:e(x)==="syncing"}),V.disabled=e(x)==="syncing"}),o(P,V)};j(u,P=>{e(G)&&P(m)})}var H=s(u,2);{var ae=P=>{var V=Rl();let ge;var $e=l(V,!0);a(V),z(()=>{ge=Ke(V,1,"sync-message svelte-b2zgdd",null,ge,{error:e(x)==="error",success:e(x)==="success"}),K($e,e(N))}),o(P,V)};j(H,P=>{e(N)&&P(ae)})}a(b),z(()=>{O=Ke(b,1,"sync-banner svelte-b2zgdd",null,O,{offline:!e(G)}),K(X,e(G)?"üîÑ":"üì¥")}),o(d,b)};j(U,d=>{e(W)>0&&d(w)})}var L=s(U,2),C=l(L),h=s(l(C),2),g=l(h);g.value=g.__value="";var k=s(g);ue(k,17,()=>_,d=>d.value,(d,b)=>{var O=Pl(),E=l(O);a(O);var se={};z(()=>{K(E,`${e(b).icon??""} ${e(b).label??""}`),se!==(se=e(b).value)&&(O.value=(O.__value=e(b).value)??"")}),o(d,O)}),a(h),a(C);var A=s(C,2);{var te=d=>{var b=Ml(),O=l(b);{var E=X=>{xs(X,{})},se=X=>{var ie=bt(),Z=dt(ie);{var re=u=>{Rs(u,{})},F=u=>{var m=bt(),H=dt(m);{var ae=V=>{fl(V,{})},P=V=>{var ge=bt(),$e=dt(ge);{var We=xe=>{kl(xe,{})},Ze=xe=>{var Te=bt(),Ge=dt(Te);{var Re=Ne=>{Il(Ne,{})};j(Ge,Ne=>{e(T)==="competition"&&Ne(Re)},!0)}o(xe,Te)};j($e,xe=>{e(T)==="fingerboarding"?xe(We):xe(Ze,!1)},!0)}o(V,ge)};j(H,V=>{e(T)==="gym_session"?V(ae):V(P,!1)},!0)}o(u,m)};j(Z,u=>{e(T)==="outdoor_climb"?u(re):u(F,!1)},!0)}o(X,ie)};j(O,X=>{e(T)==="indoor_climb"?X(E):X(se,!1)})}a(b),o(d,b)};j(A,d=>{e(T)&&d(te)})}a(L),a(J),Xe(h,()=>e(T),d=>t(T,d)),o(ye,J),Ct()}Zt(["click"]);export{ar as component};
