import{f as v,a as l,c as et,t as vt}from"../chunks/DniD0FMI.js";import{z as Rt,U as Bt,aZ as Mt,a2 as Gt,a5 as Pt,e as Vt,a_ as Ut,av as Ct,a$ as Wt,af as Ht,b0 as pt,M as Tt,p as Ye,c as a,s as r,i as e,aV as G,r as t,t as E,a as Je,x as n,f as Fe,aW as it,w as tt,ao as ft}from"../chunks/yFHbHBSN.js";import{a as Zt,d as He,s as d}from"../chunks/thJOzIHm.js";import{i as y}from"../chunks/C-6T9e8d.js";import{t as Kt,c as De,r as Ue,e as we,i as Ie,b as We,s as Ae}from"../chunks/BNP_pueh.js";import{b as _t,r as bt,u as zt,t as ht,q as yt,v as Yt,w as xt,g as Jt,j as Qt,x as Xt,y as St,z as $t,A as kt,B as ea}from"../chunks/wOp6CSbn.js";import{o as Lt}from"../chunks/DvPVDa4V.js";import{p as gt}from"../chunks/9Nh2VD-z.js";import"../chunks/BBn-6d5R.js";const ta=()=>performance.now(),rt={tick:h=>requestAnimationFrame(h),now:()=>ta(),tasks:new Set};function Ot(){const h=rt.now();rt.tasks.forEach(s=>{s.c(h)||(rt.tasks.delete(s),s.f())}),rt.tasks.size!==0&&rt.tick(Ot)}function aa(h){let s;return rt.tasks.size===0&&rt.tick(Ot),{promise:new Promise(f=>{rt.tasks.add(s={c:h,f})}),abort(){rt.tasks.delete(s)}}}function mt(h,s){Ct(()=>{h.dispatchEvent(new CustomEvent(s))})}function sa(h){if(h==="float")return"cssFloat";if(h==="offset")return"cssOffset";if(h.startsWith("--"))return h;const s=h.split("-");return s.length===1?s[0]:s[0]+s.slice(1).map(f=>f[0].toUpperCase()+f.slice(1)).join("")}function Ft(h){const s={},f=h.split(";");for(const u of f){const[g,m]=u.split(":");if(!g||m===void 0)break;const c=sa(g.trim());s[c]=m.trim()}return s}const ra=h=>h;function Re(h,s,f,u){var g=(h&Ut)!==0,m="both",c,x=s.inert,j=s.style.overflow,w,z;function D(){return Ct(()=>c??=f()(s,u?.()??{},{direction:m}))}var S={is_global:g,in(){s.inert=x,mt(s,"introstart"),w=qt(s,D(),z,1,()=>{mt(s,"introend"),w?.abort(),w=c=void 0,s.style.overflow=j})},out(B){s.inert=!0,mt(s,"outrostart"),z=qt(s,D(),w,0,()=>{mt(s,"outroend"),B?.()})},stop:()=>{w?.abort(),z?.abort()}},T=Rt;if((T.nodes.t??=[]).push(S),Zt){var q=g;if(!q){for(var C=T.parent;C&&(C.f&Bt)!==0;)for(;(C=C.parent)&&(C.f&Mt)===0;);q=!C||(C.f&Gt)!==0}q&&Pt(()=>{Vt(()=>S.in())})}}function qt(h,s,f,u,g){var m=u===1;if(Wt(s)){var c,x=!1;return Ht(()=>{if(!x){var B=s({direction:m?"in":"out"});c=qt(h,B,f,u,g)}}),{abort:()=>{x=!0,c?.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(f?.deactivate(),!s?.duration)return g(),{abort:pt,deactivate:pt,reset:pt,t:()=>u};const{delay:j=0,css:w,tick:z,easing:D=ra}=s;var S=[];if(m&&f===void 0&&(z&&z(0,1),w)){var T=Ft(w(0,1));S.push(T,T)}var q=()=>1-u,C=h.animate(S,{duration:j,fill:"forwards"});return C.onfinish=()=>{C.cancel();var B=f?.t()??1-u;f?.abort();var P=u-B,R=s.duration*Math.abs(P),ie=[];if(R>0){var Z=!1;if(w)for(var A=Math.ceil(R/16.666666666666668),p=0;p<=A;p+=1){var L=B+P*D(p/A),V=Ft(w(L,1-L));ie.push(V),Z||=V.overflow==="hidden"}Z&&(h.style.overflow="hidden"),q=()=>{var U=C.currentTime;return B+P*D(U/R)},z&&aa(()=>{if(C.playState!=="running")return!1;var U=q();return z(U,1-U),!0})}C=h.animate(ie,{duration:R,fill:"forwards"}),C.onfinish=()=>{q=()=>u,z?.(u,1-u),g()}},{abort:()=>{C&&(C.cancel(),C.effect=null,C.onfinish=pt)},deactivate:()=>{g=pt},reset:()=>{u===0&&z?.(1,0)},t:()=>q()}}function ut(h,s,f,u){var g=h.__style;if(Tt||g!==s){var m=Kt(s);(!Tt||m!==h.getAttribute("style"))&&(m==null?h.removeAttribute("style"):h.style.cssText=m),h.__style=s}return u}const ia=h=>h;function Et(h){const s=h-1;return s*s*s+1}function la(h,{delay:s=0,duration:f=400,easing:u=ia}={}){const g=+getComputedStyle(h).opacity;return{delay:s,duration:f,easing:u,css:m=>`opacity: ${m*g}`}}function Qe(h,{delay:s=0,duration:f=400,easing:u=Et,axis:g="y"}={}){const m=getComputedStyle(h),c=+m.opacity,x=g==="y"?"height":"width",j=parseFloat(m[x]),w=g==="y"?["top","bottom"]:["left","right"],z=w.map(P=>`${P[0].toUpperCase()}${P.slice(1)}`),D=parseFloat(m[`padding${z[0]}`]),S=parseFloat(m[`padding${z[1]}`]),T=parseFloat(m[`margin${z[0]}`]),q=parseFloat(m[`margin${z[1]}`]),C=parseFloat(m[`border${z[0]}Width`]),B=parseFloat(m[`border${z[1]}Width`]);return{delay:s,duration:f,easing:u,css:P=>`overflow: hidden;opacity: ${Math.min(P*20,1)*c};${x}: ${P*j}px;padding-${w[0]}: ${P*D}px;padding-${w[1]}: ${P*S}px;margin-${w[0]}: ${P*T}px;margin-${w[1]}: ${P*q}px;border-${w[0]}-width: ${P*C}px;border-${w[1]}-width: ${P*B}px;min-${x}: 0`}}function na(h,{delay:s=0,duration:f=400,easing:u=Et,start:g=0,opacity:m=0}={}){const c=getComputedStyle(h),x=+c.opacity,j=c.transform==="none"?"":c.transform,w=1-g,z=x*(1-m);return{delay:s,duration:f,easing:u,css:(D,S)=>`
			transform: ${j} scale(${1-w*S});
			opacity: ${x-z*S}
		`}}var va=v('<span class="chevron svelte-12crvy">â–²</span>'),oa=v('<span class="chevron svelte-12crvy">â–¼</span>'),da=v("<option> </option>"),ca=v("<option> </option>"),_a=v('<div class="filter-body svelte-12crvy"><div class="filter-grid svelte-12crvy"><div class="filter-item svelte-12crvy"><label for="start-date" class="svelte-12crvy">Start Date</label> <input type="date" id="start-date" class="svelte-12crvy"/></div> <div class="filter-item svelte-12crvy"><label for="end-date" class="svelte-12crvy">End Date</label> <input type="date" id="end-date" class="svelte-12crvy"/></div> <div class="filter-item svelte-12crvy"><label for="location-filter" class="svelte-12crvy">Location</label> <select id="location-filter" class="svelte-12crvy"><option>Any Location</option><!></select></div> <div class="filter-item svelte-12crvy"><label for="session-type-filter" class="svelte-12crvy">Session Type</label> <select id="session-type-filter" class="svelte-12crvy"><option>Any Type</option><!></select></div> <div class="filter-item svelte-12crvy"><label for="grade-filter" class="svelte-12crvy">Grade (Exact)</label> <input type="text" id="grade-filter" placeholder="e.g. V4" class="svelte-12crvy"/></div></div> <div class="filter-actions svelte-12crvy"><button class="reset-btn svelte-12crvy">Reset Filters</button></div></div>'),ua=v('<div class="filter-container svelte-12crvy"><button class="filter-header svelte-12crvy"><div class="header-content svelte-12crvy"><span class="icon svelte-12crvy">ğŸ”</span> <span class="title svelte-12crvy">Filters</span> <!></div></button> <!></div>');function fa(h,s){Ye(s,!0);const f=["Rockstar Swindon","Flashpoint Swindon","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","Other"],u=["Projecting","Onsighting","Campusing","Repeaters"];let g=G(!1),m=G(""),c=G(""),x=G(""),j=G(""),w=G("");function z(){n(g,!e(g))}function D(){n(m,""),n(c,""),n(x,""),n(j,""),n(w,""),S()}function S(){s.onFilterParamsChange({startDate:e(m),endDate:e(c),location:e(x),sessionType:e(j),grade:e(w)})}var T=ua(),q=a(T);q.__click=z;var C=a(q),B=r(a(C),4);{var P=A=>{var p=va();l(A,p)},R=A=>{var p=oa();l(A,p)};y(B,A=>{e(g)?A(P):A(R,!1)})}t(C),t(q);var ie=r(q,2);{var Z=A=>{var p=_a(),L=a(p),V=a(L),U=r(a(V),2);Ue(U),U.__change=S,t(V);var K=r(V,2),W=r(a(K),2);Ue(W),W.__change=S,t(K);var i=r(K,2),k=r(a(i),2);k.__change=S;var F=a(k);F.value=F.__value="";var _=r(F);we(_,17,()=>f,Ie,(J,se)=>{var M=da(),te=a(M,!0);t(M);var ne={};E(()=>{d(te,e(se)),ne!==(ne=e(se))&&(M.value=(M.__value=e(se))??"")}),l(J,M)}),t(k),t(i);var o=r(i,2),b=r(a(o),2);b.__change=S;var H=a(b);H.value=H.__value="";var _e=r(H);we(_e,17,()=>u,Ie,(J,se)=>{var M=ca(),te=a(M,!0);t(M);var ne={};E(()=>{d(te,e(se)),ne!==(ne=e(se))&&(M.value=(M.__value=e(se))??"")}),l(J,M)}),t(b),t(o);var le=r(o,2),de=r(a(le),2);Ue(de),de.__input=S,t(le),t(L);var re=r(L,2),X=a(re);X.__click=D,t(re),t(p),We(U,()=>e(m),J=>n(m,J)),We(W,()=>e(c),J=>n(c,J)),_t(k,()=>e(x),J=>n(x,J)),_t(b,()=>e(j),J=>n(j,J)),We(de,()=>e(w),J=>n(w,J)),Re(3,p,()=>Qe,()=>({duration:200})),l(A,p)};y(ie,A=>{e(g)&&A(Z)})}t(T),E(()=>De(q,"aria-expanded",e(g))),l(h,T),Je()}He(["click","change","input"]);var pa=v('<span class="climb-type-tag svelte-yz0xxt"> </span>'),ga=v('<span class="notes-preview svelte-yz0xxt"> </span>'),ma=v('<span class="attempts-count svelte-yz0xxt"> </span>'),ha=v('<div class="detail-row svelte-yz0xxt"><span class="label svelte-yz0xxt">Notes:</span> <p class="notes svelte-yz0xxt"> </p></div>'),ba=v('<p class="empty-notes svelte-yz0xxt">No notes for this climb.</p>'),ya=v('<div class="climb-details svelte-yz0xxt"><!> <div class="tags svelte-yz0xxt"><span class="tag type svelte-yz0xxt"> </span> <span class="tag attempt-text svelte-yz0xxt"> </span></div></div>'),xa=v('<div><div class="climb-header svelte-yz0xxt" role="button" tabindex="0"><div class="climb-main-info svelte-yz0xxt"><span> </span> <span class="climb-name svelte-yz0xxt"> </span> <!> <!></div> <div class="climb-meta svelte-yz0xxt"><span><span class="icon svelte-yz0xxt"> </span> <!></span> <button class="delete-btn svelte-yz0xxt" aria-label="Delete climb" title="Delete climb">ğŸ—‘ï¸</button> <span class="chevron svelte-yz0xxt"> </span></div></div> <!></div>');function wa(h,s){Ye(s,!0);let f=gt(s,"showClimbType",3,!1),u=G(!1);function g(){n(u,!e(u))}function m(o){o.stopPropagation(),s.onDelete()}const c={Flash:"âš¡",Onsight:"ğŸ‘ï¸",Redpoint:"ğŸ”´",Dogged:"ğŸ› ï¸",DNF:"âŒ"};var x=xa();let j;var w=a(x);w.__click=g,w.__keydown=o=>(o.key==="Enter"||o.key===" ")&&g();var z=a(w),D=a(z);let S;var T=a(D,!0);t(D);var q=r(D,2),C=a(q,!0);t(q);var B=r(q,2);{var P=o=>{var b=pa(),H=a(b,!0);t(b),E(()=>d(H,s.climb.isSport?"Sport":"Boulder")),l(o,b)};y(B,o=>{f()&&o(P)})}var R=r(B,2);{var ie=o=>{var b=ga(),H=a(b);t(b),E(()=>d(H,`- ${s.climb.notes??""}`)),l(o,b)};y(R,o=>{!e(u)&&s.climb.notes&&o(ie)})}t(z);var Z=r(z,2),A=a(Z);let p;var L=a(A),V=a(L,!0);t(L);var U=r(L,2);{var K=o=>{var b=ma(),H=a(b,!0);t(b),E(()=>d(H,s.climb.attemptsNum)),l(o,b)};y(U,o=>{s.climb.attemptType!=="Flash"&&s.climb.attemptType!=="Onsight"&&o(K)})}t(A);var W=r(A,2);W.__click=m;var i=r(W,2),k=a(i,!0);t(i),t(Z),t(w);var F=r(w,2);{var _=o=>{var b=ya(),H=a(b);{var _e=M=>{var te=ha(),ne=r(a(te),2),je=a(ne,!0);t(ne),t(te),E(()=>d(je,s.climb.notes)),l(M,te)},le=M=>{var te=ba();l(M,te)};y(H,M=>{s.climb.notes?M(_e):M(le,!1)})}var de=r(H,2),re=a(de),X=a(re,!0);t(re);var J=r(re,2),se=a(J,!0);t(J),t(de),t(b),E(()=>{d(X,s.climb.isSport?"Sport":"Boulder"),d(se,s.climb.attemptType)}),Re(3,b,()=>Qe,()=>({duration:150})),l(o,b)};y(F,o=>{e(u)&&o(_)})}t(x),E(()=>{j=Ae(x,1,"climb-entry svelte-yz0xxt",null,j,{expanded:e(u)}),De(w,"aria-expanded",e(u)),S=Ae(D,1,"grade-badge svelte-yz0xxt",null,S,{sport:s.climb.isSport}),d(T,s.climb.grade),d(C,s.climb.name||"Unnamed Route"),p=Ae(A,1,"attempt-type svelte-yz0xxt",null,p,{flash:s.climb.attemptType==="Flash"}),d(V,c[s.climb.attemptType]||s.climb.attemptType),d(k,e(u)?"â–²":"â–¼")}),l(h,x),Je()}He(["click","keydown"]);var Da=v('<button class="backdrop svelte-12q9g58" aria-label="Close modal"></button> <div class="modal svelte-12q9g58" role="dialog" aria-modal="true"><h3 class="svelte-12q9g58"> </h3> <p class="svelte-12q9g58"> </p> <div class="input-group svelte-12q9g58"><label for="delete-confirm" class="svelte-12q9g58">Type <strong>delete</strong> to confirm:</label> <input type="text" id="delete-confirm" placeholder="delete" autocomplete="off" class="svelte-12q9g58"/></div> <div class="actions svelte-12q9g58"><button class="btn-cancel svelte-12q9g58">Cancel</button> <button class="btn-delete svelte-12q9g58">Delete</button></div></div>',1);function wt(h,s){Ye(s,!0);let f=gt(s,"isOpen",3,!1),u=gt(s,"title",3,"Confirm Delete"),g=gt(s,"message",3,"Are you sure you want to delete this item? This action cannot be undone."),m=G(""),c=it(()=>e(m).toLowerCase()==="delete");function x(){e(c)&&(s.onConfirm(),n(m,""))}function j(){s.onCancel(),n(m,"")}var w=et(),z=Fe(w);{var D=S=>{var T=Da(),q=Fe(T);q.__click=j;var C=r(q,2),B=a(C),P=a(B,!0);t(B);var R=r(B,2),ie=a(R,!0);t(R);var Z=r(R,2),A=r(a(Z),2);Ue(A),t(Z);var p=r(Z,2),L=a(p);L.__click=j;var V=r(L,2);V.__click=x,t(p),t(C),E(()=>{d(P,u()),d(ie,g()),V.disabled=!e(c)}),Re(3,q,()=>la,()=>({duration:200})),We(A,()=>e(m),U=>n(m,U)),Re(3,C,()=>na,()=>({duration:200,start:.9})),l(S,T)};y(z,S=>{f()&&S(D)})}l(h,w),Je()}He(["click"]);var Sa=v('<span class="stat svelte-7vqogn"> </span>'),ka=v('<span class="status-icon pending svelte-7vqogn" title="Waiting to sync">ğŸ”„</span>'),qa=v('<span class="status-icon error svelte-7vqogn" title="Sync error">âš ï¸</span>'),Ta=v('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Difficulty</span> <span class="value svelte-7vqogn"> </span></div>'),Fa=v('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Category</span> <span class="value svelte-7vqogn"> </span></div>'),Ca=v('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Focus</span> <span class="value svelte-7vqogn"> </span></div>'),za=v('<p class="no-climbs svelte-7vqogn">No climbs logged for this session.</p>'),La=v('<div class="card-body svelte-7vqogn"><div class="details-grid svelte-7vqogn"><div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Training Type</span> <span class="value svelte-7vqogn"> </span></div> <!> <!> <!></div> <div class="metrics-container svelte-7vqogn"><div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Finger Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div> <div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Shoulder Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div> <div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Forearm Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div></div> <div class="climbs-list svelte-7vqogn"><h4 class="svelte-7vqogn">Climbs</h4> <div class="climbs-container svelte-7vqogn"><!> <!></div></div></div>'),Oa=v('<div><div class="card-header svelte-7vqogn" role="button" tabindex="0"><div class="header-main svelte-7vqogn"><div class="date-badge svelte-7vqogn"><span class="day svelte-7vqogn"> </span> <span class="month svelte-7vqogn"> </span></div> <div class="session-info svelte-7vqogn"><div class="session-text svelte-7vqogn"><h3 class="location svelte-7vqogn"> </h3> <div class="session-meta svelte-7vqogn"><span class="type-tag svelte-7vqogn"> </span> <span class="stat svelte-7vqogn"> </span> <!></div></div> <div class="load-summary svelte-7vqogn"><div class="load-badge finger svelte-7vqogn"> </div> <div class="load-badge shoulder svelte-7vqogn"> </div> <div class="load-badge forearm svelte-7vqogn"> </div></div></div></div> <div class="header-actions"><div class="header-status svelte-7vqogn"><!></div>  <button class="btn-icon delete-session" title="Delete Session">ğŸ—‘ï¸</button> <span class="chevron svelte-7vqogn"> </span></div></div> <!></div> <!>',1);function Ea(h,s){Ye(s,!0);let f=G(!1),u=G(!1);function g(){n(f,!e(f))}function m(){n(u,!0)}function c(){bt(s.session.id),n(u,!1),s.onDelete()}function x($){const N=[...s.session.climbs];N.splice($,1),zt(s.session.id,{climbs:N}),s.onDelete()}let j=it(()=>s.session.climbs.length),w=it(()=>s.session.climbs.reduce(($,N)=>{const Y=parseInt(N.grade.replace(/\D/g,""))||0,Q=parseInt($.replace(/\D/g,""))||0;return Y>Q?N.grade:$},"V0"));var z=Oa(),D=Fe(z);let S;var T=a(D);T.__click=g,T.__keydown=$=>$.key==="Enter"&&g();var q=a(T),C=a(q),B=a(C),P=a(B,!0);t(B);var R=r(B,2),ie=a(R,!0);t(R),t(C);var Z=r(C,2),A=a(Z),p=a(A),L=a(p,!0);t(p);var V=r(p,2),U=a(V),K=a(U,!0);t(U);var W=r(U,2),i=a(W);t(W);var k=r(W,2);{var F=$=>{var N=Sa(),Y=a(N);t(N),E(()=>d(Y,`Max: ${e(w)??""}`)),l($,N)};y(k,$=>{e(j)>0&&$(F)})}t(V),t(A);var _=r(A,2),o=a(_),b=a(o,!0);t(o);var H=r(o,2),_e=a(H,!0);t(H);var le=r(H,2),de=a(le,!0);t(le),t(_),t(Z),t(q);var re=r(q,2),X=a(re),J=a(X);{var se=$=>{var N=ka();l($,N)},M=$=>{var N=et(),Y=Fe(N);{var Q=I=>{var O=qa();l(I,O)};y(Y,I=>{s.session.syncStatus==="error"&&I(Q)},!0)}l($,N)};y(J,$=>{s.session.syncStatus==="pending"?$(se):$(M,!1)})}t(X);var te=r(X,2);te.__click=$=>{$.stopPropagation(),m()};var ne=r(te,2),je=a(ne,!0);t(ne),t(re),t(T);var Be=r(T,2);{var Se=$=>{var N=La(),Y=a(N),Q=a(Y),I=r(a(Q),2),O=a(I,!0);t(I),t(Q);var ee=r(Q,2);{var ae=ce=>{var fe=Ta(),Oe=r(a(fe),2),Ke=a(Oe,!0);t(Oe),t(fe),E(()=>d(Ke,s.session.difficulty)),l(ce,fe)};y(ee,ce=>{s.session.difficulty&&ce(ae)})}var ve=r(ee,2);{var oe=ce=>{var fe=Fa(),Oe=r(a(fe),2),Ke=a(Oe,!0);t(Oe),t(fe),E(()=>d(Ke,s.session.category)),l(ce,fe)};y(ve,ce=>{s.session.category&&ce(oe)})}var ue=r(ve,2);{var ke=ce=>{var fe=Ca(),Oe=r(a(fe),2),Ke=a(Oe,!0);t(Oe),t(fe),E(()=>d(Ke,s.session.techniqueFocus)),l(ce,fe)};y(ue,ce=>{s.session.techniqueFocus&&ce(ke)})}t(Y);var me=r(Y,2),pe=a(me),Ne=r(a(pe),2),he=a(Ne);t(Ne);var be=r(Ne,2),Ge=a(be);t(be),t(pe);var ye=r(pe,2),Ze=r(a(ye),2),Pe=a(Ze);t(Ze);var Xe=r(Ze,2),at=a(Xe);t(Xe),t(ye);var Ce=r(ye,2),qe=r(a(Ce),2),Ve=a(qe);t(qe);var st=r(qe,2),ze=a(st);t(st),t(Ce),t(me);var Le=r(me,2),lt=r(a(Le),2),Te=a(lt);we(Te,17,()=>s.session.climbs,Ie,(ce,fe,Oe)=>{{let Ke=it(()=>s.session.climbingType==="Mixed");wa(ce,{get climb(){return e(fe)},onDelete:()=>x(Oe),get showClimbType(){return e(Ke)}})}});var ct=r(Te,2);{var nt=ce=>{var fe=za();l(ce,fe)};y(ct,ce=>{s.session.climbs.length===0&&ce(nt)})}t(lt),t(Le),t(N),E(()=>{d(O,s.session.trainingType),ut(he,`width: ${s.session.fingerLoad/5*100}%`),d(Ge,`${s.session.fingerLoad??""}/5`),ut(Pe,`width: ${s.session.shoulderLoad/5*100}%`),d(at,`${s.session.shoulderLoad??""}/5`),ut(Ve,`width: ${s.session.forearmLoad/5*100}%`),d(ze,`${s.session.forearmLoad??""}/5`)}),Re(3,N,()=>Qe,()=>({duration:200})),l($,N)};y(Be,$=>{e(f)&&$(Se)})}t(D);var Me=r(D,2);wt(Me,{get isOpen(){return e(u)},title:"Delete Session",message:"Are you sure you want to delete this session and all its climbs? This cannot be undone.",onConfirm:c,onCancel:()=>n(u,!1)}),E(($,N)=>{S=Ae(D,1,"session-card svelte-7vqogn",null,S,{expanded:e(f)}),De(T,"aria-expanded",e(f)),d(P,$),d(ie,N),d(L,s.session.location),d(K,s.session.climbingType),d(i,`${e(j)??""} climbs`),De(o,"title",`Finger Load: ${s.session.fingerLoad??""}`),d(b,s.session.fingerLoad),De(H,"title",`Shoulder Load: ${s.session.shoulderLoad??""}`),d(_e,s.session.shoulderLoad),De(le,"title",`Forearm Load: ${s.session.forearmLoad??""}`),d(de,s.session.forearmLoad),d(je,e(f)?"â–²":"â–¼")},[()=>new Date(s.session.date).getDate(),()=>new Date(s.session.date).toLocaleDateString("en-GB",{month:"short"})]),l(h,z),Je()}He(["click","keydown"]);var Aa=v('<div class="legend-item svelte-11p9lqi"><span class="l-icon svelte-11p9lqi"> </span> <span class="l-label svelte-11p9lqi"> </span></div>'),Ia=v('<div class="legend-content svelte-11p9lqi"><div class="legend-grid svelte-11p9lqi"></div></div>'),ja=v('<div class="legend-container svelte-11p9lqi"><button class="legend-toggle svelte-11p9lqi"><span class="icon">â„¹ï¸</span> <span class="text">Icon Legend</span> <span class="chevron svelte-11p9lqi"> </span></button> <!></div>');function At(h){let s=G(!1);const f=[{icon:"ğŸ‘ï¸",label:"Onsight"},{icon:"âš¡",label:"Flash"},{icon:"ğŸ”´",label:"Redpoint"},{icon:"ğŸ› ï¸",label:"Dogged"},{icon:"âŒ",label:"DNF"}];var u=ja(),g=a(u);g.__click=()=>n(s,!e(s));var m=r(a(g),4),c=a(m,!0);t(m),t(g);var x=r(g,2);{var j=w=>{var z=Ia(),D=a(z);we(D,21,()=>f,Ie,(S,T)=>{var q=Aa(),C=a(q),B=a(C,!0);t(C);var P=r(C,2),R=a(P,!0);t(P),t(q),E(()=>{d(B,e(T).icon),d(R,e(T).label)}),l(S,q)}),t(D),t(z),Re(3,z,()=>Qe),l(w,z)};y(x,w=>{e(s)&&w(j)})}t(u),E(()=>{De(g,"aria-expanded",e(s)),d(c,e(s)?"â–¼":"â–¶")}),l(h,u)}He(["click"]);var Na=v('<span class="spinner svelte-14fqz8w"></span> Fetching...',1),Ra=v('<div class="error-banner svelte-14fqz8w"> </div>'),Ba=v('<small class="svelte-14fqz8w">Try adjusting your filters.</small>'),Ma=v('<div class="empty-state svelte-14fqz8w"><p class="svelte-14fqz8w">No indoor climbing sessions found.</p> <!></div>'),Ga=v('<div class="view-container svelte-14fqz8w"><div class="view-header svelte-14fqz8w"><h2 class="view-title svelte-14fqz8w">ğŸ§— Indoor Climbing History</h2> <button class="fetch-btn svelte-14fqz8w" title="Fetch data from cloud"><!></button></div> <!> <!> <div class="info-bar svelte-14fqz8w"><div class="legend-wrapper svelte-14fqz8w"><!></div> <div class="load-key svelte-14fqz8w"><span class="key-label svelte-14fqz8w">Load:</span> <div class="key-item svelte-14fqz8w"><span class="dot finger svelte-14fqz8w"></span> Finger</div> <div class="key-item svelte-14fqz8w"><span class="dot shoulder svelte-14fqz8w"></span> Shoulder</div> <div class="key-item svelte-14fqz8w"><span class="dot forearm svelte-14fqz8w"></span> Forearm</div></div></div> <div class="sessions-list"><!> <!></div></div>');function Pa(h,s){Ye(s,!0);let f=G(tt([])),u=G(tt([])),g=G(!1),m=G(""),c=G(tt({startDate:"",endDate:"",location:"",sessionType:"",grade:""}));Lt(()=>{x()});function x(){const i=ht("indoor_climb");n(f,i.sort((k,F)=>new Date(F.date).getTime()-new Date(k.date).getTime()),!0),D()}async function j(){n(g,!0),n(m,"");try{await yt();const i=await Yt();i.ok&&i.data?w(i.data):n(m,i.error||"Failed to fetch data",!0)}catch(i){n(m,i instanceof Error?i.message:"Unknown error",!0)}finally{n(g,!1)}}function w(i){const k=i.map(_=>({..._,activityType:"indoor_climb",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),syncStatus:"synced",syncedAt:new Date().toISOString()}));xt(k);const F=ht("indoor_climb");n(f,F.sort((_,o)=>new Date(o.date).getTime()-new Date(_.date).getTime()),!0),D()}function z(i){n(c,i,!0),D()}function D(){n(u,e(f).filter(i=>{if(e(c).startDate&&i.date<e(c).startDate||e(c).endDate&&i.date>e(c).endDate||e(c).location&&i.location!==e(c).location||e(c).sessionType&&i.trainingType!==e(c).sessionType)return!1;if(e(c).grade){const k=e(c).grade.trim().toLowerCase();if(!i.climbs.some(_=>_.grade.trim().toLowerCase()===k))return!1}return!0}),!0)}var S=Ga(),T=a(S),q=r(a(T),2);q.__click=j;var C=a(q);{var B=i=>{var k=Na();ft(),l(i,k)},P=i=>{var k=vt("â˜ï¸ Fetch Data");l(i,k)};y(C,i=>{e(g)?i(B):i(P,!1)})}t(q),t(T);var R=r(T,2);{var ie=i=>{var k=Ra(),F=a(k,!0);t(k),E(()=>d(F,e(m))),Re(3,k,()=>Qe),l(i,k)};y(R,i=>{e(m)&&i(ie)})}var Z=r(R,2);fa(Z,{onFilterParamsChange:z});var A=r(Z,2),p=a(A),L=a(p);At(L),t(p),ft(2),t(A);var V=r(A,2),U=a(V);we(U,17,()=>e(u),i=>i.id,(i,k)=>{Ea(i,{get session(){return e(k)},onDelete:x})});var K=r(U,2);{var W=i=>{var k=Ma(),F=r(a(k),2);{var _=o=>{var b=Ba();l(o,b)};y(F,o=>{e(f).length>0&&o(_)})}t(k),l(i,k)};y(K,i=>{e(u).length===0&&i(W)})}t(V),t(S),E(()=>q.disabled=e(g)),l(h,S),Je()}He(["click"]);var Va=v('<span class="chevron svelte-1frtlim">â–²</span>'),Ua=v('<span class="chevron svelte-1frtlim">â–¼</span>'),Wa=v('<div class="input-with-action svelte-1frtlim"><input type="text" id="area-filter-text" placeholder="Type area name..." class="flat-left svelte-1frtlim"/> <button class="action-btn flat-right svelte-1frtlim" title="Back to list">âœ•</button></div>'),Ha=v("<option> </option>"),Za=v('<select id="area-filter" class="svelte-1frtlim"><option>All Areas</option><!><option>Other (Manual Entry)</option></select>'),Ka=v('<div class="input-with-action svelte-1frtlim"><input type="text" id="crag-filter-text" placeholder="Type crag name..." class="flat-left svelte-1frtlim"/> <button class="action-btn flat-right svelte-1frtlim" title="Back to list">âœ•</button></div>'),Ya=v("<option> </option>"),Ja=v('<select id="crag-filter" class="svelte-1frtlim"><option>All Crags</option><!><option>Other (Manual Entry)</option></select>'),Qa=v('<input type="text" id="crag-filter-text" class="svelte-1frtlim"/>'),Xa=v("<option> </option>"),$a=v('<div class="filter-body svelte-1frtlim"><div class="filter-grid svelte-1frtlim"><div class="filter-item svelte-1frtlim"><label for="start-date" class="svelte-1frtlim">Start Date</label> <input type="date" id="start-date" class="svelte-1frtlim"/></div> <div class="filter-item svelte-1frtlim"><label for="end-date" class="svelte-1frtlim">End Date</label> <input type="date" id="end-date" class="svelte-1frtlim"/></div> <div class="filter-item svelte-1frtlim"><label for="area-filter" class="svelte-1frtlim">Area</label> <!></div> <div class="filter-item svelte-1frtlim"><label for="crag-filter" class="svelte-1frtlim">Crag</label> <!></div> <div class="filter-item svelte-1frtlim"><label for="session-type-filter" class="svelte-1frtlim">Session Type</label> <select id="session-type-filter" class="svelte-1frtlim"><option>Any Type</option><!></select></div> <div class="filter-item svelte-1frtlim"><label for="grade-filter" class="svelte-1frtlim">Grade (Exact)</label> <input type="text" id="grade-filter" placeholder="e.g. 7a" class="svelte-1frtlim"/></div></div> <div class="filter-actions svelte-1frtlim"><button class="reset-btn svelte-1frtlim">Reset Filters</button></div></div>'),es=v('<div class="filter-container svelte-1frtlim"><button class="filter-header svelte-1frtlim"><div class="header-content svelte-1frtlim"><span class="icon svelte-1frtlim">ğŸ”</span> <span class="title svelte-1frtlim">Filters</span> <!></div></button> <!></div>');function ts(h,s){Ye(s,!0);const f=Jt(),u=["Projecting","Onsighting","Campusing","Repeaters","Fun","Volume"];let g=G(!1),m=G(""),c=G(""),x=G(""),j=G(""),w=G(""),z=G(""),D=G(!1),S=G(!1),T=it(()=>e(x)&&e(x)!=="Other"?Qt(e(x)):[]);function q(){e(x)==="Other"?(n(D,!0),n(x,"")):n(D,!1),n(j,""),n(S,!1),R()}function C(){e(j)==="Other"?(n(S,!0),n(j,"")):n(S,!1),R()}function B(){n(g,!e(g))}function P(){n(m,""),n(c,""),n(x,""),n(j,""),n(w,""),n(z,""),n(D,!1),n(S,!1),R()}function R(){s.onFilterParamsChange({startDate:e(m),endDate:e(c),area:e(x),crag:e(j),sessionType:e(w),grade:e(z)})}var ie=es(),Z=a(ie);Z.__click=B;var A=a(Z),p=r(a(A),4);{var L=W=>{var i=Va();l(W,i)},V=W=>{var i=Ua();l(W,i)};y(p,W=>{e(g)?W(L):W(V,!1)})}t(A),t(Z);var U=r(Z,2);{var K=W=>{var i=$a(),k=a(i),F=a(k),_=r(a(F),2);Ue(_),_.__change=R,t(F);var o=r(F,2),b=r(a(o),2);Ue(b),b.__change=R,t(o);var H=r(o,2),_e=r(a(H),2);{var le=N=>{var Y=Wa(),Q=a(Y);Ue(Q),Q.__input=R;var I=r(Q,2);I.__click=()=>{n(D,!1),n(x,""),R()},t(Y),We(Q,()=>e(x),O=>n(x,O)),l(N,Y)},de=N=>{var Y=Za();Y.__change=q;var Q=a(Y);Q.value=Q.__value="";var I=r(Q);we(I,17,()=>f,Ie,(ee,ae)=>{var ve=Ha(),oe=a(ve,!0);t(ve);var ue={};E(()=>{d(oe,e(ae)),ue!==(ue=e(ae))&&(ve.value=(ve.__value=e(ae))??"")}),l(ee,ve)});var O=r(I);O.value=O.__value="Other",t(Y),_t(Y,()=>e(x),ee=>n(x,ee)),l(N,Y)};y(_e,N=>{e(D)?N(le):N(de,!1)})}t(H);var re=r(H,2),X=r(a(re),2);{var J=N=>{var Y=Ka(),Q=a(Y);Ue(Q),Q.__input=R;var I=r(Q,2);I.__click=()=>{n(S,!1),n(j,""),R()},t(Y),We(Q,()=>e(j),O=>n(j,O)),l(N,Y)},se=N=>{var Y=et(),Q=Fe(Y);{var I=ee=>{var ae=Ja();ae.__change=C;var ve=a(ae);ve.value=ve.__value="";var oe=r(ve);we(oe,17,()=>e(T),Ie,(ke,me)=>{var pe=Ya(),Ne=a(pe,!0);t(pe);var he={};E(()=>{d(Ne,e(me)),he!==(he=e(me))&&(pe.value=(pe.__value=e(me))??"")}),l(ke,pe)});var ue=r(oe);ue.value=ue.__value="Other",t(ae),_t(ae,()=>e(j),ke=>n(j,ke)),l(ee,ae)},O=ee=>{var ae=Qa();Ue(ae),ae.__input=R,E(()=>{De(ae,"placeholder",e(x)?"Filter crag...":"Select area first"),ae.disabled=!e(D)&&!e(x)}),We(ae,()=>e(j),ve=>n(j,ve)),l(ee,ae)};y(Q,ee=>{!e(D)&&e(x)&&e(T).length>0?ee(I):ee(O,!1)},!0)}l(N,Y)};y(X,N=>{e(S)?N(J):N(se,!1)})}t(re);var M=r(re,2),te=r(a(M),2);te.__change=R;var ne=a(te);ne.value=ne.__value="";var je=r(ne);we(je,17,()=>u,Ie,(N,Y)=>{var Q=Xa(),I=a(Q,!0);t(Q);var O={};E(()=>{d(I,e(Y)),O!==(O=e(Y))&&(Q.value=(Q.__value=e(Y))??"")}),l(N,Q)}),t(te),t(M);var Be=r(M,2),Se=r(a(Be),2);Ue(Se),Se.__input=R,t(Be),t(k);var Me=r(k,2),$=a(Me);$.__click=P,t(Me),t(i),We(_,()=>e(m),N=>n(m,N)),We(b,()=>e(c),N=>n(c,N)),_t(te,()=>e(w),N=>n(w,N)),We(Se,()=>e(z),N=>n(z,N)),Re(3,i,()=>Qe,()=>({duration:200})),l(W,i)};y(U,W=>{e(g)&&W(K)})}t(ie),E(()=>De(Z,"aria-expanded",e(g))),l(h,ie),Je()}He(["click","change","input"]);var as=v('<span class="climb-type-tag svelte-1k6anfh"> </span>'),ss=v('<span class="notes-preview svelte-1k6anfh"> </span>'),rs=v('<span class="attempts-count svelte-1k6anfh"> </span>'),is=v('<div class="detail-row svelte-1k6anfh"><span class="label svelte-1k6anfh">Notes:</span> <p class="notes svelte-1k6anfh"> </p></div>'),ls=v('<p class="empty-notes svelte-1k6anfh">No notes for this climb.</p>'),ns=v('<div class="climb-details svelte-1k6anfh"><!> <div class="tags svelte-1k6anfh"><span class="tag type svelte-1k6anfh"> </span> <span class="tag attempt-text svelte-1k6anfh"> </span></div></div>'),vs=v('<div><div class="climb-header svelte-1k6anfh" role="button" tabindex="0"><div class="climb-main-info svelte-1k6anfh"><span> </span> <span class="climb-name svelte-1k6anfh"> </span> <!> <!></div> <div class="climb-meta svelte-1k6anfh"><span><span class="icon svelte-1k6anfh"> </span> <!></span> <button class="delete-btn svelte-1k6anfh" aria-label="Delete climb" title="Delete climb">ğŸ—‘ï¸</button> <span class="chevron svelte-1k6anfh"> </span></div></div> <!></div>');function os(h,s){Ye(s,!0);let f=gt(s,"showClimbType",3,!1),u=G(!1);function g(){n(u,!e(u))}function m(o){o.stopPropagation(),s.onDelete()}const c={Flash:"âš¡",Onsight:"ğŸ‘ï¸",Redpoint:"ğŸ”´",Dogged:"ğŸ› ï¸",DNF:"âŒ"};var x=vs();let j;var w=a(x);w.__click=g,w.__keydown=o=>(o.key==="Enter"||o.key===" ")&&g();var z=a(w),D=a(z);let S;var T=a(D,!0);t(D);var q=r(D,2),C=a(q,!0);t(q);var B=r(q,2);{var P=o=>{var b=as(),H=a(b,!0);t(b),E(()=>d(H,s.climb.isSport?"Sport":"Boulder")),l(o,b)};y(B,o=>{f()&&o(P)})}var R=r(B,2);{var ie=o=>{var b=ss(),H=a(b);t(b),E(()=>d(H,`- ${s.climb.notes??""}`)),l(o,b)};y(R,o=>{!e(u)&&s.climb.notes&&o(ie)})}t(z);var Z=r(z,2),A=a(Z);let p;var L=a(A),V=a(L,!0);t(L);var U=r(L,2);{var K=o=>{var b=rs(),H=a(b,!0);t(b),E(()=>d(H,s.climb.attemptsNum)),l(o,b)};y(U,o=>{s.climb.attemptType!=="Flash"&&s.climb.attemptType!=="Onsight"&&o(K)})}t(A);var W=r(A,2);W.__click=m;var i=r(W,2),k=a(i,!0);t(i),t(Z),t(w);var F=r(w,2);{var _=o=>{var b=ns(),H=a(b);{var _e=M=>{var te=is(),ne=r(a(te),2),je=a(ne,!0);t(ne),t(te),E(()=>d(je,s.climb.notes)),l(M,te)},le=M=>{var te=ls();l(M,te)};y(H,M=>{s.climb.notes?M(_e):M(le,!1)})}var de=r(H,2),re=a(de),X=a(re,!0);t(re);var J=r(re,2),se=a(J,!0);t(J),t(de),t(b),E(()=>{d(X,s.climb.isSport?"Sport":"Boulder"),d(se,s.climb.attemptType)}),Re(3,b,()=>Qe,()=>({duration:150})),l(o,b)};y(F,o=>{e(u)&&o(_)})}t(x),E(()=>{j=Ae(x,1,"climb-entry svelte-1k6anfh",null,j,{expanded:e(u)}),De(w,"aria-expanded",e(u)),S=Ae(D,1,"grade-badge svelte-1k6anfh",null,S,{sport:s.climb.isSport}),d(T,s.climb.grade),d(C,s.climb.name||"Unnamed Route"),p=Ae(A,1,"attempt-type svelte-1k6anfh",null,p,{flash:s.climb.attemptType==="Flash"}),d(V,c[s.climb.attemptType]||s.climb.attemptType),d(k,e(u)?"â–²":"â–¼")}),l(h,x),Je()}He(["click","keydown"]);var ds=v('<div class="sector-meta svelte-d5hg2r"> </div>'),cs=v('<span class="stat svelte-d5hg2r"> </span>'),_s=v('<span class="status-icon pending svelte-d5hg2r" title="Waiting to sync">ğŸ”„</span>'),us=v('<span class="status-icon error svelte-d5hg2r" title="Sync error">âš ï¸</span>'),fs=v('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Difficulty</span> <span class="value svelte-d5hg2r"> </span></div>'),ps=v('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Category</span> <span class="value svelte-d5hg2r"> </span></div>'),gs=v('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Focus</span> <span class="value svelte-d5hg2r"> </span></div>'),ms=v('<p class="no-climbs svelte-d5hg2r">No climbs logged for this session.</p>'),hs=v('<div class="card-body svelte-d5hg2r"><div class="details-grid svelte-d5hg2r"><div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Training Type</span> <span class="value svelte-d5hg2r"> </span></div> <!> <!> <!></div> <div class="metrics-container svelte-d5hg2r"><div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Finger Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div> <div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Shoulder Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div> <div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Forearm Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div></div> <div class="climbs-list svelte-d5hg2r"><h4 class="svelte-d5hg2r">Climbs</h4> <div class="climbs-container svelte-d5hg2r"><!> <!></div></div></div>'),bs=v('<div><div class="card-header svelte-d5hg2r" role="button" tabindex="0"><div class="header-main svelte-d5hg2r"><div class="date-badge svelte-d5hg2r"><span class="day svelte-d5hg2r"> </span> <span class="month svelte-d5hg2r"> </span></div> <div class="session-info svelte-d5hg2r"><div class="session-text svelte-d5hg2r"><h3 class="location svelte-d5hg2r"> <!></h3> <!> <div class="session-meta svelte-d5hg2r"><span class="type-tag svelte-d5hg2r"> </span> <span class="stat svelte-d5hg2r"> </span> <!></div></div> <div class="load-summary svelte-d5hg2r"><div class="load-badge finger svelte-d5hg2r"> </div> <div class="load-badge shoulder svelte-d5hg2r"> </div> <div class="load-badge forearm svelte-d5hg2r"> </div></div></div></div> <div class="header-actions svelte-d5hg2r"><div class="header-status svelte-d5hg2r"><!></div> <button class="btn-icon delete-session svelte-d5hg2r" title="Delete Session">ğŸ—‘ï¸</button> <span class="chevron svelte-d5hg2r"> </span></div></div> <!></div> <!>',1);function ys(h,s){Ye(s,!0);let f=G(!1),u=G(!1);function g(){n(f,!e(f))}function m(){n(u,!0)}function c(){bt(s.session.id),n(u,!1),s.onDelete()}function x(I){const O=[...s.session.climbs];O.splice(I,1),zt(s.session.id,{climbs:O}),s.onDelete()}let j=it(()=>s.session.climbs.length),w=it(()=>s.session.climbs.reduce((I,O)=>{const ee=parseInt(O.grade.replace(/\D/g,""))||0,ae=parseInt(I.replace(/\D/g,""))||0;return ee>ae?O.grade:I},"V0/4a"));var z=bs(),D=Fe(z);let S;var T=a(D);T.__click=g,T.__keydown=I=>I.key==="Enter"&&g();var q=a(T),C=a(q),B=a(C),P=a(B,!0);t(B);var R=r(B,2),ie=a(R,!0);t(R),t(C);var Z=r(C,2),A=a(Z),p=a(A),L=a(p),V=r(L);{var U=I=>{var O=vt();E(()=>d(O,`- ${s.session.crag??""}`)),l(I,O)};y(V,I=>{s.session.crag&&I(U)})}t(p);var K=r(p,2);{var W=I=>{var O=ds(),ee=a(O);t(O),E(()=>d(ee,`ğŸ“ ${s.session.sector??""}`)),l(I,O)};y(K,I=>{s.session.sector&&I(W)})}var i=r(K,2),k=a(i),F=a(k,!0);t(k);var _=r(k,2),o=a(_);t(_);var b=r(_,2);{var H=I=>{var O=cs(),ee=a(O);t(O),E(()=>d(ee,`Max: ${e(w)??""}`)),l(I,O)};y(b,I=>{e(j)>0&&I(H)})}t(i),t(A);var _e=r(A,2),le=a(_e),de=a(le,!0);t(le);var re=r(le,2),X=a(re,!0);t(re);var J=r(re,2),se=a(J,!0);t(J),t(_e),t(Z),t(q);var M=r(q,2),te=a(M),ne=a(te);{var je=I=>{var O=_s();l(I,O)},Be=I=>{var O=et(),ee=Fe(O);{var ae=ve=>{var oe=us();l(ve,oe)};y(ee,ve=>{s.session.syncStatus==="error"&&ve(ae)},!0)}l(I,O)};y(ne,I=>{s.session.syncStatus==="pending"?I(je):I(Be,!1)})}t(te);var Se=r(te,2);Se.__click=I=>{I.stopPropagation(),m()};var Me=r(Se,2),$=a(Me,!0);t(Me),t(M),t(T);var N=r(T,2);{var Y=I=>{var O=hs(),ee=a(O),ae=a(ee),ve=r(a(ae),2),oe=a(ve,!0);t(ve),t(ae);var ue=r(ae,2);{var ke=ge=>{var xe=fs(),Ee=r(a(xe),2),$e=a(Ee,!0);t(Ee),t(xe),E(()=>d($e,s.session.difficulty)),l(ge,xe)};y(ue,ge=>{s.session.difficulty&&ge(ke)})}var me=r(ue,2);{var pe=ge=>{var xe=ps(),Ee=r(a(xe),2),$e=a(Ee,!0);t(Ee),t(xe),E(()=>d($e,s.session.category)),l(ge,xe)};y(me,ge=>{s.session.category&&ge(pe)})}var Ne=r(me,2);{var he=ge=>{var xe=gs(),Ee=r(a(xe),2),$e=a(Ee,!0);t(Ee),t(xe),E(()=>d($e,s.session.techniqueFocus)),l(ge,xe)};y(Ne,ge=>{s.session.techniqueFocus&&ge(he)})}t(ee);var be=r(ee,2),Ge=a(be),ye=r(a(Ge),2),Ze=a(ye);t(ye);var Pe=r(ye,2),Xe=a(Pe);t(Pe),t(Ge);var at=r(Ge,2),Ce=r(a(at),2),qe=a(Ce);t(Ce);var Ve=r(Ce,2),st=a(Ve);t(Ve),t(at);var ze=r(at,2),Le=r(a(ze),2),lt=a(Le);t(Le);var Te=r(Le,2),ct=a(Te);t(Te),t(ze),t(be);var nt=r(be,2),ce=r(a(nt),2),fe=a(ce);we(fe,17,()=>s.session.climbs,Ie,(ge,xe,Ee)=>{{let $e=it(()=>s.session.climbingType==="Mixed");os(ge,{get climb(){return e(xe)},onDelete:()=>x(Ee),get showClimbType(){return e($e)}})}});var Oe=r(fe,2);{var Ke=ge=>{var xe=ms();l(ge,xe)};y(Oe,ge=>{s.session.climbs.length===0&&ge(Ke)})}t(ce),t(nt),t(O),E(()=>{d(oe,s.session.trainingType),ut(Ze,`width: ${s.session.fingerLoad/5*100}%`),d(Xe,`${s.session.fingerLoad??""}/5`),ut(qe,`width: ${s.session.shoulderLoad/5*100}%`),d(st,`${s.session.shoulderLoad??""}/5`),ut(lt,`width: ${s.session.forearmLoad/5*100}%`),d(ct,`${s.session.forearmLoad??""}/5`)}),Re(3,O,()=>Qe,()=>({duration:200})),l(I,O)};y(N,I=>{e(f)&&I(Y)})}t(D);var Q=r(D,2);wt(Q,{get isOpen(){return e(u)},title:"Delete Session",message:"Are you sure you want to delete this session and all its climbs? This cannot be undone.",onConfirm:c,onCancel:()=>n(u,!1)}),E((I,O)=>{S=Ae(D,1,"session-card svelte-d5hg2r",null,S,{expanded:e(f)}),De(T,"aria-expanded",e(f)),d(P,I),d(ie,O),d(L,`${s.session.area??""} `),d(F,s.session.climbingType),d(o,`${e(j)??""} climbs`),De(le,"title",`Finger Load: ${s.session.fingerLoad??""}`),d(de,s.session.fingerLoad),De(re,"title",`Shoulder Load: ${s.session.shoulderLoad??""}`),d(X,s.session.shoulderLoad),De(J,"title",`Forearm Load: ${s.session.forearmLoad??""}`),d(se,s.session.forearmLoad),d($,e(f)?"â–²":"â–¼")},[()=>new Date(s.session.date).getDate(),()=>new Date(s.session.date).toLocaleDateString(void 0,{month:"short"})]),l(h,z),Je()}He(["click","keydown"]);var xs=v('<span class="spinner svelte-1s7jdlh"></span> Fetching...',1),ws=v('<div class="error-banner svelte-1s7jdlh"> </div>'),Ds=v('<small class="svelte-1s7jdlh">Try adjusting your filters.</small>'),Ss=v('<div class="empty-state svelte-1s7jdlh"><p class="svelte-1s7jdlh">No outdoor climbing sessions found.</p> <!></div>'),ks=v('<div class="view-container svelte-1s7jdlh"><div class="view-header svelte-1s7jdlh"><h2 class="view-title svelte-1s7jdlh">â›°ï¸ Outdoor Climbing History</h2> <button class="fetch-btn svelte-1s7jdlh" title="Fetch data from cloud"><!></button></div> <!> <!> <div class="info-bar svelte-1s7jdlh"><div class="legend-wrapper svelte-1s7jdlh"><!></div> <div class="load-key svelte-1s7jdlh"><span class="key-label svelte-1s7jdlh">Load:</span> <div class="key-item svelte-1s7jdlh"><span class="dot finger svelte-1s7jdlh"></span> Finger</div> <div class="key-item svelte-1s7jdlh"><span class="dot shoulder svelte-1s7jdlh"></span> Shoulder</div> <div class="key-item svelte-1s7jdlh"><span class="dot forearm svelte-1s7jdlh"></span> Forearm</div></div></div> <div class="sessions-list"><!> <!></div></div>');function qs(h,s){Ye(s,!0);let f=G(tt([])),u=G(tt([])),g=G(!1),m=G(""),c=G(tt({startDate:"",endDate:"",area:"",crag:"",sessionType:"",grade:""}));Lt(()=>{x()});function x(){const i=ht("outdoor_climb");n(f,i.sort((k,F)=>new Date(F.date).getTime()-new Date(k.date).getTime()),!0),D()}async function j(){n(g,!0),n(m,"");try{await yt();const i=await Xt();i.ok&&i.data?w(i.data):n(m,i.error||"Failed to fetch data",!0)}catch(i){n(m,i instanceof Error?i.message:"Unknown error",!0)}finally{n(g,!1)}}function w(i){const k=i.map(_=>({..._,activityType:"outdoor_climb",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),syncStatus:"synced",syncedAt:new Date().toISOString()}));xt(k);const F=ht("outdoor_climb");n(f,F.sort((_,o)=>new Date(o.date).getTime()-new Date(_.date).getTime()),!0),D()}function z(i){n(c,i,!0),D()}function D(){n(u,e(f).filter(i=>{if(e(c).startDate&&i.date<e(c).startDate||e(c).endDate&&i.date>e(c).endDate||e(c).area&&!i.area.toLowerCase().includes(e(c).area.toLowerCase())||e(c).crag&&!i.crag.toLowerCase().includes(e(c).crag.toLowerCase())||e(c).sessionType&&i.trainingType!==e(c).sessionType)return!1;if(e(c).grade){const k=e(c).grade.trim().toLowerCase();if(!i.climbs.some(_=>_.grade.trim().toLowerCase()===k))return!1}return!0}),!0)}var S=ks(),T=a(S),q=r(a(T),2);q.__click=j;var C=a(q);{var B=i=>{var k=xs();ft(),l(i,k)},P=i=>{var k=vt("â˜ï¸ Fetch Data");l(i,k)};y(C,i=>{e(g)?i(B):i(P,!1)})}t(q),t(T);var R=r(T,2);{var ie=i=>{var k=ws(),F=a(k,!0);t(k),E(()=>d(F,e(m))),Re(3,k,()=>Qe),l(i,k)};y(R,i=>{e(m)&&i(ie)})}var Z=r(R,2);ts(Z,{onFilterParamsChange:z});var A=r(Z,2),p=a(A),L=a(p);At(L),t(p),ft(2),t(A);var V=r(A,2),U=a(V);we(U,17,()=>e(u),i=>i.id,(i,k)=>{ys(i,{get session(){return e(k)},onDelete:x})});var K=r(U,2);{var W=i=>{var k=Ss(),F=r(a(k),2);{var _=o=>{var b=Ds();l(o,b)};y(F,o=>{e(f).length>0&&o(_)})}t(k),l(i,k)};y(K,i=>{e(u).length===0&&i(W)})}t(V),t(S),E(()=>q.disabled=e(g)),l(h,S),Je()}He(["click"]);var Ts=v('<div class="view-container svelte-133enjd"><h2 class="view-title svelte-133enjd">ğŸ‹ï¸ Gym Session History</h2> <p class="placeholder-text svelte-133enjd">Your gym sessions will appear here</p></div>');function Fs(h){var s=Ts();l(h,s)}var Cs=v('<span class="spinner svelte-1szs0u9"></span> Fetching...',1),zs=v('<div class="loading svelte-1szs0u9">Loading sessions...</div>'),Ls=v('<div class="empty-state svelte-1szs0u9"><!></div>'),Os=v('<span class="set-tag svelte-1szs0u9"> <span class="x svelte-1szs0u9">x</span> </span>'),Es=v('<div class="ex-notes svelte-1szs0u9"> </div>'),As=v('<div class="exercise-item svelte-1szs0u9"><div class="ex-header svelte-1szs0u9"><span class="ex-name svelte-1szs0u9"> </span> <span class="ex-grip svelte-1szs0u9"> </span></div> <div class="ex-sets svelte-1szs0u9"></div> <!></div>'),Is=v('<div class="card-body svelte-1szs0u9"><div class="exercises-list svelte-1szs0u9"></div></div>'),js=v('<div><div class="card-header" role="button" tabindex="0"><div class="header-main"><span class="session-date svelte-1szs0u9"> </span> <span class="meta svelte-1szs0u9"><!> </span></div> <div class="header-status svelte-1szs0u9"><span>â—</span> <button class="btn-icon delete-btn svelte-1szs0u9" title="Delete Session">ğŸ—‘ï¸</button> <span class="chevron svelte-1szs0u9"> </span></div></div> <!></div>'),Ns=v('<div class="timeline svelte-1szs0u9"></div>'),Rs=v('<div class="view-content svelte-1szs0u9"><div class="header svelte-1szs0u9"><h3 class="svelte-1szs0u9">ğŸ¤ Fingerboarding Log</h3> <button class="fetch-btn svelte-1szs0u9" title="Fetch data from cloud"><!></button></div> <div class="filters svelte-1szs0u9"><div class="filter-group svelte-1szs0u9"><label for="start-date" class="svelte-1szs0u9">From</label> <input type="date" id="start-date" class="svelte-1szs0u9"/></div> <div class="filter-group svelte-1szs0u9"><label for="end-date" class="svelte-1szs0u9">To</label> <input type="date" id="end-date" class="svelte-1szs0u9"/></div></div> <!></div> <!>',1);function Bs(h,s){Ye(s,!0);let f=G(tt([])),u=G(!0),g=G(""),m=G(""),c=G(tt(new Set)),x=G(!1),j=G(null);function w(_){n(j,_,!0),n(x,!0)}function z(){e(j)&&(bt(e(j)),n(j,null),n(x,!1),n(f,St().sort((_,o)=>new Date(o.date).getTime()-new Date(_.date).getTime()),!0))}async function D(){n(u,!0),n(f,St().sort((_,o)=>new Date(o.date).getTime()-new Date(_.date).getTime()),!0);try{await yt();const _=await $t();if(_.ok&&_.data){const o=_.data.map(b=>({...b,activityType:"fingerboarding",createdAt:b.createdAt||new Date().toISOString(),updatedAt:b.updatedAt||new Date().toISOString(),syncStatus:"synced"}));xt(o),n(f,St().sort((b,H)=>new Date(H.date).getTime()-new Date(b.date).getTime()),!0)}}catch(_){console.error("Failed to sync",_)}finally{n(u,!1)}}D();let S=it(()=>e(f).filter(_=>!(e(g)&&new Date(_.date)<new Date(e(g))||e(m)&&new Date(_.date)>new Date(e(m)))));function T(_){e(c).has(_)?e(c).delete(_):e(c).add(_),n(c,new Set(e(c)),!0)}function q(_){return _.exercises.reduce((o,b)=>o+b.details.length,0)}var C=Rs(),B=Fe(C),P=a(B),R=r(a(P),2);R.__click=D;var ie=a(R);{var Z=_=>{var o=Cs();ft(),l(_,o)},A=_=>{var o=vt("â˜ï¸ Fetch Data");l(_,o)};y(ie,_=>{e(u)?_(Z):_(A,!1)})}t(R),t(P);var p=r(P,2),L=a(p),V=r(a(L),2);Ue(V),t(L);var U=r(L,2),K=r(a(U),2);Ue(K),t(U),t(p);var W=r(p,2);{var i=_=>{var o=zs();l(_,o)},k=_=>{var o=et(),b=Fe(o);{var H=le=>{var de=Ls(),re=a(de);{var X=se=>{var M=vt("No sessions match filter.");l(se,M)},J=se=>{var M=vt("No fingerboarding sessions logged yet.");l(se,M)};y(re,se=>{e(f).length>0?se(X):se(J,!1)})}t(de),l(le,de)},_e=le=>{var de=Ns();we(de,21,()=>e(S),Ie,(re,X)=>{var J=js();let se;var M=a(J);M.__click=()=>T(e(X).id),M.__keydown=oe=>oe.key==="Enter"&&T(e(X).id);var te=a(M),ne=a(te),je=a(ne,!0);t(ne);var Be=r(ne,2),Se=a(Be);{var Me=oe=>{var ue=vt();E(()=>d(ue,`${e(X).location??""} Â·`)),l(oe,ue)};y(Se,oe=>{e(X).location&&e(X).location!=="N/A"&&e(X).location!=="Home"&&oe(Me)})}var $=r(Se);t(Be),t(te);var N=r(te,2),Y=a(N);let Q;var I=r(Y,2);I.__click=oe=>{oe.stopPropagation(),w(e(X).id)};var O=r(I,2),ee=a(O,!0);t(O),t(N),t(M);var ae=r(M,2);{var ve=oe=>{var ue=Is(),ke=a(ue);we(ke,21,()=>e(X).exercises,Ie,(me,pe)=>{var Ne=As(),he=a(Ne),be=a(he),Ge=a(be,!0);t(be);var ye=r(be,2),Ze=a(ye,!0);t(ye),t(he);var Pe=r(he,2);we(Pe,21,()=>e(pe).details,Ie,(Ce,qe)=>{var Ve=Os(),st=a(Ve),ze=r(st,2);t(Ve),E(()=>{d(st,`${e(qe).weight>0?`+${e(qe).weight}kg`:"BW"} `),d(ze,` ${e(qe).reps??""}s/reps`)}),l(Ce,Ve)}),t(Pe);var Xe=r(Pe,2);{var at=Ce=>{var qe=Es(),Ve=a(qe);t(qe),E(()=>d(Ve,`"${e(pe).notes??""}"`)),l(Ce,qe)};y(Xe,Ce=>{e(pe).notes&&Ce(at)})}t(Ne),E(()=>{d(Ge,e(pe).name),d(Ze,e(pe).gripType)}),l(me,Ne)}),t(ke),t(ue),Re(3,ue,()=>Qe,()=>({duration:200})),l(oe,ue)};y(ae,oe=>{e(c).has(e(X).id)&&oe(ve)})}t(J),E((oe,ue,ke,me)=>{se=Ae(J,1,"session-card",null,se,oe),d(je,ue),d($,` ${e(X).exercises.length??""} Exercises Â· ${ke??""} Sets`),Q=Ae(Y,1,"sync-dot svelte-1szs0u9",null,Q,{synced:e(X).syncStatus==="synced"}),De(Y,"title",e(X).syncStatus==="synced"?"Synced":"Local"),d(ee,me)},[()=>({expanded:e(c).has(e(X).id)}),()=>new Date(e(X).date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"}),()=>q(e(X)),()=>e(c).has(e(X).id)?"â–²":"â–¼"]),l(re,J)}),t(de),l(le,de)};y(b,le=>{e(S).length===0?le(H):le(_e,!1)},!0)}l(_,o)};y(W,_=>{e(u)&&e(f).length===0?_(i):_(k,!1)})}t(B);var F=r(B,2);wt(F,{get isOpen(){return e(x)},title:"Delete Fingerboard Session",message:"Are you sure you want to delete this session? This cannot be undone.",onConfirm:z,onCancel:()=>n(x,!1)}),E(()=>R.disabled=e(u)),We(V,()=>e(g),_=>n(g,_)),We(K,()=>e(m),_=>n(m,_)),l(h,C),Je()}He(["click","keydown"]);var Ms=v('<span class="spinner svelte-xyvf5r"></span> Fetching...',1),Gs=v('<div class="loading svelte-xyvf5r">Loading sessions...</div>'),Ps=v('<div class="empty-state svelte-xyvf5r">No competitions logged yet.</div>'),Vs=v('<span class="round-pos svelte-xyvf5r"> </span>'),Us=v('<span class="c-attempts svelte-xyvf5r"> </span>'),Ws=v('<div class="climb-notes svelte-xyvf5r"> </div>'),Hs=v('<div class="climb-row svelte-xyvf5r"><div class="climb-info svelte-xyvf5r"><span class="c-name svelte-xyvf5r"> </span> <!></div> <div class="climb-result"><span> </span></div></div> <!>',1),Zs=v('<div class="climbs-list"></div>'),Ks=v('<div class="round-item svelte-xyvf5r"><div class="round-header svelte-xyvf5r"><span class="round-name"> </span> <!></div> <!></div>'),Ys=v('<div class="rounds-list svelte-xyvf5r"></div>'),Js=v('<div class="load-meta svelte-xyvf5r"><span> </span></div>'),Qs=v('<div class="card-body svelte-xyvf5r"><!> <!> <div class="session-footer svelte-xyvf5r"><span> </span></div></div>'),Xs=v('<div><div class="card-header svelte-xyvf5r" role="button" tabindex="0"><div class="header-main svelte-xyvf5r"><div class="left-col svelte-xyvf5r"><span class="venue svelte-xyvf5r"> </span> <span class="date svelte-xyvf5r"> </span></div> <div class="right-col svelte-xyvf5r"><div class="badges svelte-xyvf5r"><span class="type-tag svelte-xyvf5r"> </span> <span class="result-tag svelte-xyvf5r"> </span></div></div></div> <div class="header-status svelte-xyvf5r"><span>â—</span> <button class="btn-icon delete-btn svelte-xyvf5r" title="Delete Session">ğŸ—‘ï¸</button> <span class="chevron svelte-xyvf5r"> </span></div></div> <!></div>'),$s=v('<div class="timeline svelte-xyvf5r"></div>'),er=v('<div class="view-content svelte-xyvf5r"><div class="header svelte-xyvf5r"><h3 class="svelte-xyvf5r">ğŸ† Competition Log</h3> <button class="fetch-btn svelte-xyvf5r" title="Fetch data from cloud"><!></button></div> <!> <!></div>');function tr(h,s){Ye(s,!0);let f=G(tt([])),u=G(!0),g=G(tt(new Set)),m=G(!1),c=G(null);function x(p){n(c,p,!0),n(m,!0)}function j(){e(c)&&(bt(e(c)),n(c,null),n(m,!1),n(f,kt().sort((p,L)=>new Date(L.date).getTime()-new Date(p.date).getTime()),!0))}async function w(){n(u,!0),n(f,kt().sort((p,L)=>new Date(L.date).getTime()-new Date(p.date).getTime()),!0);try{await yt();const p=await ea();if(p.ok&&p.data){const L=p.data.map(V=>({...V,activityType:"competition",type:V.type,rounds:V.rounds.map(U=>({...U,climbs:U.climbs?.map(K=>({...K,status:K.status}))})),createdAt:V.createdAt||new Date().toISOString(),updatedAt:V.updatedAt||new Date().toISOString(),syncStatus:"synced"}));xt(L),n(f,kt().sort((V,U)=>new Date(U.date).getTime()-new Date(V.date).getTime()),!0)}}catch(p){console.error("Failed to sync",p)}finally{n(u,!1)}}w();function z(p){e(g).has(p)?e(g).delete(p):e(g).add(p),n(g,new Set(e(g)),!0)}function D(p){if(!p.rounds||p.rounds.length===0)return"No rounds";const L=p.rounds[p.rounds.length-1];if(L.position)return`#${L.position} ${L.name}`;if(L.climbs){const V=L.climbs.filter(K=>K.status==="Top"||K.status==="Flash").length,U=L.climbs.filter(K=>K.status==="Zone").length;return`${p.rounds.length} Rnds Â· Final: ${V}T ${U+V}Z`}return L.name}var S=er(),T=a(S),q=r(a(T),2);q.__click=w;var C=a(q);{var B=p=>{var L=Ms();ft(),l(p,L)},P=p=>{var L=vt("â˜ï¸ Fetch Data");l(p,L)};y(C,p=>{e(u)?p(B):p(P,!1)})}t(q),t(T);var R=r(T,2);{var ie=p=>{var L=Gs();l(p,L)},Z=p=>{var L=et(),V=Fe(L);{var U=W=>{var i=Ps();l(W,i)},K=W=>{var i=$s();we(i,21,()=>e(f),Ie,(k,F)=>{var _=Xs();let o;var b=a(_);b.__click=()=>z(e(F).id),b.__keydown=O=>O.key==="Enter"&&z(e(F).id);var H=a(b),_e=a(H),le=a(_e),de=a(le,!0);t(le);var re=r(le,2),X=a(re,!0);t(re),t(_e);var J=r(_e,2),se=a(J),M=a(se),te=a(M,!0);t(M);var ne=r(M,2),je=a(ne,!0);t(ne),t(se),t(J),t(H);var Be=r(H,2),Se=a(Be);let Me;var $=r(Se,2);$.__click=O=>{O.stopPropagation(),x(e(F).id)};var N=r($,2),Y=a(N,!0);t(N),t(Be),t(b);var Q=r(b,2);{var I=O=>{var ee=Qs(),ae=a(ee);{var ve=he=>{var be=Ys();we(be,21,()=>e(F).rounds,Ie,(Ge,ye)=>{var Ze=Ks(),Pe=a(Ze),Xe=a(Pe),at=a(Xe,!0);t(Xe);var Ce=r(Xe,2);{var qe=ze=>{var Le=Vs(),lt=a(Le);t(Le),E(()=>d(lt,`#${e(ye).position??""}`)),l(ze,Le)};y(Ce,ze=>{e(ye).position&&ze(qe)})}t(Pe);var Ve=r(Pe,2);{var st=ze=>{var Le=Zs();we(Le,21,()=>e(ye).climbs,Ie,(lt,Te)=>{var ct=Hs(),nt=Fe(ct),ce=a(nt),fe=a(ce),Oe=a(fe,!0);t(fe);var Ke=r(fe,2);{var ge=ot=>{var dt=Us(),Dt=a(dt);t(dt),E(()=>d(Dt,`(${e(Te).attemptCount??""} tries)`)),l(ot,dt)};y(Ke,ot=>{e(Te).attemptCount>1&&ot(ge)})}t(ce);var xe=r(ce,2),Ee=a(xe);let $e;var It=a(Ee,!0);t(Ee),t(xe),t(nt);var jt=r(nt,2);{var Nt=ot=>{var dt=Ws(),Dt=a(dt);t(dt),E(()=>d(Dt,`"${e(Te).notes??""}"`)),l(ot,dt)};y(jt,ot=>{e(Te).notes&&ot(Nt)})}E(()=>{d(Oe,e(Te).name),$e=Ae(Ee,1,"status-badge svelte-xyvf5r",null,$e,{top:e(Te).status==="Top"||e(Te).status==="Flash",zone:e(Te).status==="Zone"}),d(It,e(Te).status)}),l(lt,ct)}),t(Le),l(ze,Le)};y(Ve,ze=>{e(ye).climbs&&ze(st)})}t(Ze),E(()=>d(at,e(ye).name)),l(Ge,Ze)}),t(be),l(he,be)};y(ae,he=>{e(F).rounds&&he(ve)})}var oe=r(ae,2);{var ue=he=>{var be=Js(),Ge=a(be),ye=a(Ge);t(Ge),t(be),E(()=>d(ye,`Detailed Load: Fingers ${e(F).fingerLoad??""}/5, Shoulders ${e(F).shoulderLoad??""}/5, Forearms ${e(F).forearmLoad??""}/5`)),l(he,be)};y(oe,he=>{(e(F).fingerLoad||e(F).shoulderLoad)&&he(ue)})}var ke=r(oe,2),me=a(ke);let pe;var Ne=a(me,!0);t(me),t(ke),t(ee),E(()=>{pe=Ae(me,1,"sync-status svelte-xyvf5r",null,pe,{synced:e(F).syncStatus==="synced"}),d(Ne,e(F).syncStatus==="synced"?"âœ“ Synced":"â˜ Local")}),Re(3,ee,()=>Qe,()=>({duration:200})),l(O,ee)};y(Q,O=>{e(g).has(e(F).id)&&O(I)})}t(_),E((O,ee,ae,ve)=>{o=Ae(_,1,"session-card svelte-xyvf5r",null,o,O),d(de,e(F).customVenue||e(F).venue),d(X,ee),d(te,e(F).type),d(je,ae),Me=Ae(Se,1,"sync-dot",null,Me,{synced:e(F).syncStatus==="synced"}),De(Se,"title",e(F).syncStatus==="synced"?"Synced":"Local"),d(Y,ve)},[()=>({expanded:e(g).has(e(F).id)}),()=>new Date(e(F).date).toLocaleDateString(void 0,{weekday:"short",day:"numeric",month:"short"}),()=>D(e(F)),()=>e(g).has(e(F).id)?"â–²":"â–¼"]),l(k,_)}),t(i),l(W,i)};y(V,W=>{e(f).length===0?W(U):W(K,!1)},!0)}l(p,L)};y(R,p=>{e(u)&&e(f).length===0?p(ie):p(Z,!1)})}var A=r(R,2);wt(A,{get isOpen(){return e(m)},title:"Delete Competition",message:"Are you sure you want to delete this competition session? This action cannot be undone.",onConfirm:j,onCancel:()=>n(m,!1)}),t(S),E(()=>q.disabled=e(u)),l(h,S),Je()}He(["click","keydown"]);var ar=v("<option> </option>"),sr=v('<div class="view-container svelte-108px9u"><!></div>'),rr=v('<div class="page svelte-108px9u"><div class="page-header svelte-108px9u"><h1 class="svelte-108px9u">ğŸ“Š View Data</h1> <p class="subtitle svelte-108px9u">Browse your training history</p></div> <div class="content-card svelte-108px9u"><div class="form-group svelte-108px9u"><label for="activity-type" class="svelte-108px9u">Activity Type</label> <select id="activity-type" class="svelte-108px9u"><option disabled>Select an activity...</option><!></select></div> <!></div></div>');function fr(h){const s=[{value:"indoor_climb",label:"Indoor Climb",icon:"ğŸ§—"},{value:"outdoor_climb",label:"Outdoor Climb",icon:"â›°ï¸"},{value:"gym_session",label:"Gym Session",icon:"ğŸ‹ï¸"},{value:"fingerboarding",label:"Fingerboarding",icon:"ğŸ¤"},{value:"competition",label:"Competition",icon:"ğŸ†"}];let f=G("");var u=rr(),g=r(a(u),2),m=a(g),c=r(a(m),2),x=a(c);x.value=x.__value="";var j=r(x);we(j,17,()=>s,D=>D.value,(D,S)=>{var T=ar(),q=a(T);t(T);var C={};E(()=>{d(q,`${e(S).icon??""} ${e(S).label??""}`),C!==(C=e(S).value)&&(T.value=(T.__value=e(S).value)??"")}),l(D,T)}),t(c),t(m);var w=r(m,2);{var z=D=>{var S=sr(),T=a(S);{var q=B=>{Pa(B,{})},C=B=>{var P=et(),R=Fe(P);{var ie=A=>{qs(A,{})},Z=A=>{var p=et(),L=Fe(p);{var V=K=>{Fs(K)},U=K=>{var W=et(),i=Fe(W);{var k=_=>{Bs(_,{})},F=_=>{var o=et(),b=Fe(o);{var H=_e=>{tr(_e,{})};y(b,_e=>{e(f)==="competition"&&_e(H)},!0)}l(_,o)};y(i,_=>{e(f)==="fingerboarding"?_(k):_(F,!1)},!0)}l(K,W)};y(L,K=>{e(f)==="gym_session"?K(V):K(U,!1)},!0)}l(A,p)};y(R,A=>{e(f)==="outdoor_climb"?A(ie):A(Z,!1)},!0)}l(B,P)};y(T,B=>{e(f)==="indoor_climb"?B(q):B(C,!1)})}t(S),l(D,S)};y(w,D=>{e(f)&&D(z)})}t(g),t(u),_t(c,()=>e(f),D=>n(f,D)),l(h,u)}export{fr as component};
