import{f as n,a as i,c as Xe,t as Mt}from"../chunks/DyQPh7qp.js";import{p as St,c as a,s,k as e,aL as h,r as t,t as u,a as Tt,z as v,b1 as Qt,f as Pe,ar as Pt,aM as gt,y as ct,o as aa,b9 as ra,e as oa}from"../chunks/BqGvmHQq.js";import{d as bt,s as d}from"../chunks/sY9Eg0a2.js";import{i as c}from"../chunks/NlvVmrxM.js";import{h as at,r as Ve,i as Fe,j as je,p as da}from"../chunks/CSJSiKp5.js";import{b as Ie,a as Gt,c as va,m as ca,f as dt,u as ia,n as _a,o as pa,p as la,q as ua,r as fa,g as ga,t as ma,v as ha,w as ba,x as ya,y as xa}from"../chunks/BzN8A7PX.js";import{t as nt,c as ot,D as $t,g as wa,a as ka,E as Sa}from"../chunks/DVLngM-K.js";import{s as _t}from"../chunks/B0iMaRsR.js";import{p as ea}from"../chunks/L2ghMvhc.js";var Ta=n('<span class="chevron svelte-12crvy">‚ñ≤</span>'),Da=n('<span class="chevron svelte-12crvy">‚ñº</span>'),qa=n('<div class="input-with-action svelte-12crvy"><input type="text" id="location-manual" placeholder="Custom location..." class="flat-left svelte-12crvy"/> <button type="button" class="action-btn flat-right svelte-12crvy" title="Back to list">‚úï</button></div>'),za=n("<option> </option>"),La=n('<select id="location-filter" class="svelte-12crvy"><option>Any Location</option><!></select>'),Fa=n("<option> </option>"),Ca=n("<option> </option>"),Ea=n('<div class="filter-body svelte-12crvy"><div class="filter-grid svelte-12crvy"><div class="filter-item svelte-12crvy"><label for="start-date" class="svelte-12crvy">Start Date</label> <input type="date" id="start-date" class="svelte-12crvy"/></div> <div class="filter-item svelte-12crvy"><label for="end-date" class="svelte-12crvy">End Date</label> <input type="date" id="end-date" class="svelte-12crvy"/></div> <div class="filter-item svelte-12crvy"><label for="location-filter" class="svelte-12crvy">Location</label> <!></div> <div class="filter-item svelte-12crvy"><label for="climbing-type-filter" class="svelte-12crvy">Climb Type</label> <select id="climbing-type-filter" class="svelte-12crvy"><option>Any Type</option><!></select></div> <div class="filter-item svelte-12crvy"><label for="session-type-filter" class="svelte-12crvy">Session Type</label> <select id="session-type-filter" class="svelte-12crvy"><option>Any Type</option><!></select></div> <div class="filter-item svelte-12crvy"><label for="grade-filter" class="svelte-12crvy">Grade (Exact)</label> <input type="text" id="grade-filter" placeholder="e.g. V4" class="svelte-12crvy"/></div></div> <div class="filter-actions svelte-12crvy"><button class="reset-btn svelte-12crvy">Reset Filters</button></div></div>'),Ga=n('<div class="filter-container svelte-12crvy"><button class="filter-header svelte-12crvy"><div class="header-content svelte-12crvy"><span class="icon svelte-12crvy">üîç</span> <span class="title svelte-12crvy">Filters</span> <!></div></button> <!></div>');function Na(ze,_){St(_,!0);const r=["Rockstar Swindon","Flashpoint Swindon","Flashpoint Bristol","Redpoint Bristol","TCH Bristol","Other"],m=["Bouldering","Sport","Mixed"],q=["Projecting","Onsighting","Campusing","Repeaters"];let w=h(!1),f=h(""),T=h(""),y=h(""),M=h(""),re=h(""),Y=h(""),ue=h(!1);function B(){v(w,!e(w))}function W(){v(f,""),v(T,""),v(y,""),v(M,""),v(ue,!1),v(re,""),v(Y,""),z()}function z(){_.onFilterParamsChange({startDate:e(f),endDate:e(T),location:e(y),climbingType:e(M),sessionType:e(re),grade:e(Y)})}function ne(){e(y)==="Other"?(v(ue,!0),v(y,"")):z()}function ie(){v(ue,!1),v(y,""),z()}var me=Ga(),$=a(me);$.__click=B;var oe=a($),ee=s(a(oe),4);{var ke=L=>{var le=Ta();i(L,le)},Se=L=>{var le=Da();i(L,le)};c(ee,L=>{e(w)?L(ke):L(Se,!1)})}t(oe),t($);var N=s($,2);{var te=L=>{var le=Ea(),ae=a(le),se=a(ae),k=s(a(se),2);Ve(k),k.__change=z,t(se);var D=s(se,2),H=s(a(D),2);Ve(H),H.__change=z,t(D);var l=s(D,2),o=s(a(l),2);{var g=G=>{var j=qa(),E=a(j);Ve(E),E.__input=z;var ge=s(E,2);ge.__click=ie,t(j),Ie(E,()=>e(y),Te=>v(y,Te)),i(G,j)},J=G=>{var j=La();j.__change=ne;var E=a(j);E.value=E.__value="";var ge=s(E);Fe(ge,17,()=>r,je,(Te,de)=>{var ve=za(),V=a(ve,!0);t(ve);var he={};u(()=>{d(V,e(de)),he!==(he=e(de))&&(ve.value=(ve.__value=e(de))??"")}),i(Te,ve)}),t(j),Gt(j,()=>e(y),Te=>v(y,Te)),i(G,j)};c(o,G=>{e(ue)?G(g):G(J,!1)})}t(l);var ce=s(l,2),be=s(a(ce),2);be.__change=z;var De=a(be);De.value=De.__value="";var I=s(De);Fe(I,17,()=>m,je,(G,j)=>{var E=Fa(),ge=a(E,!0);t(E);var Te={};u(()=>{d(ge,e(j)),Te!==(Te=e(j))&&(E.value=(E.__value=e(j))??"")}),i(G,E)}),t(be),t(ce);var xe=s(ce,2),fe=s(a(xe),2);fe.__change=z;var qe=a(fe);qe.value=qe.__value="";var S=s(qe);Fe(S,17,()=>q,je,(G,j)=>{var E=Ca(),ge=a(E,!0);t(E);var Te={};u(()=>{d(ge,e(j)),Te!==(Te=e(j))&&(E.value=(E.__value=e(j))??"")}),i(G,E)}),t(fe),t(xe);var X=s(xe,2),Ee=s(a(X),2);Ve(Ee),Ee.__input=z,t(X),t(ae);var Ae=s(ae,2),R=a(Ae);R.__click=W,t(Ae),t(le),Ie(k,()=>e(f),G=>v(f,G)),Ie(H,()=>e(T),G=>v(T,G)),Gt(be,()=>e(M),G=>v(M,G)),Gt(fe,()=>e(re),G=>v(re,G)),Ie(Ee,()=>e(Y),G=>v(Y,G)),nt(3,le,()=>ot,()=>({duration:200})),i(L,le)};c(N,L=>{e(w)&&L(te)})}t(me),u(()=>at($,"aria-expanded",e(w))),i(ze,me),Tt()}bt(["click","change","input"]);var ja=n('<label class="type-toggle svelte-yz0xxt"><input type="checkbox"/> <span>Sport?</span></label>'),Oa=n("<option> </option>"),Aa=n('<div class="edit-form svelte-yz0xxt"><div class="edit-row main svelte-yz0xxt"><input type="text" class="edit-input grade svelte-yz0xxt" placeholder="Grade"/> <input type="text" class="edit-input name svelte-yz0xxt" placeholder="Route Name"/> <!></div> <div class="edit-row meta svelte-yz0xxt"><select class="edit-select svelte-yz0xxt"></select> <div class="attempts-input-wrapper svelte-yz0xxt"><span>#</span> <input type="number" min="1" class="edit-input num svelte-yz0xxt"/></div></div> <div class="edit-row notes svelte-yz0xxt"><textarea class="edit-input notes-area svelte-yz0xxt" placeholder="Notes..."></textarea></div> <div class="edit-actions svelte-yz0xxt"><button class="action-btn cancel svelte-yz0xxt">Cancel</button> <button class="action-btn save svelte-yz0xxt">Save</button></div></div>'),Ma=n('<span class="climb-type-tag svelte-yz0xxt"> </span>'),Pa=n('<span class="notes-preview svelte-yz0xxt"> </span>'),Ia=n('<span class="wall-tag svelte-yz0xxt"> </span>'),Ba=n('<span class="technique-tag svelte-yz0xxt"> </span>'),Ra=n('<span class="attempts-count svelte-yz0xxt"> </span>'),Va=n('<div class="detail-row svelte-yz0xxt"><span class="label svelte-yz0xxt">Notes:</span> <p class="notes svelte-yz0xxt"> </p></div>'),Ua=n('<p class="empty-notes svelte-yz0xxt">No notes for this climb.</p>'),Wa=n('<div class="climb-details svelte-yz0xxt"><!> <div class="tags svelte-yz0xxt"><span class="tag type svelte-yz0xxt"> </span> <span class="tag attempt-text svelte-yz0xxt"> </span></div></div>'),Ha=n('<div class="climb-header svelte-yz0xxt" role="button" tabindex="0"><div class="climb-main-info svelte-yz0xxt"><span> </span> <span class="climb-name svelte-yz0xxt"> </span> <!> <!> <!> <!></div> <div class="climb-meta svelte-yz0xxt"><span><span class="icon svelte-yz0xxt"> </span> <!></span> <button class="icon-btn edit-btn svelte-yz0xxt" aria-label="Edit climb" title="Edit climb">‚úé</button> <button class="icon-btn delete-btn svelte-yz0xxt" aria-label="Delete climb" title="Delete climb">üóëÔ∏è</button> <span class="chevron svelte-yz0xxt"> </span></div></div> <!>',1),Ya=n("<div><!></div>");function Ja(ze,_){St(_,!0);let r=ea(_,"showClimbType",3,!1),m=h(!1),q=h(!1),w=h(""),f=h(""),T=h(""),y=h(1),M=h(""),re=h(!1);function Y(){e(q)||v(m,!e(m))}function ue(N){N.stopPropagation(),_.onDelete()}function B(N){N.stopPropagation(),v(w,_.climb.name,!0),v(f,_.climb.grade,!0),v(T,_.climb.attemptType,!0),v(y,_.climb.attemptsNum,!0),v(M,_.climb.notes,!0),v(re,_.climb.isSport,!0),v(q,!0),v(m,!0)}function W(N){N.stopPropagation(),v(q,!1)}function z(N){N.stopPropagation();const te={..._.climb,name:e(w),grade:e(f),attemptType:e(T),attemptsNum:e(y),notes:e(M),isSport:e(re)};_.onUpdate(te),v(q,!1)}function ne(){(e(T)==="Flash"||e(T)==="Onsight")&&v(y,1)}const ie={Flash:"‚ö°",Onsight:"üëÅÔ∏è",Redpoint:"üî¥",Dogged:"üõ†Ô∏è",DNF:"‚ùå"},me=["Flash","Onsight","Redpoint","Dogged","DNF"];var $=Ya();let oe;var ee=a($);{var ke=N=>{var te=Aa(),L=a(te),le=a(L);Ve(le);var ae=s(le,2);Ve(ae);var se=s(ae,2);{var k=I=>{var xe=ja(),fe=a(xe);Ve(fe),Pt(2),t(xe),va(fe,()=>e(re),qe=>v(re,qe)),i(I,xe)};c(se,I=>{r()&&I(k)})}t(L);var D=s(L,2),H=a(D);H.__change=ne,Fe(H,21,()=>me,je,(I,xe)=>{var fe=Oa(),qe=a(fe,!0);t(fe);var S={};u(()=>{d(qe,e(xe)),S!==(S=e(xe))&&(fe.value=(fe.__value=e(xe))??"")}),i(I,fe)}),t(H);var l=s(H,2),o=s(a(l),2);Ve(o),t(l),t(D);var g=s(D,2),J=a(g);Qt(J),t(g);var ce=s(g,2),be=a(ce);be.__click=W;var De=s(be,2);De.__click=z,t(ce),t(te),u(()=>o.disabled=e(T)==="Flash"||e(T)==="Onsight"),Ie(le,()=>e(f),I=>v(f,I)),Ie(ae,()=>e(w),I=>v(w,I)),Gt(H,()=>e(T),I=>v(T,I)),Ie(o,()=>e(y),I=>v(y,I)),Ie(J,()=>e(M),I=>v(M,I)),i(N,te)},Se=N=>{var te=Ha(),L=Pe(te);L.__click=Y,L.__keydown=de=>(de.key==="Enter"||de.key===" ")&&Y();var le=a(L),ae=a(le);let se;var k=a(ae,!0);t(ae);var D=s(ae,2),H=a(D,!0);t(D);var l=s(D,2);{var o=de=>{var ve=Ma(),V=a(ve,!0);t(ve),u(()=>d(V,_.climb.isSport?"Sport":"Boulder")),i(de,ve)};c(l,de=>{r()&&de(o)})}var g=s(l,2);{var J=de=>{var ve=Pa(),V=a(ve);t(ve),u(()=>d(V,`- ${_.climb.notes??""}`)),i(de,ve)};c(g,de=>{!e(m)&&_.climb.notes&&de(J)})}var ce=s(g,2);{var be=de=>{var ve=Ia(),V=a(ve,!0);t(ve),u(()=>d(V,_.climb.wall)),i(de,ve)};c(ce,de=>{_.climb.wall&&de(be)})}var De=s(ce,2);{var I=de=>{var ve=Ba(),V=a(ve,!0);t(ve),u(()=>d(V,_.climb.techniqueFocus)),i(de,ve)};c(De,de=>{_.climb.techniqueFocus&&de(I)})}t(le);var xe=s(le,2),fe=a(xe);let qe;var S=a(fe),X=a(S,!0);t(S);var Ee=s(S,2);{var Ae=de=>{var ve=Ra(),V=a(ve,!0);t(ve),u(()=>d(V,_.climb.attemptsNum)),i(de,ve)};c(Ee,de=>{_.climb.attemptType!=="Flash"&&_.climb.attemptType!=="Onsight"&&de(Ae)})}t(fe);var R=s(fe,2);R.__click=B;var G=s(R,2);G.__click=ue;var j=s(G,2),E=a(j,!0);t(j),t(xe),t(L);var ge=s(L,2);{var Te=de=>{var ve=Wa(),V=a(ve);{var he=Z=>{var ye=Va(),b=s(a(ye),2),O=a(b,!0);t(b),t(ye),u(()=>d(O,_.climb.notes)),i(Z,ye)},pe=Z=>{var ye=Ua();i(Z,ye)};c(V,Z=>{_.climb.notes?Z(he):Z(pe,!1)})}var Le=s(V,2),Ce=a(Le),Me=a(Ce,!0);t(Ce);var F=s(Ce,2),K=a(F,!0);t(F),t(Le),t(ve),u(()=>{d(Me,_.climb.isSport?"Sport":"Boulder"),d(K,_.climb.attemptType)}),nt(3,ve,()=>ot,()=>({duration:150})),i(de,ve)};c(ge,de=>{e(m)&&de(Te)})}u(()=>{at(L,"aria-expanded",e(m)),se=_t(ae,1,"grade-badge svelte-yz0xxt",null,se,{sport:_.climb.isSport}),d(k,_.climb.grade),d(H,_.climb.name||"Unnamed Route"),qe=_t(fe,1,"attempt-type svelte-yz0xxt",null,qe,{flash:_.climb.attemptType==="Flash"}),d(X,ie[_.climb.attemptType]||_.climb.attemptType),d(E,e(m)?"‚ñ≤":"‚ñº")}),i(N,te)};c(ee,N=>{e(q)?N(ke):N(Se,!1)})}t($),u(()=>oe=_t($,1,"climb-entry svelte-yz0xxt",null,oe,{expanded:e(m),editing:e(q)})),i(ze,$),Tt()}bt(["change","click","keydown"]);var Za=n('<span class="stat svelte-7vqogn"> </span>'),Xa=n('<span class="status-icon pending svelte-7vqogn" title="Waiting to sync">üîÑ</span>'),Ka=n('<span class="status-icon error svelte-7vqogn" title="Sync error">‚ö†Ô∏è</span>'),Qa=n('<span class="chip svelte-7vqogn"> </span>'),$a=n('<span class="text-none svelte-7vqogn">None</span>'),es=n('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Difficulty</span> <span class="value svelte-7vqogn"> </span></div>'),ts=n('<span class="chip svelte-7vqogn"> </span>'),as=n('<span class="text-none svelte-7vqogn">None</span>'),ss=n('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Category</span> <div class="value-chips svelte-7vqogn"><!></div></div>'),rs=n('<span class="chip svelte-7vqogn"> </span>'),is=n('<span class="text-none svelte-7vqogn">None</span>'),ls=n('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Energy System</span> <div class="value-chips svelte-7vqogn"><!></div></div>'),vs=n('<span class="chip svelte-7vqogn"> </span>'),ns=n('<span class="text-none svelte-7vqogn">None</span>'),os=n('<div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Wall</span> <div class="value-chips svelte-7vqogn"><!></div></div>'),ds=n('<button class="icon-btn edit-notes-btn svelte-7vqogn" title="Edit Notes">‚úé</button>'),cs=n('<div class="edit-notes-area"><textarea placeholder="Add session notes..." rows="3" class="notes-editor svelte-7vqogn"></textarea> <div class="edit-actions svelte-7vqogn"><button class="cancel-btn svelte-7vqogn">Cancel</button> <button class="save-btn svelte-7vqogn"> </button></div></div>'),_s=n('<p class="notes-text svelte-7vqogn"> </p>'),ps=n('<p class="notes-placeholder svelte-7vqogn">No notes.</p>'),us=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Open Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),fs=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Crimp Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),gs=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Pinch Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),ms=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Sloper Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),hs=n('<div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Jug Grip</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div>'),bs=n('<p class="no-climbs svelte-7vqogn">No climbs logged for this session.</p>'),ys=n('<div class="card-body svelte-7vqogn"><div class="details-grid svelte-7vqogn"><div class="detail-item svelte-7vqogn"><span class="label svelte-7vqogn">Training Type</span> <div class="value-chips svelte-7vqogn"><!></div></div> <!> <!> <!> <!></div> <div class="notes-container svelte-7vqogn"><div class="notes-header svelte-7vqogn"><span class="label svelte-7vqogn">Session Notes</span> <!></div> <!></div> <div class="metrics-container svelte-7vqogn"><div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Finger Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div> <div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Shoulder Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div> <div class="metric svelte-7vqogn"><span class="label svelte-7vqogn">Forearm Load</span> <div class="bar-container svelte-7vqogn"><div class="bar-fill svelte-7vqogn"></div></div> <span class="score svelte-7vqogn"> </span></div> <!> <!> <!> <!> <!></div> <div class="climbs-list svelte-7vqogn"><h4 class="svelte-7vqogn">Climbs</h4> <div class="climbs-container svelte-7vqogn"><!> <!></div></div></div>'),xs=n('<div><div class="card-header svelte-7vqogn" role="button" tabindex="0"><div class="header-main svelte-7vqogn"><div class="date-badge svelte-7vqogn"><span class="day svelte-7vqogn"> </span> <span class="month svelte-7vqogn"> </span> <span class="year svelte-7vqogn"> </span></div> <div class="session-info svelte-7vqogn"><div class="session-text svelte-7vqogn"><h3 class="location svelte-7vqogn"> </h3> <div class="meta-row svelte-7vqogn"><span class="time-tag svelte-7vqogn"> </span> <span class="type-tag svelte-7vqogn"> </span></div> <div class="meta-row lowercase svelte-7vqogn"><span class="stat svelte-7vqogn"> </span> <!></div></div> <div class="load-summary svelte-7vqogn"><div class="load-badge finger svelte-7vqogn"> </div> <div class="load-badge shoulder svelte-7vqogn"> </div> <div class="load-badge forearm svelte-7vqogn"> </div></div></div></div> <div class="header-actions"><div class="header-status svelte-7vqogn"><!></div>  <button class="btn-icon delete-session" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-7vqogn"> </span></div></div> <!> <!></div>');function ws(ze,_){St(_,!0);let r=ea(_,"session",7),m=h(!1),q=h(!1);function w(){v(m,!e(m))}function f(){v(q,!0)}async function T(){try{const F=await ca(r().id);F.ok?(v(q,!1),_.onDelete()):(console.error("Failed to delete session:",F.error),alert("Failed to delete session: "+F.error))}catch(F){console.error("Exception deleting session:",F),alert("Error deleting session")}}function y(F){const K=[...r().climbs];K.splice(F,1),re(K),_.onDelete()}function M(F,K){const Z=[...r().climbs];Z[F]=K,re(Z)}async function re(F){r().climbs=F;const K={date:r().date,time:r().time||"12:00",location:r().location,customLocation:r().customLocation,climbingType:r().climbingType,trainingTypes:r().trainingTypes||[],difficulty:r().difficulty,categories:r().categories||[],energySystems:r().energySystems||[],wallAngles:r().wallAngles||[],fingerLoad:r().fingerLoad,shoulderLoad:r().shoulderLoad,forearmLoad:r().forearmLoad,openGrip:r().openGrip,crimpGrip:r().crimpGrip,pinchGrip:r().pinchGrip,sloperGrip:r().sloperGrip,jugGrip:r().jugGrip,climbs:F};try{const Z=await ia(r().id,K);Z.ok||console.error("Failed to sync update:",Z.error)}catch(Z){console.error("Exception syncing update:",Z)}}let Y=gt(()=>r().climbs?.length??0),ue=gt(()=>(r().climbs||[]).reduce((F,K)=>{const Z=parseInt(K.grade.replace(/\D/g,""))||0,ye=parseInt(F.replace(/\D/g,""))||0;return Z>ye?K.grade:F},"V0")),B=h(!1),W=h(""),z=h(!1);function ne(){v(W,r().notes||"",!0),v(B,!0)}function ie(){v(B,!1),v(W,"")}async function me(){if(e(z))return;v(z,!0),r().notes=e(W);const F={date:r().date,time:r().time||"12:00",location:r().location,customLocation:r().customLocation,climbingType:r().climbingType,trainingTypes:r().trainingTypes||[],difficulty:r().difficulty,categories:r().categories||[],energySystems:r().energySystems||[],wallAngles:r().wallAngles||[],fingerLoad:r().fingerLoad,shoulderLoad:r().shoulderLoad,forearmLoad:r().forearmLoad,openGrip:r().openGrip,crimpGrip:r().crimpGrip,pinchGrip:r().pinchGrip,sloperGrip:r().sloperGrip,jugGrip:r().jugGrip,climbs:r().climbs,notes:e(W)};try{const K=await ia(r().id,F);K.ok||console.error("Failed to sync note update:",K.error)}catch(K){console.error("Exception syncing note update:",K)}v(B,!1),v(z,!1)}var $=xs();let oe;var ee=a($);ee.__click=w,ee.__keydown=F=>F.key==="Enter"&&w();var ke=a(ee),Se=a(ke),N=a(Se),te=a(N,!0);t(N);var L=s(N,2),le=a(L,!0);t(L);var ae=s(L,2),se=a(ae,!0);t(ae),t(Se);var k=s(Se,2),D=a(k),H=a(D),l=a(H,!0);t(H);var o=s(H,2),g=a(o),J=a(g);t(g);var ce=s(g,2),be=a(ce,!0);t(ce),t(o);var De=s(o,2),I=a(De),xe=a(I);t(I);var fe=s(I,2);{var qe=F=>{var K=Za(),Z=a(K);t(K),u(()=>d(Z,`Max: ${e(ue)??""}`)),i(F,K)};c(fe,F=>{e(Y)>0&&F(qe)})}t(De),t(D);var S=s(D,2),X=a(S),Ee=a(X,!0);t(X);var Ae=s(X,2),R=a(Ae,!0);t(Ae);var G=s(Ae,2),j=a(G,!0);t(G),t(S),t(k),t(ke);var E=s(ke,2),ge=a(E),Te=a(ge);{var de=F=>{var K=Xa();i(F,K)},ve=F=>{var K=Xe(),Z=Pe(K);{var ye=b=>{var O=Ka();i(b,O)};c(Z,b=>{r().syncStatus==="error"&&b(ye)},!0)}i(F,K)};c(Te,F=>{r().syncStatus==="pending"?F(de):F(ve,!1)})}t(ge);var V=s(ge,2);V.__click=F=>{F.stopPropagation(),f()};var he=s(V,2),pe=a(he,!0);t(he),t(E),t(ee);var Le=s(ee,2);{var Ce=F=>{var K=ys(),Z=a(K),ye=a(Z),b=s(a(ye),2),O=a(b);{var we=P=>{var A=Xe(),p=Pe(A);Fe(p,17,()=>r().trainingTypes,je,(x,C)=>{var Q=Qa(),U=a(Q,!0);t(Q),u(()=>d(U,e(C))),i(x,Q)}),i(P,A)},Ke=P=>{var A=$a();i(P,A)};c(O,P=>{r().trainingTypes&&r().trainingTypes.length>0&&!r().trainingTypes.includes("None")?P(we):P(Ke,!1)})}t(b),t(ye);var Ue=s(ye,2);{var Ye=P=>{var A=es(),p=s(a(A),2),x=a(p,!0);t(p),t(A),u(()=>d(x,r().difficulty)),i(P,A)};c(Ue,P=>{r().difficulty&&P(Ye)})}var Qe=s(Ue,2);{var et=P=>{var A=ss(),p=s(a(A),2),x=a(p);{var C=U=>{var _e=Xe(),Oe=Pe(_e);Fe(Oe,17,()=>r().categories,je,($e,Ot)=>{var ft=ts(),At=a(ft,!0);t(ft),u(()=>d(At,e(Ot))),i($e,ft)}),i(U,_e)},Q=U=>{var _e=as();i(U,_e)};c(x,U=>{r().categories.length>0&&!r().categories.includes("None")?U(C):U(Q,!1)})}t(p),t(A),i(P,A)};c(Qe,P=>{r().categories?.length&&P(et)})}var st=s(Qe,2);{var Dt=P=>{var A=ls(),p=s(a(A),2),x=a(p);{var C=U=>{var _e=Xe(),Oe=Pe(_e);Fe(Oe,17,()=>r().energySystems,je,($e,Ot)=>{var ft=rs(),At=a(ft,!0);t(ft),u(()=>d(At,e(Ot))),i($e,ft)}),i(U,_e)},Q=U=>{var _e=is();i(U,_e)};c(x,U=>{r().energySystems.length>0&&!r().energySystems.includes("None")?U(C):U(Q,!1)})}t(p),t(A),i(P,A)};c(st,P=>{r().energySystems?.length&&P(Dt)})}var qt=s(st,2);{var zt=P=>{var A=os(),p=s(a(A),2),x=a(p);{var C=U=>{var _e=Xe(),Oe=Pe(_e);Fe(Oe,17,()=>r().wallAngles,je,($e,Ot)=>{var ft=vs(),At=a(ft,!0);t(ft),u(()=>d(At,e(Ot))),i($e,ft)}),i(U,_e)},Q=U=>{var _e=ns();i(U,_e)};c(x,U=>{r().wallAngles.length>0&&!r().wallAngles.includes("None")?U(C):U(Q,!1)})}t(p),t(A),i(P,A)};c(qt,P=>{r().wallAngles?.length&&P(zt)})}t(Z);var Lt=s(Z,2),Ft=a(Lt),rt=s(a(Ft),2);{var Je=P=>{var A=ds();A.__click=ne,i(P,A)};c(rt,P=>{e(B)||P(Je)})}t(Ft);var Be=s(Ft,2);{var yt=P=>{var A=cs(),p=a(A);Qt(p);var x=s(p,2),C=a(x);C.__click=ie;var Q=s(C,2);Q.__click=me;var U=a(Q,!0);t(Q),t(x),t(A),u(()=>{C.disabled=e(z),Q.disabled=e(z),d(U,e(z)?"Saving...":"Save")}),Ie(p,()=>e(W),_e=>v(W,_e)),nt(3,A,()=>ot,()=>({duration:150})),i(P,A)},pt=P=>{var A=Xe(),p=Pe(A);{var x=Q=>{var U=_s(),_e=a(U,!0);t(U),u(()=>d(_e,r().notes)),i(Q,U)},C=Q=>{var U=ps();i(Q,U)};c(p,Q=>{r().notes?Q(x):Q(C,!1)},!0)}i(P,A)};c(Be,P=>{e(B)?P(yt):P(pt,!1)})}t(Lt);var mt=s(Lt,2),it=a(mt),tt=s(a(it),2),Ge=a(tt);t(tt);var Ne=s(tt,2),lt=a(Ne);t(Ne),t(it);var We=s(it,2),vt=s(a(We),2),Re=a(vt);t(vt);var He=s(vt,2),xt=a(He);t(He),t(We);var wt=s(We,2),Ct=s(a(wt),2),Ze=a(Ct);t(Ct);var ht=s(Ct,2),Et=a(ht);t(ht),t(wt);var kt=s(wt,2);{var Rt=P=>{var A=us(),p=s(a(A),2),x=a(p);t(p);var C=s(p,2),Q=a(C);t(C),t(A),u(()=>{dt(x,`width: ${r().openGrip/5*100}%`),d(Q,`${r().openGrip??""}/5`)}),i(P,A)};c(kt,P=>{r().openGrip&&P(Rt)})}var ut=s(kt,2);{var Ht=P=>{var A=fs(),p=s(a(A),2),x=a(p);t(p);var C=s(p,2),Q=a(C);t(C),t(A),u(()=>{dt(x,`width: ${r().crimpGrip/5*100}%`),d(Q,`${r().crimpGrip??""}/5`)}),i(P,A)};c(ut,P=>{r().crimpGrip&&P(Ht)})}var Nt=s(ut,2);{var Vt=P=>{var A=gs(),p=s(a(A),2),x=a(p);t(p);var C=s(p,2),Q=a(C);t(C),t(A),u(()=>{dt(x,`width: ${r().pinchGrip/5*100}%`),d(Q,`${r().pinchGrip??""}/5`)}),i(P,A)};c(Nt,P=>{r().pinchGrip&&P(Vt)})}var jt=s(Nt,2);{var Xt=P=>{var A=ms(),p=s(a(A),2),x=a(p);t(p);var C=s(p,2),Q=a(C);t(C),t(A),u(()=>{dt(x,`width: ${r().sloperGrip/5*100}%`),d(Q,`${r().sloperGrip??""}/5`)}),i(P,A)};c(jt,P=>{r().sloperGrip&&P(Xt)})}var Yt=s(jt,2);{var Kt=P=>{var A=hs(),p=s(a(A),2),x=a(p);t(p);var C=s(p,2),Q=a(C);t(C),t(A),u(()=>{dt(x,`width: ${r().jugGrip/5*100}%`),d(Q,`${r().jugGrip??""}/5`)}),i(P,A)};c(Yt,P=>{r().jugGrip&&P(Kt)})}t(mt);var Ut=s(mt,2),It=s(a(Ut),2),Bt=a(It);Fe(Bt,17,()=>r().climbs||[],je,(P,A,p)=>{{let x=gt(()=>r().climbingType==="Mixed");Ja(P,{get climb(){return e(A)},onDelete:()=>y(p),onUpdate:C=>M(p,C),get showClimbType(){return e(x)}})}});var Jt=s(Bt,2);{var Zt=P=>{var A=bs();i(P,A)};c(Jt,P=>{(r().climbs||[]).length===0&&P(Zt)})}t(It),t(Ut),t(K),u(()=>{dt(Ge,`width: ${r().fingerLoad/5*100}%`),d(lt,`${r().fingerLoad??""}/5`),dt(Re,`width: ${r().shoulderLoad/5*100}%`),d(xt,`${r().shoulderLoad??""}/5`),dt(Ze,`width: ${r().forearmLoad/5*100}%`),d(Et,`${r().forearmLoad??""}/5`)}),nt(3,K,()=>ot,()=>({duration:150})),i(F,K)};c(Le,F=>{e(m)&&F(Ce)})}var Me=s(Le,2);$t(Me,{get isOpen(){return e(q)},title:"Delete Session",message:"Are you sure you want to delete this session? This action cannot be undone.",onConfirm:T,onCancel:()=>v(q,!1)}),t($),u((F,K,Z)=>{oe=_t($,1,"session-card svelte-7vqogn",null,oe,{expanded:e(m)}),at(ee,"aria-expanded",e(m)),d(te,F),d(le,K),d(se,Z),d(l,r().location),d(J,`üïí ${(r().time||"12:00")??""}`),d(be,r().climbingType),d(xe,`${e(Y)??""} climbs`),at(X,"title",`Finger Load: ${r().fingerLoad??""}`),d(Ee,r().fingerLoad),at(Ae,"title",`Shoulder Load: ${r().shoulderLoad??""}`),d(R,r().shoulderLoad),at(G,"title",`Forearm Load: ${r().forearmLoad??""}`),d(j,r().forearmLoad),d(pe,e(m)?"‚ñ≤":"‚ñº")},[()=>new Date(r().date).getDate(),()=>new Date(r().date).toLocaleDateString("en-GB",{month:"short"}),()=>new Date(r().date).getFullYear()]),i(ze,$),Tt()}bt(["click","keydown"]);var ks=n('<div class="legend-item svelte-11p9lqi"><span class="l-icon svelte-11p9lqi"> </span> <span class="l-label svelte-11p9lqi"> </span></div>'),Ss=n('<div class="legend-content svelte-11p9lqi"><div class="legend-grid svelte-11p9lqi"></div></div>'),Ts=n('<div class="legend-container svelte-11p9lqi"><button class="legend-toggle svelte-11p9lqi"><span class="icon">‚ÑπÔ∏è</span> <span class="text">Icon Legend</span> <span class="chevron svelte-11p9lqi"> </span></button> <!></div>');function na(ze){let _=h(!1);const r=[{icon:"üëÅÔ∏è",label:"Onsight"},{icon:"‚ö°",label:"Flash"},{icon:"üî¥",label:"Redpoint"},{icon:"üõ†Ô∏è",label:"Dogged"},{icon:"‚ùå",label:"DNF"}];var m=Ts(),q=a(m);q.__click=()=>v(_,!e(_));var w=s(a(q),4),f=a(w,!0);t(w),t(q);var T=s(q,2);{var y=M=>{var re=Ss(),Y=a(re);Fe(Y,21,()=>r,je,(ue,B)=>{var W=ks(),z=a(W),ne=a(z,!0);t(z);var ie=s(z,2),me=a(ie,!0);t(ie),t(W),u(()=>{d(ne,e(B).icon),d(me,e(B).label)}),i(ue,W)}),t(Y),t(re),nt(3,re,()=>ot),i(M,re)};c(T,M=>{e(_)&&M(y)})}t(m),u(()=>{at(q,"aria-expanded",e(_)),d(f,e(_)?"‚ñº":"‚ñ∂")}),i(ze,m)}bt(["click"]);function sa(ze,_){if(!ze||ze.length===0){alert("No data to export");return}const r=Array.from(new Set(ze.flatMap(Object.keys))),m=[r.join(","),...ze.map(f=>r.map(T=>{let y=f[T];if(y==null)return"";if(typeof y=="object"){if(y instanceof Date)return y.toISOString();y=JSON.stringify(y).replace(/"/g,'""')}else typeof y=="string"&&(y=y.replace(/"/g,'""'));return typeof y=="string"&&(y.includes(",")||y.includes('"')||y.includes(`
`))?`"${y}"`:y}).join(","))].join(`
`),q=new Blob([m],{type:"text/csv;charset=utf-8;"}),w=document.createElement("a");if(w.download!==void 0){const f=URL.createObjectURL(q);w.setAttribute("href",f),w.setAttribute("download",_.endsWith(".csv")?_:`${_}.csv`),w.style.visibility="hidden",document.body.appendChild(w),w.click(),document.body.removeChild(w)}}var Ds=n('<span class="spinner svelte-14fqz8w"></span> Fetching...',1),qs=n('<div class="error-banner svelte-14fqz8w"> </div>'),zs=n('<small class="svelte-14fqz8w">Try adjusting your filters.</small>'),Ls=n('<div class="empty-state svelte-14fqz8w"><p class="svelte-14fqz8w">No indoor climbing sessions found.</p> <!></div>'),Fs=n('<div class="load-more-container svelte-14fqz8w"><button class="load-more-btn svelte-14fqz8w"> </button></div>'),Cs=n('<div class="view-container svelte-14fqz8w"><div class="view-header svelte-14fqz8w"><h2 class="view-title svelte-14fqz8w">üßó Indoor Climbing History</h2> <div class="header-actions svelte-14fqz8w"><button class="action-btn secondary svelte-14fqz8w" title="Export filtered data to CSV">üì• Export</button> <button class="action-btn svelte-14fqz8w" title="Fetch data from cloud"><!></button></div></div> <!> <!> <div class="info-bar svelte-14fqz8w"><div class="legend-wrapper svelte-14fqz8w"><!></div> <div class="load-key svelte-14fqz8w"><span class="key-label svelte-14fqz8w">Load:</span> <div class="key-item svelte-14fqz8w"><span class="dot finger svelte-14fqz8w"></span> Finger</div> <div class="key-item svelte-14fqz8w"><span class="dot shoulder svelte-14fqz8w"></span> Shoulder</div> <div class="key-item svelte-14fqz8w"><span class="dot forearm svelte-14fqz8w"></span> Forearm</div></div></div> <div class="sessions-list"><!> <!> <!></div></div>');function Es(ze,_){St(_,!0);let r=h(ct([])),m=h(ct([])),q=h(!1),w=h(""),f=h(ct({startDate:"",endDate:"",location:"",climbingType:"",sessionType:"",grade:""})),T=h(20);const y=20;aa(()=>{M()});async function M(){v(q,!0),v(w,"");try{const l=await _a();l.ok&&l.data?(v(r,l.data.map(o=>({...o,activityType:"indoor_climb"})),!0),e(r).sort((o,g)=>new Date(g.date).getTime()-new Date(o.date).getTime()),Y()):v(w,l.error||"Failed to fetch data",!0)}catch(l){v(w,l instanceof Error?l.message:"Unknown error",!0)}finally{v(q,!1)}}function re(l){v(f,l,!0),Y()}function Y(){v(T,y),v(m,e(r).filter(l=>{if(e(f).startDate&&l.date<e(f).startDate||e(f).endDate&&l.date>e(f).endDate||e(f).location&&l.location!==e(f).location)return!1;if(e(f).climbingType&&(l.climbingType==="Leading"?"Sport":l.climbingType)!==e(f).climbingType)if(l.climbingType==="Mixed")if(e(f).climbingType==="Bouldering"){if(!l.climbs.some(g=>!g.isSport))return!1}else if(e(f).climbingType==="Sport"){if(!l.climbs.some(g=>g.isSport))return!1}else return!1;else return!1;if(e(f).sessionType&&!l.trainingTypes?.includes(e(f).sessionType))return!1;if(e(f).grade){const o=e(f).grade.trim().toLowerCase();if(!l.climbs.some(J=>J.grade.trim().toLowerCase()===o))return!1}return!0}),!0)}function ue(){v(T,e(T)+y)}var B=Cs(),W=a(B),z=s(a(W),2),ne=a(z);ne.__click=()=>sa(e(m),"indoor_climbs");var ie=s(ne,2);ie.__click=M;var me=a(ie);{var $=l=>{var o=Ds();Pt(),i(l,o)},oe=l=>{var o=Mt("‚òÅÔ∏è Fetch Data");i(l,o)};c(me,l=>{e(q)?l($):l(oe,!1)})}t(ie),t(z),t(W);var ee=s(W,2);{var ke=l=>{var o=qs(),g=a(o,!0);t(o),u(()=>d(g,e(w))),nt(3,o,()=>ot),i(l,o)};c(ee,l=>{e(w)&&l(ke)})}var Se=s(ee,2);Na(Se,{onFilterParamsChange:re});var N=s(Se,2),te=a(N),L=a(te);na(L),t(te),Pt(2),t(N);var le=s(N,2),ae=a(le);Fe(ae,17,()=>e(m).slice(0,e(T)),l=>l.id,(l,o)=>{ws(l,{get session(){return e(o)},onDelete:M})});var se=s(ae,2);{var k=l=>{var o=Ls(),g=s(a(o),2);{var J=ce=>{var be=zs();i(ce,be)};c(g,ce=>{e(r).length>0&&ce(J)})}t(o),i(l,o)};c(se,l=>{e(m).length===0&&l(k)})}var D=s(se,2);{var H=l=>{var o=Fs(),g=a(o);g.__click=ue;var J=a(g);t(g),t(o),u(()=>d(J,`Load More (${e(m).length-e(T)} remaining)`)),i(l,o)};c(D,l=>{e(T)<e(m).length&&l(H)})}t(le),t(B),u(()=>ie.disabled=e(q)),i(ze,B),Tt()}bt(["click"]);var Gs=n('<span class="chevron svelte-1frtlim">‚ñ≤</span>'),Ns=n('<span class="chevron svelte-1frtlim">‚ñº</span>'),js=n('<div class="input-with-action svelte-1frtlim"><input type="text" id="area-filter-text" placeholder="Type area name..." class="flat-left svelte-1frtlim"/> <button class="action-btn flat-right svelte-1frtlim" title="Back to list">‚úï</button></div>'),Os=n("<option> </option>"),As=n('<select id="area-filter" class="svelte-1frtlim"><option>All Areas</option><!><option>Other (Manual Entry)</option></select>'),Ms=n('<div class="input-with-action svelte-1frtlim"><input type="text" id="crag-filter-text" placeholder="Type crag name..." class="flat-left svelte-1frtlim"/> <button class="action-btn flat-right svelte-1frtlim" title="Back to list">‚úï</button></div>'),Ps=n("<option> </option>"),Is=n('<select id="crag-filter" class="svelte-1frtlim"><option>All Crags</option><!><option>Other (Manual Entry)</option></select>'),Bs=n('<input type="text" id="crag-filter-text" class="svelte-1frtlim"/>'),Rs=n("<option> </option>"),Vs=n("<option> </option>"),Us=n('<div class="filter-body svelte-1frtlim"><div class="filter-grid svelte-1frtlim"><div class="filter-item svelte-1frtlim"><label for="start-date" class="svelte-1frtlim">Start Date</label> <input type="date" id="start-date" class="svelte-1frtlim"/></div> <div class="filter-item svelte-1frtlim"><label for="end-date" class="svelte-1frtlim">End Date</label> <input type="date" id="end-date" class="svelte-1frtlim"/></div> <div class="filter-item svelte-1frtlim"><label for="area-filter" class="svelte-1frtlim">Area</label> <!></div> <div class="filter-item svelte-1frtlim"><label for="crag-filter" class="svelte-1frtlim">Crag</label> <!></div> <div class="filter-item svelte-1frtlim"><label for="climbing-type-filter" class="svelte-1frtlim">Climb Type</label> <select id="climbing-type-filter" class="svelte-1frtlim"><option>Any Type</option><!></select></div> <div class="filter-item svelte-1frtlim"><label for="session-type-filter" class="svelte-1frtlim">Session Type</label> <select id="session-type-filter" class="svelte-1frtlim"><option>Any Type</option><!></select></div> <div class="filter-item svelte-1frtlim"><label for="grade-filter" class="svelte-1frtlim">Grade (Exact)</label> <input type="text" id="grade-filter" placeholder="e.g. 7a" class="svelte-1frtlim"/></div></div> <div class="filter-actions svelte-1frtlim"><button class="reset-btn svelte-1frtlim">Reset Filters</button></div></div>'),Ws=n('<div class="filter-container svelte-1frtlim"><button class="filter-header svelte-1frtlim"><div class="header-content svelte-1frtlim"><span class="icon svelte-1frtlim">üîç</span> <span class="title svelte-1frtlim">Filters</span> <!></div></button> <!></div>');function Hs(ze,_){St(_,!0);const r=wa(),m=["Bouldering","Sport","Mixed","Trad"],q=["Projecting","Onsighting","Campusing","Repeaters","Fun","Volume"];let w=h(!1),f=h(""),T=h(""),y=h(""),M=h(""),re=h(""),Y=h(""),ue=h(""),B=h(!1),W=h(!1),z=gt(()=>e(y)&&e(y)!=="Other"?ka(e(y)):[]);function ne(){e(y)==="Other"?(v(B,!0),v(y,"")):v(B,!1),v(M,""),v(W,!1),oe()}function ie(){e(M)==="Other"?(v(W,!0),v(M,"")):v(W,!1),oe()}function me(){v(w,!e(w))}function $(){v(f,""),v(T,""),v(y,""),v(M,""),v(re,""),v(Y,""),v(ue,""),v(B,!1),v(W,!1),oe()}function oe(){_.onFilterParamsChange({startDate:e(f),endDate:e(T),area:e(y),crag:e(M),climbingType:e(re),sessionType:e(Y),grade:e(ue)})}var ee=Ws(),ke=a(ee);ke.__click=me;var Se=a(ke),N=s(a(Se),4);{var te=se=>{var k=Gs();i(se,k)},L=se=>{var k=Ns();i(se,k)};c(N,se=>{e(w)?se(te):se(L,!1)})}t(Se),t(ke);var le=s(ke,2);{var ae=se=>{var k=Us(),D=a(k),H=a(D),l=s(a(H),2);Ve(l),l.__change=oe,t(H);var o=s(H,2),g=s(a(o),2);Ve(g),g.__change=oe,t(o);var J=s(o,2),ce=s(a(J),2);{var be=V=>{var he=js(),pe=a(he);Ve(pe),pe.__input=oe;var Le=s(pe,2);Le.__click=()=>{v(B,!1),v(y,""),oe()},t(he),Ie(pe,()=>e(y),Ce=>v(y,Ce)),i(V,he)},De=V=>{var he=As();he.__change=ne;var pe=a(he);pe.value=pe.__value="";var Le=s(pe);Fe(Le,17,()=>r,je,(Me,F)=>{var K=Os(),Z=a(K,!0);t(K);var ye={};u(()=>{d(Z,e(F)),ye!==(ye=e(F))&&(K.value=(K.__value=e(F))??"")}),i(Me,K)});var Ce=s(Le);Ce.value=Ce.__value="Other",t(he),Gt(he,()=>e(y),Me=>v(y,Me)),i(V,he)};c(ce,V=>{e(B)?V(be):V(De,!1)})}t(J);var I=s(J,2),xe=s(a(I),2);{var fe=V=>{var he=Ms(),pe=a(he);Ve(pe),pe.__input=oe;var Le=s(pe,2);Le.__click=()=>{v(W,!1),v(M,""),oe()},t(he),Ie(pe,()=>e(M),Ce=>v(M,Ce)),i(V,he)},qe=V=>{var he=Xe(),pe=Pe(he);{var Le=Me=>{var F=Is();F.__change=ie;var K=a(F);K.value=K.__value="";var Z=s(K);Fe(Z,17,()=>e(z),je,(b,O)=>{var we=Ps(),Ke=a(we,!0);t(we);var Ue={};u(()=>{d(Ke,e(O)),Ue!==(Ue=e(O))&&(we.value=(we.__value=e(O))??"")}),i(b,we)});var ye=s(Z);ye.value=ye.__value="Other",t(F),Gt(F,()=>e(M),b=>v(M,b)),i(Me,F)},Ce=Me=>{var F=Bs();Ve(F),F.__input=oe,u(()=>{at(F,"placeholder",e(y)?"Filter crag...":"Select area first"),F.disabled=!e(B)&&!e(y)}),Ie(F,()=>e(M),K=>v(M,K)),i(Me,F)};c(pe,Me=>{!e(B)&&e(y)&&e(z).length>0?Me(Le):Me(Ce,!1)},!0)}i(V,he)};c(xe,V=>{e(W)?V(fe):V(qe,!1)})}t(I);var S=s(I,2),X=s(a(S),2);X.__change=oe;var Ee=a(X);Ee.value=Ee.__value="";var Ae=s(Ee);Fe(Ae,17,()=>m,je,(V,he)=>{var pe=Rs(),Le=a(pe,!0);t(pe);var Ce={};u(()=>{d(Le,e(he)),Ce!==(Ce=e(he))&&(pe.value=(pe.__value=e(he))??"")}),i(V,pe)}),t(X),t(S);var R=s(S,2),G=s(a(R),2);G.__change=oe;var j=a(G);j.value=j.__value="";var E=s(j);Fe(E,17,()=>q,je,(V,he)=>{var pe=Vs(),Le=a(pe,!0);t(pe);var Ce={};u(()=>{d(Le,e(he)),Ce!==(Ce=e(he))&&(pe.value=(pe.__value=e(he))??"")}),i(V,pe)}),t(G),t(R);var ge=s(R,2),Te=s(a(ge),2);Ve(Te),Te.__input=oe,t(ge),t(D);var de=s(D,2),ve=a(de);ve.__click=$,t(de),t(k),Ie(l,()=>e(f),V=>v(f,V)),Ie(g,()=>e(T),V=>v(T,V)),Gt(X,()=>e(re),V=>v(re,V)),Gt(G,()=>e(Y),V=>v(Y,V)),Ie(Te,()=>e(ue),V=>v(ue,V)),nt(3,k,()=>ot,()=>({duration:200})),i(se,k)};c(le,se=>{e(w)&&se(ae)})}t(ee),u(()=>at(ke,"aria-expanded",e(w))),i(ze,ee),Tt()}bt(["click","change","input"]);var Ys=n('<label class="type-toggle svelte-1k6anfh"><input type="checkbox"/> <span>Sport?</span></label>'),Js=n("<option> </option>"),Zs=n('<div class="edit-form svelte-1k6anfh"><div class="edit-row main svelte-1k6anfh"><input type="text" class="edit-input grade svelte-1k6anfh" placeholder="Grade"/> <input type="text" class="edit-input name svelte-1k6anfh" placeholder="Route Name"/> <!></div> <div class="edit-row meta svelte-1k6anfh"><select class="edit-select svelte-1k6anfh"></select> <div class="attempts-input-wrapper svelte-1k6anfh"><span>#</span> <input type="number" min="1" class="edit-input num svelte-1k6anfh"/></div></div> <div class="edit-row notes svelte-1k6anfh"><textarea class="edit-input notes-area svelte-1k6anfh" placeholder="Notes..."></textarea></div> <div class="edit-actions svelte-1k6anfh"><button class="action-btn cancel svelte-1k6anfh">Cancel</button> <button class="action-btn save svelte-1k6anfh">Save</button></div></div>'),Xs=n('<span class="climb-type-tag svelte-1k6anfh"> </span>'),Ks=n('<span class="notes-preview svelte-1k6anfh"> </span>'),Qs=n('<span class="attempts-count svelte-1k6anfh"> </span>'),$s=n('<div class="detail-row svelte-1k6anfh"><span class="label svelte-1k6anfh">Notes:</span> <p class="notes svelte-1k6anfh"> </p></div>'),er=n('<p class="empty-notes svelte-1k6anfh">No notes for this climb.</p>'),tr=n('<span class="tag wall-tag svelte-1k6anfh"> </span>'),ar=n('<span class="tag technique-tag svelte-1k6anfh"> </span>'),sr=n('<div class="climb-details svelte-1k6anfh"><!> <div class="tags svelte-1k6anfh"><span class="tag type svelte-1k6anfh"> </span> <!> <!> <span class="tag attempt-text svelte-1k6anfh"> </span></div></div>'),rr=n('<div class="climb-header svelte-1k6anfh" role="button" tabindex="0"><div class="climb-main-info svelte-1k6anfh"><span> </span> <span class="climb-name svelte-1k6anfh"> </span> <!> <!></div> <div class="climb-meta svelte-1k6anfh"><span><span class="icon svelte-1k6anfh"> </span> <!></span> <button class="icon-btn edit-btn svelte-1k6anfh" aria-label="Edit climb" title="Edit climb">‚úé</button> <button class="icon-btn delete-btn svelte-1k6anfh" aria-label="Delete climb" title="Delete climb">üóëÔ∏è</button> <span class="chevron svelte-1k6anfh"> </span></div></div> <!>',1),ir=n("<div><!></div>");function lr(ze,_){St(_,!0);let r=ea(_,"showClimbType",3,!1),m=h(!1),q=h(!1),w=h(""),f=h(""),T=h(""),y=h(1),M=h(""),re=h(!1);function Y(){e(q)||v(m,!e(m))}function ue(N){N.stopPropagation(),_.onDelete()}function B(N){N.stopPropagation(),v(w,_.climb.name,!0),v(f,_.climb.grade,!0),v(T,_.climb.attemptType,!0),v(y,_.climb.attemptsNum,!0),v(M,_.climb.notes,!0),v(re,_.climb.isSport,!0),v(q,!0),v(m,!0)}function W(N){N.stopPropagation(),v(q,!1)}function z(N){N.stopPropagation();const te={..._.climb,name:e(w),grade:e(f),attemptType:e(T),attemptsNum:e(y),notes:e(M),isSport:e(re)};_.onUpdate(te),v(q,!1)}function ne(){(e(T)==="Flash"||e(T)==="Onsight")&&v(y,1)}const ie={Flash:"‚ö°",Onsight:"üëÅÔ∏è",Redpoint:"üî¥",Dogged:"üõ†Ô∏è",DNF:"‚ùå"},me=["Flash","Onsight","Redpoint","Dogged","DNF"];var $=ir();let oe;var ee=a($);{var ke=N=>{var te=Zs(),L=a(te),le=a(L);Ve(le);var ae=s(le,2);Ve(ae);var se=s(ae,2);{var k=I=>{var xe=Ys(),fe=a(xe);Ve(fe),Pt(2),t(xe),va(fe,()=>e(re),qe=>v(re,qe)),i(I,xe)};c(se,I=>{r()&&I(k)})}t(L);var D=s(L,2),H=a(D);H.__change=ne,Fe(H,21,()=>me,je,(I,xe)=>{var fe=Js(),qe=a(fe,!0);t(fe);var S={};u(()=>{d(qe,e(xe)),S!==(S=e(xe))&&(fe.value=(fe.__value=e(xe))??"")}),i(I,fe)}),t(H);var l=s(H,2),o=s(a(l),2);Ve(o),t(l),t(D);var g=s(D,2),J=a(g);Qt(J),t(g);var ce=s(g,2),be=a(ce);be.__click=W;var De=s(be,2);De.__click=z,t(ce),t(te),u(()=>o.disabled=e(T)==="Flash"||e(T)==="Onsight"),Ie(le,()=>e(f),I=>v(f,I)),Ie(ae,()=>e(w),I=>v(w,I)),Gt(H,()=>e(T),I=>v(T,I)),Ie(o,()=>e(y),I=>v(y,I)),Ie(J,()=>e(M),I=>v(M,I)),i(N,te)},Se=N=>{var te=rr(),L=Pe(te);L.__click=Y,L.__keydown=j=>(j.key==="Enter"||j.key===" ")&&Y();var le=a(L),ae=a(le);let se;var k=a(ae,!0);t(ae);var D=s(ae,2),H=a(D,!0);t(D);var l=s(D,2);{var o=j=>{var E=Xs(),ge=a(E,!0);t(E),u(()=>d(ge,_.climb.isSport?"Sport":"Boulder")),i(j,E)};c(l,j=>{r()&&j(o)})}var g=s(l,2);{var J=j=>{var E=Ks(),ge=a(E);t(E),u(()=>d(ge,`- ${_.climb.notes??""}`)),i(j,E)};c(g,j=>{!e(m)&&_.climb.notes&&j(J)})}t(le);var ce=s(le,2),be=a(ce);let De;var I=a(be),xe=a(I,!0);t(I);var fe=s(I,2);{var qe=j=>{var E=Qs(),ge=a(E,!0);t(E),u(()=>d(ge,_.climb.attemptsNum)),i(j,E)};c(fe,j=>{_.climb.attemptType!=="Flash"&&_.climb.attemptType!=="Onsight"&&j(qe)})}t(be);var S=s(be,2);S.__click=B;var X=s(S,2);X.__click=ue;var Ee=s(X,2),Ae=a(Ee,!0);t(Ee),t(ce),t(L);var R=s(L,2);{var G=j=>{var E=sr(),ge=a(E);{var Te=Z=>{var ye=$s(),b=s(a(ye),2),O=a(b,!0);t(b),t(ye),u(()=>d(O,_.climb.notes)),i(Z,ye)},de=Z=>{var ye=er();i(Z,ye)};c(ge,Z=>{_.climb.notes?Z(Te):Z(de,!1)})}var ve=s(ge,2),V=a(ve),he=a(V,!0);t(V);var pe=s(V,2);{var Le=Z=>{var ye=tr(),b=a(ye,!0);t(ye),u(()=>d(b,_.climb.wall)),i(Z,ye)};c(pe,Z=>{_.climb.wall&&Z(Le)})}var Ce=s(pe,2);{var Me=Z=>{var ye=ar(),b=a(ye,!0);t(ye),u(()=>d(b,_.climb.techniqueFocus)),i(Z,ye)};c(Ce,Z=>{_.climb.techniqueFocus&&Z(Me)})}var F=s(Ce,2),K=a(F,!0);t(F),t(ve),t(E),u(()=>{d(he,_.climb.isSport?"Sport":"Boulder"),d(K,_.climb.attemptType)}),nt(3,E,()=>ot,()=>({duration:150})),i(j,E)};c(R,j=>{e(m)&&j(G)})}u(()=>{at(L,"aria-expanded",e(m)),se=_t(ae,1,"grade-badge svelte-1k6anfh",null,se,{sport:_.climb.isSport}),d(k,_.climb.grade),d(H,_.climb.name||"Unnamed Route"),De=_t(be,1,"attempt-type svelte-1k6anfh",null,De,{flash:_.climb.attemptType==="Flash"}),d(xe,ie[_.climb.attemptType]||_.climb.attemptType),d(Ae,e(m)?"‚ñ≤":"‚ñº")}),i(N,te)};c(ee,N=>{e(q)?N(ke):N(Se,!1)})}t($),u(()=>oe=_t($,1,"climb-entry svelte-1k6anfh",null,oe,{expanded:e(m),editing:e(q)})),i(ze,$),Tt()}bt(["change","click","keydown"]);var vr=n('<div class="sector-meta"> </div>'),nr=n('<span class="stat svelte-d5hg2r"> </span>'),or=n('<span class="status-icon pending svelte-d5hg2r" title="Waiting to sync">üîÑ</span>'),dr=n('<span class="status-icon error svelte-d5hg2r" title="Sync error">‚ö†Ô∏è</span>'),cr=n('<span class="chip svelte-d5hg2r"> </span>'),_r=n('<span class="text-none svelte-d5hg2r">None</span>'),pr=n('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Difficulty</span> <span class="value svelte-d5hg2r"> </span></div>'),ur=n('<span class="chip svelte-d5hg2r"> </span>'),fr=n('<span class="text-none svelte-d5hg2r">None</span>'),gr=n('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Category</span> <div class="value-chips svelte-d5hg2r"><!></div></div>'),mr=n('<span class="chip svelte-d5hg2r"> </span>'),hr=n('<span class="text-none svelte-d5hg2r">None</span>'),br=n('<div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Energy System</span> <div class="value-chips svelte-d5hg2r"><!></div></div>'),yr=n('<button class="icon-btn edit-notes-btn svelte-d5hg2r" title="Edit Notes">‚úé</button>'),xr=n('<div class="edit-notes-area"><textarea placeholder="Add session notes..." rows="3" class="notes-editor svelte-d5hg2r"></textarea> <div class="edit-actions svelte-d5hg2r"><button class="cancel-btn svelte-d5hg2r">Cancel</button> <button class="save-btn svelte-d5hg2r"> </button></div></div>'),wr=n('<p class="notes-text svelte-d5hg2r"> </p>'),kr=n('<p class="notes-placeholder svelte-d5hg2r">No notes.</p>'),Sr=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Open Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),Tr=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Crimp Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),Dr=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Pinch Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),qr=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Sloper Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),zr=n('<div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Jug Grip</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div>'),Lr=n('<p class="no-climbs svelte-d5hg2r">No climbs logged for this session.</p>'),Fr=n('<div class="card-body svelte-d5hg2r"><div class="details-grid svelte-d5hg2r"><div class="detail-item svelte-d5hg2r"><span class="label svelte-d5hg2r">Training Type</span> <div class="value-chips svelte-d5hg2r"><!></div></div> <!> <!> <!></div> <div class="notes-container svelte-d5hg2r"><div class="notes-header svelte-d5hg2r"><span class="label svelte-d5hg2r">Session Notes</span> <!></div> <!></div> <div class="metrics-container svelte-d5hg2r"><div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Finger Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div> <div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Shoulder Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div> <div class="metric svelte-d5hg2r"><span class="label svelte-d5hg2r">Forearm Load</span> <div class="bar-container svelte-d5hg2r"><div class="bar-fill svelte-d5hg2r"></div></div> <span class="score svelte-d5hg2r"> </span></div> <!> <!> <!> <!> <!></div> <div class="climbs-list svelte-d5hg2r"><h4 class="svelte-d5hg2r">Climbs</h4> <div class="climbs-container svelte-d5hg2r"><!> <!></div></div></div>'),Cr=n('<div><div class="card-header svelte-d5hg2r" role="button" tabindex="0"><div class="header-main svelte-d5hg2r"><div class="date-badge svelte-d5hg2r"><span class="day svelte-d5hg2r"> </span> <span class="month svelte-d5hg2r"> </span> <span class="year svelte-d5hg2r"> </span></div> <div class="session-info svelte-d5hg2r"><div class="session-text svelte-d5hg2r"><h3 class="location svelte-d5hg2r"> <!></h3> <!> <div class="meta-row svelte-d5hg2r"><span class="time-tag svelte-d5hg2r"> </span> <span class="type-tag svelte-d5hg2r"> </span></div> <div class="meta-row lowercase svelte-d5hg2r"><span class="stat svelte-d5hg2r"> </span> <!></div></div> <div class="load-summary svelte-d5hg2r"><div class="load-badge finger svelte-d5hg2r"> </div> <div class="load-badge shoulder svelte-d5hg2r"> </div> <div class="load-badge forearm svelte-d5hg2r"> </div></div></div></div> <div class="header-actions"><div class="header-status svelte-d5hg2r"><!></div> <button class="btn-icon delete-session" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-d5hg2r"> </span></div></div> <!> <!></div>');function Er(ze,_){St(_,!0);let r=ea(_,"session",7),m=h(!1),q=h(!1);function w(){v(m,!e(m))}function f(){v(q,!0)}async function T(){try{const b=await pa(r().id);b.ok?(v(q,!1),_.onDelete()):(console.error("Failed to delete session:",b.error),alert("Failed to delete session: "+b.error))}catch(b){console.error("Exception deleting session:",b),alert("Error deleting session")}}function y(b){const O=[...r().climbs];O.splice(b,1),re(O),_.onDelete()}function M(b,O){const we=[...r().climbs];we[b]=O,re(we)}async function re(b){r().climbs=b;const O={date:r().date,time:r().time||"12:00",area:r().area,crag:r().crag,sector:r().sector,climbingType:r().climbingType,trainingTypes:r().trainingTypes||[],difficulty:r().difficulty,categories:r().categories||[],energySystems:r().energySystems||[],fingerLoad:r().fingerLoad,shoulderLoad:r().shoulderLoad,forearmLoad:r().forearmLoad,climbs:b,notes:r().notes};try{const we=await la(r().id,O);we.ok||console.error("Failed to sync update:",we.error)}catch(we){console.error("Exception syncing update:",we)}}let Y=gt(()=>r().climbs?.length??0),ue=gt(()=>(r().climbs||[]).reduce((b,O)=>{const we=parseInt(O.grade.replace(/\D/g,""))||0,Ke=parseInt(b.replace(/\D/g,""))||0;return we>Ke?O.grade:b},"V0/4a")),B=h(!1),W=h(""),z=h(!1);function ne(){v(W,r().notes||"",!0),v(B,!0)}function ie(){v(B,!1),v(W,"")}async function me(){if(e(z))return;v(z,!0),r().notes=e(W);const b={date:r().date,time:r().time||"12:00",area:r().area,crag:r().crag,sector:r().sector,climbingType:r().climbingType,trainingTypes:r().trainingTypes||[],difficulty:r().difficulty,categories:r().categories||[],energySystems:r().energySystems||[],fingerLoad:r().fingerLoad,shoulderLoad:r().shoulderLoad,forearmLoad:r().forearmLoad,climbs:r().climbs,notes:e(W)};try{const O=await la(r().id,b);O.ok||console.error("Failed to sync note update:",O.error)}catch(O){console.error("Exception syncing note update:",O)}v(B,!1),v(z,!1)}var $=Cr();let oe;var ee=a($);ee.__click=w,ee.__keydown=b=>b.key==="Enter"&&w();var ke=a(ee),Se=a(ke),N=a(Se),te=a(N,!0);t(N);var L=s(N,2),le=a(L,!0);t(L);var ae=s(L,2),se=a(ae,!0);t(ae),t(Se);var k=s(Se,2),D=a(k),H=a(D),l=a(H),o=s(l);{var g=b=>{var O=Mt();u(()=>d(O,`- ${r().crag??""}`)),i(b,O)};c(o,b=>{r().crag&&b(g)})}t(H);var J=s(H,2);{var ce=b=>{var O=vr(),we=a(O);t(O),u(()=>d(we,`üìç ${r().sector??""}`)),i(b,O)};c(J,b=>{r().sector&&b(ce)})}var be=s(J,2),De=a(be),I=a(De);t(De);var xe=s(De,2),fe=a(xe,!0);t(xe),t(be);var qe=s(be,2),S=a(qe),X=a(S);t(S);var Ee=s(S,2);{var Ae=b=>{var O=nr(),we=a(O);t(O),u(()=>d(we,`Max: ${e(ue)??""}`)),i(b,O)};c(Ee,b=>{e(Y)>0&&b(Ae)})}t(qe),t(D);var R=s(D,2),G=a(R),j=a(G,!0);t(G);var E=s(G,2),ge=a(E,!0);t(E);var Te=s(E,2),de=a(Te,!0);t(Te),t(R),t(k),t(ke);var ve=s(ke,2),V=a(ve),he=a(V);{var pe=b=>{var O=or();i(b,O)},Le=b=>{var O=Xe(),we=Pe(O);{var Ke=Ue=>{var Ye=dr();i(Ue,Ye)};c(we,Ue=>{r().syncStatus==="error"&&Ue(Ke)},!0)}i(b,O)};c(he,b=>{r().syncStatus==="pending"?b(pe):b(Le,!1)})}t(V);var Ce=s(V,2);Ce.__click=b=>{b.stopPropagation(),f()};var Me=s(Ce,2),F=a(Me,!0);t(Me),t(ve),t(ee);var K=s(ee,2);{var Z=b=>{var O=Fr(),we=a(O),Ke=a(we),Ue=s(a(Ke),2),Ye=a(Ue);{var Qe=p=>{var x=Xe(),C=Pe(x);Fe(C,17,()=>r().trainingTypes,je,(Q,U)=>{var _e=cr(),Oe=a(_e,!0);t(_e),u(()=>d(Oe,e(U))),i(Q,_e)}),i(p,x)},et=p=>{var x=_r();i(p,x)};c(Ye,p=>{r().trainingTypes&&r().trainingTypes.length>0&&!r().trainingTypes.includes("None")?p(Qe):p(et,!1)})}t(Ue),t(Ke);var st=s(Ke,2);{var Dt=p=>{var x=pr(),C=s(a(x),2),Q=a(C,!0);t(C),t(x),u(()=>d(Q,r().difficulty)),i(p,x)};c(st,p=>{r().difficulty&&p(Dt)})}var qt=s(st,2);{var zt=p=>{var x=gr(),C=s(a(x),2),Q=a(C);{var U=Oe=>{var $e=Xe(),Ot=Pe($e);Fe(Ot,17,()=>r().categories,je,(ft,At)=>{var Wt=ur(),ta=a(Wt,!0);t(Wt),u(()=>d(ta,e(At))),i(ft,Wt)}),i(Oe,$e)},_e=Oe=>{var $e=fr();i(Oe,$e)};c(Q,Oe=>{r().categories.length>0&&!r().categories.includes("None")?Oe(U):Oe(_e,!1)})}t(C),t(x),i(p,x)};c(qt,p=>{r().categories?.length&&p(zt)})}var Lt=s(qt,2);{var Ft=p=>{var x=br(),C=s(a(x),2),Q=a(C);{var U=Oe=>{var $e=Xe(),Ot=Pe($e);Fe(Ot,17,()=>r().energySystems,je,(ft,At)=>{var Wt=mr(),ta=a(Wt,!0);t(Wt),u(()=>d(ta,e(At))),i(ft,Wt)}),i(Oe,$e)},_e=Oe=>{var $e=hr();i(Oe,$e)};c(Q,Oe=>{r().energySystems.length>0&&!r().energySystems.includes("None")?Oe(U):Oe(_e,!1)})}t(C),t(x),i(p,x)};c(Lt,p=>{r().energySystems?.length&&p(Ft)})}t(we);var rt=s(we,2),Je=a(rt),Be=s(a(Je),2);{var yt=p=>{var x=yr();x.__click=ne,i(p,x)};c(Be,p=>{e(B)||p(yt)})}t(Je);var pt=s(Je,2);{var mt=p=>{var x=xr(),C=a(x);Qt(C);var Q=s(C,2),U=a(Q);U.__click=ie;var _e=s(U,2);_e.__click=me;var Oe=a(_e,!0);t(_e),t(Q),t(x),u(()=>{U.disabled=e(z),_e.disabled=e(z),d(Oe,e(z)?"Saving...":"Save")}),Ie(C,()=>e(W),$e=>v(W,$e)),nt(3,x,()=>ot,()=>({duration:150})),i(p,x)},it=p=>{var x=Xe(),C=Pe(x);{var Q=_e=>{var Oe=wr(),$e=a(Oe,!0);t(Oe),u(()=>d($e,r().notes)),i(_e,Oe)},U=_e=>{var Oe=kr();i(_e,Oe)};c(C,_e=>{r().notes?_e(Q):_e(U,!1)},!0)}i(p,x)};c(pt,p=>{e(B)?p(mt):p(it,!1)})}t(rt);var tt=s(rt,2),Ge=a(tt),Ne=s(a(Ge),2),lt=a(Ne);t(Ne);var We=s(Ne,2),vt=a(We);t(We),t(Ge);var Re=s(Ge,2),He=s(a(Re),2),xt=a(He);t(He);var wt=s(He,2),Ct=a(wt);t(wt),t(Re);var Ze=s(Re,2),ht=s(a(Ze),2),Et=a(ht);t(ht);var kt=s(ht,2),Rt=a(kt);t(kt),t(Ze);var ut=s(Ze,2);{var Ht=p=>{var x=Sr(),C=s(a(x),2),Q=a(C);t(C);var U=s(C,2),_e=a(U);t(U),t(x),u(()=>{dt(Q,`width: ${r().openGrip/5*100}%`),d(_e,`${r().openGrip??""}/5`)}),i(p,x)};c(ut,p=>{r().openGrip&&p(Ht)})}var Nt=s(ut,2);{var Vt=p=>{var x=Tr(),C=s(a(x),2),Q=a(C);t(C);var U=s(C,2),_e=a(U);t(U),t(x),u(()=>{dt(Q,`width: ${r().crimpGrip/5*100}%`),d(_e,`${r().crimpGrip??""}/5`)}),i(p,x)};c(Nt,p=>{r().crimpGrip&&p(Vt)})}var jt=s(Nt,2);{var Xt=p=>{var x=Dr(),C=s(a(x),2),Q=a(C);t(C);var U=s(C,2),_e=a(U);t(U),t(x),u(()=>{dt(Q,`width: ${r().pinchGrip/5*100}%`),d(_e,`${r().pinchGrip??""}/5`)}),i(p,x)};c(jt,p=>{r().pinchGrip&&p(Xt)})}var Yt=s(jt,2);{var Kt=p=>{var x=qr(),C=s(a(x),2),Q=a(C);t(C);var U=s(C,2),_e=a(U);t(U),t(x),u(()=>{dt(Q,`width: ${r().sloperGrip/5*100}%`),d(_e,`${r().sloperGrip??""}/5`)}),i(p,x)};c(Yt,p=>{r().sloperGrip&&p(Kt)})}var Ut=s(Yt,2);{var It=p=>{var x=zr(),C=s(a(x),2),Q=a(C);t(C);var U=s(C,2),_e=a(U);t(U),t(x),u(()=>{dt(Q,`width: ${r().jugGrip/5*100}%`),d(_e,`${r().jugGrip??""}/5`)}),i(p,x)};c(Ut,p=>{r().jugGrip&&p(It)})}t(tt);var Bt=s(tt,2),Jt=s(a(Bt),2),Zt=a(Jt);Fe(Zt,17,()=>r().climbs||[],je,(p,x,C)=>{{let Q=gt(()=>r().climbingType==="Mixed");lr(p,{get climb(){return e(x)},onDelete:()=>y(C),onUpdate:U=>M(C,U),get showClimbType(){return e(Q)}})}});var P=s(Zt,2);{var A=p=>{var x=Lr();i(p,x)};c(P,p=>{(r().climbs||[]).length===0&&p(A)})}t(Jt),t(Bt),t(O),u(()=>{dt(lt,`width: ${r().fingerLoad/5*100}%`),d(vt,`${r().fingerLoad??""}/5`),dt(xt,`width: ${r().shoulderLoad/5*100}%`),d(Ct,`${r().shoulderLoad??""}/5`),dt(Et,`width: ${r().forearmLoad/5*100}%`),d(Rt,`${r().forearmLoad??""}/5`)}),nt(3,O,()=>ot,()=>({duration:150})),i(b,O)};c(K,b=>{e(m)&&b(Z)})}var ye=s(K,2);$t(ye,{get isOpen(){return e(q)},title:"Delete Session",message:"Are you sure you want to delete this session? This action cannot be undone.",onConfirm:T,onCancel:()=>v(q,!1)}),t($),u((b,O,we)=>{oe=_t($,1,"session-card svelte-d5hg2r",null,oe,{expanded:e(m)}),at(ee,"aria-expanded",e(m)),d(te,b),d(le,O),d(se,we),d(l,`${r().area??""} `),d(I,`üïí ${(r().time||"12:00")??""}`),d(fe,r().climbingType),d(X,`${e(Y)??""} climbs`),at(G,"title",`Finger Load: ${r().fingerLoad??""}`),d(j,r().fingerLoad),at(E,"title",`Shoulder Load: ${r().shoulderLoad??""}`),d(ge,r().shoulderLoad),at(Te,"title",`Forearm Load: ${r().forearmLoad??""}`),d(de,r().forearmLoad),d(F,e(m)?"‚ñ≤":"‚ñº")},[()=>new Date(r().date).getDate(),()=>new Date(r().date).toLocaleDateString(void 0,{month:"short"}),()=>new Date(r().date).getFullYear()]),i(ze,$),Tt()}bt(["click","keydown"]);var Gr=n('<span class="spinner svelte-1s7jdlh"></span> Fetching...',1),Nr=n('<div class="error-banner svelte-1s7jdlh"> </div>'),jr=n('<small class="svelte-1s7jdlh">Try adjusting your filters.</small>'),Or=n('<div class="empty-state svelte-1s7jdlh"><p class="svelte-1s7jdlh">No outdoor climbing sessions found.</p> <!></div>'),Ar=n('<div class="load-more-container svelte-1s7jdlh"><button class="load-more-btn svelte-1s7jdlh"> </button></div>'),Mr=n('<div class="view-container svelte-1s7jdlh"><div class="view-header svelte-1s7jdlh"><h2 class="view-title svelte-1s7jdlh">‚õ∞Ô∏è Outdoor Climbing History</h2> <div class="header-actions svelte-1s7jdlh"><button class="action-btn secondary svelte-1s7jdlh" title="Export filtered data to CSV">üì• Export</button> <button class="action-btn svelte-1s7jdlh" title="Fetch data from cloud"><!></button></div></div> <!> <!> <div class="info-bar svelte-1s7jdlh"><div class="legend-wrapper svelte-1s7jdlh"><!></div> <div class="load-key svelte-1s7jdlh"><span class="key-label svelte-1s7jdlh">Load:</span> <div class="key-item svelte-1s7jdlh"><span class="dot finger svelte-1s7jdlh"></span> Finger</div> <div class="key-item svelte-1s7jdlh"><span class="dot shoulder svelte-1s7jdlh"></span> Shoulder</div> <div class="key-item svelte-1s7jdlh"><span class="dot forearm svelte-1s7jdlh"></span> Forearm</div></div></div> <div class="sessions-list"><!> <!> <!></div></div>');function Pr(ze,_){St(_,!0);let r=h(ct([])),m=h(ct([])),q=h(!1),w=h(""),f=h(ct({startDate:"",endDate:"",area:"",crag:"",climbingType:"",sessionType:"",grade:""})),T=h(20);const y=20;aa(()=>{M()});async function M(){v(q,!0),v(w,"");try{const l=await ua();l.ok&&l.data?(v(r,l.data.map(o=>({...o,activityType:"outdoor_climb"})),!0),e(r).sort((o,g)=>new Date(g.date).getTime()-new Date(o.date).getTime()),Y()):v(w,l.error||"Failed to fetch data",!0)}catch(l){v(w,l instanceof Error?l.message:"Unknown error",!0)}finally{v(q,!1)}}function re(l){v(f,l,!0),Y()}function Y(){v(T,y),v(m,e(r).filter(l=>{if(e(f).startDate&&l.date<e(f).startDate||e(f).endDate&&l.date>e(f).endDate||e(f).area&&!l.area.toLowerCase().includes(e(f).area.toLowerCase())||e(f).crag&&!l.crag.toLowerCase().includes(e(f).crag.toLowerCase()))return!1;if(e(f).climbingType&&(l.climbingType==="Leading"?"Sport":l.climbingType)!==e(f).climbingType)if(l.climbingType==="Mixed")if(e(f).climbingType==="Bouldering"){if(!l.climbs.some(g=>!g.isSport))return!1}else if(e(f).climbingType==="Sport"||e(f).climbingType==="Trad"){if(!l.climbs.some(g=>g.isSport))return!1}else return!1;else return!1;if(e(f).sessionType&&!l.trainingTypes?.includes(e(f).sessionType))return!1;if(e(f).grade){const o=e(f).grade.trim().toLowerCase();if(!l.climbs.some(J=>J.grade.trim().toLowerCase()===o))return!1}return!0}),!0)}function ue(){v(T,e(T)+y)}var B=Mr(),W=a(B),z=s(a(W),2),ne=a(z);ne.__click=()=>sa(e(m),"outdoor_climbs");var ie=s(ne,2);ie.__click=M;var me=a(ie);{var $=l=>{var o=Gr();Pt(),i(l,o)},oe=l=>{var o=Mt("‚òÅÔ∏è Fetch Data");i(l,o)};c(me,l=>{e(q)?l($):l(oe,!1)})}t(ie),t(z),t(W);var ee=s(W,2);{var ke=l=>{var o=Nr(),g=a(o,!0);t(o),u(()=>d(g,e(w))),nt(3,o,()=>ot),i(l,o)};c(ee,l=>{e(w)&&l(ke)})}var Se=s(ee,2);Hs(Se,{onFilterParamsChange:re});var N=s(Se,2),te=a(N),L=a(te);na(L),t(te),Pt(2),t(N);var le=s(N,2),ae=a(le);Fe(ae,17,()=>e(m).slice(0,e(T)),l=>l.id,(l,o)=>{Er(l,{get session(){return e(o)},onDelete:M})});var se=s(ae,2);{var k=l=>{var o=Or(),g=s(a(o),2);{var J=ce=>{var be=jr();i(ce,be)};c(g,ce=>{e(r).length>0&&ce(J)})}t(o),i(l,o)};c(se,l=>{e(m).length===0&&l(k)})}var D=s(se,2);{var H=l=>{var o=Ar(),g=a(o);g.__click=ue;var J=a(g);t(g),t(o),u(()=>d(J,`Load More (${e(m).length-e(T)} remaining)`)),i(l,o)};c(D,l=>{e(T)<e(m).length&&l(H)})}t(le),t(B),u(()=>ie.disabled=e(q)),i(ze,B),Tt()}bt(["click"]);var Ir=n('<span class="chevron svelte-11rkzid">‚ñ≤</span>'),Br=n('<span class="chevron svelte-11rkzid">‚ñº</span>'),Rr=n('<div class="filter-body svelte-11rkzid"><div class="filter-grid svelte-11rkzid"><div class="filter-item svelte-11rkzid"><label for="start-date" class="svelte-11rkzid">Start Date</label> <input type="date" id="start-date" class="svelte-11rkzid"/></div> <div class="filter-item svelte-11rkzid"><label for="end-date" class="svelte-11rkzid">End Date</label> <input type="date" id="end-date" class="svelte-11rkzid"/></div> <div class="filter-item svelte-11rkzid"><label for="name-filter" class="svelte-11rkzid">Session Name</label> <input type="text" id="name-filter" placeholder="e.g. Leg Day" class="svelte-11rkzid"/></div> <div class="filter-item svelte-11rkzid"><label for="block-filter" class="svelte-11rkzid">Training Block</label> <select id="block-filter" class="svelte-11rkzid"><option>All Blocks</option><option>Strength</option><option>Power</option><option>Power Endurance</option><option>Muscular Endurance</option></select></div></div> <div class="filter-actions svelte-11rkzid"><button class="reset-btn svelte-11rkzid">Reset Filters</button></div></div>'),Vr=n('<div class="filter-container svelte-11rkzid"><button class="filter-header svelte-11rkzid"><div class="header-content svelte-11rkzid"><span class="icon svelte-11rkzid">üîç</span> <span class="title svelte-11rkzid">Filters</span> <!></div></button> <!></div>');function Ur(ze,_){St(_,!0);let r=h(!1),m=h(""),q=h(""),w=h(""),f=h("");function T(){v(r,!e(r))}function y(){v(m,""),v(q,""),v(w,""),v(f,""),M()}function M(){_.onFilterParamsChange({startDate:e(m),endDate:e(q),name:e(w),trainingBlock:e(f)})}var re=Vr(),Y=a(re);Y.__click=T;var ue=a(Y),B=s(a(ue),4);{var W=me=>{var $=Ir();i(me,$)},z=me=>{var $=Br();i(me,$)};c(B,me=>{e(r)?me(W):me(z,!1)})}t(ue),t(Y);var ne=s(Y,2);{var ie=me=>{var $=Rr(),oe=a($),ee=a(oe),ke=s(a(ee),2);Ve(ke),ke.__change=M,t(ee);var Se=s(ee,2),N=s(a(Se),2);Ve(N),N.__change=M,t(Se);var te=s(Se,2),L=s(a(te),2);Ve(L),L.__input=M,t(te);var le=s(te,2),ae=s(a(le),2);ae.__change=M;var se=a(ae);se.value=se.__value="";var k=s(se);k.value=k.__value="Strength";var D=s(k);D.value=D.__value="Power";var H=s(D);H.value=H.__value="Power Endurance";var l=s(H);l.value=l.__value="Muscular Endurance",t(ae),t(le),t(oe);var o=s(oe,2),g=a(o);g.__click=y,t(o),t($),Ie(ke,()=>e(m),J=>v(m,J)),Ie(N,()=>e(q),J=>v(q,J)),Ie(L,()=>e(w),J=>v(w,J)),Gt(ae,()=>e(f),J=>v(f,J)),nt(3,$,()=>ot,()=>({duration:200})),i(me,$)};c(ne,me=>{e(r)&&me(ie)})}t(re),u(()=>at(Y,"aria-expanded",e(r))),i(ze,re),Tt()}bt(["click","change","input"]);var Wr=n('<span class="status-icon pending svelte-cirrfc" title="Waiting to sync">üîÑ</span>'),Hr=n('<span class="status-icon error svelte-cirrfc" title="Sync error">‚ö†Ô∏è</span>'),Yr=n('<div class="bw-info svelte-cirrfc"><span class="label svelte-cirrfc">Bodyweight:</span> </div>'),Jr=n('<span class="muscle-tag svelte-cirrfc"> </span>'),Zr=n('<span class="muscle-tag svelte-cirrfc"> </span>'),Xr=n('<div class="muscle-tags svelte-cirrfc"><!> <!></div>'),Kr=n('<span class="tag w svelte-cirrfc">W</span>'),Qr=n('<span class="tag f svelte-cirrfc">F</span>'),$r=n('<span class="tag d svelte-cirrfc">D</span>'),ei=n('<div><span class="set-num svelte-cirrfc"></span> <!> <!> <!> <span class="val svelte-cirrfc"><span class="weight"> </span> <span class="x svelte-cirrfc">x</span> <span class="reps"> </span></span></div>'),ti=n('<div class="exercise-item svelte-cirrfc"><div class="exercise-header svelte-cirrfc"><h4 class="svelte-cirrfc"> </h4> <!></div> <div class="sets-grid svelte-cirrfc"></div></div>'),ai=n('<div class="subcategory-group svelte-cirrfc"><h5 class="subcategory-header svelte-cirrfc"> </h5> <!></div>'),si=n('<div class="category-group svelte-cirrfc"><h4 class="category-header svelte-cirrfc"> </h4> <!></div>'),ri=n('<div class="card-body svelte-cirrfc"><!> <div class="exercises-list svelte-cirrfc"></div></div>'),ii=n('<div><div class="card-header svelte-cirrfc" role="button" tabindex="0"><div class="header-main svelte-cirrfc"><div class="date-badge svelte-cirrfc"><span class="day svelte-cirrfc"> </span> <span class="month svelte-cirrfc"> </span> <span class="year svelte-cirrfc"> </span></div> <div class="session-info svelte-cirrfc"><div class="session-text"><h3 class="name svelte-cirrfc"> </h3> <div class="session-meta svelte-cirrfc"><span class="time-tag svelte-cirrfc"> </span> <span class="stat svelte-cirrfc"> </span> <span class="stat svelte-cirrfc"> </span> <span class="stat svelte-cirrfc"> </span></div></div></div></div> <div class="header-actions svelte-cirrfc"><div class="header-status"><!></div> <button class="btn-icon delete-session svelte-cirrfc" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-cirrfc"> </span></div></div> <!></div> <!>',1);function li(ze,_){St(_,!0);let r=h(!1),m=h(!1);function q(){v(r,!e(r))}function w(){v(m,!0)}async function f(){try{const R=await fa(_.session.id);R.ok?(v(m,!1),_.onDelete()):(console.error("Failed to delete session:",R.error),alert("Failed to delete session"))}catch(R){console.error("Exception deleting session:",R),alert("Error deleting session")}}function T(R){return Sa.find(G=>G.name===R)}let y=gt(()=>_.session.exercises?.length??0),M=gt(()=>(_.session.exercises||[]).reduce((R,G)=>R+(G.sets?.length||0),0)),re=gt(()=>(_.session.exercises||[]).reduce((R,G)=>R+(G.sets||[]).reduce((j,E)=>j+(E.weight||0)*(E.reps||0),0),0)),Y=gt(()=>(_.session.exercises||[]).reduce((R,G)=>{const j=T(G.name),E=j?.category||"Other",ge=j?.subcategory||"Misc";return R[E]||(R[E]={}),R[E][ge]||(R[E][ge]=[]),R[E][ge].push(G),R},{}));var ue=ii(),B=Pe(ue);let W;var z=a(B);z.__click=q,z.__keydown=R=>R.key==="Enter"&&q();var ne=a(z),ie=a(ne),me=a(ie),$=a(me,!0);t(me);var oe=s(me,2),ee=a(oe,!0);t(oe);var ke=s(oe,2),Se=a(ke,!0);t(ke),t(ie);var N=s(ie,2),te=a(N),L=a(te),le=a(L,!0);t(L);var ae=s(L,2),se=a(ae),k=a(se);t(se);var D=s(se,2),H=a(D);t(D);var l=s(D,2),o=a(l);t(l);var g=s(l,2),J=a(g);t(g),t(ae),t(te),t(N),t(ne);var ce=s(ne,2),be=a(ce),De=a(be);{var I=R=>{var G=Wr();i(R,G)},xe=R=>{var G=Xe(),j=Pe(G);{var E=ge=>{var Te=Hr();i(ge,Te)};c(j,ge=>{_.session.syncStatus==="error"&&ge(E)},!0)}i(R,G)};c(De,R=>{_.session.syncStatus==="pending"?R(I):R(xe,!1)})}t(be);var fe=s(be,2);fe.__click=R=>{R.stopPropagation(),w()};var qe=s(fe,2),S=a(qe,!0);t(qe),t(ce),t(z);var X=s(z,2);{var Ee=R=>{var G=ri(),j=a(G);{var E=Te=>{var de=Yr(),ve=s(a(de));t(de),u(()=>d(ve,` ${_.session.bodyweight??""}kg`)),i(Te,de)};c(j,Te=>{_.session.bodyweight&&Te(E)})}var ge=s(j,2);Fe(ge,21,()=>Object.entries(e(Y)),je,(Te,de)=>{var ve=gt(()=>ra(e(de),2));let V=()=>e(ve)[0],he=()=>e(ve)[1];var pe=si(),Le=a(pe),Ce=a(Le,!0);t(Le);var Me=s(Le,2);Fe(Me,17,()=>Object.entries(he()),je,(F,K)=>{var Z=gt(()=>ra(e(K),2));let ye=()=>e(Z)[0],b=()=>e(Z)[1];var O=ai(),we=a(O),Ke=a(we,!0);t(we);var Ue=s(we,2);Fe(Ue,17,b,je,(Ye,Qe)=>{const et=gt(()=>T(e(Qe).name));var st=ti(),Dt=a(st),qt=a(Dt),zt=a(qt,!0);t(qt);var Lt=s(qt,2);{var Ft=Je=>{var Be=Xr(),yt=a(Be);Fe(yt,17,()=>e(et).targetMuscles.slice(0,3),je,(it,tt)=>{var Ge=Jr(),Ne=a(Ge,!0);t(Ge),u(()=>d(Ne,e(tt))),i(it,Ge)});var pt=s(yt,2);{var mt=it=>{var tt=Zr(),Ge=a(tt);t(tt),u(()=>d(Ge,`+${e(et).targetMuscles.length-3}`)),i(it,tt)};c(pt,it=>{e(et).targetMuscles.length>3&&it(mt)})}t(Be),i(Je,Be)};c(Lt,Je=>{e(et)&&Je(Ft)})}t(Dt);var rt=s(Dt,2);Fe(rt,21,()=>e(Qe).sets,je,(Je,Be,yt)=>{var pt=ei();let mt;var it=a(pt);it.textContent=yt+1;var tt=s(it,2);{var Ge=Ze=>{var ht=Kr();i(Ze,ht)};c(tt,Ze=>{e(Be).isWarmup&&Ze(Ge)})}var Ne=s(tt,2);{var lt=Ze=>{var ht=Qr();i(Ze,ht)};c(Ne,Ze=>{e(Be).isFailure&&Ze(lt)})}var We=s(Ne,2);{var vt=Ze=>{var ht=$r();i(Ze,ht)};c(We,Ze=>{e(Be).isDropSet&&Ze(vt)})}var Re=s(We,2),He=a(Re),xt=a(He);t(He);var wt=s(He,4),Ct=a(wt,!0);t(wt),t(Re),t(pt),u(()=>{mt=_t(pt,1,"set-pill svelte-cirrfc",null,mt,{completed:e(Be).completed,warmup:e(Be).isWarmup}),d(xt,`${e(Be).weight??""}kg`),d(Ct,e(Be).reps)}),i(Je,pt)}),t(rt),t(st),u(()=>d(zt,e(Qe).name)),i(Ye,st)}),t(O),u(()=>d(Ke,ye())),i(F,O)}),t(pe),u(()=>d(Ce,V())),i(Te,pe)}),t(ge),t(G),nt(3,G,()=>ot,()=>({duration:150})),i(R,G)};c(X,R=>{e(r)&&R(Ee)})}t(B);var Ae=s(B,2);$t(Ae,{get isOpen(){return e(m)},title:"Delete Session",message:"Are you sure you want to delete this session? This cannot be undone.",onConfirm:f,onCancel:()=>v(m,!1)}),u((R,G,j,E)=>{W=_t(B,1,"session-card svelte-cirrfc",null,W,{expanded:e(r)}),at(z,"aria-expanded",e(r)),d($,R),d(ee,G),d(Se,j),d(le,_.session.name),d(k,`üïí ${(_.session.time||"12:00")??""}`),d(H,`${e(y)??""} Exercises`),d(o,`${e(M)??""} Sets`),d(J,`~${E??""}kg Vol`),d(S,e(r)?"‚ñ≤":"‚ñº")},[()=>new Date(_.session.date).getDate(),()=>new Date(_.session.date).toLocaleDateString("en-GB",{month:"short"}),()=>new Date(_.session.date).getFullYear(),()=>Math.round(e(re)).toLocaleString()]),i(ze,ue),Tt()}bt(["click","keydown"]);var vi=n('<span class="spinner svelte-133enjd"></span> Fetching...',1),ni=n('<div class="error-banner svelte-133enjd"> </div>'),oi=n('<small class="svelte-133enjd">Try adjusting your filters.</small>'),di=n('<div class="empty-state svelte-133enjd"><p class="svelte-133enjd">No gym sessions found.</p> <!></div>'),ci=n('<div class="load-more-container svelte-133enjd"><button class="load-more-btn svelte-133enjd"> </button></div>'),_i=n('<div class="view-container svelte-133enjd"><div class="view-header svelte-133enjd"><h2 class="view-title svelte-133enjd">üèãÔ∏è Gym Session History</h2> <div class="header-actions svelte-133enjd"><button class="action-btn secondary svelte-133enjd" title="Export filtered data to CSV">üì• Export</button> <button class="action-btn svelte-133enjd" title="Fetch data from cloud"><!></button></div></div> <!> <!> <div class="sessions-list"><!> <!> <!></div></div>');function pi(ze,_){St(_,!0);let r=h(ct([])),m=h(ct([])),q=h(!1),w=h(""),f=h(ct({startDate:"",endDate:"",name:"",trainingBlock:""})),T=h(20);const y=20;aa(()=>{M()});async function M(){v(q,!0),v(w,"");try{const k=await ga();k.ok&&k.data?(v(r,k.data.map(D=>({...D,activityType:"gym_session"})),!0),e(r).sort((D,H)=>new Date(H.date).getTime()-new Date(D.date).getTime()),Y()):v(w,k.error||"Failed to fetch data",!0)}catch(k){v(w,k instanceof Error?k.message:"Unknown error",!0)}finally{v(q,!1)}}function re(k){v(f,k,!0),Y()}function Y(){v(T,y),v(m,e(r).filter(k=>!(e(f).startDate&&k.date<e(f).startDate||e(f).endDate&&k.date>e(f).endDate||e(f).name&&!k.name.toLowerCase().includes(e(f).name.toLowerCase())||e(f).trainingBlock&&k.trainingBlock!==e(f).trainingBlock)),!0)}function ue(){v(T,e(T)+y)}var B=_i(),W=a(B),z=s(a(W),2),ne=a(z);ne.__click=()=>sa(e(m),"gym_sessions");var ie=s(ne,2);ie.__click=M;var me=a(ie);{var $=k=>{var D=vi();Pt(),i(k,D)},oe=k=>{var D=Mt("‚òÅÔ∏è Fetch Data");i(k,D)};c(me,k=>{e(q)?k($):k(oe,!1)})}t(ie),t(z),t(W);var ee=s(W,2);{var ke=k=>{var D=ni(),H=a(D,!0);t(D),u(()=>d(H,e(w))),nt(3,D,()=>ot),i(k,D)};c(ee,k=>{e(w)&&k(ke)})}var Se=s(ee,2);Ur(Se,{onFilterParamsChange:re});var N=s(Se,2),te=a(N);Fe(te,17,()=>e(m).slice(0,e(T)),k=>k.id,(k,D)=>{li(k,{get session(){return e(D)},onDelete:M})});var L=s(te,2);{var le=k=>{var D=di(),H=s(a(D),2);{var l=o=>{var g=oi();i(o,g)};c(H,o=>{e(r).length>0&&o(l)})}t(D),i(k,D)};c(L,k=>{e(m).length===0&&k(le)})}var ae=s(L,2);{var se=k=>{var D=ci(),H=a(D);H.__click=ue;var l=a(H);t(H),t(D),u(()=>d(l,`Load More (${e(m).length-e(T)} remaining)`)),i(k,D)};c(ae,k=>{e(T)<e(m).length&&k(se)})}t(N),t(B),u(()=>ie.disabled=e(q)),i(ze,B),Tt()}bt(["click"]);var ui=n('<span class="spinner svelte-1szs0u9"></span> Fetching...',1),fi=n('<div class="loading svelte-1szs0u9">Loading sessions...</div>'),gi=n('<div class="empty-state svelte-1szs0u9"><!></div>'),mi=n('<span class="set-tag svelte-1szs0u9"> <span class="x svelte-1szs0u9">x</span> </span>'),hi=n('<div class="ex-notes svelte-1szs0u9"> </div>'),bi=n('<div class="exercise-item svelte-1szs0u9"><div class="ex-header svelte-1szs0u9"><span class="ex-name svelte-1szs0u9"> </span> <span class="ex-grip svelte-1szs0u9"> </span></div> <div class="ex-sets svelte-1szs0u9"></div> <!></div>'),yi=n('<div class="card-body svelte-1szs0u9"><div class="exercises-list svelte-1szs0u9"></div></div>'),xi=n('<div><div class="card-header svelte-1szs0u9" role="button" tabindex="0"><div class="header-main"><span class="session-date svelte-1szs0u9"> <span class="time-tag svelte-1szs0u9"> </span></span> <span class="meta svelte-1szs0u9"><!> </span></div> <div class="header-status svelte-1szs0u9"><span>‚óè</span> <button class="btn-icon delete-btn svelte-1szs0u9" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-1szs0u9"> </span></div></div> <!></div>'),wi=n('<div class="load-more-container svelte-1szs0u9"><button class="load-more-btn svelte-1szs0u9"> </button></div>'),ki=n('<div class="timeline svelte-1szs0u9"><!> <!></div>'),Si=n('<div class="view-content svelte-1szs0u9"><div class="header svelte-1szs0u9"><h3 class="svelte-1szs0u9">ü§è Fingerboarding Log</h3> <button class="fetch-btn svelte-1szs0u9" title="Fetch data from cloud"><!></button></div> <div class="filters svelte-1szs0u9"><div class="filter-group svelte-1szs0u9"><label for="start-date" class="svelte-1szs0u9">From</label> <input type="date" id="start-date" class="svelte-1szs0u9"/></div> <div class="filter-group svelte-1szs0u9"><label for="end-date" class="svelte-1szs0u9">To</label> <input type="date" id="end-date" class="svelte-1szs0u9"/></div></div> <!></div> <!>',1);function Ti(ze,_){St(_,!0);let r=h(ct([])),m=h(!0),q=h(""),w=h(""),f=h(ct(new Set)),T=h(20);const y=20;oa(()=>{e(q),e(w),v(T,y)});let M=h(!1),re=h(null);function Y(o){v(re,o,!0),v(M,!0)}async function ue(){if(e(re))try{const o=await ma(e(re));o.ok?(v(re,null),v(M,!1),B()):(console.error("Failed to delete session:",o.error),alert("Failed to delete session"))}catch(o){console.error("Exception deleting session:",o)}}async function B(){v(m,!0);try{const o=await ha();o.ok&&o.data&&v(r,o.data.map(g=>({...g,activityType:"fingerboarding",syncStatus:"synced"})).sort((g,J)=>new Date(J.date).getTime()-new Date(g.date).getTime()),!0)}catch(o){console.error("Failed to fetch sessions",o)}finally{v(m,!1)}}B();let W=gt(()=>e(r).filter(o=>!(e(q)&&new Date(o.date)<new Date(e(q))||e(w)&&new Date(o.date)>new Date(e(w)))));function z(){v(T,e(T)+y)}function ne(o){e(f).has(o)?e(f).delete(o):e(f).add(o),v(f,new Set(e(f)),!0)}function ie(o){return o.exercises.reduce((g,J)=>g+J.details.length,0)}var me=Si(),$=Pe(me),oe=a($),ee=s(a(oe),2);ee.__click=B;var ke=a(ee);{var Se=o=>{var g=ui();Pt(),i(o,g)},N=o=>{var g=Mt("‚òÅÔ∏è Fetch Data");i(o,g)};c(ke,o=>{e(m)?o(Se):o(N,!1)})}t(ee),t(oe);var te=s(oe,2),L=a(te),le=s(a(L),2);Ve(le),t(L);var ae=s(L,2),se=s(a(ae),2);Ve(se),t(ae),t(te);var k=s(te,2);{var D=o=>{var g=fi();i(o,g)},H=o=>{var g=Xe(),J=Pe(g);{var ce=De=>{var I=gi(),xe=a(I);{var fe=S=>{var X=Mt("No sessions match filter.");i(S,X)},qe=S=>{var X=Mt("No fingerboarding sessions logged yet.");i(S,X)};c(xe,S=>{e(r).length>0?S(fe):S(qe,!1)})}t(I),i(De,I)},be=De=>{var I=ki(),xe=a(I);Fe(xe,17,()=>e(W).slice(0,e(T)),je,(S,X)=>{var Ee=xi();let Ae;var R=a(Ee);R.__click=()=>ne(e(X).id),R.__keydown=b=>b.key==="Enter"&&ne(e(X).id);var G=a(R),j=a(G),E=a(j),ge=s(E),Te=a(ge,!0);t(ge),t(j);var de=s(j,2),ve=a(de);{var V=b=>{var O=Mt();u(()=>d(O,`${e(X).location??""} ¬∑`)),i(b,O)};c(ve,b=>{e(X).location&&e(X).location!=="N/A"&&e(X).location!=="Home"&&b(V)})}var he=s(ve);t(de),t(G);var pe=s(G,2),Le=a(pe);let Ce;var Me=s(Le,2);Me.__click=b=>{b.stopPropagation(),Y(e(X).id)};var F=s(Me,2),K=a(F,!0);t(F),t(pe),t(R);var Z=s(R,2);{var ye=b=>{var O=yi(),we=a(O);Fe(we,21,()=>e(X).exercises||[],je,(Ke,Ue)=>{var Ye=bi(),Qe=a(Ye),et=a(Qe),st=a(et,!0);t(et);var Dt=s(et,2),qt=a(Dt,!0);t(Dt),t(Qe);var zt=s(Qe,2);Fe(zt,21,()=>e(Ue).details,je,(rt,Je)=>{var Be=mi(),yt=a(Be),pt=s(yt,2);t(Be),u(()=>{d(yt,`${e(Je).weight>0?`+${e(Je).weight}kg`:"BW"} `),d(pt,` ${e(Je).reps??""}s/reps`)}),i(rt,Be)}),t(zt);var Lt=s(zt,2);{var Ft=rt=>{var Je=hi(),Be=a(Je);t(Je),u(()=>d(Be,`"${e(Ue).notes??""}"`)),i(rt,Je)};c(Lt,rt=>{e(Ue).notes&&rt(Ft)})}t(Ye),u(()=>{d(st,e(Ue).name),d(qt,e(Ue).gripType)}),i(Ke,Ye)}),t(we),t(O),nt(3,O,()=>ot,()=>({duration:150})),i(b,O)};c(Z,b=>{e(f).has(e(X).id)&&b(ye)})}t(Ee),u((b,O,we,Ke)=>{Ae=_t(Ee,1,"session-card svelte-1szs0u9",null,Ae,b),d(E,`${O??""} `),d(Te,e(X).time||"12:00"),d(he,` ${e(X).exercises.length??""} Exercises ¬∑ ${we??""} Sets`),Ce=_t(Le,1,"sync-dot svelte-1szs0u9",null,Ce,{synced:e(X).syncStatus==="synced"}),at(Le,"title",e(X).syncStatus==="synced"?"Synced":"Local"),d(K,Ke)},[()=>({expanded:e(f).has(e(X).id)}),()=>new Date(e(X).date).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric",year:"numeric"}),()=>ie(e(X)),()=>e(f).has(e(X).id)?"‚ñ≤":"‚ñº"]),i(S,Ee)});var fe=s(xe,2);{var qe=S=>{var X=wi(),Ee=a(X);Ee.__click=z;var Ae=a(Ee);t(Ee),t(X),u(()=>d(Ae,`Load More (${e(W).length-e(T)} remaining)`)),i(S,X)};c(fe,S=>{e(T)<e(W).length&&S(qe)})}t(I),i(De,I)};c(J,De=>{e(W).length===0?De(ce):De(be,!1)},!0)}i(o,g)};c(k,o=>{e(m)&&e(r).length===0?o(D):o(H,!1)})}t($);var l=s($,2);$t(l,{get isOpen(){return e(M)},title:"Delete Fingerboard Session",message:"Are you sure you want to delete this session? This cannot be undone.",onConfirm:ue,onCancel:()=>v(M,!1)}),u(()=>ee.disabled=e(m)),Ie(le,()=>e(q),o=>v(q,o)),Ie(se,()=>e(w),o=>v(w,o)),i(ze,me),Tt()}bt(["click","keydown"]);var Di=n('<span class="spinner svelte-xyvf5r"></span> Fetching...',1),qi=n('<div class="loading svelte-xyvf5r">Loading sessions...</div>'),zi=n('<div class="empty-state svelte-xyvf5r">No competitions logged yet.</div>'),Li=n('<button class="icon-btn edit-notes-btn svelte-xyvf5r" title="Edit Notes">‚úé</button>'),Fi=n('<div class="edit-notes-area"><textarea placeholder="Add session notes..." rows="3" class="notes-editor svelte-xyvf5r"></textarea> <div class="edit-actions svelte-xyvf5r"><button class="cancel-btn svelte-xyvf5r">Cancel</button> <button class="save-btn svelte-xyvf5r"> </button></div></div>'),Ci=n('<p class="note-text svelte-xyvf5r"> </p>'),Ei=n('<p class="notes-placeholder svelte-xyvf5r">No notes.</p>'),Gi=n('<span class="round-pos svelte-xyvf5r"> </span>'),Ni=n('<span class="c-attempts svelte-xyvf5r"> </span>'),ji=n('<div class="climb-notes svelte-xyvf5r"> </div>'),Oi=n('<div class="climb-row svelte-xyvf5r"><div class="climb-info svelte-xyvf5r"><span class="c-name svelte-xyvf5r"> </span> <!></div> <div class="climb-result"><span> </span></div></div> <!>',1),Ai=n('<div class="climbs-list"></div>'),Mi=n('<div class="round-item svelte-xyvf5r"><div class="round-header svelte-xyvf5r"><span class="round-name"> </span> <!></div> <!></div>'),Pi=n('<div class="rounds-list svelte-xyvf5r"></div>'),Ii=n('<div class="load-meta svelte-xyvf5r"><span> </span></div>'),Bi=n('<div class="card-body svelte-xyvf5r"><div class="session-notes-container svelte-xyvf5r"><div class="notes-header svelte-xyvf5r"><span class="note-label svelte-xyvf5r">Session Notes</span> <!></div> <!></div> <!> <!> <div class="session-footer svelte-xyvf5r"><span> </span></div></div>'),Ri=n('<div><div class="card-header svelte-xyvf5r" role="button" tabindex="0"><div class="header-main svelte-xyvf5r"><div class="left-col svelte-xyvf5r"><span class="venue svelte-xyvf5r"> </span> <div class="datetime-row svelte-xyvf5r"><span class="date svelte-xyvf5r"> </span> <span class="time-tag svelte-xyvf5r"> </span></div></div> <div class="right-col svelte-xyvf5r"><div class="badges svelte-xyvf5r"><span class="type-tag svelte-xyvf5r"> </span> <span class="result-tag svelte-xyvf5r"> </span></div></div></div> <div class="header-status svelte-xyvf5r"><span>‚óè</span> <button class="btn-icon delete-btn svelte-xyvf5r" title="Delete Session">üóëÔ∏è</button> <span class="chevron svelte-xyvf5r"> </span></div></div> <!></div>'),Vi=n('<div class="load-more-container svelte-xyvf5r"><button class="load-more-btn svelte-xyvf5r"> </button></div>'),Ui=n('<div class="timeline svelte-xyvf5r"><!> <!></div>'),Wi=n('<div class="view-content svelte-xyvf5r"><div class="header svelte-xyvf5r"><h3 class="svelte-xyvf5r">üèÜ Competition Log</h3> <button class="fetch-btn svelte-xyvf5r" title="Fetch data from cloud"><!></button></div> <!> <!></div>');function Hi(ze,_){St(_,!0);let r=h(ct([])),m=h(!0),q=h(ct(new Set)),w=h(20);const f=20;let T=h(!1),y=h(null);function M(l){v(y,l,!0),v(T,!0)}async function re(){if(e(y))try{const l=await ba(e(y));l.ok?(v(y,null),v(T,!1),Y()):(console.error("Failed to delete session:",l.error),alert("Failed to delete session"))}catch(l){console.error("Exception deleting session:",l)}}async function Y(){v(m,!0),v(w,f);try{const l=await ya();l.ok&&l.data&&v(r,l.data.map(o=>({...o,activityType:"competition",syncStatus:"synced",type:o.type,rounds:o.rounds.map(g=>({...g,climbs:g.climbs?.map(J=>({...J,status:J.status}))}))})).sort((o,g)=>new Date(g.date).getTime()-new Date(o.date).getTime()),!0)}catch(l){console.error("Failed to fetch sessions",l)}finally{v(m,!1)}}Y();function ue(l){e(q).has(l)?e(q).delete(l):e(q).add(l),v(q,new Set(e(q)),!0)}function B(){v(w,e(w)+f)}function W(l){if(!l.rounds||l.rounds.length===0)return"No rounds";const o=l.rounds[l.rounds.length-1];if(o.position)return`#${o.position} ${o.name}`;if(o.climbs){const g=o.climbs.filter(ce=>ce.status==="Top"||ce.status==="Flash").length,J=o.climbs.filter(ce=>ce.status==="Zone").length;return`${l.rounds.length} Rnds ¬∑ Final: ${g}T ${J+g}Z`}return o.name}let z=h(ct(new Set)),ne=h(ct(new Map)),ie=h(ct(new Set));function me(l){e(ne).set(l.id,l.notes||""),v(ne,new Map(e(ne)),!0),e(z).add(l.id),v(z,new Set(e(z)),!0)}function $(l){e(z).delete(l),v(z,new Set(e(z)),!0),e(ne).delete(l),v(ne,new Map(e(ne)),!0)}function oe(l){return e(ne).get(l)||""}function ee(l,o){e(ne).set(l,o),v(ne,new Map(e(ne)),!0)}async function ke(l){if(e(ie).has(l.id))return;const o=e(ne).get(l.id);if(o===void 0)return;e(ie).add(l.id),v(ie,new Set(e(ie)),!0);const g=e(r).find(ce=>ce.id===l.id);g&&(g.notes=o);const J={date:l.date,time:l.time||"12:00",venue:l.venue,customVenue:l.customVenue,type:l.type,fingerLoad:l.fingerLoad,shoulderLoad:l.shoulderLoad,forearmLoad:l.forearmLoad,rounds:l.rounds,notes:o};try{const ce=await xa(l.id,J);ce.ok||console.error("Failed to sync note update:",ce.error)}catch(ce){console.error("Exception syncing note update:",ce)}e(z).delete(l.id),v(z,new Set(e(z)),!0),e(ie).delete(l.id),v(ie,new Set(e(ie)),!0)}var Se=Wi(),N=a(Se),te=s(a(N),2);te.__click=Y;var L=a(te);{var le=l=>{var o=Di();Pt(),i(l,o)},ae=l=>{var o=Mt("‚òÅÔ∏è Fetch Data");i(l,o)};c(L,l=>{e(m)?l(le):l(ae,!1)})}t(te),t(N);var se=s(N,2);{var k=l=>{var o=qi();i(l,o)},D=l=>{var o=Xe(),g=Pe(o);{var J=be=>{var De=zi();i(be,De)},ce=be=>{var De=Ui(),I=a(De);Fe(I,17,()=>e(r).slice(0,e(w)),je,(qe,S)=>{var X=Ri();let Ee;var Ae=a(X);Ae.__click=()=>ue(e(S).id),Ae.__keydown=Ye=>Ye.key==="Enter"&&ue(e(S).id);var R=a(Ae),G=a(R),j=a(G),E=a(j,!0);t(j);var ge=s(j,2),Te=a(ge),de=a(Te,!0);t(Te);var ve=s(Te,2),V=a(ve);t(ve),t(ge),t(G);var he=s(G,2),pe=a(he),Le=a(pe),Ce=a(Le,!0);t(Le);var Me=s(Le,2),F=a(Me,!0);t(Me),t(pe),t(he),t(R);var K=s(R,2),Z=a(K);let ye;var b=s(Z,2);b.__click=Ye=>{Ye.stopPropagation(),M(e(S).id)};var O=s(b,2),we=a(O,!0);t(O),t(K),t(Ae);var Ke=s(Ae,2);{var Ue=Ye=>{var Qe=Bi(),et=a(Qe),st=a(et),Dt=s(a(st),2);{var qt=Ge=>{var Ne=Li();Ne.__click=()=>me(e(S)),i(Ge,Ne)};c(Dt,Ge=>{e(z).has(e(S).id)||Ge(qt)})}t(st);var zt=s(st,2);{var Lt=Ge=>{var Ne=Fi(),lt=a(Ne);Qt(lt),lt.__input=xt=>ee(e(S).id,xt.currentTarget.value);var We=s(lt,2),vt=a(We);vt.__click=()=>$(e(S).id);var Re=s(vt,2);Re.__click=()=>ke(e(S));var He=a(Re,!0);t(Re),t(We),t(Ne),u((xt,wt,Ct,Ze)=>{da(lt,xt),vt.disabled=wt,Re.disabled=Ct,d(He,Ze)},[()=>oe(e(S).id),()=>e(ie).has(e(S).id),()=>e(ie).has(e(S).id),()=>e(ie).has(e(S).id)?"Saving...":"Save"]),nt(3,Ne,()=>ot,()=>({duration:150})),i(Ge,Ne)},Ft=Ge=>{var Ne=Xe(),lt=Pe(Ne);{var We=Re=>{var He=Ci(),xt=a(He,!0);t(He),u(()=>d(xt,e(S).notes)),i(Re,He)},vt=Re=>{var He=Ei();i(Re,He)};c(lt,Re=>{e(S).notes?Re(We):Re(vt,!1)},!0)}i(Ge,Ne)};c(zt,Ge=>{e(z).has(e(S).id)?Ge(Lt):Ge(Ft,!1)})}t(et);var rt=s(et,2);{var Je=Ge=>{var Ne=Pi();Fe(Ne,21,()=>e(S).rounds||[],je,(lt,We)=>{var vt=Mi(),Re=a(vt),He=a(Re),xt=a(He,!0);t(He);var wt=s(He,2);{var Ct=Et=>{var kt=Gi(),Rt=a(kt);t(kt),u(()=>d(Rt,`#${e(We).position??""}`)),i(Et,kt)};c(wt,Et=>{e(We).position&&Et(Ct)})}t(Re);var Ze=s(Re,2);{var ht=Et=>{var kt=Ai();Fe(kt,21,()=>e(We).climbs||[],je,(Rt,ut)=>{var Ht=Oi(),Nt=Pe(Ht),Vt=a(Nt),jt=a(Vt),Xt=a(jt,!0);t(jt);var Yt=s(jt,2);{var Kt=A=>{var p=Ni(),x=a(p);t(p),u(()=>d(x,`(${e(ut).attemptCount??""} tries)`)),i(A,p)};c(Yt,A=>{e(ut).attemptCount>1&&A(Kt)})}t(Vt);var Ut=s(Vt,2),It=a(Ut);let Bt;var Jt=a(It,!0);t(It),t(Ut),t(Nt);var Zt=s(Nt,2);{var P=A=>{var p=ji(),x=a(p);t(p),u(()=>d(x,`"${e(ut).notes??""}"`)),i(A,p)};c(Zt,A=>{e(ut).notes&&A(P)})}u(()=>{d(Xt,e(ut).name),Bt=_t(It,1,"status-badge svelte-xyvf5r",null,Bt,{top:e(ut).status==="Top"||e(ut).status==="Flash",zone:e(ut).status==="Zone"}),d(Jt,e(ut).status)}),i(Rt,Ht)}),t(kt),i(Et,kt)};c(Ze,Et=>{e(We).climbs&&Et(ht)})}t(vt),u(()=>d(xt,e(We).name)),i(lt,vt)}),t(Ne),i(Ge,Ne)};c(rt,Ge=>{e(S).rounds&&Ge(Je)})}var Be=s(rt,2);{var yt=Ge=>{var Ne=Ii(),lt=a(Ne),We=a(lt);t(lt),t(Ne),u(()=>d(We,`Detailed Load: Fingers ${e(S).fingerLoad??""}/5, Shoulders ${e(S).shoulderLoad??""}/5,
										Forearms ${e(S).forearmLoad??""}/5`)),i(Ge,Ne)};c(Be,Ge=>{(e(S).fingerLoad||e(S).shoulderLoad)&&Ge(yt)})}var pt=s(Be,2),mt=a(pt);let it;var tt=a(mt,!0);t(mt),t(pt),t(Qe),u(()=>{it=_t(mt,1,"sync-status svelte-xyvf5r",null,it,{synced:e(S).syncStatus==="synced"}),d(tt,e(S).syncStatus==="synced"?"‚úì Synced":"‚òÅ Local")}),nt(3,Qe,()=>ot,()=>({duration:150})),i(Ye,Qe)};c(Ke,Ye=>{e(q).has(e(S).id)&&Ye(Ue)})}t(X),u((Ye,Qe,et,st)=>{Ee=_t(X,1,"session-card svelte-xyvf5r",null,Ee,Ye),d(E,e(S).customVenue||e(S).venue),d(de,Qe),d(V,`@ ${(e(S).time||"12:00")??""}`),d(Ce,e(S).type),d(F,et),ye=_t(Z,1,"sync-dot",null,ye,{synced:e(S).syncStatus==="synced"}),at(Z,"title",e(S).syncStatus==="synced"?"Synced":"Local"),d(we,st)},[()=>({expanded:e(q).has(e(S).id)}),()=>new Date(e(S).date).toLocaleDateString(void 0,{weekday:"short",day:"numeric",month:"short",year:"numeric"}),()=>W(e(S)),()=>e(q).has(e(S).id)?"‚ñ≤":"‚ñº"]),i(qe,X)});var xe=s(I,2);{var fe=qe=>{var S=Vi(),X=a(S);X.__click=B;var Ee=a(X);t(X),t(S),u(()=>d(Ee,`Load More (${e(r).length-e(w)} remaining)`)),i(qe,S)};c(xe,qe=>{e(w)<e(r).length&&qe(fe)})}t(De),i(be,De)};c(g,be=>{e(r).length===0?be(J):be(ce,!1)},!0)}i(l,o)};c(se,l=>{e(m)&&e(r).length===0?l(k):l(D,!1)})}var H=s(se,2);$t(H,{get isOpen(){return e(T)},title:"Delete Competition",message:"Are you sure you want to delete this competition session? This action cannot be undone.",onConfirm:re,onCancel:()=>v(T,!1)}),t(Se),u(()=>te.disabled=e(m)),i(ze,Se),Tt()}bt(["click","keydown","input"]);var Yi=n("<option> </option>"),Ji=n('<div class="view-container svelte-108px9u"><!></div>'),Zi=n('<div class="page svelte-108px9u"><div class="page-header svelte-108px9u"><div><h1 class="svelte-108px9u">üìä View Data</h1> <p class="subtitle svelte-108px9u">Browse your training history</p></div></div> <div class="content-card svelte-108px9u"><div class="form-group svelte-108px9u"><label for="activity-type" class="svelte-108px9u">Activity Type</label> <select id="activity-type" class="svelte-108px9u"><option disabled>Select an activity...</option><!></select></div> <!></div></div>');function il(ze){const _=[{value:"indoor_climb",label:"Indoor Climb",icon:"üßó"},{value:"outdoor_climb",label:"Outdoor Climb",icon:"‚õ∞Ô∏è"},{value:"gym_session",label:"Gym Session",icon:"üèãÔ∏è"},{value:"fingerboarding",label:"Fingerboarding",icon:"ü§è"},{value:"competition",label:"Competition",icon:"üèÜ"}];let r=h("");var m=Zi(),q=s(a(m),2),w=a(q),f=s(a(w),2),T=a(f);T.value=T.__value="";var y=s(T);Fe(y,17,()=>_,Y=>Y.value,(Y,ue)=>{var B=Yi(),W=a(B);t(B);var z={};u(()=>{d(W,`${e(ue).icon??""} ${e(ue).label??""}`),z!==(z=e(ue).value)&&(B.value=(B.__value=e(ue).value)??"")}),i(Y,B)}),t(f),t(w);var M=s(w,2);{var re=Y=>{var ue=Ji(),B=a(ue);{var W=ne=>{Es(ne,{})},z=ne=>{var ie=Xe(),me=Pe(ie);{var $=ee=>{Pr(ee,{})},oe=ee=>{var ke=Xe(),Se=Pe(ke);{var N=L=>{pi(L,{})},te=L=>{var le=Xe(),ae=Pe(le);{var se=D=>{Ti(D,{})},k=D=>{var H=Xe(),l=Pe(H);{var o=g=>{Hi(g,{})};c(l,g=>{e(r)==="competition"&&g(o)},!0)}i(D,H)};c(ae,D=>{e(r)==="fingerboarding"?D(se):D(k,!1)},!0)}i(L,le)};c(Se,L=>{e(r)==="gym_session"?L(N):L(te,!1)},!0)}i(ee,ke)};c(me,ee=>{e(r)==="outdoor_climb"?ee($):ee(oe,!1)},!0)}i(ne,ie)};c(B,ne=>{e(r)==="indoor_climb"?ne(W):ne(z,!1)})}t(ue),i(Y,ue)};c(M,Y=>{e(r)&&Y(re)})}t(q),t(m),Gt(f,()=>e(r),Y=>v(r,Y)),i(ze,m)}export{il as component};
