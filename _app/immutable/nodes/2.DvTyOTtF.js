import{n as P,f as It,r as Ge,s as oe,h as le,i as qt,e as Mt,y as Vt,c as Ot}from"../chunks/GsYGQhEn.js";import{y as At,z as Ht,A as $t,B as Bt,l as Y,k as J,S as ie,i as re,d as w,C as Le,D as U,E as fe,a as R,b as c,F as G,G as Rt,w as a,c as _,e as q,H as $,g as O,h as g,j as A,s as st,f as pe,t as ve,I as Fe,J as Ce,K as Ee,m as Te,n as xe,L as Nt,M as tt,p as je,q as qe,r as Me,u as Ve,v as nt,N as ht,O as Pt}from"../chunks/eLcFQGVN.js";import{w as Ut}from"../chunks/ZG84kFMr.js";function zt(s,e,t,n){if(!e)return P;const l=s.getBoundingClientRect();if(e.left===l.left&&e.right===l.right&&e.top===l.top&&e.bottom===l.bottom)return P;const{delay:o=0,duration:i=300,easing:d=It,start:u=At()+o,end:m=u+i,tick:f=P,css:b}=t(s,{from:e,to:l},n);let r=!0,h=!1,v;function y(){b&&(v=Bt(s,0,1,i,o,d,b)),o||(h=!0)}function p(){b&&$t(s,v),r=!1}return Ht(k=>{if(!h&&k>=u&&(h=!0),h&&k>=m&&(f(1,0),p()),!r)return!1;if(h){const E=k-u,C=0+1*d(E/i);f(C,1-C)}return!0}),y(),f(0,1),p}function Ft(s){const e=getComputedStyle(s);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:n}=e,l=s.getBoundingClientRect();s.style.position="absolute",s.style.width=t,s.style.height=n,St(s,l)}}function St(s,e){const t=s.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const n=getComputedStyle(s),l=n.transform==="none"?"":n.transform;s.style.transform=`${l} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function te(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function jt(s,e){J(s,1,1,()=>{e.delete(s.key)})}function Gt(s,e){s.f(),jt(s,e)}function Kt(s,e,t,n,l,o,i,d,u,m,f,b){let r=s.length,h=o.length,v=r;const y={};for(;v--;)y[s[v].key]=v;const p=[],k=new Map,E=new Map,C=[];for(v=h;v--;){const I=b(l,o,v),S=t(I);let H=i.get(S);H?C.push(()=>H.p(I,e)):(H=m(S,I),H.c()),k.set(S,p[v]=H),S in y&&E.set(S,Math.abs(v-y[S]))}const D=new Set,T=new Set;function M(I){Y(I,1),I.m(d,f),i.set(I.key,I),f=I.first,h--}for(;r&&h;){const I=p[h-1],S=s[r-1],H=I.key,K=S.key;I===S?(f=I.first,r--,h--):k.has(K)?!i.has(H)||D.has(H)?M(I):T.has(K)?r--:E.get(H)>E.get(K)?(T.add(H),M(I)):(D.add(K),r--):(u(S,i),r--)}for(;r--;){const I=s[r];k.has(I.key)||u(I,i)}for(;h;)M(p[h-1]);return Ge(C),p}const lt="training_tracker_api_key",Wt="c2fb788c7deedbeaa296e424d4c2921b871a4f6cb4cf393c1c1105653ab399b4",Yt=localStorage.getItem(lt),Oe=Ut(Yt);Oe.subscribe(s=>{s?localStorage.setItem(lt,s):localStorage.removeItem(lt)});async function Jt(s){const e=new TextEncoder().encode(s),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(l=>l.toString(16).padStart(2,"0")).join("")}async function Qt(s){return await Jt(s)===Wt?(Oe.set(s),!0):!1}function Xt(){Oe.set(null)}function Dt(s){const e=s-1;return e*e*e+1}function de(s,{delay:e=0,duration:t=400,easing:n=It}={}){const l=+getComputedStyle(s).opacity;return{delay:e,duration:t,easing:n,css:o=>`opacity: ${o*l}`}}function Zt(s,{delay:e=0,duration:t=400,easing:n=Dt,axis:l="y"}={}){const o=getComputedStyle(s),i=+o.opacity,d=l==="y"?"height":"width",u=parseFloat(o[d]),m=l==="y"?["top","bottom"]:["left","right"],f=m.map(k=>`${k[0].toUpperCase()}${k.slice(1)}`),b=parseFloat(o[`padding${f[0]}`]),r=parseFloat(o[`padding${f[1]}`]),h=parseFloat(o[`margin${f[0]}`]),v=parseFloat(o[`margin${f[1]}`]),y=parseFloat(o[`border${f[0]}Width`]),p=parseFloat(o[`border${f[1]}Width`]);return{delay:e,duration:t,easing:n,css:k=>`overflow: hidden;opacity: ${Math.min(k*20,1)*i};${d}: ${k*u}px;padding-${m[0]}: ${k*b}px;padding-${m[1]}: ${k*r}px;margin-${m[0]}: ${k*h}px;margin-${m[1]}: ${k*v}px;border-${m[0]}-width: ${k*y}px;border-${m[1]}-width: ${k*p}px;`}}function pt(s){let e,t;return{c(){e=g("span"),t=ve(s[1]),this.h()},l(n){e=_(n,"SPAN",{class:!0});var l=q(e);t=pe(l,s[1]),l.forEach(w),this.h()},h(){a(e,"class","error-text svelte-9dby7l")},m(n,l){R(n,e,l),c(e,t)},p(n,l){l&2&&st(t,n[1])},d(n){n&&w(e)}}}function el(s){let e,t,n='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>',l,o,i="Access Restricted",d,u,m="Please enter your password to unlock the application.",f,b,r,h,v,y,p,k="Unlock App",E,C,D,T=s[1]&&pt(s);return{c(){e=g("div"),t=g("div"),t.innerHTML=n,l=A(),o=g("h2"),o.textContent=i,d=A(),u=g("p"),u.textContent=m,f=A(),b=g("form"),r=g("div"),h=g("input"),v=A(),T&&T.c(),y=A(),p=g("button"),p.textContent=k,this.h()},l(M){e=_(M,"DIV",{class:!0});var I=q(e);t=_(I,"DIV",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1lmknyl"&&(t.innerHTML=n),l=O(I),o=_(I,"H2",{class:!0,"data-svelte-h":!0}),$(o)!=="svelte-r8hgrj"&&(o.textContent=i),d=O(I),u=_(I,"P",{class:!0,"data-svelte-h":!0}),$(u)!=="svelte-1ix94go"&&(u.textContent=m),f=O(I),b=_(I,"FORM",{class:!0});var S=q(b);r=_(S,"DIV",{class:!0});var H=q(r);h=_(H,"INPUT",{type:!0,placeholder:!0,class:!0}),v=O(H),T&&T.l(H),H.forEach(w),y=O(S),p=_(S,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),$(p)!=="svelte-6e23ii"&&(p.textContent=k),S.forEach(w),I.forEach(w),this.h()},h(){a(t,"class","lock-icon svelte-9dby7l"),a(o,"class","svelte-9dby7l"),a(u,"class","svelte-9dby7l"),a(h,"type","password"),a(h,"placeholder","Enter Password"),h.disabled=s[2],a(h,"class","svelte-9dby7l"),fe(h,"error",s[1]),a(r,"class","input-group svelte-9dby7l"),a(p,"type","submit"),a(p,"class","unlock-button svelte-9dby7l"),a(b,"class","svelte-9dby7l"),a(e,"class","login-container svelte-9dby7l")},m(M,I){R(M,e,I),c(e,t),c(e,l),c(e,o),c(e,d),c(e,u),c(e,f),c(e,b),c(b,r),c(r,h),U(h,s[0]),c(r,v),T&&T.m(r,null),c(b,y),c(b,p),C||(D=[G(h,"input",s[4]),G(b,"submit",Rt(s[3]))],C=!0)},p(M,[I]){I&4&&(h.disabled=M[2]),I&1&&h.value!==M[0]&&U(h,M[0]),I&2&&fe(h,"error",M[1]),M[1]?T?T.p(M,I):(T=pt(M),T.c(),T.m(r,null)):T&&(T.d(1),T=null)},i(M){M&&(E||le(()=>{E=Le(e,de,{}),E.start()}))},o:P,d(M){M&&w(e),T&&T.d(),C=!1,Ge(D)}}}function tl(s,e,t){let n="",l="",o=!1;async function i(){if(!n.trim()){t(1,l="Please enter a password");return}t(2,o=!0),t(1,l="");try{await Qt(n.trim())||t(1,l="Incorrect password")}catch{t(1,l="An error occurred")}finally{t(2,o=!1)}}function d(){n=this.value,t(0,n)}return[n,l,o,i,d]}class ll extends ie{constructor(e){super(),re(this,e,tl,el,oe,{})}}function sl(s,{from:e,to:t},n={}){const l=getComputedStyle(s),o=l.transform==="none"?"":l.transform,[i,d]=l.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*i/t.width-(t.left+i),m=e.top+e.height*d/t.height-(t.top+d),{delay:f=0,duration:b=h=>Math.sqrt(h)*120,easing:r=Dt}=n;return{delay:f,duration:qt(b)?b(Math.sqrt(u*u+m*m)):b,easing:r,css:(h,v)=>{const y=v*u,p=v*m,k=h+v*e.width/t.width,E=h+v*e.height/t.height;return`transform: ${o} translate(${y}px, ${p}px) scale(${k}, ${E});`}}}function vt(s,e,t){const n=s.slice();return n[21]=e[t],n[22]=e,n[23]=t,n}function _t(s,e,t){const n=s.slice();return n[24]=e[t],n}function gt(s,e,t){const n=s.slice();return n[24]=e[t],n}function mt(s){let e,t=s[24]+"",n;return{c(){e=g("option"),n=ve(t),this.h()},l(l){e=_(l,"OPTION",{});var o=q(e);n=pe(o,t),o.forEach(w),this.h()},h(){e.__value=s[24],U(e,e.__value)},m(l,o){R(l,e,o),c(e,n)},p:P,d(l){l&&w(e)}}}function bt(s){let e,t=s[24]+"",n;return{c(){e=g("option"),n=ve(t),this.h()},l(l){e=_(l,"OPTION",{});var o=q(e);n=pe(o,t),o.forEach(w),this.h()},h(){e.__value=s[24],U(e,e.__value)},m(l,o){R(l,e,o),c(e,n)},p:P,d(l){l&&w(e)}}}function wt(s,e){let t,n,l,o,i,d,u,m,f,b,r,h,v,y,p,k='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path></svg>',E,C,D,T=P,M,I,S;function H(){e[16].call(l,e[22],e[23])}function K(){e[17].call(d,e[22],e[23])}function se(){e[18].call(f,e[22],e[23])}function Ae(){e[19].call(h,e[22],e[23])}function Ie(){return e[20](e[21])}return{key:s,first:null,c(){t=g("tr"),n=g("td"),l=g("input"),o=A(),i=g("td"),d=g("input"),u=A(),m=g("td"),f=g("input"),b=A(),r=g("td"),h=g("textarea"),v=A(),y=g("td"),p=g("button"),p.innerHTML=k,E=A(),this.h()},l(B){t=_(B,"TR",{});var N=q(t);n=_(N,"TD",{class:!0});var Q=q(n);l=_(Q,"INPUT",{type:!0,class:!0}),Q.forEach(w),o=O(N),i=_(N,"TD",{class:!0});var Z=q(i);d=_(Z,"INPUT",{type:!0,placeholder:!0,class:!0}),Z.forEach(w),u=O(N),m=_(N,"TD",{class:!0});var Se=q(m);f=_(Se,"INPUT",{type:!0,placeholder:!0,class:!0}),Se.forEach(w),b=O(N),r=_(N,"TD",{class:!0});var _e=q(r);h=_(_e,"TEXTAREA",{placeholder:!0,rows:!0,class:!0}),q(h).forEach(w),_e.forEach(w),v=O(N),y=_(N,"TD",{class:!0});var W=q(y);p=_(W,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),$(p)!=="svelte-zfon6j"&&(p.innerHTML=k),W.forEach(w),E=O(N),N.forEach(w),this.h()},h(){a(l,"type","checkbox"),a(l,"class","svelte-q54vbl"),a(n,"class","checkbox-col svelte-q54vbl"),a(d,"type","text"),a(d,"placeholder","e.g. Blue"),a(d,"class","svelte-q54vbl"),a(i,"class","svelte-q54vbl"),a(f,"type","text"),a(f,"placeholder","e.g. 6b+"),a(f,"class","svelte-q54vbl"),a(m,"class","svelte-q54vbl"),a(h,"placeholder","e.g. Smooth"),a(h,"rows","1"),a(h,"class","svelte-q54vbl"),a(r,"class","svelte-q54vbl"),a(p,"class","delete-btn svelte-q54vbl"),a(p,"title","Remove row"),a(y,"class","actions-col svelte-q54vbl"),this.first=t},m(B,N){R(B,t,N),c(t,n),c(n,l),l.checked=e[21].isRopes,c(t,o),c(t,i),c(i,d),U(d,e[21].name),c(t,u),c(t,m),c(m,f),U(f,e[21].grade),c(t,b),c(t,r),c(r,h),U(h,e[21].notes),c(t,v),c(t,y),c(y,p),c(t,E),M=!0,I||(S=[G(l,"change",H),G(d,"input",K),G(f,"input",se),G(h,"input",Ae),G(p,"click",Ie)],I=!0)},p(B,N){e=B,N&32&&(l.checked=e[21].isRopes),N&32&&d.value!==e[21].name&&U(d,e[21].name),N&32&&f.value!==e[21].grade&&U(f,e[21].grade),N&32&&U(h,e[21].notes)},r(){D=t.getBoundingClientRect()},f(){Ft(t),T(),St(t,D)},a(){T(),T=zt(t,D,sl,{duration:300})},i(B){M||(C&&C.end(1),M=!0)},o(B){B&&(C=Nt(t,Zt,{duration:200})),M=!1},d(B){B&&w(t),B&&C&&C.end(),I=!1,Ge(S)}}}function nl(s){let e,t,n,l,o="Location",i,d,u,m="Select Location",f,b,r,h="Session Focus",v,y,p,k="Select Focus",E,C,D,T,M="Finger Load (0-5)",I,S,H,K,se,Ae="Shoulder Load (0-5)",Ie,B,N,Q,Z,Se="Forearm Load (0-5)",_e,W,Ke,ae,ce,he,ot="Exercises / Routes",We,ne,it=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Row`,Ye,ge,ue,me,rt='<tr><th class="checkbox-col svelte-q54vbl">Ropes?</th> <th class="svelte-q54vbl">Route</th> <th class="svelte-q54vbl">Grade</th> <th class="svelte-q54vbl">Notes</th> <th class="actions-col svelte-q54vbl"></th></tr>',Je,be,z=[],at=new Map,Qe,He,Xe,ct,we=te(s[6]),F=[];for(let L=0;L<we.length;L+=1)F[L]=mt(gt(s,we,L));let ye=te(s[7]),j=[];for(let L=0;L<ye.length;L+=1)j[L]=bt(_t(s,ye,L));let De=te(s[5]);const ut=L=>L[21].id;for(let L=0;L<De.length;L+=1){let V=vt(s,De,L),x=ut(V);at.set(x,z[L]=wt(x,V))}return{c(){e=g("div"),t=g("div"),n=g("div"),l=g("label"),l.textContent=o,i=A(),d=g("select"),u=g("option"),u.textContent=m;for(let L=0;L<F.length;L+=1)F[L].c();f=A(),b=g("div"),r=g("label"),r.textContent=h,v=A(),y=g("select"),p=g("option"),p.textContent=k;for(let L=0;L<j.length;L+=1)j[L].c();E=A(),C=g("div"),D=g("div"),T=g("label"),T.textContent=M,I=A(),S=g("input"),H=A(),K=g("div"),se=g("label"),se.textContent=Ae,Ie=A(),B=g("input"),N=A(),Q=g("div"),Z=g("label"),Z.textContent=Se,_e=A(),W=g("input"),Ke=A(),ae=g("div"),ce=g("div"),he=g("h3"),he.textContent=ot,We=A(),ne=g("button"),ne.innerHTML=it,Ye=A(),ge=g("div"),ue=g("table"),me=g("thead"),me.innerHTML=rt,Je=A(),be=g("tbody");for(let L=0;L<z.length;L+=1)z[L].c();this.h()},l(L){e=_(L,"DIV",{class:!0});var V=q(e);t=_(V,"DIV",{class:!0});var x=q(t);n=_(x,"DIV",{class:!0});var ee=q(n);l=_(ee,"LABEL",{for:!0,"data-svelte-h":!0}),$(l)!=="svelte-1ij7h26"&&(l.textContent=o),i=O(ee),d=_(ee,"SELECT",{id:!0,class:!0});var Ze=q(d);u=_(Ze,"OPTION",{"data-svelte-h":!0}),$(u)!=="svelte-mwu9va"&&(u.textContent=m);for(let X=0;X<F.length;X+=1)F[X].l(Ze);Ze.forEach(w),ee.forEach(w),f=O(x),b=_(x,"DIV",{class:!0});var $e=q(b);r=_($e,"LABEL",{for:!0,"data-svelte-h":!0}),$(r)!=="svelte-tg5qne"&&(r.textContent=h),v=O($e),y=_($e,"SELECT",{id:!0,class:!0});var et=q(y);p=_(et,"OPTION",{"data-svelte-h":!0}),$(p)!=="svelte-1ni71k3"&&(p.textContent=k);for(let X=0;X<j.length;X+=1)j[X].l(et);et.forEach(w),$e.forEach(w),x.forEach(w),E=O(V),C=_(V,"DIV",{class:!0});var ke=q(C);D=_(ke,"DIV",{class:!0});var Be=q(D);T=_(Be,"LABEL",{for:!0,"data-svelte-h":!0}),$(T)!=="svelte-oda77g"&&(T.textContent=M),I=O(Be),S=_(Be,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Be.forEach(w),H=O(ke),K=_(ke,"DIV",{class:!0});var Re=q(K);se=_(Re,"LABEL",{for:!0,"data-svelte-h":!0}),$(se)!=="svelte-1vtbxrq"&&(se.textContent=Ae),Ie=O(Re),B=_(Re,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Re.forEach(w),N=O(ke),Q=_(ke,"DIV",{class:!0});var Ne=q(Q);Z=_(Ne,"LABEL",{for:!0,"data-svelte-h":!0}),$(Z)!=="svelte-198js8s"&&(Z.textContent=Se),_e=O(Ne),W=_(Ne,"INPUT",{id:!0,type:!0,min:!0,max:!0,class:!0}),Ne.forEach(w),ke.forEach(w),Ke=O(V),ae=_(V,"DIV",{class:!0});var Pe=q(ae);ce=_(Pe,"DIV",{class:!0});var Ue=q(ce);he=_(Ue,"H3",{class:!0,"data-svelte-h":!0}),$(he)!=="svelte-10xktbo"&&(he.textContent=ot),We=O(Ue),ne=_(Ue,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),$(ne)!=="svelte-psf54d"&&(ne.innerHTML=it),Ue.forEach(w),Ye=O(Pe),ge=_(Pe,"DIV",{class:!0});var ft=q(ge);ue=_(ft,"TABLE",{class:!0});var ze=q(ue);me=_(ze,"THEAD",{"data-svelte-h":!0}),$(me)!=="svelte-3ucy7b"&&(me.innerHTML=rt),Je=O(ze),be=_(ze,"TBODY",{});var dt=q(be);for(let X=0;X<z.length;X+=1)z[X].l(dt);dt.forEach(w),ze.forEach(w),ft.forEach(w),Pe.forEach(w),V.forEach(w),this.h()},h(){a(l,"for","climb-location"),u.__value="",U(u,u.__value),u.disabled=!0,u.selected=!0,a(d,"id","climb-location"),a(d,"class","svelte-q54vbl"),s[0]===void 0&&le(()=>s[11].call(d)),a(n,"class","input-group"),a(r,"for","climb-session"),p.__value="",U(p,p.__value),p.disabled=!0,p.selected=!0,a(y,"id","climb-session"),a(y,"class","svelte-q54vbl"),s[1]===void 0&&le(()=>s[12].call(y)),a(b,"class","input-group"),a(t,"class","form-grid svelte-q54vbl"),a(T,"for","finger-load"),a(S,"id","finger-load"),a(S,"type","number"),a(S,"min","0"),a(S,"max","5"),a(S,"class","svelte-q54vbl"),a(D,"class","load-group svelte-q54vbl"),a(se,"for","shoulder-load"),a(B,"id","shoulder-load"),a(B,"type","number"),a(B,"min","0"),a(B,"max","5"),a(B,"class","svelte-q54vbl"),a(K,"class","load-group svelte-q54vbl"),a(Z,"for","forearm-load"),a(W,"id","forearm-load"),a(W,"type","number"),a(W,"min","0"),a(W,"max","5"),a(W,"class","svelte-q54vbl"),a(Q,"class","load-group svelte-q54vbl"),a(C,"class","load-metrics svelte-q54vbl"),a(he,"class","svelte-q54vbl"),a(ne,"class","add-row-btn svelte-q54vbl"),a(ne,"title","Add Exercise"),a(ce,"class","section-header svelte-q54vbl"),a(ue,"class","svelte-q54vbl"),a(ge,"class","table-container svelte-q54vbl"),a(ae,"class","exercise-section svelte-q54vbl"),a(e,"class","indoor-config svelte-q54vbl")},m(L,V){R(L,e,V),c(e,t),c(t,n),c(n,l),c(n,i),c(n,d),c(d,u);for(let x=0;x<F.length;x+=1)F[x]&&F[x].m(d,null);Ce(d,s[0],!0),c(t,f),c(t,b),c(b,r),c(b,v),c(b,y),c(y,p);for(let x=0;x<j.length;x+=1)j[x]&&j[x].m(y,null);Ce(y,s[1],!0),c(e,E),c(e,C),c(C,D),c(D,T),c(D,I),c(D,S),U(S,s[2]),c(C,H),c(C,K),c(K,se),c(K,Ie),c(K,B),U(B,s[3]),c(C,N),c(C,Q),c(Q,Z),c(Q,_e),c(Q,W),U(W,s[4]),c(e,Ke),c(e,ae),c(ae,ce),c(ce,he),c(ce,We),c(ce,ne),c(ae,Ye),c(ae,ge),c(ge,ue),c(ue,me),c(ue,Je),c(ue,be);for(let x=0;x<z.length;x+=1)z[x]&&z[x].m(be,null);He=!0,Xe||(ct=[G(d,"change",s[11]),G(y,"change",s[12]),G(S,"input",s[13]),G(B,"input",s[14]),G(W,"input",s[15]),G(ne,"click",s[8])],Xe=!0)},p(L,[V]){if(V&64){we=te(L[6]);let x;for(x=0;x<we.length;x+=1){const ee=gt(L,we,x);F[x]?F[x].p(ee,V):(F[x]=mt(ee),F[x].c(),F[x].m(d,null))}for(;x<F.length;x+=1)F[x].d(1);F.length=we.length}if(V&65&&Ce(d,L[0]),V&128){ye=te(L[7]);let x;for(x=0;x<ye.length;x+=1){const ee=_t(L,ye,x);j[x]?j[x].p(ee,V):(j[x]=bt(ee),j[x].c(),j[x].m(y,null))}for(;x<j.length;x+=1)j[x].d(1);j.length=ye.length}if(V&130&&Ce(y,L[1]),V&4&&Ee(S.value)!==L[2]&&U(S,L[2]),V&8&&Ee(B.value)!==L[3]&&U(B,L[3]),V&16&&Ee(W.value)!==L[4]&&U(W,L[4]),V&544){De=te(L[5]),Te();for(let x=0;x<z.length;x+=1)z[x].r();z=Kt(z,V,ut,1,L,De,at,be,Gt,wt,null,vt);for(let x=0;x<z.length;x+=1)z[x].a();xe()}},i(L){if(!He){for(let V=0;V<De.length;V+=1)Y(z[V]);L&&(Qe||le(()=>{Qe=Le(e,de,{}),Qe.start()})),He=!0}},o(L){for(let V=0;V<z.length;V+=1)J(z[V]);He=!1},d(L){L&&w(e),Fe(F,L),Fe(j,L);for(let V=0;V<z.length;V+=1)z[V].d();Xe=!1,Ge(ct)}}}function ol(s,e,t){let n="",l="",o=0,i=0,d=0,u=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}];const m=["Flashpoint Swindon","Rockstar","Flashpoint Bristol"],f=["Strength","Endurance","Power","Recovery"];function b(){t(5,u=[...u,{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function r(S){u.length>1?t(5,u=u.filter(H=>H.id!==S)):t(5,u=[{id:crypto.randomUUID(),isRopes:!1,name:"",grade:"",notes:""}])}function h(){return{location:n,session:l,fingerLoad:o,shoulderLoad:i,forearmLoad:d,exercises:u}}function v(){n=tt(this),t(0,n),t(6,m)}function y(){l=tt(this),t(1,l),t(7,f)}function p(){o=Ee(this.value),t(2,o)}function k(){i=Ee(this.value),t(3,i)}function E(){d=Ee(this.value),t(4,d)}function C(S,H){S[H].isRopes=this.checked,t(5,u)}function D(S,H){S[H].name=this.value,t(5,u)}function T(S,H){S[H].grade=this.value,t(5,u)}function M(S,H){S[H].notes=this.value,t(5,u)}return[n,l,o,i,d,u,m,f,b,r,h,v,y,p,k,E,C,D,T,M,S=>r(S.id)]}class il extends ie{constructor(e){super(),re(this,e,ol,nl,oe,{getData:10})}get getData(){return this.$$.ctx[10]}}function rl(s){let e,t=`<h3 class="svelte-fh7bet">Gym Session Config</h3> <p class="svelte-fh7bet">Specific fields for gym sessions will go here (e.g., Focus, Exercises,
        Sets/Reps).</p> <div class="placeholder-box svelte-fh7bet"></div>`,n;return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-gs8whu"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,o){R(l,e,o)},p:P,i(l){l&&(n||le(()=>{n=Le(e,de,{}),n.start()}))},o:P,d(l){l&&w(e)}}}class al extends ie{constructor(e){super(),re(this,e,null,rl,oe,{})}}function cl(s){let e,t=`<h3 class="svelte-fh7bet">Outdoor Climb Config</h3> <p class="svelte-fh7bet">Specific fields for outdoor climbing will go here (e.g., Crag, Route
        Name, Grade, Style).</p> <div class="placeholder-box svelte-fh7bet"></div>`,n;return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1ncqukv"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,o){R(l,e,o)},p:P,i(l){l&&(n||le(()=>{n=Le(e,de,{}),n.start()}))},o:P,d(l){l&&w(e)}}}class ul extends ie{constructor(e){super(),re(this,e,null,cl,oe,{})}}function fl(s){let e,t='<h3 class="svelte-fh7bet">Other Activity Config</h3> <p class="svelte-fh7bet">Generic fields for other activities will go here.</p> <div class="placeholder-box svelte-fh7bet"></div>',n;return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-kjirec"&&(e.innerHTML=t),this.h()},h(){a(e,"class","activity-config svelte-fh7bet")},m(l,o){R(l,e,o)},p:P,i(l){l&&(n||le(()=>{n=Le(e,de,{}),n.start()}))},o:P,d(l){l&&w(e)}}}class dl extends ie{constructor(e){super(),re(this,e,null,fl,oe,{})}}function yt(s,e,t){const n=s.slice();return n[10]=e[t],n}function kt(s){let e,t=s[10].text+"",n,l;return{c(){e=g("option"),n=ve(t),l=A(),this.h()},l(o){e=_(o,"OPTION",{});var i=q(e);n=pe(i,t),l=O(i),i.forEach(w),this.h()},h(){e.__value=s[10].id,U(e,e.__value)},m(o,i){R(o,e,i),c(e,n),c(e,l)},p:P,d(o){o&&w(e)}}}function Ct(s){let e,t,n,l,o,i=s[2]?"Saving...":"Save Log",d,u,m,f,b;var r=s[5].component;function h(y,p){return{props:{}}}r&&(t=je(r,h()),s[9](t));let v=s[3]&&Et(s);return{c(){e=g("div"),t&&Me(t.$$.fragment),n=A(),v&&v.c(),l=A(),o=g("button"),d=ve(i),this.h()},l(y){e=_(y,"DIV",{class:!0});var p=q(e);t&&nt(t.$$.fragment,p),n=O(p),v&&v.l(p),l=O(p),o=_(p,"BUTTON",{class:!0});var k=q(o);d=pe(k,i),k.forEach(w),p.forEach(w),this.h()},h(){a(o,"class","save-button svelte-148fipo"),o.disabled=s[2],a(e,"class","config-wrapper svelte-148fipo")},m(y,p){R(y,e,p),t&&Ve(t,e,null),c(e,n),v&&v.m(e,null),c(e,l),c(e,o),c(o,d),m=!0,f||(b=G(o,"click",s[7]),f=!0)},p(y,p){if(p&32&&r!==(r=y[5].component)){if(t){Te();const k=t;J(k.$$.fragment,1,0,()=>{qe(k,1)}),xe()}r?(t=je(r,h()),y[9](t),Me(t.$$.fragment),Y(t.$$.fragment,1),Ve(t,e,n)):t=null}else if(r){const k={};t.$set(k)}y[3]?v?(v.p(y,p),p&8&&Y(v,1)):(v=Et(y),v.c(),Y(v,1),v.m(e,l)):v&&(Te(),J(v,1,1,()=>{v=null}),xe()),(!m||p&4)&&i!==(i=y[2]?"Saving...":"Save Log")&&st(d,i),(!m||p&4)&&(o.disabled=y[2])},i(y){m||(t&&Y(t.$$.fragment,y),Y(v),y&&(u||le(()=>{u=Le(e,de,{}),u.start()})),m=!0)},o(y){t&&J(t.$$.fragment,y),J(v),m=!1},d(y){y&&w(e),s[9](null),t&&qe(t),v&&v.d(),f=!1,b()}}}function Et(s){let e,t,n,l;return{c(){e=g("div"),t=ve(s[3]),this.h()},l(o){e=_(o,"DIV",{class:!0});var i=q(e);t=pe(i,s[3]),i.forEach(w),this.h()},h(){a(e,"class","message svelte-148fipo"),fe(e,"success",s[4]),fe(e,"error",!s[4])},m(o,i){R(o,e,i),c(e,t),l=!0},p(o,i){(!l||i&8)&&st(t,o[3]),(!l||i&16)&&fe(e,"success",o[4]),(!l||i&16)&&fe(e,"error",!o[4])},i(o){l||(o&&le(()=>{l&&(n||(n=ht(e,de,{},!0)),n.run(1))}),l=!0)},o(o){o&&(n||(n=ht(e,de,{},!1)),n.run(0)),l=!1},d(o){o&&w(e),o&&n&&n.end()}}}function hl(s){let e,t,n="Log Exercise",l,o,i,d="What did you do today?",u,m,f,b="Select activity type...",r,h,v,y,p=te(s[6]),k=[];for(let C=0;C<p.length;C+=1)k[C]=kt(yt(s,p,C));let E=s[5]&&Ct(s);return{c(){e=g("div"),t=g("h2"),t.textContent=n,l=A(),o=g("div"),i=g("label"),i.textContent=d,u=A(),m=g("select"),f=g("option"),f.textContent=b;for(let C=0;C<k.length;C+=1)k[C].c();r=A(),E&&E.c(),this.h()},l(C){e=_(C,"DIV",{class:!0});var D=q(e);t=_(D,"H2",{class:!0,"data-svelte-h":!0}),$(t)!=="svelte-1eeau7i"&&(t.textContent=n),l=O(D),o=_(D,"DIV",{class:!0});var T=q(o);i=_(T,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),$(i)!=="svelte-1ndwsee"&&(i.textContent=d),u=O(T),m=_(T,"SELECT",{id:!0,class:!0});var M=q(m);f=_(M,"OPTION",{"data-svelte-h":!0}),$(f)!=="svelte-11gchci"&&(f.textContent=b);for(let I=0;I<k.length;I+=1)k[I].l(M);M.forEach(w),T.forEach(w),r=O(D),E&&E.l(D),D.forEach(w),this.h()},h(){a(t,"class","svelte-148fipo"),a(i,"for","exercise-type"),a(i,"class","svelte-148fipo"),f.__value="",U(f,f.__value),f.disabled=!0,f.selected=!0,a(m,"id","exercise-type"),a(m,"class","svelte-148fipo"),s[0]===void 0&&le(()=>s[8].call(m)),a(o,"class","dropdown-wrapper svelte-148fipo"),a(e,"class","tab-content svelte-148fipo")},m(C,D){R(C,e,D),c(e,t),c(e,l),c(e,o),c(o,i),c(o,u),c(o,m),c(m,f);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(m,null);Ce(m,s[0],!0),c(e,r),E&&E.m(e,null),h=!0,v||(y=G(m,"change",s[8]),v=!0)},p(C,[D]){if(D&64){p=te(C[6]);let T;for(T=0;T<p.length;T+=1){const M=yt(C,p,T);k[T]?k[T].p(M,D):(k[T]=kt(M),k[T].c(),k[T].m(m,null))}for(;T<k.length;T+=1)k[T].d(1);k.length=p.length}D&65&&Ce(m,C[0]),C[5]?E?(E.p(C,D),D&32&&Y(E,1)):(E=Ct(C),E.c(),Y(E,1),E.m(e,null)):E&&(Te(),J(E,1,1,()=>{E=null}),xe())},i(C){h||(Y(E),h=!0)},o(C){J(E),h=!1},d(C){C&&w(e),Fe(k,C),E&&E.d(),v=!1,y()}}}const pl="https://save-log-825153765638.europe-west1.run.app";function vl(s,e,t){let n,l="";const o=[{id:"indoor",text:"Indoor Climb",component:il},{id:"gym",text:"Gym Session",component:al},{id:"outdoor",text:"Outdoor Climb",component:ul},{id:"other",text:"Other",component:dl}];let i,d=!1,u="",m=!1;async function f(){if(!i||!i.getData){console.error("Component does not support data export");return}const h=i.getData(),v=Vt(Oe);if(!h.location||!h.session||h.exercises&&h.exercises.length===0){t(3,u="Please select a Location, Session, and add at least one exercise."),t(4,m=!1);return}if(!v){t(3,u="Authentication error. Please log in again."),t(4,m=!1);return}t(2,d=!0),t(3,u="");try{const y={climbing_type:"Indoor",location:h.location,session_type:h.session,finger_load:h.fingerLoad,shoulder_load:h.shoulderLoad,forearm_load:h.forearmLoad,climbs:h.exercises,date:new Date().toISOString()},p=await fetch(pl,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`},body:JSON.stringify(y)});if(!p.ok){const k=await p.text();throw new Error(`Server error (${p.status}): ${k}`)}t(3,u="Log saved successfully!"),t(4,m=!0)}catch(y){console.error("Save Error:",y),t(3,u="Failed to save log. Check console for details."),t(4,m=!1)}finally{t(2,d=!1)}}function b(){l=tt(this),t(0,l),t(6,o)}function r(h){Mt[h?"unshift":"push"](()=>{i=h,t(1,i)})}return s.$$.update=()=>{s.$$.dirty&1&&t(5,n=o.find(h=>h.id===l)),s.$$.dirty&1&&l&&t(3,u="")},[l,i,d,u,m,n,o,f,b,r]}class _l extends ie{constructor(e){super(),re(this,e,vl,hl,oe,{})}}function gl(s){let e,t='<h2 class="svelte-1g5xf5r">View Data</h2> <div class="placeholder svelte-1g5xf5r"><p class="svelte-1g5xf5r">Your logged exercises will appear here in a list or table view.</p> <div class="empty-state svelte-1g5xf5r"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clipboard-list"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><path d="M15 2H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1z"></path><path d="M12 11h4"></path><path d="M12 16h4"></path><path d="M8 11h.01"></path><path d="M8 16h.01"></path></svg></div></div>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(n){e=_(n,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-1m6v5zl"&&(e.innerHTML=t),this.h()},h(){a(e,"class","tab-content svelte-1g5xf5r")},m(n,l){R(n,e,l)},p:P,i:P,o:P,d(n){n&&w(e)}}}class ml extends ie{constructor(e){super(),re(this,e,null,gl,oe,{})}}function bl(s){let e,t='<h2 class="svelte-dqa28t">Graph Data</h2> <div class="placeholder svelte-dqa28t"><p class="svelte-dqa28t">Visual progress charts and graphs will be displayed here.</p> <div class="empty-state svelte-dqa28t"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-line-chart"><path d="M3 3v18h18"></path><path d="m19 9-5 5-4-4-3 3"></path></svg></div></div>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(n){e=_(n,"DIV",{class:!0,"data-svelte-h":!0}),$(e)!=="svelte-r5xejk"&&(e.innerHTML=t),this.h()},h(){a(e,"class","tab-content svelte-dqa28t")},m(n,l){R(n,e,l)},p:P,i:P,o:P,d(n){n&&w(e)}}}class wl extends ie{constructor(e){super(),re(this,e,null,bl,oe,{})}}function Tt(s,e,t){const n=s.slice();return n[5]=e[t],n}function xt(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" x2="9" y1="12" y2="12"></line></svg>',n,l;return{c(){e=g("button"),e.innerHTML=t,this.h()},l(o){e=_(o,"BUTTON",{class:!0,title:!0,"data-svelte-h":!0}),$(e)!=="svelte-1y2odl3"&&(e.innerHTML=t),this.h()},h(){a(e,"class","logout-button svelte-xzza9f"),a(e,"title","Logout")},m(o,i){R(o,e,i),n||(l=G(e,"click",Xt),n=!0)},d(o){o&&w(e),n=!1,l()}}}function yl(s){let e,t,n;return t=new ll({}),{c(){e=g("div"),Me(t.$$.fragment),this.h()},l(l){e=_(l,"DIV",{class:!0});var o=q(e);nt(t.$$.fragment,o),o.forEach(w),this.h()},h(){a(e,"class","content-container svelte-xzza9f")},m(l,o){R(l,e,o),Ve(t,e,null),n=!0},p:P,i(l){n||(Y(t.$$.fragment,l),n=!0)},o(l){J(t.$$.fragment,l),n=!1},d(l){l&&w(e),qe(t)}}}function kl(s){let e,t,n,l,o,i=te(s[3]),d=[];for(let f=0;f<i.length;f+=1)d[f]=Lt(Tt(s,i,f));var u=s[1].component;function m(f,b){return{}}return u&&(l=je(u,m())),{c(){e=g("nav");for(let f=0;f<d.length;f+=1)d[f].c();t=A(),n=g("div"),l&&Me(l.$$.fragment),this.h()},l(f){e=_(f,"NAV",{class:!0});var b=q(e);for(let h=0;h<d.length;h+=1)d[h].l(b);b.forEach(w),t=O(f),n=_(f,"DIV",{class:!0});var r=q(n);l&&nt(l.$$.fragment,r),r.forEach(w),this.h()},h(){a(e,"class","tabs-nav svelte-xzza9f"),a(n,"class","content-container svelte-xzza9f")},m(f,b){R(f,e,b);for(let r=0;r<d.length;r+=1)d[r]&&d[r].m(e,null);R(f,t,b),R(f,n,b),l&&Ve(l,n,null),o=!0},p(f,b){if(b&9){i=te(f[3]);let r;for(r=0;r<i.length;r+=1){const h=Tt(f,i,r);d[r]?d[r].p(h,b):(d[r]=Lt(h),d[r].c(),d[r].m(e,null))}for(;r<d.length;r+=1)d[r].d(1);d.length=i.length}if(b&2&&u!==(u=f[1].component)){if(l){Te();const r=l;J(r.$$.fragment,1,0,()=>{qe(r,1)}),xe()}u?(l=je(u,m()),Me(l.$$.fragment),Y(l.$$.fragment,1),Ve(l,n,null)):l=null}},i(f){o||(l&&Y(l.$$.fragment,f),o=!0)},o(f){l&&J(l.$$.fragment,f),o=!1},d(f){f&&(w(e),w(t),w(n)),Fe(d,f),l&&qe(l)}}}function Lt(s){let e,t=s[5].label+"",n,l,o,i;function d(){return s[4](s[5])}return{c(){e=g("button"),n=ve(t),l=A(),this.h()},l(u){e=_(u,"BUTTON",{class:!0});var m=q(e);n=pe(m,t),l=O(m),m.forEach(w),this.h()},h(){a(e,"class","tab-button svelte-xzza9f"),fe(e,"active",s[0]===s[5].id)},m(u,m){R(u,e,m),c(e,n),c(e,l),o||(i=G(e,"click",d),o=!0)},p(u,m){s=u,m&9&&fe(e,"active",s[0]===s[5].id)},d(u){u&&w(e),o=!1,i()}}}function Cl(s){let e,t,n,l,o,i,d,u="Training Tracker",m,f,b,r,h;document.title=e="Training Tracker "+(s[2]?"- "+s[1].label:"(Locked)");let v=s[2]&&xt();const y=[kl,yl],p=[];function k(E,C){return E[2]?0:1}return b=k(s),r=p[b]=y[b](s),{c(){t=g("meta"),n=A(),l=g("main"),o=g("div"),i=g("header"),d=g("h1"),d.textContent=u,m=A(),v&&v.c(),f=A(),r.c(),this.h()},l(E){const C=Pt("svelte-ggv3pg",document.head);t=_(C,"META",{name:!0,content:!0}),C.forEach(w),n=O(E),l=_(E,"MAIN",{});var D=q(l);o=_(D,"DIV",{class:!0});var T=q(o);i=_(T,"HEADER",{class:!0});var M=q(i);d=_(M,"H1",{class:!0,"data-svelte-h":!0}),$(d)!=="svelte-95sjtq"&&(d.textContent=u),m=O(M),v&&v.l(M),M.forEach(w),f=O(T),r.l(T),T.forEach(w),D.forEach(w),this.h()},h(){a(t,"name","description"),a(t,"content","A simple Svelte webapp for tracking training"),a(d,"class","svelte-xzza9f"),a(i,"class","svelte-xzza9f"),a(o,"class","app-container svelte-xzza9f")},m(E,C){c(document.head,t),R(E,n,C),R(E,l,C),c(l,o),c(o,i),c(i,d),c(i,m),v&&v.m(i,null),c(o,f),p[b].m(o,null),h=!0},p(E,[C]){(!h||C&6)&&e!==(e="Training Tracker "+(E[2]?"- "+E[1].label:"(Locked)"))&&(document.title=e),E[2]?v||(v=xt(),v.c(),v.m(i,null)):v&&(v.d(1),v=null);let D=b;b=k(E),b===D?p[b].p(E,C):(Te(),J(p[D],1,1,()=>{p[D]=null}),xe(),r=p[b],r?r.p(E,C):(r=p[b]=y[b](E),r.c()),Y(r,1),r.m(o,null))},i(E){h||(Y(r),h=!0)},o(E){J(r),h=!1},d(E){E&&(w(n),w(l)),w(t),v&&v.d(),p[b].d()}}}function El(s,e,t){let n,l;Ot(s,Oe,u=>t(2,l=u));const o=[{id:"log",label:"Log Exercise",component:_l},{id:"view",label:"View Data",component:ml},{id:"graph",label:"Graph Data",component:wl}];let i="log";const d=u=>t(0,i=u.id);return s.$$.update=()=>{s.$$.dirty&1&&t(1,n=o.find(u=>u.id===i))},[i,n,l,o,d]}class Il extends ie{constructor(e){super(),re(this,e,El,Cl,oe,{})}}export{Il as component};
